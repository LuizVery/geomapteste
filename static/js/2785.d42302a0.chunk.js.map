{"version":3,"file":"static/js/2785.d42302a0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/ElevationLayer.js","../node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js","../node_modules/@arcgis/core/layers/support/TilemapCache.js","../node_modules/@arcgis/core/layers/support/Tilemap.js","../node_modules/@arcgis/core/layers/support/serviceTileInfoProperty.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../core/Error.js\";import o from\"../core/Logger.js\";import{releaseMaybe as i,isSome as s}from\"../core/maybe.js\";import{MultiOriginJSONMixin as a}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as l,throwIfAborted as n}from\"../core/promiseUtils.js\";import{objectToQuery as p}from\"../core/urlUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as m}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as h}from\"../core/accessorSupport/decorators/subclass.js\";import d from\"../geometry/HeightModelInfo.js\";import u from\"./Layer.js\";import{ArcGISCachedService as y}from\"./mixins/ArcGISCachedService.js\";import{ArcGISService as v}from\"./mixins/ArcGISService.js\";import{OperationalLayer as f}from\"./mixins/OperationalLayer.js\";import{PortalLayer as g}from\"./mixins/PortalLayer.js\";import{url as S}from\"./support/commonProperties.js\";import{acquireDecoder as j}from\"./support/LercDecoder.js\";const w=o.getLogger(\"esri.layers.ElevationLayer\");let T=class extends(y(v(f(g(a(u)))))){constructor(...e){super(...e),this.copyright=null,this.heightModelInfo=null,this.path=null,this.opacity=1,this.operationalLayerType=\"ArcGISTiledElevationServiceLayer\",this.sourceJSON=null,this.type=\"elevation\",this.url=null,this.version=null,this._lercDecoder=j()}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}destroy(){this._lercDecoder=i(this._lercDecoder)}set minScale(e){this.constructed&&w.warn(`${this.declaredClass}.minScale support has been removed (since 4.5)`)}get minScale(){}set maxScale(e){this.constructed&&w.warn(`${this.declaredClass}.maxScale support has been removed (since 4.5)`)}get maxScale(){}readVersion(e,r){let t=r.currentVersion;return t||(t=9.3),t}load(e){const r=s(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"],supportsData:!1,validateItem:e=>{for(let r=0;r<e.typeKeywords.length;r++)if(\"elevation 3d layer\"===e.typeKeywords[r].toLowerCase())return!0;throw new t(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}' \",{type:\"Image Service\",expectedType:\"Image Service Elevation 3D Layer\"})}},e).catch(l).then((()=>this._fetchImageService(r)))),Promise.resolve(this)}fetchTile(e,t,o,i){const a=s((i=i||{signal:null}).signal)?i.signal:i.signal=(new AbortController).signal,l={responseType:\"array-buffer\",signal:a},n={noDataValue:i.noDataValue,returnFileInfo:!0};return this.load().then((()=>this._fetchTileAvailability(e,t,o,i))).then((()=>r(this.getTileUrl(e,t,o),l))).then((e=>this._lercDecoder.decode(e.data,n,a))).then((e=>({values:e.pixelData,width:e.width,height:e.height,maxZError:e.fileInfo.maxZError,noDataValue:e.noDataValue,minValue:e.minValue,maxValue:e.maxValue})))}getTileUrl(e,r,t){const o=!this.tilemapCache&&this.supportsBlankTile,i=p({...this.parsedUrl.query,blankTile:!o&&null});return`${this.parsedUrl.path}/tile/${e}/${r}/${t}${i?\"?\"+i:\"\"}`}async queryElevation(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");n(r);return(new t).query(this,e,r)}async createElevationSampler(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");n(r);return(new t).createSampler(this,e,r)}_fetchTileAvailability(e,r,t,o){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,r,t,o):Promise.resolve(\"unknown\")}async _fetchImageService(e){if(this.sourceJSON)return this.sourceJSON;const t={query:{f:\"json\",...this.parsedUrl.query},responseType:\"json\",signal:e},o=await r(this.parsedUrl.path,t);o.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\")),this.sourceJSON=o.data,this.read(o.data,{origin:\"service\",url:this.parsedUrl})}get hasOverriddenFetchTile(){return!this.fetchTile.__isDefault__}};e([c({json:{read:{source:\"copyrightText\"}}})],T.prototype,\"copyright\",void 0),e([c({readOnly:!0,type:d})],T.prototype,\"heightModelInfo\",void 0),e([c({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],T.prototype,\"path\",void 0),e([c({type:[\"show\",\"hide\"]})],T.prototype,\"listMode\",void 0),e([c({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],T.prototype,\"minScale\",null),e([c({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],T.prototype,\"maxScale\",null),e([c({json:{read:!1,write:!1,origins:{\"web-document\":{read:!1,write:!1}}}})],T.prototype,\"opacity\",void 0),e([c({type:[\"ArcGISTiledElevationServiceLayer\"]})],T.prototype,\"operationalLayerType\",void 0),e([c()],T.prototype,\"sourceJSON\",void 0),e([c({json:{read:!1},value:\"elevation\",readOnly:!0})],T.prototype,\"type\",void 0),e([c(S)],T.prototype,\"url\",void 0),e([c()],T.prototype,\"version\",void 0),e([m(\"version\",[\"currentVersion\"])],T.prototype,\"readVersion\",null),T=e([h(\"esri.layers.ElevationLayer\")],T),T.prototype.fetchTile.__isDefault__=!0;const x=T;export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{serviceTileInfoProperty as i}from\"../support/serviceTileInfoProperty.js\";import{TilemapCache as p}from\"../support/TilemapCache.js\";import a from\"../../geometry/SpatialReference.js\";const s=s=>{let l=class extends s{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(e,r){return null!=r.minLOD&&null!=r.maxLOD?e:0}readMaxScale(e,r){return null!=r.minLOD&&null!=r.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,r){return r.capabilities&&r.capabilities.indexOf(\"Tilemap\")>-1?new p({layer:this}):null}};return e([r({json:{read:{source:\"copyrightText\"}}})],l.prototype,\"copyright\",void 0),e([r()],l.prototype,\"minScale\",void 0),e([o(\"service\",\"minScale\")],l.prototype,\"readMinScale\",null),e([r()],l.prototype,\"maxScale\",void 0),e([o(\"service\",\"maxScale\")],l.prototype,\"readMaxScale\",null),e([r({type:a})],l.prototype,\"spatialReference\",void 0),e([r({readOnly:!0})],l.prototype,\"supportsBlankTile\",null),e([r(i)],l.prototype,\"tileInfo\",void 0),e([r()],l.prototype,\"tilemapCache\",void 0),e([o(\"service\",\"tilemapCache\",[\"capabilities\"])],l.prototype,\"readTilemapCache\",null),e([r()],l.prototype,\"version\",void 0),l=e([t(\"esri.layers.mixins.ArcGISCachedService\")],l),l};export{s as ArcGISCachedService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/byteSizeEstimations.js\";import l from\"../../core/Error.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import a from\"../../core/Logger.js\";import o from\"../../core/LRUCache.js\";import n from\"../../core/PooledArray.js\";import{onAbort as c,isAbortError as h,isAborted as p,createAbortError as m}from\"../../core/promiseUtils.js\";import{watch as u,syncAndInitial as v}from\"../../core/reactiveUtils.js\";import{waitTicks as f}from\"../../core/scheduling.js\";import{objectToQuery as y}from\"../../core/urlUtils.js\";import{property as b}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{cast as d}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as _}from\"../../core/accessorSupport/decorators/subclass.js\";import{tilemapDefinitionId as g,Tilemap as w}from\"./Tilemap.js\";var T;const j=a.getLogger(\"esri.layers.support.TilemapCache\");let z=T=class extends(s(i)){constructor(e){super(e),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2*r.MEGABYTES,this.request=t,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(this.cacheByteSize),this.handles.add([this.watch([\"layer.parsedUrl\",\"layer.tileServers?\",\"layer.apiKey?\",\"layer.customParameters?\"],(()=>this._initializeTilemapDefinition())),u((()=>{var e,t;return null==(e=this.layer)||null==(t=e.tileInfo)?void 0:t.lods}),(e=>this._initializeAvailableLevels(e)),v)]),this._initializeTilemapDefinition()}castLevels(e){return e<=2?(j.error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,r){if(!this._availableLevels[e])return Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const s=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,s);if(a)return Promise.resolve(a);const o=r&&r.signal;return r={...r,signal:null},new Promise(((e,t)=>{c(o,(()=>t(m())));const i=g(s);let l=this._pendingTilemapRequests[i];if(!l){l=w.fromDefinition(s,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=l,l.then(e,e)}l.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return this._availableLevels[e]?this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof w){const s=r.getAvailability(t,i);return\"unavailable\"===s?Promise.reject(new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})):s}if(h(r))throw r;return\"unknown\"})):Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,r,l){r.level=e,r.row=t,r.col=i;const s=this.layer.tileInfo;s.updateTileInfo(r);const a=this.fetchAvailability(e,t,i,l).catch((e=>{if(h(e))throw e;if(s.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,l,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,l,s){if(!this._prefetchingEnabled)return;const a=`prefetch-${e}`;if(this.handles.has(a))return;const o=new AbortController;s.then((()=>o.abort()),(()=>o.abort()));let n=!1;const c={remove(){n||(n=!0,o.abort())}};if(this.handles.add(c,a),await f(10,o.signal).catch((()=>{})),n||(n=!0,this.handles.remove(a)),p(o))return;const h={id:e,level:t,row:i,col:r},m={...l,signal:o.signal},u=this.layer.tileInfo;for(let p=0;T._prefetches.length<T._maxPrefetch&&u.upsampleTile(h);++p){const e=this.fetchAvailability(h.level,h.row,h.col,m);T._prefetches.push(e);const t=()=>{T._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){var e;if(!this.layer.parsedUrl)return;const{parsedUrl:t,apiKey:i,customParameters:r}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:t.path,query:y({...t.query,...r,token:null!=i?i:null==(e=t.query)?void 0:e.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const l=g(r);return this._tilemapCache.get(l)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};z._maxPrefetch=4,z._prefetches=new n({initialSize:T._maxPrefetch}),e([b({constructOnly:!0,type:Number})],z.prototype,\"levels\",void 0),e([d(\"levels\")],z.prototype,\"castLevels\",null),e([b({readOnly:!0,type:Number})],z.prototype,\"size\",null),e([b({constructOnly:!0,type:Number})],z.prototype,\"cacheByteSize\",void 0),e([b({constructOnly:!0})],z.prototype,\"layer\",void 0),e([b({constructOnly:!0})],z.prototype,\"request\",void 0),z=T=e([_(\"esri.layers.support.TilemapCache\")],z);export{z as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{constant as i}from\"../../core/arrayUtils.js\";import e from\"../../core/Error.js\";import{clone as a}from\"../../core/lang.js\";class l{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability=\"unknown\",this.byteSize=40}getAvailability(t,i){if(\"unknown\"!==this._allAvailability)return this._allAvailability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%8,l=e>>3,o=this._tileAvailabilityBitSet;return l<0||l>o.length?\"unknown\":o[l]&1<<a?\"available\":\"unavailable\"}_updateFromData(t){const i=this.location.width,e=this.location.height;let a=!0,l=!0;const o=Math.ceil(i*e/8),n=new Uint8Array(o);let r=0;for(let s=0;s<t.length;s++){const i=s%8;t[s]?(l=!1,n[r]|=1<<i):a=!1,7===i&&++r}l?this._allAvailability=\"unavailable\":a?this._allAvailability=\"available\":(this._allAvailability=\"unknown\",this._tileAvailabilityBitSet=n,this.byteSize+=n.length)}static fromDefinition(a,o){const r=a.service.request||t,{row:s,col:h,width:c,height:m}=a,d={query:{f:\"json\"}};return o=o?{...d,...o}:d,r(n(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:s,left:h,width:c,height:m},valid:!0,data:i(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==s||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new e(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:s,left:h,width:c,height:m}});return l.fromJSON(t)}))}static fromJSON(t){l._validateJSON(t);const i=new l;return i.location=Object.freeze(a(t.location)),i._updateFromData(t.data),Object.freeze(i)}static _validateJSON(t){if(!t||!t.location)throw new e(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new e(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new e(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new e(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new e(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function o(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(\"vector-tile\"===t.service.type)i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const e=t.service.query;return e&&(i=`${i}?${e}`),i}export{l as Tilemap,l as default,o as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"./TileInfo.js\";const r={type:e,json:{origins:{service:{read:{source:[\"tileInfo\",\"minScale\",\"maxScale\",\"minLOD\",\"maxLOD\"],reader:n}}}}};function n(r,n,l,o){if(!r)return null;const{minScale:i,maxScale:t,minLOD:m,maxLOD:s}=n;if(null!=m&&null!=s)return o&&o.ignoreMinMaxLOD?e.fromJSON(r):e.fromJSON({...r,lods:r.lods.filter((({level:e})=>null!=e&&e>=m&&e<=s))});if(0!==i&&0!==t){const n=e=>Math.round(1e4*e)/1e4,l=i?n(i):1/0,o=t?n(t):-1/0;return e.fromJSON({...r,lods:r.lods.filter((e=>{const r=n(e.scale);return r<=l&&r>=o}))})}return e.fromJSON(r)}export{n as readServiceTileInfo,r as serviceTileInfoProperty};\n"],"names":["w","o","T","y","v","f","g","a","u","constructor","super","this","copyright","heightModelInfo","path","opacity","operationalLayerType","sourceJSON","type","url","version","_lercDecoder","j","normalizeCtorArgs","e","r","destroy","i","minScale","constructed","warn","declaredClass","maxScale","readVersion","t","currentVersion","load","s","signal","addResolvingPromise","loadFromPortal","supportedTypes","supportsData","validateItem","typeKeywords","length","toLowerCase","expectedType","catch","l","then","_fetchImageService","Promise","resolve","fetchTile","AbortController","responseType","n","noDataValue","returnFileInfo","_fetchTileAvailability","getTileUrl","decode","data","values","pixelData","width","height","maxZError","fileInfo","minValue","maxValue","tilemapCache","supportsBlankTile","p","parsedUrl","query","blankTile","async","ElevationQuery","createSampler","fetchAvailability","ssl","replace","read","origin","hasOverriddenFetchTile","__isDefault__","c","json","source","prototype","readOnly","d","String","origins","write","service","value","S","m","h","x","arguments","spatialReference","tileInfo","readMinScale","minLOD","maxLOD","readMaxScale","readTilemapCache","capabilities","indexOf","layer","location","left","top","_allAvailability","byteSize","getAvailability","_tileAvailabilityBitSet","_updateFromData","Math","ceil","Uint8Array","static","request","row","col","level","tileServers","details","httpStatus","valid","response","definition","fromJSON","_validateJSON","Object","freeze","Array","isArray","z","_pendingTilemapRequests","_availableLevels","levels","cacheByteSize","_prefetchingEnabled","initialize","_tilemapCache","handles","add","watch","_initializeTilemapDefinition","lods","_initializeAvailableLevels","castLevels","error","size","fetchTilemap","reject","_tmpTilemapDefinition","_tilemapFromCache","put","fetchAvailabilityUpsample","updateTileInfo","upsampleTile","_fetchAvailabilityUpsamplePrefetch","id","has","abort","remove","_prefetches","_maxPrefetch","push","removeUnordered","apiKey","customParameters","clear","token","get","forEach","test","prefetchingEnabled","hasTilemap","initialSize","b","constructOnly","Number","_","reader","ignoreMinMaxLOD","filter","round","scale"],"sourceRoot":""}