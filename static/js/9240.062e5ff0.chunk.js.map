{"version":3,"file":"static/js/9240.062e5ff0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/GraphicsLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{destroyMaybe as r,isSome as s}from\"../../../core/maybe.js\";import{when as i}from\"../../../core/reactiveUtils.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{DrapeSourceType as a}from\"./interfaces.js\";import{LayerView3D as n}from\"./LayerView3D.js\";import{GraphicsProcessor as l}from\"./graphics/GraphicsProcessor.js\";import{toViewIfLocal as p}from\"./support/projectExtentUtils.js\";import{UpdatePolicy as u}from\"../webgl-engine/lib/basicInterfaces.js\";import c from\"../../layers/LayerView.js\";let d=class extends(n(c)){constructor(){super(...arguments),this.type=\"graphics-3d\",this.slicePlaneEnabled=!1,this.drapeSourceType=a.Features,this.fullExtentInLocalViewSpatialReference=null}initialize(){this._set(\"processor\",new l({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.setup()),this.handles.add(this.layer.on(\"graphic-update\",(e=>this.processor.graphicsCore.graphicUpdateHandler(e)))),this.addResolvingPromise(p(this).then((e=>this.fullExtentInLocalViewSpatialReference=e))),this.layer.internal?this.notifyChange(\"updating\"):this.handles.add(i((()=>{var e,r;return null==(e=this.view)||null==(r=e.basemapTerrain)?void 0:r.ready}),(()=>()=>this.notifyChange(\"updating\")),{once:!0}))}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set(\"processor\",r(this.processor))}get loadedGraphics(){return this.layer.graphics}get legendEnabled(){var e;return this.canResume()&&!(null!=(e=this.processor)&&e.frustumVisibilitySuspended)}getSuspendInfo(){var e,r,s,i;const t=super.getSuspendInfo();return t.outsideScaleRange=null!=(e=null==(r=this.processor)?void 0:r.scaleVisibilitySuspended)&&e,t.outsideOfView=null!=(s=null==(i=this.processor)?void 0:i.frustumVisibilitySuspended)&&s,t}async fetchPopupFeatures(e,r){return s(r)?r.clientGraphics:null}getGraphicFromGraphicUid(e){return this.processor.getGraphicFromGraphicUid(e)}whenGraphicBounds(e,r){return this.processor.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){var s;return null==(s=this.processor)?void 0:s.computeAttachmentOrigin(e,r)}getSymbolLayerSize(e,r){return this.processor.getSymbolLayerSize(e,r)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(e){return this.processor.maskOccludee(e)}highlight(e){return this.processor.highlight(e)}get updatePolicy(){var e;return(null==(e=this.processor)?void 0:e.graphicsCore.effectiveUpdatePolicy)||u.SYNC}canResume(){var e;return super.canResume()&&!(null!=(e=this.processor)&&e.scaleVisibilitySuspended)}isUpdating(){var e,r,s;return!((null==(e=this.processor)||!e.updating)&&(this.layer.internal||null!=(r=this.view)&&null!=(s=r.basemapTerrain)&&s.ready))}get performanceInfo(){var e,r,s,i;return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:-1,totalNumberOfFeatures:-1,nodes:0,core:null,updating:this.updating,elevationUpdating:null!=(e=null==(r=this.processor)?void 0:r.elevationAlignment.updating)&&e,visibilityFrustum:null!=(s=!(null!=(i=this.processor)&&i.frustumVisibilitySuspended))&&s}}};e([t()],d.prototype,\"loadedGraphics\",null),e([t({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([t()],d.prototype,\"layer\",void 0),e([t({readOnly:!0})],d.prototype,\"processor\",void 0),e([t({type:Boolean})],d.prototype,\"slicePlaneEnabled\",void 0),d=e([o(\"esri.views.3d.layers.GraphicsLayerView3D\")],d);const h=d;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{project as o}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const s=l.view.spatialReference,i=l.layer.fullExtent,n=e(i)&&i.spatialReference;if(r(i)||!n)return Promise.resolve(null);if(n.equals(s))return Promise.resolve(i.clone());const a=o(i,s);return e(a)?Promise.resolve(a):l.view.state.isLocal?t(i,s,l.layer.portalItem).then((e=>!l.destroyed&&e?e:void 0)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n"],"names":["d","n","c","constructor","super","arguments","this","type","slicePlaneEnabled","drapeSourceType","a","fullExtentInLocalViewSpatialReference","initialize","_set","l","owner","scaleVisibilityEnabled","frustumVisibilityEnabled","addResolvingPromise","processor","setup","handles","add","layer","on","e","graphicsCore","graphicUpdateHandler","p","then","internal","notifyChange","i","r","view","basemapTerrain","ready","once","destroy","removeAll","updatingHandles","loadedGraphics","graphics","legendEnabled","canResume","frustumVisibilitySuspended","getSuspendInfo","s","t","outsideScaleRange","scaleVisibilitySuspended","outsideOfView","async","clientGraphics","getGraphicFromGraphicUid","whenGraphicBounds","computeAttachmentOrigin","getSymbolLayerSize","queryGraphics","Promise","resolve","maskOccludee","highlight","updatePolicy","effectiveUpdatePolicy","u","isUpdating","updating","performanceInfo","displayedNumberOfFeatures","length","maximumNumberOfFeatures","totalNumberOfFeatures","nodes","core","elevationUpdating","elevationAlignment","visibilityFrustum","prototype","readOnly","Boolean","o","h","spatialReference","fullExtent","equals","clone","state","isLocal","portalItem","destroyed","catch"],"sourceRoot":""}