{"version":3,"file":"static/js/5303.0db00a61.chunk.js","mappings":"6aAI4V,MAAMA,EAAE,CAAC,CAAC,EAAE,IAAI,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,IAAI,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG,KAAK,MAAMC,EAAEC,YAAYC,EAAEC,EAAEC,GAAGC,KAAKC,gBAAgB,IAAIC,IAAIF,KAAKG,eAAe,IAAID,IAAIF,KAAKI,gBAAgB,IAAIF,IAAIF,KAAKK,UAAS,EAAGL,KAAKM,YAAYT,EAAEG,KAAKO,KAAKR,EAAEC,KAAKQ,aAAa,IAAIC,EAAAA,EAAEX,GAAGE,KAAKU,cAAchB,EAAEiB,KAAKd,GAAG,IAAIe,EAAAA,EAAE,IAAIC,EAAAA,EAAE,CAACC,SAAS,CAACC,MAAM,CAAClB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAG,KAAKmB,QAAQ,CAACD,MAAM,QAAQE,KAAK,QAAQjB,KAAKkB,eAAe,CAAC,IAAIN,EAAAA,EAAE,IAAIC,EAAAA,EAAE,CAACC,SAAS,CAACC,MAAM,CAAC,IAAI,IAAI,IAAI,KAAKC,QAAQ,CAACD,MAAM,CAAC,GAAG,GAAG,IAAIE,KAAK,OAAOjB,KAAKmB,eAAe,CAAC,IAAIP,EAAAA,EAAE,IAAIC,EAAAA,EAAE,CAACC,SAAS,CAACC,MAAM,CAAC,IAAI,IAAI,IAAI,KAAKC,QAAQ,CAACD,MAAM,CAAC,GAAG,GAAG,IAAIE,KAAK,OAAOjB,KAAKoB,iBAAiB,IAAIR,EAAAA,EAAE,IAAIC,EAAAA,EAAE,CAACC,SAAS,CAACC,MAAM,CAAC,EAAE,EAAE,EAAE,IAAIC,QAAQ,CAACD,MAAM,QAAQE,KAAK,KAAK,CAACI,UAAUrB,KAAKsB,SAAQ,CAAE,CAAKA,cAAU,OAAOtB,KAAKK,QAAQ,CAAKiB,YAAQzB,GAAGG,KAAKK,SAASR,EAAEG,KAAKuB,QAAQ,CAACA,SAASvB,KAAKK,UAAUL,KAAKwB,iBAAiBxB,KAAKC,gBAAgB,CAACwB,OAAO5B,GAAGA,EAAE6B,WAAWC,QAAQ3B,KAAKkB,iBAAiBlB,KAAKwB,iBAAiBxB,KAAKG,eAAe,CAACsB,OAAO5B,IAAIA,EAAE6B,WAAWC,QAAQ3B,KAAKU,gBAAgBV,KAAKwB,iBAAiBxB,KAAKI,gBAAgB,CAACqB,OAAO5B,IAAIA,EAAE6B,WAAWC,QAAQ3B,KAAKmB,iBAAiBnB,KAAK4B,eAAe5B,KAAKM,YAAYuB,gBAAgB7B,KAAKC,gBAAgB6B,SAASjC,IAAIG,KAAKO,KAAKwB,SAASC,WAAWnC,EAAE,IAAIG,KAAKC,gBAAgBgC,QAAQjC,KAAKG,eAAe2B,SAASjC,IAAIG,KAAKO,KAAKwB,SAASC,WAAWnC,EAAE,IAAIG,KAAKG,eAAe8B,QAAQjC,KAAKI,gBAAgB0B,SAASjC,IAAIG,KAAKO,KAAKwB,SAASC,WAAWnC,EAAE,IAAIG,KAAKI,gBAAgB6B,QAAQjC,KAAKkC,oBAAoBlC,KAAKO,KAAKwB,SAASI,OAAOnC,KAAKkC,mBAAmBlC,KAAKkC,kBAAkB,MAAM,CAACN,eAAef,GAAG,GAAGb,KAAKkC,oBAAoBlC,KAAKO,KAAKwB,SAASI,OAAOnC,KAAKkC,mBAAmBlC,KAAKkC,kBAAkB,OAAOrB,EAAE,OAAO,MAAMd,EAAED,EAAAA,EAAAA,WAAae,GAAGb,KAAKkC,kBAAkB,IAAIrC,EAAAA,EAAE,CAACuC,SAASrC,EAAEsC,OAAOrC,KAAKoB,mBAAmBpB,KAAKO,KAAKwB,SAASO,IAAItC,KAAKkC,kBAAkB,CAACV,iBAAiB1B,EAAEe,GAAG,MAAMD,EAAE,GAAGd,EAAEgC,SAAS,CAACjC,EAAEC,KAAK,MAAMC,EAAEC,KAAKM,YAAYiC,KAAKC,mBAAmB1C,GAAGC,GAAGc,EAAEY,OAAO1B,KAAKC,KAAKO,KAAKwB,SAASC,WAAWnC,GAAGe,EAAE6B,KAAK3C,GAAG,IAAIc,EAAEkB,SAASjC,GAAGC,EAAE4C,OAAO7C,KAAKG,KAAKM,YAAYiC,KAAKI,oBAAoB/B,IAAI,GAAGC,EAAEY,OAAOb,KAAKd,EAAE8C,IAAIhC,EAAEiC,IAAI,CAAC,MAAMpC,EAAEf,EAAEC,GAAGiB,EAAEkC,WAAWC,IAAI/C,KAAKQ,aAAawC,aAAavC,GAAG,MAAMwC,EAAEjD,KAAKQ,aAAa0C,kBAAkBzC,EAAEf,EAAEC,GAAGwD,EAAE,CAAC,IAAItD,EAAAA,EAAE,CAACuC,SAASa,EAAEZ,OAAOxB,EAAEc,QAAQlB,EAAEI,EAAEc,QAAQyB,UAAU,IAAIvD,EAAAA,EAAE,CAACuC,SAASa,EAAEI,OAAOhB,OAAO,IAAItC,EAAAA,EAAE,CAACuD,eAAe,CAACC,aAAa,GAAG,KAAKC,QAAQ,CAACC,KAAK,OAAO1C,MAAM,QAAQ2C,OAAO,CAAC3C,MAAM,UAAU4C,aAAa,CAAC,IAAIC,EAAAA,EAAE,CAACC,KAAM,GAAEpD,KAAKf,KAAKC,IAAImE,KAAK,CAAC/C,MAAM,QAAQE,KAAK,EAAE,KAAKH,SAAS,CAACC,MAAM,SAASE,KAAK,WAAWnB,EAAEiE,IAAInD,EAAEiC,GAAGM,GAAGnD,KAAKO,KAAKwB,SAASiC,QAAQb,EAAE,IAAI,E,0BCA5kD,MAAMc,EAAEhB,EAAAA,EAAAA,UAAY,4DAA4D,IAAIiB,EAAE,eAAcC,EAAAA,EAAAA,GAAErE,EAAAA,IAAIF,YAAYC,GAAGuE,MAAMvE,GAAGG,KAAKyD,KAAK,kBAAkBzD,KAAKqE,sBAAsB,IAAIC,EAAAA,EAAEtE,KAAKuE,kBAAkB,KAAKvE,KAAKwE,iBAAiBC,EAAEC,sBAAsB1E,KAAK2E,qBAAoB,EAAG3E,KAAK4E,oBAAoB,KAAK5E,KAAK6E,WAAU,EAAG7E,KAAKM,YAAY,KAAKN,KAAK8E,QAAQ,IAAIlE,EAAAA,EAAEZ,KAAK+E,qBAAqB,KAAK/E,KAAKgF,6BAA6B,KAAKhF,KAAKiF,yBAAyB,IAAIC,eAAe,CAAKC,WAAOtF,GAAG,GAAGA,IAAIA,EAAEuF,iBAAiBC,OAAOrF,KAAKsF,UAAU/E,KAAK6E,kBAAkB,YAAYnB,EAAEsB,MAAM,WAAW,gEAAgE,MAAMzF,EAAEE,KAAKwF,KAAK,UAAU,GAAG1F,IAAID,EAAE,OAAO,GAAGC,GAAGD,GAAGC,EAAEuF,OAAOxF,GAAG,OAAO,MAAMgB,EAAEhB,EAAEA,EAAE4F,QAAQ,KAAKzF,KAAK0F,KAAK,SAAS7E,EAAE,CAAK8E,eAAW,UAAShG,EAAAA,EAAAA,IAAEK,KAAKM,cAAcN,KAAKM,YAAYqF,UAAU,MAAM3F,KAAK+E,sBAAsB,UAAU/E,KAAK4F,MAAM5F,KAAKsF,UAAU/E,KAAKsF,cAAc7F,KAAKsF,UAAU/E,KAAKsF,aAAaF,UAAU3F,KAAKqE,uBAAuBrE,KAAKqE,sBAAsBsB,SAAS,CAAKG,oBAAgB,OAAO9F,KAAK2F,WAAUhG,EAAAA,EAAAA,IAAEK,KAAKM,aAAaN,KAAKM,YAAYwF,cAAc,CAAC,CAAKC,wBAAoB,OAAO/F,KAAK2F,WAAUhG,EAAAA,EAAAA,IAAEK,KAAKM,aAAaN,KAAKM,YAAYyF,kBAAkB,CAAC,CAAKC,0BAAsB,OAAOhG,KAAK2F,WAAUhG,EAAAA,EAAAA,IAAEK,KAAKM,aAAaN,KAAKM,YAAY0F,oBAAoB,CAAC,CAAKC,8BAA0B,OAAOtG,EAAAA,EAAAA,IAAEK,KAAKM,aAAaN,KAAKM,YAAY2F,wBAAwB,CAAC,CAAKC,sCAAkC,UAASvG,EAAAA,EAAAA,IAAEK,KAAKM,eAAeN,KAAKM,YAAY4F,gCAAgC,CAAKC,8BAA0B,OAAOxG,EAAAA,EAAAA,IAAEK,KAAK4E,qBAAqB5E,KAAK4E,oBAAoBuB,wBAAwB,CAAC,CAAKA,4BAAwBtG,GAAGA,IAAIG,KAAKmG,0BAA0B,MAAMtG,EAAEG,KAAKoG,eAAe,2BAA2BpG,KAAKqG,UAAU,0BAA0BxG,GAAG,CAAKyG,yCAAqC,OAAOtG,KAAKuG,cAAc,0BAA0B,CAAKX,WAAO,IAAI/F,EAAEC,EAAE,MAAMe,EAAEb,KAAKsF,UAAUkB,MAAM,GAAG,YAAY3F,EAAE4C,OAAM9D,EAAAA,EAAAA,IAAEkB,EAAE4F,WAAW,MAAM,WAAW,IAAG,KAAM,OAAO5G,EAAEG,KAAKsF,UAAU/E,KAAKmG,kBAAkB,OAAO5G,EAAED,EAAE8G,iBAAY,EAAO7G,EAAE8G,oBAAoB5G,KAAKwE,mBAAmBC,EAAEC,uBAAuB1E,KAAK2E,oBAAoB,MAAM,QAAQ,MAAMlE,EAAET,KAAKsF,UAAU/E,KAAKR,EAAEU,GAAGA,EAAEoF,aAAajF,EAAEb,GAAGA,EAAES,aAAa,GAAGK,GAAGA,EAAEgG,UAAU7G,KAAKuE,mBAAmB3D,EAAE,CAAC,MAAMf,EAAEG,KAAK8G,8BAA8BjG,EAAEgG,SAASjG,GAAG,IAAIZ,KAAKuE,kBAAkBwC,MAAMlH,EAAEG,KAAKuE,kBAAkByC,OAAOnH,GAAG,EAAE4E,EAAEwC,8BAA8B,MAAM,OAAO,CAAC,OAAOjH,KAAKmG,yBAAyBnG,KAAKwE,kBAAkBxE,KAAKmG,wBAAwB,WAAW,OAAO,CAAKe,+BAA2B,MAAMrH,EAAEG,KAAKwF,KAAK,6BAA6B,EAAE1F,EAAE,aAAaE,KAAK4F,OAAMjG,EAAAA,EAAAA,IAAEK,KAAKM,cAAcN,KAAKM,YAAY6G,eAAe,EAAE,OAAOC,KAAKC,IAAIxH,EAAEC,EAAE,CAACgH,8BAA8BjH,EAAEC,GAAG,MAAMe,EAAEb,KAAKsF,UAAU/E,KAAKE,EAAE2G,KAAKE,MAAMzG,EAAEkG,MAAMjH,EAAEyH,UAAU1G,EAAEmG,OAAOlH,EAAEyH,WAAW,GAAGxH,EAAED,EAAE0H,OAAO,GAAG,OAAO/G,IAAIV,EAAE0H,SAAS,IAAI1H,EAAE2H,MAAM7H,GAAGE,EAAE0H,SAAS,IAAI1H,EAAE2H,MAAM7H,IAAI,EAAE,CAAK8H,sBAAkB,MAAM,aAAa3H,KAAK4F,KAAK,IAAInF,EAAAA,EAAE,CAAC,CAACoC,GAAG,yBAAyBE,IAAI,CAAC,EAAE,EAAE,MAAM/C,KAAKsF,UAAU/E,KAAKsF,aAAa7F,KAAKsF,UAAU/E,KAAKsF,aAAa+B,MAAM,IAAInH,EAAAA,CAAC,CAAK8B,WAAO,MAAM,CAACwC,qBAAqB/E,KAAK+E,qBAAqBzE,YAAYN,KAAKM,YAAY,CAACuH,aAAa7H,KAAKqE,sBAAsB/B,KAAK,IAAItC,KAAK8H,kBAAkB,IAAI9H,KAAKqE,sBAAsB0D,WAAW/H,KAAKgI,2BAA2B,KAAKhI,KAAKiF,yBAAyBgD,WAAWjI,KAAKqE,sBAAsB/B,KAAK,IAAItC,KAAK4F,OAAO,IAAI5F,KAAKkI,gBAAgBC,EAAAA,IAAGnI,KAAKoI,oBAAoBC,QAAQC,UAAUC,MAAM,IAAIvI,KAAKwI,wBAAwBD,MAAM,IAAIvI,KAAKqE,sBAAsB0D,WAAW/H,KAAKyI,2BAA2BF,MAAM,IAAIvI,KAAK0I,2BAA2B,CAACF,sBAAsB,MAAM3I,EAAEG,KAAKsF,UAAUkB,MAAM,IAAI3G,EAAE8I,IAAI,0CAA0C,gBAAgB9I,EAAE4D,KAAK,MAAM,IAAI1D,EAAAA,EAAE,+CAA+C,oEAAoE,CAACyG,MAAM3G,GAAG,CAACwB,UAAUrB,KAAK4I,8BAA8B5I,KAAKM,aAAY6C,EAAAA,EAAAA,IAAEnD,KAAKM,aAAaN,KAAK8E,SAAQ3B,EAAAA,EAAAA,IAAEnD,KAAK8E,SAAS9E,KAAK6I,aAAYnJ,EAAAA,EAAAA,IAAEM,KAAK6I,aAAa7I,KAAKiF,2BAA2BjF,KAAKiF,yBAAyB6D,QAAQ9I,KAAKiF,yBAAyB,MAAMjF,KAAKqE,sBAAsBhD,UAAUrB,KAAK0F,KAAK,wBAAwB,KAAK,CAACqD,UAAU/I,KAAK6E,YAAY7E,KAAK6E,WAAU,GAAGlF,EAAAA,EAAAA,IAAEK,KAAKM,cAAcN,KAAKM,YAAYyI,UAAU,CAACC,SAAShJ,KAAK6E,YAAY7E,KAAK6E,WAAU,GAAGlF,EAAAA,EAAAA,IAAEK,KAAKM,cAAcN,KAAKM,YAAY0I,SAAS,CAACC,UAAU,MAAMpJ,EAAE,MAAKF,EAAAA,EAAAA,IAAEK,KAAKM,cAAcN,KAAKM,YAAY2I,SAAS,EAAEjJ,KAAKqE,sBAAsB0D,WAAW/H,KAAKyI,wBAAwBF,KAAK1I,EAAEA,GAAG,CAACqJ,UAAU,MAAMrJ,EAAE,MAAKF,EAAAA,EAAAA,IAAEK,KAAKM,cAAcN,KAAKM,YAAY4I,SAAS,EAAElJ,KAAKqE,sBAAsB0D,WAAW/H,KAAKyI,wBAAwBF,KAAK1I,EAAEA,GAAG,CAAC6I,yBAAyB,MAAM7I,EAAEG,KAAKsF,UAAU/E,KAAK,IAAIV,EAAE,OAAO,MAAMC,GAAEqJ,EAAAA,EAAAA,KAAG,KAAK,IAAIrJ,EAAE,OAAO,OAAOA,EAAED,EAAEgG,mBAAc,EAAO/F,EAAEU,YAAY,GAAGR,KAAKiF,yBAAyBgD,QAAQjI,KAAKqE,sBAAsB0D,WAAWjI,GAAGA,EAAEyI,MAAM,KAAK,MAAMjD,UAAUxF,EAAE6H,gBAAgB9G,GAAGb,KAAKS,EAAEX,EAAE0G,MAAMzG,EAAE,IAAIqJ,EAAAA,GAAE,CAACC,QAAQrJ,KAAKqJ,QAAQxH,aAAa7B,KAAKmF,OAAOwC,gBAAgB9G,EAAEyI,SAAStJ,KAAK+B,WAAW/B,KAAKM,YAAYP,EAAEC,KAAK6E,UAAU7E,KAAKM,YAAYyI,UAAU/I,KAAKM,YAAY0I,SAAS,MAAMpI,EAAEZ,KAAKsF,UAAU/E,KAAKgJ,mBAAmB3I,IAAIZ,KAAK8E,QAAQxC,IAAI1B,EAAE4I,iBAAiBC,OAAOC,GAAG,mBAAmB7J,IAAIE,EAAE4J,aAAa9J,CAAC,KAAKG,KAAKM,YAAYqJ,aAAa/I,EAAE4I,iBAAiBG,cAAc,MAAM/F,EAAE,YAAY5D,KAAKqJ,QAAQO,aAAa,mBAAmB,aAAa5J,KAAKqJ,QAAQO,aAAa,oBAAoB,KAAKhG,GAAG5D,KAAK8E,QAAQxC,KAAIuH,EAAAA,EAAAA,KAAG,KAAK,IAAIhK,EAAEC,EAAEe,EAAE,OAAO,OAAOhB,EAAEG,KAAKsF,UAAU/E,OAAO,OAAOT,EAAED,EAAE6G,kBAAkB,OAAO7F,EAAEf,EAAE6G,iBAAY,EAAO9F,EAAE+C,EAAE,IAAI/D,GAAGE,EAAE+J,UAAUjK,GAAG,GAAGsI,EAAAA,KAAuI,gBAAgB1H,EAAEgD,MAAMzD,KAAKqE,sBAAsB/B,KAAK,IAAI7B,EAAEsJ,qBAAqB,IAAI/J,KAAKgK,uBAAuBhK,KAAKqE,sBAAsB/B,KAAK,IAAIxC,EAAEmK,kBAAkB,CAACpK,EAAEC,IAAIE,KAAKkK,wBAAwBpK,EAAED,KAAKG,KAAKqE,sBAAsB/B,KAAK,IAAIxC,EAAEqK,iBAAiB,CAACtK,EAAEC,IAAIE,KAAKoK,uBAAuBtK,EAAED,KAAKG,KAAK8E,QAAQxC,IAAI,CAAC7B,EAAEiJ,GAAG,eAAe7J,GAAGG,KAAKqK,YAAYxK,KAAKG,KAAKsK,MAAM,UAAUzK,GAAGE,EAAE8B,aAAahC,IAAG,GAAIG,KAAKsK,MAAM,mBAAmBzK,GAAGE,EAAE4H,gBAAgB9H,IAAG,IAAIgK,EAAAA,EAAAA,KAAG,IAAI7J,KAAKmG,0BAArmBtG,IAAIE,EAAEoG,wBAAwBtG,EAAEE,EAAEwK,aAAavK,KAAKwE,iBAAiB3E,CAAC,GAA0jB2K,EAAAA,KAAGX,EAAAA,EAAAA,KAAG,IAAI7J,KAAKwE,mBAArkB3E,GAAGE,EAAEwK,aAAa1K,EAAEG,KAAKmG,yBAAgkBqE,EAAAA,KAAGX,EAAAA,EAAAA,KAAG,IAAIY,EAAAA,EAAAA,gCAAkC3K,IAAIA,GAAGC,IAAIA,EAAE2K,UAAU3K,EAAE2K,SAAS,IAAIC,EAAE5K,EAAEF,EAAEgG,aAAarF,aAAaoK,aAAa/K,GAAGE,EAAE2K,SAASnJ,WAAWzB,GAAGE,KAAKM,aAAaP,EAAE2K,WAAW3K,EAAE2K,SAASrJ,UAAUtB,EAAE2K,SAAS,KAAK,GAAGF,EAAAA,MAAKxK,KAAK6K,2BAA2B7K,KAAKqE,sBAAsB/B,KAAK,IAAItC,KAAKkH,2BAA2B,IAAIlH,KAAKqE,sBAAsB0D,WAAW/H,KAAKgI,2BAA2B,KAAKhI,KAAKiF,yBAAyBgD,UAAU,IAAI6C,OAAO,QAAQ,CAAC5C,eAAe,OAAOlI,KAAK4F,MAAM,IAAI,QAAQ5F,KAAK6I,cAAc7I,KAAK6I,YAAY7I,KAAKsF,UAAU/E,KAAKsF,aAAakF,aAAa,MAAM,QAAQ9G,EAAE+G,KAAK,gCAAgChL,KAAK4F,MAAM,IAAI,YAAWjG,EAAAA,EAAAA,IAAEK,KAAK6I,eAAe7I,KAAK6I,YAAY1G,SAASnC,KAAK6I,YAAY,MAAM,CAACmB,qBAAqBhK,KAAK0F,KAAK,2BAA2B,GAAG1F,KAAKiL,aAAa,4BAA4BjL,KAAKkJ,SAAS,CAACmB,YAAYxK,IAAGqL,EAAAA,EAAAA,IAAElL,KAAKM,cAAcN,KAAKM,YAAY6K,WAAWtL,GAAG0I,MAAM1I,IAAIA,IAAIA,EAAEuL,gBAAgBhI,QAAQvD,EAAEwL,gBAAgBjI,QAAQvD,EAAEyL,cAAclI,SAASpD,KAAKqE,sBAAsB0D,WAAW/H,KAAKuL,yBAAyBvL,KAAKiF,yBAAyBgD,QAAQ,IAAI6C,OAAOjL,IAAI,KAAI2L,EAAAA,EAAAA,IAAE3L,GAAG,MAAMA,CAAC,GAAG,CAACqK,wBAAwBrK,EAAEC,IAAGH,EAAAA,EAAAA,IAAEK,KAAKM,cAAcmL,EAAEzL,KAAKM,YAAY2J,gBAAgBnK,IAAIE,KAAKkJ,SAAS,CAACkB,uBAAuBvK,EAAEC,IAAGH,EAAAA,EAAAA,IAAEK,KAAKM,cAAcmL,EAAEzL,KAAKM,YAAY2J,gBAAgBnK,IAAIE,KAAKiJ,SAAS,CAACyC,gCAAgC7L,GAAG,MAAMC,EAAEE,KAAKsF,UAAUkB,MAAM3F,EAAEf,EAAE6L,cAAc,OAAO9K,EAAE+K,cAAc,CAAC,IAAIC,EAAAA,EAAE,CAACC,cAAc,eAAeC,eAAelM,EAAEmM,sBAAsB,eAAeC,cAAc,IAAIC,eAAe,OAAOpM,EAAEqM,aAAaC,MAAMC,oBAAoBxL,EAAEyL,WAAU,GAAIzL,CAAC,CAAC0L,uBAAuB,MAAM1M,EAAEG,KAAKsF,UAAUkB,MAAM1G,EAAED,EAAE8L,cAAc,OAAO7L,EAAE0M,oBAAoBxM,KAAKsF,UAAU/E,KAAK6E,iBAAiBvF,EAAEsM,aAAaC,MAAMC,oBAAoBvM,EAAEwM,WAAU,GAAIxM,CAAC,CAAC2M,wBAAwB,MAAM5M,EAAEG,KAAKsF,UAAUkB,MAAM,GAAG3G,EAAE6M,qBAAqB,OAAM,EAAG,OAAO7M,EAAE4D,MAAM,IAAI,UAAU,OAAOkJ,EAAAA,EAAAA,IAAE9M,EAAE+M,KAAK,IAAI,MAAM,IAAI,UAAU,IAAI,cAAc,IAAI,MAAM,OAAM,EAAG,QAAQ,OAAO,CAACC,+BAA+BhN,GAAG,UAAUG,KAAK8M,4BAA4BjN,EAAwG,CAArG,MAAMC,IAAG0L,EAAAA,EAAAA,IAAE1L,IAAIE,KAAK0F,KAAK,qBAAoB9B,EAAAA,EAAAA,IAAE5D,KAAKsF,UAAUyH,uCAAuC,CAAC,CAACF,kCAAkChN,GAAG,MAAMC,EAAEE,KAAKsF,UAAUzE,EAAEf,EAAE0G,MAAM/F,EAAEI,EAAEsL,aAAaC,MAAMY,eAAejN,GAAE6D,EAAAA,EAAAA,IAAE9D,EAAEiN,uCAAuCnM,EAAEC,EAAEoM,WAAWhK,EAAEjD,KAAKyM,wBAAwBtJ,EAAEnD,KAAKwE,iBAAiB,GAAG/D,GAAG0C,GAAGsB,EAAEyI,gCAAgCnN,IAAIkD,IAAI,gBAAgBpC,EAAE,CAAC,MAAMf,EAAEE,KAAKuM,uBAAuB9L,QAAQI,EAAEsM,YAAYrN,EAAE,CAACsN,QAAQ3I,EAAE4I,qBAAqBpF,OAAOpI,IAAIG,KAAK0F,KAAK,oBAAoBjF,EAAE0E,OAAO,MAAM,GAAGpF,EAAEC,KAAK0F,KAAK,oBAAoB3F,QAAQ,IAAGJ,EAAAA,EAAAA,IAAEiB,GAAG,CAAC,MAAMH,EAAE,eAAeI,EAAEA,EAAEyM,WAAW,KAAKvN,QAAQwN,EAAAA,EAAAA,iBAAE3M,EAAEd,EAAES,KAAK6E,iBAAiB3E,EAAEZ,GAAGG,KAAK0F,KAAK,oBAAoB3F,EAAE,MAAMC,KAAK0F,KAAK,oBAAoB,KAAK,CAACmH,8BAA8BhN,GAAG,MAAMC,EAAEE,KAAKsF,UAAUkB,MAAM,KAAK,sBAAsB1G,GAAG,YAAYE,KAAK0F,KAAK,mBAAmBjB,EAAEC,uBAAuB,MAAMjE,QAAQI,EAAAA,EAAAA,IAAEf,EAAE0N,kBAAkBxN,KAAKuM,uBAAuB,CAACa,QAAQ3I,EAAEgJ,yBAAyBxF,OAAOpI,KAAK,IAAG,IAAKY,EAAEiN,GAAG1N,KAAK0F,KAAK,mBAAmBjF,EAAEkN,WAAW,CAAC,IAAGnC,EAAAA,EAAAA,IAAE/K,EAAE8E,OAAO,MAAM9E,EAAE8E,MAAMvF,KAAK0F,KAAK,mBAAmBjB,EAAEC,sBAAsB,CAAC,CAAKoD,sBAAkB,IAAGoD,EAAAA,EAAAA,IAAElL,KAAK4E,uBAAsBsG,EAAAA,EAAAA,IAAElL,KAAK4E,oBAAoBgJ,yBAAyB,OAAO,KAAK,MAAMA,wBAAwB/N,EAAEgO,+BAA+B/N,GAAGE,KAAK4E,qBAAqBkJ,wBAAwBjN,EAAEkN,qBAAqBtN,GAAGZ,EAAEE,EAAEC,KAAKwF,KAAK,mBAAmB,OAAO0F,EAAAA,EAAAA,IAAEnL,IAAIA,EAAE8N,iCAAiC/N,GAAGC,EAAE+N,0BAA0BjN,GAAGd,EAAEgO,uBAAuBtN,EAAE,CAACqN,wBAAwBjN,EAAEkN,qBAAqBtN,EAAEoN,+BAA+B/N,GAAGC,CAAC,CAAK8K,gCAA4B,MAAMhL,EAAEG,KAAKsF,UAAUkB,MAAM,OAAO3G,EAAEsM,cAActM,EAAEsM,aAAa6B,YAAYnO,EAAEsM,aAAa6B,WAAWC,8BAA8B,CAAKC,yCAAqC,OAAOlO,KAAKsF,UAAUkB,MAAMoD,cAAc,IAAI,QAAQ,IAAI,aAAa,OAAO,EAAE,IAAI,UAAU,OAAO,EAAE,IAAI,WAAW,OAAO,EAAE,IAAI,aAAa,IAAI,OAAO,OAAO,EAAE,QAAQ,OAAO,EAAE,CAACiD,iCAAiChN,EAAEC,GAAG,MAAMW,EAAET,KAAK8H,gBAAgB,IAAGoD,EAAAA,EAAAA,IAAEzK,GAAG,YAAYT,KAAK0F,KAAK,uBAAsB,GAAI,MAAM3F,EAAEU,EAAEsN,sBAAsB,EAAEnN,EAAEZ,KAAKkO,mCAAmC,EAAE,IAAInO,IAAIa,EAAE,YAAYZ,KAAK0F,KAAK,uBAAsB,GAAI,MAAMqI,qBAAqBnK,EAAEkK,wBAAwB7K,EAAE4K,+BAA+B1K,GAAG1C,EAAE,IAAIf,EAAE,IAAIkE,IAAGjE,EAAAA,EAAAA,IAAEE,UAAUA,EAAE,MAAMsE,EAAEnE,KAAKwE,iBAAiB2J,EAAEhK,IAAIM,EAAEC,sBAAsB,GAAGhF,EAAEyO,EAAE/G,KAAKE,MAAMnE,EAAEgB,EAAEP,IAAIX,GAAG,IAAImE,KAAKE,KAAKnE,GAAGF,GAAG,IAAIrC,IAAIlB,EAAE0H,KAAKgH,IAAI1O,EAAE2O,IAAIF,GAAGnO,KAAKkO,mCAAmC/J,EAAEzE,EAAE,YAAYM,KAAK0F,KAAK,uBAAsB,GAAI,IAAI1F,KAAK6K,0BAA0B,YAAY7K,KAAK0F,KAAK,sBAAsB1F,KAAKkH,yBAAyBxH,GAAG,MAAMyI,QAAQtH,EAAAA,EAAAA,IAAEb,KAAKsF,UAAUkB,MAAM8H,cAActO,KAAK0L,gCAAgChM,GAAG,CAAC0N,QAAQ3I,EAAEgJ,yBAAyBxF,OAAOnI,KAAK,IAAG,IAAKqI,EAAEuF,GAAG,CAAC,IAAGlC,EAAAA,EAAAA,IAAErD,EAAE5C,OAAO,MAAM4C,EAAE5C,MAAM,YAAYvF,KAAK0F,KAAK,uBAAsB,EAAG,CAAC,MAAMyD,EAAEhB,EAAEwF,MAAMrE,SAAS,GAAGH,GAAGA,EAAEoF,WAAWvO,KAAK0F,KAAK,wBAAwByD,EAAEoF,WAAWC,cAAcxO,KAAK0F,KAAK,uBAAsB,EAAG,CAACmH,8BAA8B7M,KAAK4I,8BAA8B,IAAI/I,EAAE,IAAIqF,gBAAgB,MAAMpF,EAAED,EAAEoI,OAAOpH,EAAEb,KAAKyO,wBAAwB3O,GAAGW,GAAE0N,EAAAA,EAAAA,IAAE,CAACtN,EAAEb,KAAKgI,2BAA2BnH,EAAEf,KAAKC,EAAEU,EAAE8H,MAAM,IAAIvI,KAAKuL,yBAAyBzL,KAAKgL,OAAOjL,KAAI2L,EAAAA,EAAAA,IAAE3L,IAAIoE,EAAEsB,MAAM,0BAA0B1F,EAAE,IAAI0I,MAAM,KAAKxI,IAAIC,KAAK+E,uBAAuB/E,KAAK+E,qBAAqB,KAAK/E,KAAKgF,6BAA6B,MAAMnF,EAAE,IAAI,IAAI,OAAOA,IAAIG,KAAK+E,qBAAqBhF,GAAGC,KAAKgF,6BAA6BnF,EAAEY,EAAE8H,MAAM,SAAS,QAAQ,CAACK,8BAA8B,MAAM/I,EAAEG,KAAKgF,6BAA6BnF,IAAIG,KAAKgF,6BAA6B,KAAKhF,KAAK+E,qBAAqB,KAAKlF,EAAEiJ,QAAQ,CAAK4F,YAAQ,MAAM,CAACC,gBAAehP,EAAAA,EAAAA,IAAEK,KAAKM,aAAaN,KAAKM,YAAYqO,eAAe,EAAEC,eAAcjP,EAAAA,EAAAA,IAAEK,KAAKM,aAAaN,KAAKM,YAAYsO,cAAc,EAAEzH,eAAcxH,EAAAA,EAAAA,IAAEK,KAAKM,aAAaN,KAAKM,YAAY6G,cAAc,EAAE,IAAGtH,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM5K,EAAE6K,UAAU,YAAO,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACG,eAAc,KAAM9K,EAAE6K,UAAU,gBAAW,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACG,eAAc,KAAM9K,EAAE6K,UAAU,iBAAY,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACG,eAAc,KAAM9K,EAAE6K,UAAU,eAAU,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,OAAK3K,EAAE6K,UAAU,SAAS,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,OAAK3K,EAAE6K,UAAU,WAAW,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM5K,EAAE6K,UAAU,6BAAwB,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,OAAK3K,EAAE6K,UAAU,gBAAgB,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,OAAK3K,EAAE6K,UAAU,oBAAoB,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,OAAK3K,EAAE6K,UAAU,sBAAsB,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,OAAK3K,EAAE6K,UAAU,0BAA0B,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,OAAK3K,EAAE6K,UAAU,kCAAkC,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM5K,EAAE6K,UAAU,yBAAoB,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM5K,EAAE6K,UAAU,wBAAmB,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM5K,EAAE6K,UAAU,2BAAsB,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,OAAK3K,EAAE6K,UAAU,2BAAsB,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACpL,KAAKwL,UAAU/K,EAAE6K,UAAU,0BAA0B,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM5K,EAAE6K,UAAU,OAAO,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM5K,EAAE6K,UAAU,2BAA2B,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACC,UAAS,EAAGI,UAAU,CAAC,WAAWhL,EAAE6K,UAAU,kBAAkB,OAAMlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,OAAK3K,EAAE6K,UAAU,mBAAc,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,OAAK3K,EAAE6K,UAAU,4BAAuB,IAAQlP,EAAAA,EAAAA,GAAE,EAACgP,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAM5K,EAAE6K,UAAU,kBAAkB,MAAM7K,GAAErE,EAAAA,EAAAA,GAAE,EAACsP,EAAAA,EAAAA,GAAE,6DAA6DjL,GAAG,MAAyBmK,EAAE,IAAI,SAAS5C,EAAE5L,EAAEC,GAAG,IAAIA,EAAE,OAAM,EAAG,IAAI,MAAMe,KAAKf,EAAE,IAAID,EAAE+C,IAAI/B,GAAG,OAAM,EAAG,OAAM,CAAE,CAAC,IAAI4D,EAAY5E,KAAgL4E,IAAIA,EAAE,CAAC,IAA9EC,sBAAsB,IAAI7E,EAAEoH,8BAA8B,EAAEpH,EAAEuP,MAApK,WAAavP,EAAEqN,6BAAxI,IAAuKrN,EAAE4N,yBAAnK,KAA8L5N,EAAEwN,qBAAzL,GAA+M,EAAqF5I,EAAE2K,O,6DCAh3e,MAAYnM,EAAE,CAACoM,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAK,GAAmF,MAAM3P,EAAED,cAAcI,KAAKyP,eAAc,EAAGzP,KAAK0P,cAAc,GAAG1P,KAAK2P,YAAY,IAAIzP,IAAIF,KAAK4P,YAAY,IAAI1P,IAAIF,KAAK6P,OAAO,IAAI9P,EAAAA,EAAE,GAAEc,EAAAA,EAAAA,GAAE,yBAAyBA,IAAC,CAAIwO,KAAKxO,EAAE,GAAGyO,KAAKzO,EAAE,GAAG0O,KAAK1O,EAAE,GAAG2O,KAAK3O,EAAE,KAAK,CAAC,MAAM,MAAM,MAAM,QAAQb,KAAK8P,WAAW,KAAK,GAAG9P,KAAKyP,cAAc,CAAC,MAAM5O,EAAE,IAAIkP,MAAM/P,KAAK4P,YAAY3O,MAAM,IAAIlB,EAAE,EAAEC,KAAK4P,YAAY9N,SAAS,CAACqC,EAAElB,KAAKpC,EAAEd,KAAKkD,CAAC,IAAIjD,KAAKyP,eAAc,EAAGzP,KAAK6P,OAAO5N,QAAQjC,KAAK6P,OAAOG,KAAKnP,EAAE,MAAMb,KAAK0P,cAActM,SAASpD,KAAK6P,OAAOG,KAAKhQ,KAAK0P,cAAcjO,QAAQZ,GAAGb,KAAK4P,YAAYhN,IAAI/B,MAAMb,KAAK0P,cAActM,OAAO,EAAE,CAAC,CAACnB,QAAQjC,KAAKyP,eAAc,EAAGzP,KAAK0P,cAActM,OAAO,EAAEpD,KAAK2P,YAAY1N,QAAQjC,KAAK4P,YAAY3N,QAAQjC,KAAK6P,OAAO5N,OAAO,CAACS,OAAO7B,GAAG,MAAMd,EAAEC,KAAK2P,YAAYhH,IAAI9H,GAAGb,KAAK2P,YAAYjN,OAAO7B,GAAGd,IAAIC,KAAK4P,YAAYlN,OAAO3C,GAAGC,KAAKyP,eAAezP,KAAK6P,OAAO1N,OAAOpC,GAAG,CAACkQ,gBAAgBpP,EAAEd,GAAGC,KAAK8P,aAAx7B,SAAWjP,EAAEd,EAAEoE,GAAGlB,EAAEoM,KAAKtP,EAAE,GAAGkD,EAAEqM,KAAKvP,EAAE,GAAGkD,EAAEsM,KAAKxP,EAAE,GAAGkD,EAAEuM,KAAKzP,EAAE,GAAGc,EAAEqP,OAAOjN,EAAEkB,EAAE,CAAs3BrE,CAAEE,KAAK6P,OAAOhP,GAAGA,GAAGd,EAAEC,KAAK4P,YAAYjH,IAAI9H,KAAK,CAAC8H,IAAI9H,GAAG,OAAOb,KAAK2P,YAAYhH,IAAI9H,EAAE,CAAC+B,IAAI/B,GAAG,OAAOb,KAAK2P,YAAY/M,IAAI/B,EAAE,CAACsP,kBAAkBnQ,KAAKyP,gBAAgBzP,KAAKyP,eAAc,EAAGzP,KAAK0P,cAActM,OAAO,EAAE,CAACW,IAAIlD,EAAEd,GAAG,IAAIC,KAAKyP,cAAc,CAAC,MAAM1P,EAAEC,KAAK2P,YAAYhH,IAAI9H,GAAGd,IAAIC,KAAK6P,OAAO1N,OAAOpC,GAAGC,KAAK4P,YAAYlN,OAAO3C,GAAG,CAACC,KAAK2P,YAAY5L,IAAIlD,EAAEd,GAAGA,IAAIC,KAAK4P,YAAY7L,IAAIhE,EAAEc,GAAGb,KAAKyP,gBAAgBzP,KAAK0P,cAAcjN,KAAK1C,GAAGC,KAAK0P,cAActM,OAAl7C,KAA47CpD,KAAK8P,cAAc,E,0ICAxhC,MAAMtE,EAAE5L,YAAYC,GAAGG,KAAKoQ,aAAavQ,EAAEG,KAAKqQ,aAAa,IAAI3Q,EAAAA,EAAEM,KAAKsQ,cAAc,IAAIpQ,IAAIF,KAAKuQ,WAAW,IAAIC,IAAIxQ,KAAKyJ,OAAO,IAAI3J,EAAAA,EAAEE,KAAKyQ,eAAevF,EAAAA,CAAC,CAAKtB,mBAAe,OAAO5J,KAAKoQ,aAAaxG,YAAY,CAAK8G,WAAO,OAAO1Q,KAAKoQ,aAAaM,IAAI,CAAKC,WAAO,OAAO3Q,KAAKoQ,aAAaO,IAAI,CAAKC,kBAAc,OAAO5Q,KAAKsQ,cAAcrP,IAAI,CAAK4P,iBAAa,IAAI7Q,KAAK4Q,YAAY,OAAO,KAAK,MAAM/Q,GAAEe,EAAAA,EAAAA,IAAEuD,EAAAA,IAAG,OAAOnE,KAAKsQ,cAAcxO,SAAShC,IAAI,MAAMW,EAAET,KAAKqQ,aAAa1H,IAAI7I,EAAEgR,UAAUrQ,IAAIZ,EAAE,GAAGuH,KAAKgH,IAAI3N,EAAE,GAAGZ,EAAE,IAAIA,EAAE,GAAGuH,KAAKgH,IAAI3N,EAAE,GAAGZ,EAAE,IAAIA,EAAE,GAAGuH,KAAKC,IAAI5G,EAAE,GAAGZ,EAAE,IAAIA,EAAE,GAAGuH,KAAKC,IAAI5G,EAAE,GAAGZ,EAAE,IAAI,IAAIA,CAAC,CAAKkR,sBAAkB,IAAIlR,EAAE,EAAE,OAAOG,KAAKsQ,cAAcxO,SAAShC,KAAIC,EAAAA,EAAAA,IAAED,EAAEsC,WAAWtC,EAAEsC,SAAS4O,SAASnR,GAAGC,EAAEsC,SAAS4O,OAAO5N,OAAO,IAAI,CAAC6N,aAAajR,KAAKsQ,cAAcrP,KAAKiQ,YAAYrR,GAAGG,KAAK2Q,KAAK3Q,KAAK0Q,KAAK,EAAE,EAAE1Q,KAAK0Q,KAAK,EAAE,GAAG,CAACpO,IAAIzC,GAAGG,KAAKmR,KAAKtR,GAAGG,KAAKoR,cAAc,CAACpN,QAAQnE,GAAG,IAAI,MAAMC,KAAKD,EAAEG,KAAKmR,KAAKrR,GAAGE,KAAKoR,cAAc,CAACnP,QAAQjC,KAAKsQ,cAAcrO,QAAQjC,KAAKqQ,aAAapO,QAAQjC,KAAKoR,cAAc,CAACC,WAAWxR,GAAG,MAAMC,EAAEE,KAAKsQ,cAAc3H,IAAI9I,GAAG,OAAOC,GAAGE,KAAKsR,QAAQxR,GAAGE,KAAKoR,eAAetR,GAAG,IAAI,CAACyR,eAAe1R,GAAGG,KAAKqQ,aAAaF,kBAAkB,IAAI,MAAMrQ,KAAKD,EAAE,CAAC,MAAMA,EAAEG,KAAKsQ,cAAc3H,IAAI7I,GAAGD,GAAGG,KAAKsR,QAAQzR,EAAE,CAACG,KAAKoR,cAAc,CAACI,cAAc3R,EAAEC,EAAEW,GAAG,IAAI,MAAMV,KAAKF,EAAE,CAAC,MAAMA,EAAEG,KAAKqQ,aAAa1H,IAAI5I,EAAE+Q,UAAUjR,GAAGC,GAAEe,EAAAA,EAAAA,IAAEJ,EAAEZ,GAAG,CAAC,CAAC4R,WAAW5R,GAAG,OAAOG,KAAKsQ,cAAc3H,IAAI9I,EAAE,CAAC+C,IAAI/C,GAAG,OAAOG,KAAKsQ,cAAc1N,IAAI/C,EAAE,CAACiC,QAAQjC,GAAGG,KAAKsQ,cAAcxO,SAAShC,GAAGD,EAAEC,IAAI,CAACmQ,gBAAgBpQ,EAAEC,GAAGE,KAAKqQ,aAAaJ,gBAAgBpQ,GAAGA,IAAIC,EAAEE,KAAKsQ,cAAc3H,IAAI9I,GAAG,GAAG,CAAC6R,2BAA2B1R,KAAKqQ,aAAaF,kBAAkBnQ,KAAKuQ,WAAWtO,OAAO,CAAC0P,QAAQ,IAAI9R,GAAE,EAAGG,KAAKsQ,cAAcxO,SAAS,CAAChC,EAAEW,KAAKT,KAAKuQ,WAAW3N,IAAInC,KAAKZ,GAAE,EAAGG,KAAKsR,QAAQxR,GAAG,IAAIE,KAAKuQ,WAAWtO,QAAQpC,GAAGG,KAAKoR,cAAc,CAACA,eAAepR,KAAKyJ,OAAOmI,KAAK,eAAU,EAAO,CAACT,KAAKrR,GAAG,IAAIA,EAAE,OAAO,MAAMe,EAAEf,EAAEgR,SAAS,GAAG,MAAMjQ,EAAE,YAAYJ,EAAAA,EAAAA,UAAY,0CAA0C8E,MAAM,IAAI1F,EAAAA,EAAE,+BAA+B,wBAAwB,CAACgS,QAAQ/R,KAAK,MAAMqE,EAAEnE,KAAKsQ,cAAc3H,IAAI9H,GAAG,IAAInB,EAAE,GAAGM,KAAKuQ,WAAWjO,IAAIzB,GAAGsD,GAAGrE,EAAEgS,UAAU3N,EAAE2N,UAAUpS,EAAEM,KAAKqQ,aAAa1H,IAAI9H,GAAGb,KAAKqQ,aAAa3N,OAAO7B,KAAId,EAAAA,EAAAA,IAAEC,KAAK+R,eAAe/R,KAAK+R,aAAajS,IAAG8D,EAAAA,EAAAA,IAAE9D,EAAEsC,YAAYtC,EAAEsC,SAAS4O,SAASlR,EAAEsC,SAAS4O,OAAO5N,OAAO,OAAOpD,KAAKqQ,aAAatM,IAAIlD,EAAE,WAAWb,KAAKsQ,cAAcvM,IAAIlD,EAAEf,GAAGJ,GAAEuD,EAAAA,EAAAA,IAAElD,EAAAA,EAAAA,IAAEL,GAAGA,GAAEkB,EAAAA,EAAAA,MAAId,EAAEsC,SAASpC,KAAKoQ,aAAaO,KAAK3Q,KAAKoQ,aAAaM,OAAM3Q,EAAAA,EAAAA,IAAEL,IAAIM,KAAKqQ,aAAatM,IAAIlD,EAAEnB,GAAGM,KAAKsQ,cAAcvM,IAAIlD,EAAEf,EAAE,CAACwR,QAAQzR,GAAG,OAAOE,EAAAA,EAAAA,IAAEC,KAAKgS,kBAAkBhS,KAAKgS,gBAAgBnS,GAAGG,KAAKuQ,WAAW7N,OAAO7C,EAAEiR,UAAU9Q,KAAKqQ,aAAa3N,OAAO7C,EAAEiR,UAAU9Q,KAAKsQ,cAAc5N,OAAO7C,EAAEiR,UAAUjR,CAAC,E,qbCAjhC,MAAMoS,EAAEhP,EAAAA,EAAAA,UAAY,wDAA6D,IAAIiP,EAAE,cAActO,EAAAA,EAAEhE,YAAYC,GAAGuE,MAAMvE,GAAGG,KAAKyD,KAAK,UAAUzD,KAAKmS,iBAAiB,CAACC,gBAAgB,EAAEC,OAAM,GAAIrS,KAAKsS,sBAAsB7G,EAAAA,GAAAA,MAAQzL,KAAKuS,WAAW,KAAKvS,KAAKwS,kBAAkB,IAAItS,IAAIF,KAAKyS,UAAU,IAAIC,EAAAA,GAAE,CAAC,GAAG1S,KAAK2S,mBAAmB,IAAID,EAAAA,GAAE,CAACE,mBAAkB,IAAK5S,KAAK6S,YAAY,EAAE7S,KAAK8S,cAAc,CAAC,CAACjL,aAAa7H,KAAK+S,cAAc,IAAIC,EAAAA,EAAE,CAACpJ,aAAa,oBAAoB+G,KAAK3Q,KAAK2Q,KAAKD,KAAK1Q,KAAK0Q,OAAO,MAAMuC,iBAAiBpT,EAAEqT,aAAapT,GAAGE,KAAKmT,YAAYhH,cAAciH,wBAAwB3S,GAAGT,KAAKmT,YAAYE,iBAAiBC,WAAW,GAAG,MAAMxT,IAAIA,EAAEoT,aAAa,MAAM,IAAItS,EAAAA,EAAE,gCAAgC,8EAA8E,GAAG,MAAMf,IAAIA,EAAEqT,aAAa,MAAM,IAAItS,EAAAA,EAAE,qCAAqC,0HAA0H,GAAG,MAAMf,IAAIA,EAAE0T,WAAW,MAAM,IAAI3S,EAAAA,EAAE,8BAA8B,iEAAiE,IAAIH,EAAE,MAAM,IAAIG,EAAAA,EAAE,8BAA8B,sIAAsIZ,KAAK8S,cAAc9S,KAAKwT,MAAMjT,KAAKgJ,mBAAmBC,iBAAiBG,aAAa3J,KAAKyT,gBAAgBC,uBAAuB,IAAI1T,KAAK2T,uBAAuB9T,GAAGG,KAAK4T,wBAAwB/T,IAAIsD,EAAAA,IAAGnD,KAAKyT,gBAAgBI,SAAS,IAAI7T,KAAK8T,sBAAsBjU,GAAGG,KAAK+T,kBAAkBjU,GAAGA,EAAEkU,cAAcnU,MAAMsD,EAAAA,IAAGnD,KAAKyT,gBAAgBnR,KAAK,IAAItC,KAAKiU,wBAAwB,KAAKjU,KAAKkU,WAAW,GAAG/K,EAAAA,IAAGnJ,KAAKyT,gBAAgBnR,KAAK,MAAM6R,UAAUnU,KAAKoU,0BAA0BC,QAAQrU,KAAKsU,mCAAmC,IAA2B,IAAzBH,UAAUtU,EAAEwU,QAAQvU,GAAE,EAAI,IAAGH,EAAAA,EAAAA,IAAEE,IAAIC,EAAE,CAAC,IAAIA,EAAE,EAAEE,KAAK+S,cAAcjR,SAASrB,IAAI,IAAII,EAAEf,GAAG,OAAOe,EAAEJ,EAAE8N,WAAW1O,IAAIgB,EAAE,CAAC,IAAIb,KAAK6S,YAAY/S,CAAC,MAAME,KAAK6S,YAAY7S,KAAK+S,cAAcnC,WAAW,GAAGzN,EAAAA,IAAGnD,KAAK8E,QAAQxC,IAAI,EAACqK,EAAAA,EAAAA,KAAG,MAAMwH,UAAUnU,KAAKoU,0BAA0BG,MAAMvU,KAAKiU,0BAA0B,IAAyB,IAAvBE,UAAUtU,EAAE0U,MAAMzU,GAAE,EAAI,IAAIW,EAAEZ,IAAIC,GAAGmS,EAAEjH,KAAM,2BAA0BnL,iBAAiB,OAAOY,EAAET,KAAKwG,MAAMgO,OAAO/T,EAAET,KAAKwG,MAAM3D,gBAAgB,KAAI8J,EAAAA,EAAAA,KAAG,MAAM4H,MAAMvU,KAAKiU,sBAAsBI,QAAQrU,KAAKsU,mCAAmC,IAAuB,IAArBC,MAAM1U,EAAEwU,QAAQvU,GAAE,EAAI,IAAIW,GAAEd,EAAAA,EAAAA,IAAEE,KAAKC,GAAGmS,EAAEjH,KAAM,2BAA0BnL,EAAE4U,oBAAoB,OAAOhU,EAAET,KAAKwG,MAAMgO,OAAO/T,EAAET,KAAKwG,MAAM3D,sFAAsF,IAAI7C,KAAKwT,MAAMjT,KAAKgJ,mBAAmBC,iBAAiBC,OAAOC,GAAG,mBAAmB,KAAK,IAAI7J,EAAEC,EAAEW,EAAEI,EAAED,EAAEZ,KAAK8S,cAAc,OAAOjT,EAAE,OAAOC,EAAEE,KAAKwT,QAAQ,OAAO/S,EAAEX,EAAES,OAAO,OAAOM,EAAEJ,EAAE8I,qBAAqB,OAAO3I,EAAEC,EAAE2I,uBAAkB,EAAO5I,EAAE+I,cAAc9J,EAAE,CAAC,KAAK,CAACwB,UAAUrB,KAAK0U,iBAAiBC,iBAAiB5E,MAAM6E,KAAK5U,KAAKwS,kBAAkBqC,UAAU7U,KAAKwT,MAAMtP,EAAAA,EAAAA,SAAAA,QAAmBlE,KAAKwS,kBAAkBvQ,QAAQjC,KAAKyS,WAAUtO,EAAAA,EAAAA,IAAEnE,KAAKyS,WAAWzS,KAAK2S,oBAAmBxO,EAAAA,EAAAA,IAAEnE,KAAK2S,oBAAoB3S,KAAK+S,cAAc9Q,QAAQjC,KAAK+S,cAAc,IAAI,CAAKvM,YAAQ,OAAOxG,KAAKwT,MAAMhN,KAAK,CAAKsO,mBAAe,OAAO9U,KAAK+S,aAAa,CAAKpN,eAAW,OAAO3F,KAAKyT,gBAAgB9N,QAAQ,CAAKI,wBAAoB,OAAO,CAAC,CAAKgP,kBAAc,MAAM,CAAC,CAAC,CAAKC,oBAAgB,OAAM,CAAE,CAAKpQ,0BAAsB,IAAI/E,EAAEC,EAAE,MAAMW,EAAET,KAAK8S,cAAcjS,EAAE,OAAOhB,EAAEG,KAAKwT,QAAQ,OAAO1T,EAAED,EAAEU,WAAM,EAAOT,EAAE4G,gBAAgB9F,EAAEC,EAAEuG,KAAKE,KAAKzG,EAAEoU,QAAQC,yBAAyBzU,GAAG,EAAE,MAAM,CAAC0U,6BAA6B,EAAEC,6BAA6BxU,EAAEiN,+BAAiC,EAAFjN,EAAIuF,wBAAwBvF,EAAE,CAAK+P,WAAO,MAAM,SAAS3Q,KAAKwG,OAAOxG,KAAKwG,MAAMmK,IAAI,CAAKD,WAAO,MAAM,SAAS1Q,KAAKwG,OAAOxG,KAAKwG,MAAMkK,IAAI,CAAK2E,+BAA2B,OAAM,CAAE,CAAKC,iBAAa,IAAIzV,EAAEC,EAAEW,EAAEI,EAAED,EAAE,MAAMgD,EAAE5D,KAAKuV,qBAAqBvV,KAAK+S,cAAcnC,aAAa4E,KAAKzV,GAAG,OAAOF,EAAEG,KAAKmT,cAAc,OAAOrT,EAAED,EAAEsM,mBAAc,EAAOrM,EAAEmT,iBAAiBhQ,EAAE,MAAMlD,EAAE,EAAE,EAAMyL,EAAE,OAAO/K,EAAE2G,KAAKE,MAAM,OAAOzG,EAAEb,KAAK0U,mBAAmB,OAAO9T,EAAEC,EAAE4U,SAAS,SAAI,EAAO7U,EAAE8U,YAAY1V,KAAK2V,wBAAwBlV,EAAE,EAAE,OAAO+K,EAAEA,EAAEvI,EAAlJ,EAAsJW,IAAGjE,EAAAA,EAAAA,IAAEK,KAAK4V,kBAAkB,EAAExO,KAAKgH,IAAIpO,KAAK4V,iBAAiBC,WAA5kI,IAA0lI,GAAG5S,EAApO,CAAuO,CAAKsS,2BAAuB,GAAG,IAAIvV,KAAK+S,cAAcnC,YAAY,OAAO,EAAE,IAAI/Q,EAAE,EAAEG,KAAK+S,cAAcjR,SAASrB,GAAGZ,IAAGC,EAAAA,EAAAA,IAAEW,EAAE8N,cAAc1O,GAAGG,KAAK+S,cAAcnC,YAAY,MAAMhQ,GAAEC,EAAAA,EAAAA,MAAQ,OAAF,GAAWJ,EAAAA,EAAAA,IAAE,CAAC,EAAE,EAAE,GAAGG,GAArB,GAA0BH,EAAAA,EAAAA,IAAE,CAAC,EAAE,GAAGG,IAAIZ,KAAKsU,+BAA3C,EAA4E1T,EAAE,GAAGf,CAAC,CAAKiW,gCAA4B,OAAO,CAAC,CAAKC,sBAAkB,MAAM,CAACC,KAAK,CAACC,QAAQjW,KAAK+S,cAAcnC,YAAYsF,QAAQ,EAAEC,QAAQ,GAAGC,mBAAkB,EAAGC,mBAAkB,EAAGC,iBAAgB,EAAG,CAAK5B,uBAAmB,OAAO1U,KAAKwT,MAAMjT,KAAKgW,eAAeC,eAAeC,QAAQ,CAAKC,+BAA2B,OAAOlL,EAAAA,EAAAA,IAAExL,KAAK0U,iBAAiBtP,iBAAiB,CAAK0O,0BAAsB,MAAM,IAAI9T,KAAK2W,yBAAyB3W,KAAK4W,mBAAmBC,cAAc7W,KAAK8W,eAAeC,WAAW/W,KAAK2V,sBAAsB,CAAKiB,yBAAqB,MAAM/W,EAAEG,KAAK4V,iBAAiB,OAAG1K,EAAAA,EAAAA,IAAErL,GAAU,KAAW,CAACmX,WAAWnX,EAAEoX,kBAAkBC,WAAWrX,EAAEsX,kBAAkBC,WAAWpX,KAAK6S,YAAY,CAAK8D,4BAAwB,OAAOxI,EAAAA,EAAAA,IAAEnO,KAAK4V,kBAAkB,QAAEyB,eAAexX,EAAEgW,WAAW/V,GAAE,QAAI,CAACwX,aAAatX,KAAKuX,mBAAmBzX,GAAG0X,mBAAmB,IAAI3X,EAAE,GAAE4K,EAAAA,EAAAA,IAAE5K,EAAEG,KAAKwT,MAAMjT,KAAK6E,kBAAkB,GAAG,CAAK0R,qBAAiB,OAAO3I,EAAAA,EAAAA,IAAEnO,KAAK4V,kBAAkB/V,IAAG0N,EAAAA,EAAAA,IAAE1N,EAAE4X,aAAa,CAAK9B,4BAAwB,IAAI9V,EAAEC,EAAEW,EAAE,MAAMI,EAAEb,KAAK8S,cAAc,OAAO,OAAOjT,EAAE,OAAOC,EAAEE,KAAKwT,QAAQ,OAAO/S,EAAEX,EAAES,WAAM,EAAOE,EAAEiG,gBAAgBuO,QAAQ8B,YAAYlX,EAAE,GAAGuH,KAAKsQ,KAAK7W,EAAE,CAAKsS,kBAAc,OAAOnT,KAAKwT,MAAMjT,KAAKoX,OAAOC,UAAU,CAAKC,yBAAqB,MAAM,UAAU7X,KAAKwG,MAAMoD,YAAY,CAAK+J,2BAAuB,OAAO3T,KAAKwT,MAAMrT,cAAc,CAAKyV,uBAAmB,MAAM/V,EAAEG,KAAKwG,MAAMiQ,SAAS,MAAM,aAAa,MAAM5W,OAAE,EAAOA,EAAE4D,MAAM5D,EAAE,IAAI,CAAKuU,gCAA4B,OAAOjG,EAAAA,EAAAA,IAAEnO,KAAK4V,kBAAkB/V,GAAGA,EAAE0U,OAAO,CAAKN,4BAAwB,OAAO9F,EAAAA,EAAAA,IAAEnO,KAAKoU,2BAA2BvU,GAAGG,KAAKwG,MAAMsR,YAAYnP,IAAI9I,IAAI,CAAKyU,qCAAiC,MAAMzU,EAAEG,KAAKiU,sBAAsB,QAAO/I,EAAAA,EAAAA,IAAErL,KAAI2K,EAAAA,EAAAA,IAAE3K,EAAE,CAACgN,0BAA0B,OAAO,IAAI,CAACkL,0BAA0B,OAAO,IAAI,CAACC,YAAY,OAAO3J,CAAC,CAAC4J,eAAe,OAAO5J,CAAC,CAAC6J,wBAAwB,CAACrL,cAAc,CAAC+G,wBAAwB/T,GAAG,IAAIG,KAAK6X,mBAAmB,OAAO,MAAMM,cAAcrY,GAAGE,KAAKwG,MAAMxG,KAAK+S,cAAcxB,eAAe1R,EAAEuY,QAAQzX,KAAKd,IAAGuJ,EAAAA,EAAAA,IAAEvJ,EAAEC,MAAME,KAAK+S,cAAc/O,QAAQnE,EAAEwY,MAAM1X,KAAKd,GAAG,IAAIyY,EAAAA,IAAErU,EAAAA,EAAAA,IAAE,IAAIsU,EAAAA,EAAE1Y,EAAEuC,UAAUvC,EAAE0O,YAAWJ,EAAAA,EAAAA,IAAEtO,EAAE2Y,UAAU3Y,IAAGoE,EAAAA,EAAAA,IAAE,IAAIsU,EAAAA,EAAE1Y,MAAKuJ,EAAAA,EAAAA,IAAEvJ,EAAEC,OAAO,MAAMW,EAAEZ,EAAEwY,MAAMxX,EAAEhB,EAAEuY,QAAQpY,KAAK6S,aAAa7S,KAAKyY,yBAAyBhY,EAAEI,GAAG,MAAMD,GAAElB,EAAAA,EAAAA,IAAEmB,GAAG,IAAW,IAAT6X,IAAI7Y,GAAE,EAAI,MAAMC,EAAEE,KAAKwS,kBAAkB7J,IAAI9I,GAAG,OAAOG,KAAKwS,kBAAkB9P,OAAO7C,GAAGC,CAAC,IAAI8D,EAAEnD,EAAEE,KAAKd,IAAI,MAAMC,EAAEE,KAAK2Y,8BAA8B9Y,GAAG,OAAOG,KAAKwS,kBAAkBzO,IAAIlE,EAAE6Y,IAAI5Y,GAAGA,CAAC,IAAIc,EAAEwC,OAAO,GAAGpD,KAAK0U,iBAAiBC,iBAAiB/T,EAAEZ,KAAKwT,MAAMtP,EAAAA,EAAAA,SAAAA,QAAmBN,EAAER,OAAO,GAAGpD,KAAK0U,iBAAiBkE,cAAchV,EAAE5D,KAAKwT,MAAMtP,EAAAA,EAAAA,SAAAA,KAAe,IAAKN,EAAER,OAAO,GAAGxC,EAAEwC,OAAO,IAAIpD,KAAKmT,YAAY0F,eAAe,CAAC3E,YAAY,IAAIlU,KAAK2T,qBAAqB,OAAO,MAAM9T,EAAEG,KAAK2T,qBAAqBmF,UAAU9Y,KAAK4T,wBAAwB,CAACyE,MAAMxY,EAAEuY,QAAQvY,GAAG,CAAC8Y,8BAA8B9Y,GAAG,MAAMC,EAAEE,KAAKoU,0BAA0B3T,GAAEd,EAAAA,EAAAA,IAAEG,GAAGE,KAAK2S,mBAAmB3S,KAAKyS,UAAU5R,GAAEsO,EAAAA,EAAAA,MAAIN,EAAAA,EAAAA,IAAEhP,EAAEuC,SAASvB,EAAEb,KAAK0W,0BAA0B7V,EAAE,GAAGkY,EAAAA,GAAE,MAAMnY,EAAE,CAAC,CAACoY,EAAAA,EAAAA,SAAW,CAACC,KAAKpY,EAAEI,KAAKJ,EAAEuC,UAAUQ,EAAE5D,KAAKsU,+BAA+B,IAAIvU,GAAEJ,EAAAA,EAAAA,IAAEG,IAAIc,EAAE6B,KAAK,CAACuW,EAAAA,EAAAA,iBAAmB,CAACC,KAAK,CAACrV,GAAG,OAAO7D,EAAEF,EAAE0O,WAAWzO,IAAIC,EAAE,GAAGkB,KAAK,KAAK,MAAMgC,EAAE,IAAI0H,EAAAA,EAAE,IAAIuO,EAAAA,EAAEtY,EAAE,KAAKiL,EAAAA,GAAAA,OAASpL,EAAE,CAAC0Y,SAASnZ,KAAKwG,MAAMkS,IAAIU,WAAWvZ,EAAE6Y,MAAM,OAAOW,EAAAA,EAAAA,GAAEpW,EAAEqW,eAAezY,GAAGoC,CAAC,CAAC8Q,iBAAiBlU,GAAGA,EAAEG,KAAKyS,WAAW5S,EAAEG,KAAK2S,mBAAmB,CAAC8F,yBAAyB5Y,EAAEC,GAAG,IAAGoL,EAAAA,EAAAA,IAAElL,KAAKoU,6BAA6BpU,KAAKsU,+BAA+B,OAAOzU,EAAEuD,OAAOtD,EAAEsD,OAAO,MAAM3C,EAAET,KAAKoU,0BAA0BvT,EAAE,CAAChB,EAAEC,KAAK,IAAIe,EAAE,OAAOhB,GAAG,OAAOgB,EAAEf,EAAEyO,WAAW9N,IAAII,EAAE,EAAE,EAAE,OAAOhB,EAAE0Z,OAAO1Y,EAAE,GAAGf,EAAEyZ,OAAO1Y,EAAE,EAAE,CAAC0W,mBAAmB1X,GAAG,OAAOA,EAAl6P,IAAu6PoS,EAAEuH,SAAU,sEAAuEpS,KAAKgH,IAAIvO,EAAngQ,GAAugQ,IAAGA,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,YAAO,IAAQlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,IAAE,CAAC6G,eAAc,KAAMkD,EAAEnD,UAAU,aAAQ,IAAQlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,QAAQ,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,eAAe,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,WAAW,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,oBAAoB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,cAAc,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,gBAAgB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,wBAAmB,IAAQlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,sBAAsB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,6BAAwB,IAAQlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,OAAO,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,OAAO,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,kBAAa,IAAQlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,qBAAgB,IAAQlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,mBAAmB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,2BAA2B,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,sBAAsB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,qBAAqB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,wBAAwB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,iBAAiB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,wBAAwB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,yBAAoB,IAAQlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,iBAAY,IAAQlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,0BAAqB,IAAQlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,cAAc,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,qBAAqB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,uBAAuB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,mBAAmB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,4BAA4B,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,wBAAwB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,iCAAiC,OAAMlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,mBAAc,IAAQlP,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,OAAK+J,EAAEnD,UAAU,qBAAgB,GAAQmD,GAAErS,EAAAA,EAAAA,GAAE,EAACgK,EAAAA,EAAAA,GAAE,yDAAyDqI,GAAG,MAAM7D,GAAEtO,EAAAA,EAAAA,M,yBCA9rV,MAAM8L,EAAEA,IAAI,IAAIpB,EAAE,cAAcoB,EAAEjM,cAAcwE,SAASqV,WAAWzZ,KAAK0Z,WAAW,KAAK1Z,KAAK2Z,aAAaxR,EAAAA,GAAAA,KAAOnI,KAAK4Z,wBAAwB,WAAW5Z,KAAK6Z,mBAAkB,EAAG7Z,KAAK8Z,gBAAgBpa,EAAAA,GAAAA,SAAWM,KAAK+M,sCAAsC,KAAK/M,KAAK+Z,oBAAoB,KAAK/Z,KAAKga,oBAAmB,EAAGha,KAAKia,eAAe,KAAKja,KAAKka,8BAA6B,EAAGla,KAAKma,kBAAkB,KAAKna,KAAKoa,YAAY,IAAI,CAACvS,aAAa,MAAMhI,EAAEG,KAAKwG,MAAM,YAAY3G,GAAGA,EAAEwa,QAAQra,KAAKoI,oBAAoBC,QAAQiS,OAAO,IAAI7Z,EAAAA,EAAE,uCAAuC,yCAAyC,CAAC+F,MAAM3G,OAAOG,KAAKoI,oBAAoBpI,KAAKua,yBAAyBva,KAAKyT,gBAAgBnR,KAAK,IAAItC,KAAKwG,MAAMiQ,WAAW5W,GAAGG,KAAKwa,mBAAmB3a,IAAI+D,EAAAA,IAAG5D,KAAKoI,oBAAoB,WAAW,MAAMvI,QAAQgK,EAAAA,EAAAA,GAAE7J,MAAMA,KAAK+M,sCAAsClN,QAAQG,KAAKya,uBAAwB,EAAjH,IAAsHza,KAAKyT,gBAAgBnR,KAAK,IAAItC,KAAK2Z,eAAe9Z,GAAGG,KAAK0a,UAAUpI,sBAAsBzS,IAAIG,KAAKoa,YAAY,IAAIjR,EAAAA,EAAE,CAAC7D,UAAUtF,KAAK2a,SAASxL,EAAAA,GAAAA,uBAAyBnP,KAAKiL,aAAa,YAAY,CAAC5J,UAAUrB,KAAK4a,4BAA4B5a,KAAK0Z,YAAW5Z,EAAAA,EAAAA,IAAEE,KAAK0Z,YAAY1Z,KAAK0F,KAAK,aAAY5F,EAAAA,EAAAA,IAAEE,KAAK0a,YAAY1a,KAAKoa,aAAYta,EAAAA,EAAAA,IAAEE,KAAKoa,aAAapa,KAAKG,eAAe,IAAI,CAACya,4BAA4B5a,KAAKma,mBAAkBra,EAAAA,EAAAA,IAAEE,KAAKma,kBAAkB,CAAKnF,oBAAgB,IAAInV,EAAE,OAAOG,KAAK6a,cAAc,OAAOhb,EAAEG,KAAK0a,gBAAW,EAAO7a,EAAEmV,cAAc,CAAK8F,0BAAsB,IAAIjb,EAAE,MAAM,iBAAiB,OAAOA,EAAEG,KAAK0a,gBAAW,EAAO7a,EAAE4D,MAAMzD,KAAK0a,UAAU,IAAI,CAAKK,uBAAmB,IAAIlb,EAAE,MAAM,aAAa,OAAOA,EAAEG,KAAK0a,gBAAW,EAAO7a,EAAE4D,MAAMzD,KAAK0a,UAAU,IAAI,CAACM,yBAAyBnb,GAAG,IAAIY,EAAE,IAAIX,EAAE,KAAK,OAAO,OAAOW,EAAET,KAAKG,iBAAiBM,EAAEqB,SAASrB,IAAIA,EAAEiY,MAAM7Y,IAAIC,GAAEqO,EAAAA,EAAAA,IAAE1N,EAAET,KAAKwG,OAAO,IAAI1G,CAAC,CAACmb,kBAAkBpb,EAAEY,GAAG,IAAIX,EAAE,OAAO,OAAOA,EAAEE,KAAK0a,gBAAW,EAAO5a,EAAEmb,kBAAkBpb,EAAEY,EAAE,CAACsX,wBAAwBlY,EAAEY,GAAG,IAAIX,EAAE,OAAO,OAAOA,EAAEE,KAAK0a,gBAAW,EAAO5a,EAAEiY,wBAAwBlY,EAAEY,EAAE,CAAC6N,cAAczO,EAAEY,GAAG,OAAOT,KAAKoa,YAAYc,aAAalb,KAAKmb,aAAatb,IAAGE,EAAAA,EAAAA,IAAEU,EAAE,UAAU,CAAC2a,eAAevb,EAAEY,GAAG,OAAOT,KAAKoa,YAAYiB,mBAAmBrb,KAAKmb,aAAatb,IAAGE,EAAAA,EAAAA,IAAEU,EAAE,UAAU,CAAC+M,kBAAkB3N,EAAEY,GAAG,OAAOT,KAAKoa,YAAYkB,qBAAqBtb,KAAKmb,aAAatb,IAAGE,EAAAA,EAAAA,IAAEU,EAAE,UAAU,CAAC0M,YAAYtN,EAAEY,GAAG,OAAOT,KAAKoa,YAAYmB,sBAAsBvb,KAAKmb,aAAatb,IAAGE,EAAAA,EAAAA,IAAEU,EAAE,UAAU,CAAC0a,aAAatb,GAAG,OAAOgB,EAAAA,EAAAA,IAAEhB,GAAGG,KAAK2L,cAAcxI,EAAAA,EAAAA,KAAOtD,EAAE,CAACmY,UAAUnY,GAAG,OAAOG,KAAK0a,UAAU1C,UAAUnY,EAAEG,KAAKwG,MAAM2R,cAAc,CAACF,aAAapY,GAAG,OAAOG,KAAK0a,UAAUzC,aAAapY,EAAE,CAACgb,YAAY,IAAIhb,EAAE,OAAOuE,MAAMyW,eAAe,OAAOhb,EAAEG,KAAK0a,YAAY7a,EAAEwV,yBAAyB,CAACmG,iBAAiB,MAAM3b,EAAEuE,MAAMoX,iBAAiB,OAAOxb,KAAK0a,UAAU,IAAI7a,KAAKG,KAAK0a,UAAU3F,aAAalV,CAAC,CAAC4b,aAAa,IAAI5b,EAAEY,EAAEX,EAAE,SAASE,KAAK0a,WAAW1a,KAAK0a,UAAUgB,cAAc1b,KAAKga,qBAAqB,OAAOna,EAAEG,KAAK0Z,cAAc7Z,EAAE8F,WAAW,OAAOlF,EAAET,KAAKO,OAAO,OAAOT,EAAEW,EAAE8V,iBAAiBzW,EAAE6b,QAAQ3b,KAAK0a,UAAU/U,SAAS,CAACkH,8BAA8B,MAAMhN,EAAEG,KAAK4b,mBAAmB5b,KAAKma,kBAAkBta,QAAQA,EAAEgc,OAAO7b,KAAK8b,8BAA8Bjc,EAAE,CAACgN,oCAAoChN,GAAG,UAAUG,KAAK6b,MAAgB,CAAT,MAAMpb,GAAG,CAACT,KAAKga,oBAAmB,EAAGha,KAAKiL,aAAa,YAAYjL,KAAK+b,eAAe/b,KAAK0b,iBAAiBzY,EAAAA,EAAAA,KAAG,KAAK,IAAIpD,EAAEY,EAAE,OAAO,OAAOZ,EAAEG,KAAKO,OAAO,OAAOE,EAAEZ,EAAE0W,qBAAgB,EAAO9V,EAAEkb,KAAK,IAAI3b,KAAKgc,oBAAoBnc,GAAGG,KAAKma,kBAAkB,KAAKna,KAAK0Z,WAAW7Z,EAAEG,KAAKG,eAAeN,EAAEkC,SAAS/B,KAAKiL,aAAa,aAAajL,KAAK4a,2BAA2B,CAACqB,sBAAsBpc,GAAG,GAAGG,KAAKia,eAAepa,GAAGG,KAAK0Z,WAAW,OAAM,EAAG,OAAO1Z,KAAK0Z,WAAWjW,MAAM,IAAI,SAAS,OAAM,EAAG,IAAI,kBAAkB,OAAOzD,KAAK0Z,WAAWvU,OAAOtF,GAAE,EAAG,CAACgN,8BAA8B,OAAO7M,KAAKwG,MAAMoD,cAAc,IAAI,aAAa,IAAI,aAAa,OAAOvB,QAAQiS,OAAO,IAAI7Z,EAAAA,EAAE,+CAA+C,4CAA4C,CAACmJ,aAAa5J,KAAKwG,MAAMoD,gBAAgB,CAAC4Q,mBAAmB3a,GAAG,IAAIY,EAAEX,EAAE,MAAMC,EAAE,aAAa,MAAMF,OAAE,EAAOA,EAAE4D,MAAM5C,EAAE,aAAa,OAAOJ,EAAET,KAAK0a,gBAAW,EAAOja,EAAEgD,MAAMG,EAAE5D,KAAK0a,UAAU,GAAG9W,GAAG7D,IAAIc,EAAE,OAAO,MAAMoC,EAAElD,EAAE,IAAIyL,EAAE,CAACgI,MAAMxT,OAAO,IAAImE,EAAAA,EAAE,CAACqP,MAAMxT,KAAKkc,0BAAyB,EAAGC,wBAAuB,EAAGC,yBAAwB,EAAGC,6BAA4B,EAAGC,2BAA0B,EAAGC,mCAAkC,EAAGjK,sBAAsBtS,KAAK2Z,aAAa6C,qBAAqB3c,GAAGG,KAAKic,sBAAsBpc,KAAKG,KAAK0F,KAAK,YAAYzC,GAAG,MAAMW,GAAGA,EAAEvC,UAAU,OAAOvB,EAAEE,KAAKoa,cAActa,EAAEmC,QAAQjC,KAAKoI,oBAAoBnF,EAAEwZ,QAAQ,CAACC,mBAAmB,IAAI7c,EAAEY,EAAE,MAAMX,EAAEE,KAAK0Z,sBAAsBxO,EAAAA,EAAElL,KAAK0Z,WAAW,KAAK,MAAM,CAACiD,0BAA0B3c,KAAKG,eAAeiD,OAAO+C,wBAAwB,OAAOtG,EAAE,MAAMC,OAAE,EAAOA,EAAEqG,yBAAyBtG,GAAG,EAAE+c,sBAAsB,OAAOnc,EAAE,MAAMX,OAAE,EAAOA,EAAE0E,kBAAkB/D,GAAG,EAAEoc,MAAM,KAAK7c,KAAK0a,UAAU3E,gBAAgB,CAAKA,sBAAkB,OAAO/V,KAAK0c,kBAAkB,GAAG,OAAO7c,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,OAAK8K,EAAEsE,UAAU,sBAAiB,IAAQlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,OAAK8K,EAAEsE,UAAU,iBAAY,IAAQlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,IAAE,CAACmP,UAAS,KAAMrE,EAAEsE,UAAU,gBAAgB,OAAMlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,OAAK8K,EAAEsE,UAAU,gBAAW,IAAQlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,OAAK8K,EAAEsE,UAAU,kBAAa,IAAQlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,OAAK8K,EAAEsE,UAAU,iBAAY,IAAQlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,IAAE,CAACmP,UAAS,KAAMrE,EAAEsE,UAAU,oBAAe,IAAQlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,IAAE,CAACmP,UAAS,KAAMrE,EAAEsE,UAAU,+BAA0B,IAAQlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,IAAE,CAAC8D,KAAKqZ,WAAWrS,EAAEsE,UAAU,yBAAoB,IAAQlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,IAAE,CAACmP,UAAS,KAAMrE,EAAEsE,UAAU,mBAAc,IAAQlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,OAAK8K,EAAEsE,UAAU,sBAAsB,OAAMlP,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,OAAK8K,EAAEsE,UAAU,mBAAmB,MAAMtE,GAAE5K,EAAAA,EAAAA,GAAE,EAACe,EAAAA,EAAAA,GAAE,gDAAgD6J,GAAGA,CAAC,C,wQCAnkN,MAAM1K,EAAEH,YAAYC,EAAEE,GAAGC,KAAK+c,yBAAyB,KAAK/c,KAAKgd,SAAS,GAAGhd,KAAKid,IAAIpd,EAAEE,EAAE,CAAKmd,mBAAe,OAAO,IAAIld,KAAKgd,SAAS5Z,MAAM,CAAK+Z,eAAW,OAAO,IAAInd,KAAKgd,SAAS5Z,QAAQ,IAAIpD,KAAKgd,SAAS,GAAGI,QAAQ,CAACH,IAAIld,EAAED,GAAG,MAAMW,EAAET,KAAK6R,QAAQhR,EAAEwc,WAAW5c,EAAET,KAAK6R,SAASyL,OAAOC,eAAexd,EAAE,MAAM,CAAC4N,MAAM3N,KAAK6R,QAAQ6G,IAAI8E,cAAa,IAAK,IAAI,MAAM5Z,KAAK5D,KAAKgd,SAAS,GAAGpZ,EAAE8R,aAAa5V,EAAE,CAAC8D,EAAEwZ,WAAW,MAAMtd,EAAEE,KAAK+c,2BAA2BnZ,KAAI/D,EAAAA,EAAAA,GAAEE,EAAE6D,EAAEiO,SAAS,OAAO/R,GAAGE,KAAK+c,2BAA2BnZ,KAAKA,EAAEiO,QAAQ9R,GAAGc,EAAE4c,WAAW3d,EAAEC,EAAEU,EAAEI,CAAC,CAAC,MAAMoC,EAAE,CAAC4O,QAAQ9R,EAAE2V,WAAW5V,EAAEsd,SAAS,GAAG,OAAOpd,KAAKgd,SAASva,KAAKQ,IAAIjD,KAAK+c,0BAA0Bjd,EAAEE,KAAK+c,yBAAyBrH,YAAY7U,EAAE4c,WAAW1d,EAAEC,KAAK+c,yBAAyB9Z,GAAGpC,EAAE4c,WAAWhd,EAAEI,CAAC,CAAC6c,MAAM7d,GAAG,IAAI,IAAIE,EAAE,EAAEA,EAAEC,KAAKgd,SAAS5Z,OAAOrD,IAAI,CAAC,MAAMD,EAAEE,KAAKgd,SAASjd,GAAG,GAAGD,EAAE4V,aAAa7V,EAAE,OAAOC,EAAEsd,WAAWvc,EAAEwc,WAAWrd,KAAK6R,QAAQ,IAAI/R,EAAEsd,WAAWpd,KAAKgd,SAASjd,GAAGC,KAAKgd,SAAShd,KAAKgd,SAAS5Z,OAAO,GAAGpD,KAAKgd,SAAS5Z,SAASpD,KAAK+c,2BAA2Bjd,IAAIE,KAAK2d,uCAAuC9c,EAAEwc,WAAWvd,EAAE+R,UAAUhR,EAAE4c,WAAWzd,KAAK6R,QAAQhR,CAAC,CAAC,OAAO,IAAI,CAAKgR,cAAU,OAAO7R,KAAK+c,yBAAyB/c,KAAK+c,yBAAyBlL,QAAQ,IAAI,CAAC8L,uCAAuC,GAAG,IAAI3d,KAAKgd,SAAS5Z,OAAO,YAAYpD,KAAK+c,yBAAyB,MAAM,IAAIld,EAAEG,KAAKgd,SAAS,GAAG,IAAI,IAAIjd,EAAE,EAAEA,EAAEC,KAAKgd,SAAS5Z,OAAOrD,IAAI,CAAC,MAAMD,EAAEE,KAAKgd,SAASjd,GAAGD,EAAE4V,WAAW7V,EAAE6V,aAAa7V,EAAEC,EAAE,CAACE,KAAK+c,yBAAyBld,CAAC,EAAE,MAAMC,EAAEF,YAAYC,GAAGG,KAAK4d,SAAS/d,EAAEG,KAAKod,SAAS,CAAC,CAAKF,mBAAe,OAAO,IAAIld,KAAKod,QAAQ,CAAKD,eAAW,OAAO,IAAInd,KAAKod,QAAQ,CAACH,IAAIld,GAAG,QAAQC,KAAKod,SAASvc,EAAEwc,WAAWrd,KAAK4d,SAAS5d,KAAK6R,SAASyL,OAAOC,eAAexd,EAAE,MAAM,CAAC4N,MAAM3N,KAAK6R,QAAQ6G,IAAI8E,cAAa,KAAK3d,EAAAA,EAAAA,GAAEG,KAAK4d,SAAS7d,KAAKC,KAAK4d,SAAS7d,GAAGc,EAAE4c,WAAWzd,KAAK4d,SAAS/c,CAAC,CAAC6c,QAAQ,OAAO7c,EAAEwc,WAAWrd,KAAK4d,SAAS5d,KAAKod,SAAS,IAAIpd,KAAKod,YAAYpd,KAAKkd,eAAerc,EAAE4c,WAAW,KAAK5c,IAAIA,EAAE4c,WAAWzd,KAAK4d,SAAS/c,EAAE,CAAKgR,cAAU,OAAO7R,KAAK4d,QAAQ,EAAE,MAAM/c,EAAE,CAACwc,WAAW,KAAKI,WAAW,MCA5wD5O,EAAE,IAAI2B,IAAI,MAAM3E,EAAEjM,YAAYE,GAAGE,KAAK8C,WAAWhD,EAAEE,KAAK6d,YAAYja,EAAEka,aAAa9d,KAAK+d,UAAU,KAAK/d,KAAKge,aAAa,EAAEhe,KAAKie,cAAc,EAAEje,KAAKke,iBAAgB,EAAGle,KAAKme,WAAU,EAAGne,KAAKoe,aAAajb,EAAEnD,KAAKqe,mBAAmB,EAAEre,KAAKse,gBAAgB,EAAEte,KAAKue,qBAAqB,EAAEve,KAAKwe,2BAA0B,EAAGxe,KAAKye,iBAAiB5P,EAAE7O,KAAK0e,oBAAoB,KAAK1e,KAAK2e,OAAM,EAAG3e,KAAK4e,UAAS,CAAE,CAAKC,yBAAqB,OAAO7e,KAAK0e,mBAAmB,CAAKG,uBAAmB/e,GAAGE,KAAK0e,oBAAoB5e,EAAEE,KAAK8e,gCAAgC,IAAI,CAAKC,6CAAyC,OAAO/e,KAAK4e,WAAW5e,KAAKke,iBAAiBle,KAAKsJ,UAAUtJ,KAAKgf,eAAehf,KAAKsJ,SAASlG,OAAO,CAAKkG,eAAW,OAAOtJ,KAAK+d,SAAS,CAAKiB,mBAAe,OAAOhf,KAAKie,aAAa,CAAKe,iBAAalf,GAAGE,KAAKie,gBAAgBne,IAAIE,KAAKie,cAAcne,EAAEE,KAAKwe,2BAA0B,EAAG,CAAKvU,sBAAkB,OAAOjK,KAAKye,gBAAgB,CAACQ,YAAYnf,EAAEC,EAAEc,GAAGb,KAAKye,kBAAiB5e,EAAAA,EAAAA,IAAEgB,EAAEgO,GAAG7O,KAAK+d,UAAUje,EAAEE,KAAKme,WAAU,EAAGne,KAAKse,gBAAgB,EAAEte,KAAKwe,2BAA0B,EAAG1e,GAAGA,EAAEsD,OAAO,GAAGpD,KAAKqe,mBAAmBte,GAAGD,EAAEsD,OAAOrD,GAAGC,KAAKge,aAAale,EAAEyZ,QAAQ,CAACzZ,EAAED,IAAIC,GAAE6M,EAAAA,EAAAA,IAAE9M,EAAEuC,WAAW,KAAKpC,KAAKqe,mBAAmB,EAAEre,KAAKge,aAAa,EAAE,CAAKkB,wBAAoB,OAAOlf,KAAKqe,kBAAkB,CAAKzN,kBAAc,OAAO5Q,KAAKmf,uBAAuBnf,KAAKoe,aAAape,KAAK+d,UAAU/d,KAAK+d,UAAU3a,OAAO,CAAC,CAAKwN,gBAAY9Q,GAAGE,KAAKoe,aAAate,CAAC,CAAKqf,6BAAyB,OAAOnf,KAAKoe,aAAajb,CAAC,CAAKic,wBAAoB,OAAOpf,KAAKoe,eAAejb,CAAC,CAAKkc,kBAAc,OAAOrf,KAAKge,YAAY,CAAKnb,SAAK,OAAO7C,KAAK8C,WAAWD,EAAE,CAAKyc,oBAAgB,OAAOtf,KAAKuf,wBAAwBvf,KAAKse,cAAc,CAAKkB,0BAAsB,OAAOxf,KAAKue,oBAAoB,CAACgB,wBAAwB,GAAGvf,KAAKse,eAAe,EAAE,CAAC,GAAGte,KAAKse,eAAe,EAAEte,KAAKue,qBAAqB,EAAEve,KAAK+d,UAAU,IAAI,IAAIje,EAAE,EAAEA,EAAEE,KAAK+d,UAAU3a,SAAStD,EAAE,CAAC,MAAMD,GAAEsE,EAAAA,EAAAA,IAAEnE,KAAK+d,UAAUje,IAAIE,KAAKse,gBAAgBze,EAAEC,GAAGE,KAAKgf,eAAehf,KAAKue,sBAAsB1e,EAAE,CAAC,OAAM,CAAE,CAAC,GAAGG,KAAKwe,0BAA0B,CAAC,GAAGxe,KAAKue,qBAAqB,EAAEve,KAAKwe,2BAA0B,EAAGxe,KAAK+d,UAAU,IAAI,IAAIje,EAAEE,KAAKgf,aAAalf,EAAEE,KAAK+d,UAAU3a,SAAStD,EAAEE,KAAKue,uBAAsBpa,EAAAA,EAAAA,IAAEnE,KAAK+d,UAAUje,IAAI,OAAM,CAAE,CAAC,OAAM,CAAE,CAAK4B,iBAAa,OAAO1B,KAAK6d,cAAcja,EAAE6b,UAAUzf,KAAK6d,cAAcja,EAAE8b,UAAU,CAAKC,mBAAe,OAAO3f,KAAK6d,cAAcja,EAAE8b,UAAU,CAAKE,oBAAgB,OAAO5f,KAAK6d,cAAcja,EAAEka,cAAc9d,KAAK6d,cAAcja,EAAEic,cAAc,CAAKC,sBAAkB,OAAO9f,KAAK6d,cAAcja,EAAEic,cAAc,CAAKE,gBAAY,OAAO/f,KAAK6d,cAAcja,EAAEoc,MAAMhgB,KAAK6d,cAAcja,EAAEqc,IAAI,CAACC,gBAAgBlgB,KAAK6d,YAAY7d,KAAK6d,cAAcja,EAAE8b,WAAW9b,EAAEic,eAAejc,EAAEka,YAAY,CAAKqC,yBAAqB,QAAQngB,KAAK+d,YAA8jD,SAAWje,EAAED,EAAEE,GAAG,IAAGc,EAAAA,EAAAA,IAAEhB,KAAIgB,EAAAA,EAAAA,IAAEf,IAAIC,IAAIF,EAAEuD,QAAQrD,EAAED,EAAEsD,OAAO,OAAM,EAAG,IAAI,IAAIvC,EAAE,EAAEA,EAAEd,IAAIc,EAAE,GAAGf,EAAEe,KAAKhB,EAAEgB,GAAG,OAAM,EAAG,OAAM,CAAE,CAAzqDoD,CAAEjE,KAAK+d,UAAU/d,KAAK6e,mBAAmB7e,KAAKgf,aAAa,CAACoB,WAAWtgB,GAAG,OAAOA,IAAIE,KAAK8C,WAAWqC,UAAS+F,EAAAA,EAAAA,IAAEpL,EAAEwE,IAAG1D,EAAAA,EAAAA,IAAEZ,KAAK8C,WAAWqC,OAAOb,GAAG,CAAC+b,8BAA8BvgB,EAAED,GAAG,MAAMgB,GAAEd,EAAAA,EAAAA,IAAEC,KAAK8e,iCAAiC9e,KAAK8e,gCAAgC9e,KAAK8C,WAAWqC,OAAO,OAAOrF,GAAGe,GAAGf,IAAGoL,EAAAA,EAAAA,IAAEpL,EAAED,IAAGsI,EAAAA,EAAAA,IAAEtI,EAAEgB,EAAEhB,KAAIH,EAAAA,EAAAA,IAAEG,EAAEgB,GAAGhB,KAAIH,EAAAA,EAAAA,IAAEG,EAAEoD,EAAAA,IAAGpD,EAAE,CAACygB,SAASzgB,GAAGG,KAAK+d,UAAUwC,MAAM,CAACzgB,EAAEC,KAAIyL,EAAAA,EAAAA,IAAE1L,EAAED,IAAG2L,EAAAA,EAAAA,IAAEzL,EAAEF,MAAKC,EAAAA,EAAAA,IAAEE,KAAK+d,UAA5oG,OAAypG/d,KAAKme,WAAU,EAAGne,KAAKwe,2BAA0B,CAAE,CAACgC,eAAe1gB,EAAED,EAAEE,GAAG,GAAGD,GAAG,EAAE,OAAM,EAAG,IAAIE,KAAK+d,UAAU,OAAO/d,KAAKgf,aAAa,GAAE,EAAG,IAAIne,GAAE,EAAGb,KAAKgf,aAAa5X,KAAKE,KAAKtH,KAAK4Q,YAAY9Q,GAAGE,KAAKgf,aAAahf,KAAK+d,UAAU3a,SAASpD,KAAKgf,aAAahf,KAAK+d,UAAU3a,OAAOpD,KAAK6d,cAAcja,EAAEoc,MAAMhgB,KAAK+d,UAAU3a,OAAO,IAAIpD,KAAK6d,YAAYja,EAAEic,eAAehf,GAAE,KAAMb,KAAKme,WAAWre,EAAE,GAAGE,KAAKsgB,SAASvgB,GAAG,MAAMU,EAAE2G,KAAKC,IAAIrH,KAAKgf,aAAa5X,KAAKE,KAAKzH,EAAEG,KAAK4Q,cAAc,OAAO5Q,KAAK+d,UAAU3a,OAAO3C,IAAIT,KAAK+d,UAAU3a,OAAO3C,EAAET,KAAKke,iBAAgB,EAAGle,KAAK6d,cAAcja,EAAEqc,OAAOjgB,KAAK6d,YAAYja,EAAEoc,OAAOnf,CAAC,CAAK4f,YAAQ,MAAM,CAACxW,gBAAgBjK,KAAKye,iBAAiBnV,SAAStJ,KAAKsJ,SAASsH,YAAY5Q,KAAKoe,aAAac,kBAAkBlf,KAAKqe,mBAAmBR,YAAY7d,KAAK6d,YAAYK,gBAAgBle,KAAKke,gBAAgB,CAAKuC,UAAM3gB,GAAGE,KAAK0gB,kBAAkB,KAAK1gB,KAAKye,iBAAiB3e,EAAEmK,gBAAgBjK,KAAK+d,UAAUje,EAAEwJ,SAAStJ,KAAKoe,aAAate,EAAE8Q,YAAY5Q,KAAKqe,mBAAmBve,EAAEof,kBAAkBlf,KAAK6d,YAAY/d,EAAE+d,YAAY7d,KAAKke,gBAAgBpe,EAAEoe,gBAAgBle,KAAKse,gBAAgB,EAAEte,KAAKwe,2BAA0B,CAAE,EAAE,MAAMrb,GAAG,EAAO,IAAIS,GAA2H,SAAS9D,GAAGA,EAAEA,EAAEge,aAAa,GAAG,eAAehe,EAAEA,EAAE+f,eAAe,GAAG,iBAAiB/f,EAAEA,EAAE2f,SAAS,GAAG,WAAW3f,EAAEA,EAAE4f,WAAW,GAAG,aAAa5f,EAAEA,EAAEkgB,KAAK,GAAG,OAAOlgB,EAAEA,EAAEmgB,KAAK,GAAG,MAAM,CAArL,CAAuLrc,IAAIA,EAAE,CAAC,IAAI,MAAMU,GAAE7D,EAAAA,EAAAA,M,yBCAxhH,MAAMgL,EAAE5K,EAAAA,EAAAA,UAAY,qDAAqD,IAAIqR,EAAE,cAAcpS,EAAAA,EAAEF,YAAYC,GAAGuE,MAAMvE,GAAGG,KAAK2gB,eAAc,EAAG3gB,KAAK2F,UAAS,EAAG3F,KAAK8F,cAAc,EAAE9F,KAAK+F,kBAAkB,EAAE/F,KAAKgG,oBAAoB,EAAEhG,KAAKkG,iCAAgC,EAAGlG,KAAK4gB,wCAAwC,IAAI5gB,KAAK6gB,WAAW,EAAE7gB,KAAK8gB,UAAU,EAAE9gB,KAAK+gB,QAAQ,CAACC,QAAQ,CAACC,KAAK,IAAIlR,MAAMmR,QAAQ,IAAInR,OAAOkR,KAAK,IAAIlR,MAAMmR,QAAQ,IAAInR,OAAO/P,KAAK8E,QAAQ,IAAI/E,EAAAA,EAAEC,KAAKmhB,WAAWjd,EAAAA,GAAElE,KAAKohB,QAAO,EAAGphB,KAAK6F,aAAa,IAAI3F,IAAIF,KAAKqhB,4BAA4B,IAAInhB,IAAIF,KAAKshB,+BAA+B,EAAEthB,KAAK6E,WAAU,EAAG7E,KAAKuhB,aAAa,IAAI,CAAKpb,4BAAwBtG,GAAGA,EAAEA,GAAG,IAAI,MAAMC,EAAEE,KAAKwF,KAAK,2BAA2B3F,IAAIC,GAAGD,EAAE,IAAIG,KAAK0F,KAAK,0BAA0B7F,GAAGG,KAAKwhB,wBAAwB1hB,EAAED,GAAG,CAAK8J,iBAAa9J,GAAGG,KAAK2J,eAAe9J,IAAIG,KAAK0F,KAAK,eAAe7F,GAAGG,KAAKyhB,YAAY,CAAK3X,cAAUjK,GAAGG,KAAK8J,YAAYjK,IAAIG,KAAK0F,KAAK,YAAY7F,GAAGG,KAAK0hB,oBAAoB1hB,KAAKkJ,UAAU,CAAKqB,mBAAe,OAAOvK,KAAK2gB,gBAAe/f,EAAAA,EAAAA,IAAEZ,KAAKqJ,QAAQ+C,MAAMoB,kBAAkB,CAAKjD,iBAAa1K,GAAGG,KAAK2gB,cAAc9gB,EAAEG,KAAKiL,aAAa,eAAe,CAAKhF,8BAA0B,IAAIpG,EAAE,EAAE,OAAOG,KAAK6F,aAAa/D,SAAShC,GAAGD,GAAGC,EAAE0f,sBAAsB3f,CAAC,CAAKsH,oBAAgB,IAAItH,EAAE,EAAE,OAAOG,KAAK6F,aAAa/D,SAAShC,GAAGD,GAAGC,EAAEuf,cAAcxf,CAAC,CAAK+O,oBAAgB,IAAI/O,EAAE,EAAE,OAAOG,KAAK6F,aAAa/D,SAAShC,GAAGD,GAAGC,EAAE8Q,cAAc/Q,CAAC,CAAKgC,iBAAahC,GAAG,GAAGA,GAAGG,KAAKqJ,QAAQ7I,eAAeX,EAAEuF,iBAAiBC,OAAOrF,KAAKqJ,QAAQ7I,aAAa4E,kBAAkB,YAAYqG,EAAElG,MAAM,iBAAiB,yEAAyE,MAAMzF,EAAEE,KAAKwF,KAAK,gBAAgB,GAAG1F,IAAID,GAAGC,GAAGD,GAAGC,EAAEuF,OAAOxF,GAAG,OAAO,MAAME,EAAEF,EAAEA,EAAE4F,QAAQ,KAAKzF,KAAK0F,KAAK,eAAe3F,GAAGC,KAAK2hB,QAAQ5hB,EAAED,EAAE,CAAC+H,aAAa7H,KAAK8E,QAAQxC,KAAI6B,EAAAA,EAAAA,IAAEnE,KAAK,kBAAkB,UAAU,IAAIA,KAAKyhB,cAAc,IAAIzhB,KAAKyhB,eAAezhB,KAAKmY,cAAcnY,KAAKqJ,QAAQ8O,cAAcnY,KAAK4hB,sBAAsB5hB,KAAKqJ,QAAQ8C,aAAa0V,4BAA4BpX,EAAE0E,EAAE,MAAMtP,EAAEG,KAAKqJ,QAAQyY,WAAUlhB,EAAAA,EAAAA,IAAEf,KAAKG,KAAKmhB,WAAWthB,EAAEkiB,aAAa/O,EAAAA,GAAAA,qBAAuBhT,OAAOA,KAAKyhB,WAAW,CAACpgB,UAAUrB,KAAKmhB,WAAWhf,SAASnC,KAAK8E,SAAQ7B,EAAAA,EAAAA,IAAEjD,KAAK8E,SAAS9E,KAAK6F,aAAa/D,SAASjC,IAAIG,KAAKgiB,iBAAiBniB,GAAGG,KAAKiiB,YAAYpiB,EAAE,IAAIG,KAAK6F,aAAa5D,QAAQjC,KAAKqhB,4BAA4Bpf,QAAQjC,KAAKuhB,eAAevhB,KAAKuhB,aAAa7H,WAAW5Q,QAAQ9I,KAAKuhB,aAAa,KAAK,CAAKW,aAAS,OAAOliB,KAAK6E,aAAa7E,KAAKuhB,YAAY,CAACtY,UAAUjJ,KAAK6F,aAAa/D,SAASjC,IAAIG,KAAKgiB,iBAAiBniB,GAAGG,KAAKmiB,WAAWtiB,GAAGG,KAAKoiB,gBAAgBviB,EAAE,KAAIe,EAAAA,EAAAA,IAAEZ,KAAKqJ,QAAQgZ,cAAcriB,KAAKqJ,QAAQgZ,YAAYpgB,QAAQjC,KAAKyhB,WAAW,CAACvY,UAAUlJ,KAAK6F,aAAa/D,SAASjC,IAAIG,KAAKgiB,iBAAiBniB,GAAGG,KAAKoiB,gBAAgBviB,EAAE,KAAIe,EAAAA,EAAAA,IAAEZ,KAAKqJ,QAAQgZ,cAAcriB,KAAKqJ,QAAQgZ,YAAYpgB,QAAQjC,KAAKyhB,WAAW,CAAC1Y,UAAU/I,KAAK6E,YAAY7E,KAAK6E,WAAU,EAAG7E,KAAKsiB,SAAStiB,KAAKyhB,YAAY,CAACzY,SAAShJ,KAAK6E,YAAY7E,KAAK6E,WAAU,EAAG7E,KAAKuiB,WAAW,CAACD,SAAStiB,KAAKkiB,SAASliB,KAAK6F,aAAa/D,SAASjC,GAAGG,KAAKgiB,iBAAiBniB,KAAKG,KAAKwiB,WAAW,CAACD,WAAWviB,KAAKkiB,SAASliB,KAAKyhB,YAAYzhB,KAAKwiB,WAAW,CAAKvY,sBAAkB,IAAIpK,EAAE,KAAK,OAAOG,KAAK6F,aAAa/D,SAAShC,KAAI8D,EAAAA,EAAAA,IAAE9D,EAAE+e,qBAAqB,IAAI/e,EAAE+e,mBAAmBzb,UAASQ,EAAAA,EAAAA,IAAE/D,GAAGA,EAAE,IAAI2Q,IAAI1Q,EAAEmK,iBAAiBpK,EAAEiC,SAAS/B,IAAID,EAAEmK,gBAAgBrH,IAAI7C,KAAImL,EAAAA,EAAAA,IAAErL,GAAG6C,OAAO3C,EAAE,IAAI,KAAIa,EAAAA,EAAAA,IAAEf,GAAGA,EAAE,IAAI2Q,GAAG,CAACrF,WAAWtL,GAAGG,KAAKuhB,eAAevhB,KAAKuhB,aAAa,CAACkB,MAAMpa,QAAQC,UAAUoa,MAAM,EAAEhJ,WAAW,IAAIxU,iBAAiBlF,KAAKsiB,UAAU,MAAMxiB,EAAEE,KAAKuhB,aAAazhB,EAAE4iB,QAAQ,MAAM3iB,EAAED,EAAE2iB,MAAMla,MAAM,IAAI1I,EAAE8iB,OAAO7X,OAAOjL,IAAI,IAAGF,EAAAA,EAAAA,IAAEE,GAAG,MAAMA,EAAE,OAAO,IAAI,IAAI0I,MAAM1I,GAAGA,GAAGG,KAAK4iB,0BAA0B/iB,EAAEuL,iBAAiBpL,KAAK6iB,6BAA6BhjB,EAAEyL,cAAczL,EAAEwL,gBAAgBvL,EAAE4Z,WAAWzR,QAAQM,MAAM,IAAI1I,KAAKA,IAAI0I,MAAM1I,IAAI,KAAKC,EAAE4iB,QAAQ1iB,KAAKuhB,eAAezhB,IAAIE,KAAKuhB,aAAa,OAAM3gB,EAAAA,EAAAA,IAAEZ,KAAKqJ,QAAQgZ,cAAcriB,KAAKqJ,QAAQgZ,YAAYpgB,QAAQjC,KAAKuiB,WAAWviB,KAAKwiB,YAAY3iB,OAAO,OAAOC,EAAE2iB,MAAM1iB,EAAEC,KAAKwiB,WAAWziB,CAAC,CAAC6iB,0BAA0B/iB,GAAG,GAAG,IAAIA,EAAEuD,OAAO,OAAO,MAAMtD,EAAEE,KAAKqJ,QAAQyZ,cAAc/iB,EAAED,GAAGE,KAAKiK,gBAAgBrH,IAAI9C,GAAGe,EAAE,IAAI2P,IAAI/P,EAAET,KAAKmY,cAActY,EAAEiC,SAAS,IAA2B,IAAzBgP,SAASjR,EAAEkjB,SAASniB,GAAE,EAAI,KAAKf,GAAGA,EAAE,IAAIC,EAAE,CAACC,GAAG0L,EAAEuX,iBAAkB,qEAAoEljB,kFAAkF,MAAMD,EAAEG,KAAKsJ,SAAS2Z,MAAMpjB,GAAGA,EAAE0O,YAAY1O,EAAE0O,WAAWzO,KAAKc,IAAIf,GAAGgB,EAAEyB,KAAIiL,EAAAA,EAAAA,IAAE1N,EAAEY,GAAG,MAAMI,EAAEyB,IAAIzC,EAAE,IAAIG,KAAK6F,aAAa/D,SAASjC,IAAI,IAAIA,EAAEyJ,SAAS,OAAO,MAAMxJ,EAAED,EAAEyJ,SAAS7H,QAAQ5B,IAAIgB,EAAE+B,KAAI2K,EAAAA,EAAAA,IAAE1N,EAAEG,KAAKmY,kBAAkBrY,EAAEsD,SAASvD,EAAEyJ,SAASlG,SAASvD,EAAEof,YAAYnf,EAAE,EAAED,EAAEoK,iBAAiBjK,KAAKkjB,oBAAoB,GAAG,CAACrW,mCAAmChN,EAAEC,EAAEC,GAAG,MAAMc,EAAE,GAAGJ,EAAE,IAAI+P,IAAI,GAAG3Q,EAAEiC,SAASjC,GAAGgB,EAAE4B,KAAK5C,EAAEiR,YAAYhR,EAAEgC,SAASjC,IAAIgB,EAAE4B,KAAK5C,EAAEiR,UAAUrQ,EAAE6B,IAAIzC,EAAEiR,SAAS,IAAI,IAAIjQ,EAAEuC,OAAO,OAAO,MAAMxC,EAAE,GAAGZ,KAAK6F,aAAa/D,SAASjC,IAAI,MAAMC,EAAEE,KAAKmjB,yBAAyBtjB,EAAEgB,EAAEJ,EAAEV,GAAGD,GAAGc,EAAE6B,KAAK3C,EAAE,UAAUJ,EAAAA,EAAAA,IAAEkB,EAAE,CAACiM,+BAA+BhN,EAAEC,EAAEC,EAAEc,GAAG,IAAIhB,EAAEyJ,SAAS,OAAO,MAAM7I,EAAET,KAAKojB,aAAavjB,GAAGY,EAAE4iB,gBAAW,EAAO5iB,EAAE6L,WAAU,EAAG7L,EAAE6iB,UAAUxjB,EAAE,MAAMc,QAAQZ,KAAKujB,eAAe9iB,EAAEI,GAAG,IAAIoC,EAAE,KAAK,GAAGlD,EAAEkB,KAAK,EAAE,CAAC,MAAMnB,EAAED,EAAEyJ,SAAS7H,QAAQ5B,IAAIE,EAAE6C,KAAI2K,EAAAA,EAAAA,IAAE1N,EAAEG,KAAKmY,kBAAkBrY,EAAEsD,SAASvD,EAAEyJ,SAASlG,SAASH,EAAEnD,EAAE,CAAC,GAAGc,EAAE0I,SAASlG,OAAO,EAAE,CAACH,IAAIA,EAAEpD,EAAEyJ,SAASka,SAAS,IAAI,MAAM3jB,KAAKe,EAAE0I,SAASrG,EAAER,KAAK5C,EAAE,CAACoD,IAAIpD,EAAEsf,yBAAyBtf,EAAE+Q,YAAYxJ,KAAKC,IAAIxH,EAAE+Q,YAAY3N,EAAEG,SAASvD,EAAEof,YAAYhc,EAAE,EAAE+V,EAAEnZ,EAAEoK,gBAAgBrJ,EAAE6iB,SAASzjB,KAAKkjB,oBAAoB,CAACK,eAAe1jB,EAAEC,GAAG,OAAOE,KAAKqJ,QAAQ+C,MAAMsX,wBAAwB7jB,EAAE,CAACoI,OAAOnI,EAAEsN,QAAQuW,GAAG,CAAClC,YAAYzhB,KAAKohB,QAAO,EAAGphB,KAAKwiB,UAAU,CAAKoB,cAAU,OAAO5jB,KAAK2F,QAAQ,CAACke,QAAQhkB,GAAG,GAAGG,KAAKmhB,WAAW2C,aAAajkB,IAAIG,KAAKohB,SAASphB,KAAK+jB,YAAY,OAAO/jB,KAAKohB,QAAO,EAAG,MAAMthB,EAAEE,KAAKgkB,kBAAkB,GAAGhkB,KAAKikB,mBAAmBnkB,IAAID,EAAEqkB,KAAK,IAAIlkB,KAAKmkB,UAAUrkB,EAAED,OAAOA,EAAEqkB,KAAK,IAAIlkB,KAAKokB,mBAAmBtkB,EAAED,OAAOA,EAAEqkB,KAAK,IAAIlkB,KAAKqkB,aAAavkB,EAAED,MAAMA,EAAEykB,KAAK,YAAYtkB,KAAKyhB,YAAY,MAAM1hB,EAAEC,KAAKukB,WAAWzkB,GAAGD,EAAEqkB,KAAK,IAAIlkB,KAAKwkB,cAAczkB,EAAEF,MAAMA,EAAEqkB,KAAK,IAAIlkB,KAAKykB,YAAY1kB,EAAEF,MAAMA,EAAEqkB,KAAK,IAAIlkB,KAAK0kB,uBAAuB3kB,EAAEF,MAAMG,KAAKyhB,YAAYzhB,KAAKwiB,WAAWxiB,KAAK2F,UAAU3F,KAAK2kB,wCAAwC,CAACV,mBAAmBpkB,GAAG,IAAI,MAAMC,KAAKD,EAAEC,EAAE6e,OAAM,CAAE,CAACwF,UAAUtkB,EAAEC,GAAG,OAAOE,KAAK6E,YAAY7E,KAAK2H,gBAAgB7F,SAAS/B,IAAI,MAAMc,EAAEb,KAAK6F,aAAa8C,IAAI5I,EAAE8C,IAAIhC,EAAEA,EAAE8d,OAAM,EAAG7e,EAAEwkB,OAAOzkB,EAAE4C,KAAKzC,KAAK4kB,SAAS7kB,IAAID,EAAE+kB,eAAe,IAAI/kB,EAAEglB,cAAc,CAACV,mBAAmBvkB,EAAEC,GAAG,IAAI,MAAMC,KAAKF,EAAE,CAAC,GAAGC,EAAEwkB,KAAK,MAAMvkB,EAAE4e,QAAQ5e,EAAE6e,UAAU7e,EAAEqgB,WAAWpgB,KAAK6B,cAAc9B,EAAE6e,WAAW5e,KAAKmiB,WAAWpiB,GAAGD,EAAE+kB,gBAAgB,CAAC,OAAO/kB,EAAEglB,aAAa,CAACT,aAAaxkB,EAAEC,GAAG,IAAI,IAAIC,EAAEF,EAAEuD,OAAO,EAAErD,GAAG,IAAID,EAAEwkB,KAAKvkB,IAAI,CAAC,MAAMc,EAAEhB,EAAEE,GAAGc,EAAE8d,QAAQ3e,KAAKiiB,YAAYphB,GAAGd,IAAIF,EAAEuD,OAAO,IAAIvD,EAAEE,GAAGF,EAAEA,EAAEuD,OAAO,IAAIvD,EAAEklB,MAAMjlB,EAAE+kB,eAAe,CAAC,OAAO/kB,EAAEglB,aAAa,CAACP,WAAW1kB,GAAG,OAAOA,EAAE0gB,MAAM,CAAC1gB,EAAEC,IAAID,EAAEiD,WAAWkiB,aAAallB,EAAEgD,WAAWkiB,eAAenlB,CAAC,CAAC2kB,cAAc3kB,EAAEC,GAAG,MAAMC,EAAEC,KAAKilB,aAAaplB,GAAGgB,EAAEhB,IAAI,MAAMC,EAAEE,KAAK6gB,WAAW,EAAE9gB,EAAEF,GAAGG,KAAK8gB,UAAU,EAAE,OAAOjhB,EAAE2gB,eAAe1gB,EAAEE,KAAK2J,aAAa3J,KAAKmY,gBAAgBnY,KAAKyhB,YAAYzhB,KAAKklB,UAAUrlB,EAAE,EAAE,IAAI,MAAMY,KAAKZ,EAAE,IAAIC,EAAEokB,KAAK,IAAIrjB,EAAEJ,KAAK,CAACT,KAAKyhB,YAAY,KAAK,CAAC,OAAO3hB,EAAEglB,aAAa,CAACL,YAAY5kB,EAAEC,GAAG,GAAGE,KAAKkiB,OAAO,OAAM,EAAG,IAAIniB,GAAE,EAAG,IAAI,MAAMc,KAAKhB,EAAE,CAAC,IAAIgB,EAAE+e,cAAc,SAAS,MAAM/f,GAAEe,EAAAA,EAAAA,IAAEZ,KAAKqJ,QAAQgZ,aAAariB,KAAKqJ,QAAQgZ,YAAY0C,IAAIlkB,EAAEgC,IAAI,KAAK,IAAGjC,EAAAA,EAAAA,IAAEf,GAAGgB,EAAE4f,MAAM5gB,EAAEG,KAAKyhB,YAAYzhB,KAAKmlB,mBAAmBrlB,EAAE+kB,mBAAmB,CAAC,GAAG7kB,KAAKolB,kBAAkBvkB,GAAG,CAAC,MAAMhB,EAAE,IAAIqF,gBAAgBzE,EAAET,KAAKqlB,gBAAgBxkB,EAAEhB,EAAEoI,QAAQjI,KAAKslB,eAAezkB,EAAEJ,EAAEZ,GAAG,IAAIgB,EAAE+P,aDA3zI,ICA20I7Q,GAAE,EAAGD,EAAE+kB,cAAc,CAAC,GAAG/kB,EAAEwkB,KAAK,OAAM,CAAE,CAAC,CAAC,GAAGvkB,EAAE,OAAOD,EAAEglB,cAAc,IAAI,MAAMjkB,KAAKhB,EAAE,GAAGgB,EAAE+e,cAAc,CAAC,MAAM/f,EAAE,IAAIqF,gBAAgBnF,EAAEC,KAAKulB,WAAW1kB,EAAEhB,EAAEoI,QAAQ,GAAGjI,KAAKslB,eAAezkB,EAAEd,EAAEF,GAAGA,IAAIgB,EAAEoe,YAAY,GAAG,EAAE,MAAMjf,KAAKkjB,oBAAoBriB,EAAEqd,iBAAgB,EAAGle,KAAKqJ,QAAQmc,cAAc/Z,EAAE5L,EAAE,IAAIC,EAAE+kB,eAAe/kB,EAAEwkB,KAAK,OAAM,CAAE,CAAC,OAAOxkB,EAAEglB,aAAa,CAACJ,uBAAuB7kB,EAAEC,GAAG,OAAOD,EAAE4lB,MAAM5lB,IAAIC,EAAEokB,KAAK,IAAIrkB,EAAE0f,4BAA4Bvf,KAAKyhB,aAAY,KAAM3hB,EAAEglB,aAAa,CAACnD,QAAQ9hB,EAAEC,GAAG,IAAIE,KAAK+jB,YAAY,OAAO,MAAMhkB,EAAE,IAAIgQ,MAAM/P,KAAK6F,aAAa/D,SAASjB,KAAI+C,EAAAA,EAAAA,IAAE/C,EAAEge,qBAAqB,IAAIhe,EAAEge,mBAAmBzb,SAASvC,EAAEwf,8BAA8BvgB,EAAE4S,GAAG7R,EAAEwf,8BAA8BxgB,EAAE6lB,IAAG7b,EAAAA,EAAAA,IAAE6I,EAAEgT,IAAI3lB,EAAE0C,KAAK5B,GAAG,IAAIb,KAAK2lB,2BAA2B5lB,GAAGC,KAAKwiB,UAAU,CAACmD,2BAA2B9lB,GAAG,MAAMC,EAAE,IAAI0Q,IAAIzQ,EAAEC,KAAK+gB,QAAQC,QAAQ,IAAI,MAAMngB,KAAKhB,EAAE,KAAI+D,EAAAA,EAAAA,IAAE/C,EAAEge,oBAAoB,IAAI,MAAMhf,KAAKgB,EAAEge,mBAAmB,CAAC,MAAMhe,GAAE0M,EAAAA,EAAAA,IAAE1N,EAAEG,KAAKmY,eAAe,GAAGrY,EAAE8C,IAAI/B,GAAG,SAASf,EAAEwC,IAAIzB,GAAG,MAAMgR,QAAQpR,GAAGT,KAAKqhB,4BAA4B1Y,IAAI9H,GAAGd,EAAEmhB,QAAQze,KAAKhC,GAAGV,EAAEkhB,KAAKxe,KAAKhC,EAAE,CAACT,KAAK4lB,eAAe,CAACpD,WAAW,IAAI3iB,EAAE,EAAEG,KAAKkiB,QAAQliB,KAAK6F,aAAa/D,SAAShC,GAAGA,EAAE4B,aAAa7B,EAAE,IAAI,MAAMC,EAAEE,KAAKohB,QAAQvhB,EAAE,KAAKG,KAAKuhB,aAAa,GAAGvhB,KAAK0F,KAAK,WAAW5F,GAAGA,EAAE,CAAC,IAAIA,EAAE,EAAEC,EAAE,EAAEc,EAAE,EAAEJ,EAAE,EAAEwC,EAAE,EAAE,MAAMW,EAAE5D,KAAKqhB,4BAA4BpgB,KAAKjB,KAAKshB,+BAA+BthB,KAAK6F,aAAa/D,SAASjC,IAAI,KAAKE,EAAEF,EAAE6B,YAAY7B,EAAEsf,uBAAuB,CAAC,MAAMrf,EAAEE,KAAK6lB,wBAAwBhmB,IAAI,EAAEA,EAAEqf,mBAAmBnf,GAAEa,EAAAA,EAAAA,IAAEf,EAAEgf,oBAAoBhf,EAAEgf,mBAAmBzb,OAAOQ,EAAE,EAAEX,GAAGnD,EAAEC,CAAC,CAACF,EAAE+f,gBAAgBnf,EAAEZ,EAAE+Q,YAAY,MAAM/P,EAAEf,GAAGD,EAAE+Q,YAAY,IAAInQ,GAAGZ,EAAE,IAAIqL,EAAE,EAAEvL,EAAE,EAAEG,GAAGH,EAAEG,EAAEoL,EAAE9D,KAAKgH,IAAI3N,EAAEX,EAAEe,EAAEf,KAAKH,EAAEI,EAAEmL,EAAEzK,GAAGwC,EAAEmE,KAAKgH,IAAIpO,KAAKmG,wBAAwBnG,KAAKsJ,SAASlG,OAAOH,GAAGjD,KAAK0F,KAAK,gBAAgB/F,GAAGK,KAAK0F,KAAK,oBAAoBwF,GAAGlL,KAAK0F,KAAK,sBAAsBzC,EAAE,MAAMjD,KAAK0F,KAAK,gBAAgB,GAAG1F,KAAK0F,KAAK,oBAAoB,GAAG1F,KAAK0F,KAAK,sBAAsB,GAAG1F,KAAK0K,UAAU1K,KAAK0K,SAASnJ,QAAQ,CAACojB,yCAAyC,MAAM9kB,GAAEY,EAAAA,EAAAA,IAAET,KAAK6F,cAAchG,GAAGA,EAAEkf,yCAAyC/e,KAAK0F,KAAK,kCAAkC7F,EAAE,CAAColB,aAAaplB,GAAG,MAAMC,EAA+nR,SAAWD,GAAG,IAAIC,EAAE,EAAE,IAAI,MAAMC,KAAKF,EAAEE,EAAEuJ,UAAUvJ,EAAEuJ,SAASlG,OAAO,GAAGrD,EAAE4e,QAAQ7e,EAAEsH,KAAKC,IAAIvH,EAAEC,EAAE+C,WAAWC,IAAI,KAAK,OAAOjD,CAAC,CAA1vRgmB,CAAEjmB,GAAGE,EAAEF,GAAG,GAAG,GAAGuH,KAAKC,IAAI,EAAEvH,EAAED,EAAEiD,WAAWC,IAAI,KAAK,IAAIlC,EAAE,EAAEJ,EAAE,EAAE,IAAI,MAAMG,KAAKf,EAAE,CAAC,MAAMA,EAAEe,EAAEgQ,YAAY/P,GAAGhB,EAAEY,GAAGZ,EAAEE,EAAEa,EAAE,CAAC,OAAOZ,KAAK6gB,WAAWzZ,KAAKgH,IAAI,EAAEpO,KAAKmG,wBAAwBtF,GAAGb,KAAK8gB,UAAU9gB,KAAKmG,wBAAwB1F,EAAET,KAAKmlB,mBAAmBplB,CAAC,CAACyhB,wBAAwB3hB,EAAEC,GAAGD,IAAIC,IAAIA,EAAED,GAAGG,KAAK6F,aAAa/D,SAASjC,IAAI,IAAIA,EAAEqe,gBAAgB,OAAO,MAAMpe,EAAEE,KAAK6lB,wBAAwBhmB,GAAGA,EAAEyJ,WAAWzJ,EAAEyJ,SAASlG,QAAQtD,GAAGD,EAAEge,cAAcvZ,EAAAA,QAAUtE,KAAKgiB,iBAAiBniB,GAAGG,KAAKoiB,gBAAgBviB,GAAG,IAAIG,KAAKyhB,YAAY,CAACmD,SAAS/kB,GAAG,MAAMC,EAAE,IAAIsJ,EAAEvJ,GAAG,OAAOG,KAAK6F,aAAa9B,IAAIjE,EAAE+C,GAAG/C,GAAGE,KAAKoiB,gBAAgBtiB,GAAGE,KAAK+lB,6CAA6CjmB,GAAGA,CAAC,CAACimB,6CAA6ClmB,GAAG,MAAMC,EAAED,EAAEiD,WAAW4S,WAAW1V,KAAK6F,aAAa/D,SAAS/B,IAAI,MAAK6D,EAAAA,EAAAA,IAAE7D,EAAE8e,qBAAqBhf,IAAIE,GAAGF,EAAEiD,WAAWC,KAAKhD,EAAE+C,WAAWC,OAAMwV,EAAAA,EAAAA,IAAE1Y,EAAEiD,WAAWC,IAAIhD,EAAE+C,WAAWC,MAAM,EAACa,EAAAA,EAAAA,IAAE/D,EAAEgf,sBAAsBhf,EAAEgf,mBAAmB,IAAIhf,EAAEiD,WAAWqC,QAAQpF,EAAE+C,WAAWqC,UAASvB,EAAAA,EAAAA,IAAE/D,EAAEif,mCAAmCjf,EAAEif,iCAAgCjQ,EAAAA,EAAAA,IAAEhP,EAAEiD,WAAWqC,UAASgE,EAAAA,EAAAA,IAAEtJ,EAAEif,gCAAgC/e,EAAE+C,WAAWqC,OAAOtF,EAAEif,kCAAkC,IAAI,MAAMje,KAAKd,EAAE8e,mBAAmB,CAAChf,EAAEgf,mBAAmBpc,KAAK5B,GAAG,MAAMd,EAAEC,KAAKqhB,4BAA4B1Y,KAAI4E,EAAAA,EAAAA,IAAE1M,EAAEb,KAAKmY,gBAAgBpY,EAAEkd,IAAIld,EAAE8R,QAAQ/R,GAAGE,KAAKshB,gCAAgC,CAAC,KAAKzhB,EAAEmf,cAAape,EAAAA,EAAAA,IAAEf,EAAEgf,oBAAoBhf,EAAEgf,mBAAmBzb,OAAO,CAAC,CAAC6e,YAAYpiB,GAAGG,KAAKmiB,WAAWtiB,GAAGG,KAAK6F,aAAanD,OAAO7C,EAAEgD,GAAG,CAACuf,gBAAgBviB,GAAGA,EAAE+e,UAAU/e,EAAEugB,WAAWpgB,KAAK6B,cAAchC,EAAE+e,SAAS/e,EAAE+f,gBAAgB/f,EAAEge,YAAYvZ,EAAAA,MAAQzE,EAAEge,YAAYvZ,EAAAA,YAAc,CAAC0d,iBAAiBniB,GAAG,MAAMC,EAAED,EAAE6gB,mBAAkB9f,EAAAA,EAAAA,IAAEd,KAAKD,EAAE6gB,kBAAkB,KAAK7gB,EAAEqgB,gBAAgBpgB,EAAEgJ,QAAQ,CAAC+D,sBAAsBhN,EAAEC,GAAG,OAAOD,EAAE+Q,kBAAkB5Q,KAAKgmB,YAAYnmB,EAAEC,GAAGE,KAAKilB,aAAajlB,KAAKgkB,mBAAmBnkB,EAAEge,cAAcvZ,EAAAA,WAAaA,EAAAA,eAAiBA,EAAAA,YAAc,CAACuI,iBAAiBhN,EAAEC,GAAG,MAAMC,EAAEC,KAAK6lB,wBAAwBhmB,GAAG,GAAGE,GAAG,EAAE,OAA45O,SAAWF,GAAG,OAAOA,EAAEof,YAAY,GAAG,EAAE,MAAMpf,EAAEqe,iBAAgB,EAAG5Z,EAAAA,IAAM,CAA99OG,CAAE5E,GAAG,MAAMgB,EAAEb,KAAKimB,mBAAmBpmB,GAAGY,EAAE2G,KAAKE,KAAKvH,EAAEc,GAAG,GAAGqY,EAAErZ,KAAKG,KAAKqJ,QAAQ8C,aAAa+Z,8BAA8BrmB,EAAE+Q,aAAa7Q,GAAGU,EAAEkK,EAAAA,EAAAA,4BAA8B,OAAO3K,KAAKmmB,gBAAgBtmB,EAAEC,GAAG,MAAMc,EAAEZ,KAAKojB,aAAavjB,GAAG,GAAGe,EAAEwlB,qBAAqBhf,KAAKE,KAAKvH,EAAEc,GAAGhB,EAAE8f,cAAc9f,EAAEyJ,UAAUzJ,EAAEyJ,SAASlG,OAAO,EAAE,CAAC,MAAMtD,EAAEsH,KAAKE,KAAKzH,EAAEyJ,SAASlG,QAAQ,EAAEvD,EAAEqf,mBAAmBre,GAAGD,EAAEwlB,qBAAqBhf,KAAKC,IAAIvH,EAAE,EAAEc,EAAEwlB,qBAAqB,CAAC,MAAM9c,SAASrG,EAAEojB,sBAAsBziB,EAAE6f,OAAOvY,SAASlL,KAAKujB,eAAe3iB,EAAEd,GAAGH,EAAEiE,EAAEhD,EAAEwlB,sBAAsBzb,EAAAA,EAAAA,4BAA8BrG,EAAAA,KAAOA,EAAAA,KAAOA,EAAAA,KAAO,aAAatE,KAAKmhB,WAAWmF,UAAU,KAAKzmB,EAAEqe,gBAAgBjb,EAAEG,OAAOvD,EAAE+Q,aAAahN,EAAE,MAAM9D,EAAEE,KAAKumB,qBAAqBtjB,GAAGpD,EAAEof,YAAYhc,EAAEnD,EAAE0mB,EAAEtb,GAAG,GAAGpL,GAAGE,KAAKkjB,oBAAoBvjB,CAAC,CAACkN,kBAAkBhN,EAAEC,GAAG,OAAOE,KAAKqJ,QAAQ+C,MAAMoB,kBAAkBxN,KAAKymB,yBAAyB5mB,GAAG,CAACoI,OAAOnI,GAAG,CAAC+M,sBAAsBhN,EAAEC,GAAG,IAAIC,EAAEc,EAAE,EAAEJ,EAAE,EAAEG,EAAE,EAAEqC,EAAEjD,KAAK6lB,wBAAwBhmB,GAAGe,EAAE,MAAMgD,EAAE5D,KAAKimB,mBAAmBpmB,GAAG,IAAIF,EAAE,KAAK,OAAO,CAAC,MAAMD,EAAEM,KAAKojB,aAAavjB,GAAGsD,EAAEnD,KAAK0mB,qBAAqBhnB,EAAEmB,EAAEoC,EAAEW,IAAI0F,SAASnF,EAAEkiB,sBAAsBlY,EAAEsV,OAAOtb,SAASnI,KAAKujB,eAAe7jB,EAAEI,GAAG,SAASE,KAAKmhB,WAAWmF,UAAU,KAAKnjB,IAAItC,IAAGqK,EAAAA,EAAAA,IAAExL,EAAEinB,MAAM/lB,GAAGuD,EAAEf,OAAO3C,GAAGT,KAAKumB,qBAAqBpiB,GAAGtE,EAAEqe,gBAAgBrd,EAAEhB,EAAE+Q,aAAazC,EAAEpO,EAAEA,EAAEA,EAAE6mB,OAAOziB,GAAGA,EAAExE,EAAEqZ,EAAErZ,EAAEwI,GAAGtI,EAAEof,YAAYlf,EAAEU,EAAEd,EAAE,GAAGG,GAAGE,KAAKkjB,oBAAoBljB,KAAKyhB,YAAYxe,EAAEjD,KAAK6lB,wBAAwBhmB,GAAGe,GAAGuC,IAAIgL,GAAGlL,GAAG,EAAE,OAAOkL,EAAE7J,EAAAA,KAAOA,EAAAA,IAAM,CAAC,CAACmiB,yBAAyB5mB,GAAG,MAAMC,EAAEE,KAAKojB,aAAavjB,GAAG,OAAOG,KAAKqJ,QAAQ8C,aAAaE,oBAAoBvM,EAAEujB,gBAAW,EAAOvjB,EAAEwM,WAAU,GAAIxM,CAAC,CAACsjB,aAAavjB,GAAG,MAAMC,EAAEE,KAAKqJ,QAAQsC,cAAc5L,EAAEF,EAAEiD,WAAWqC,OAAO,GAAGpF,EAAE,CAAC,MAAMF,EAAEG,KAAKqJ,QAAQ7I,aAAa4E,iBAAiBtF,EAAEsC,UAASuK,EAAAA,EAAAA,IAAE5M,EAAEF,EAAE,CAAC,OAAOG,KAAK6mB,qBAAqB/mB,EAAED,GAAGG,KAAK8mB,cAAcjnB,GAAGC,EAAEujB,WAAW,OAAOrjB,KAAKqJ,QAAQ8C,aAAaE,oBAAoBvM,EAAEwM,WAAU,GAAIxM,CAAC,CAAC4mB,qBAAqB7mB,EAAEC,EAAEC,EAAEc,GAAG,QAAQb,KAAKqJ,QAAQ8C,aAAa4a,qBAAqBlnB,EAAEmnB,MAAMlnB,EAAEC,EAAE,GAAGC,KAAKqJ,QAAQ8C,aAAa+Z,8BAA8BrmB,EAAEumB,qBAAqBhf,KAAKE,KAAKvH,EAAEc,GAAGhB,EAAE8mB,IAAIvf,KAAKgH,IAAIvO,EAAEumB,qBAAqBvlB,EAAEd,IAAIF,EAAE8mB,IAAIvf,KAAKgH,IAAIvN,IAAG,EAAG,CAAComB,4BAA4BpnB,GAAG,GAAG,MAAMA,EAAEiD,WAAW4S,WAAW,OAAO,KAAK,MAAM5V,EAAEE,KAAKqJ,QAAQ6d,cAAc7N,EAAAA,GAAAA,OAASrZ,KAAKqJ,QAAQ7I,aAAa2mB,kBAAkB,GAAG,IAAI,OAAO/f,KAAKgH,IAAIvO,EAAEiD,WAAW4S,WAAW5V,GAAGE,KAAK8J,SAAS,CAAK4X,yBAAqB,OAAO1hB,KAAKqJ,QAAQ8C,aAAa0V,6BAA6B,UAAU7hB,KAAKqJ,QAAQO,YAAY,CAACid,qBAAqBhnB,EAAEC,GAAG,IAAIE,KAAK0hB,mBAAmB,OAAO,MAAM3hB,EAAEC,KAAKinB,4BAA4BnnB,GAAG,MAAMC,IAAIC,KAAKqJ,QAAQ8C,aAAaib,qBAAqBvnB,EAAEwnB,uBAAuB,IAAIxb,EAAAA,EAAE,CAACjG,KAAK,OAAO0hB,eAAe,aAAaC,UAAUxnB,EAAEoF,OAAOnF,KAAKqJ,QAAQ4D,aAAa,aAAajN,KAAKqJ,QAAQO,eAAe/J,EAAE2nB,mBAAmBznB,GAAG,CAACwmB,qBAAqB1mB,GAAG,MAAMC,EAAED,EAAEuD,OAAO,IAAI,IAAIrD,EAAE,EAAEA,EAAEF,EAAEuD,QAAQ,CAAC,MAAMtD,EAAED,EAAEE,IAAGyK,EAAAA,EAAAA,IAAE1K,EAAEsC,YAAYrC,GAAGF,EAAEE,GAAGF,EAAEA,EAAEuD,OAAO,KAAKvD,EAAEuD,OAAO,CAAC,OAAOtD,EAAED,EAAEuD,MAAM,CAACgiB,kBAAkBvlB,GAAG,OAAOG,KAAKuK,cAAc1K,EAAEuf,oBAAoBlG,EAAErZ,EAAE,CAAComB,mBAAmBpmB,GAAG,MAAM4nB,mBAAmB3nB,EAAEoM,eAAenM,GAAGC,KAAKqJ,QAAQ,OAAOrJ,KAAK8mB,cAAcjnB,KAAIe,EAAAA,EAAAA,IAAEd,IAAIA,EAAE,GAAGE,KAAKqJ,QAAQ8C,aAAaub,mBAAmB5nB,GAAEc,EAAAA,EAAAA,IAAEb,IAAIA,EAAE,EAAEA,EAAE4nB,CAAC,CAACb,cAAcjnB,GAAG,QAAQqZ,EAAErZ,KAAKG,KAAKqJ,QAAQ8C,aAAaE,oBAAoBrM,KAAKqJ,QAAQ8C,aAAaub,kBAAkB,CAACpC,eAAezlB,EAAEC,EAAEC,EAAEc,GAAGhB,EAAEge,YAAYhe,EAAEigB,gBAAgBxb,EAAAA,WAAaA,EAAAA,SAAWzE,EAAE6gB,kBAAkB3gB,EAAE,IAAIU,GAAE,EAAGX,EAAEyI,MAAMzI,IAAID,EAAE6gB,kBAAkB,KAAK7gB,EAAEge,YAAY/d,CAAC,IAAIgL,OAAOhL,IAAID,EAAE6gB,oBAAoB3gB,IAAIF,EAAE6gB,kBAAkB,KAAK7gB,EAAEge,YAAYvZ,EAAAA,OAAQ3E,EAAAA,EAAAA,IAAEG,GAAGW,GAAE,EAAGI,EAAEf,EAAE,IAAIyI,MAAM,KAAK9H,GAAGT,KAAKyhB,YAAYzhB,KAAKmlB,kBAAkB,GAAG,CAACA,mBAAmBnlB,KAAK8E,UAAU9E,KAAK8E,QAAQlC,IAAI,oBAAoB5C,KAAK8E,QAAQxC,KAAIa,EAAAA,EAAAA,KAAG,KAAKnD,KAAK8E,QAAQ3C,OAAO,mBAAmBnC,KAAKwiB,UAAU,IAAI,kBAAkB,CAAC0C,UAAUrlB,GAAG,IAAGe,EAAAA,EAAAA,IAAEf,EAAEgf,sBAAsBhf,EAAEsgB,mBAAmB,OAAM,EAAG,MAAMrgB,EAAED,EAAEyJ,SAAS,GAAG,IAAIzJ,EAAEmf,eAAelf,EAAE,CAAC,MAAMA,GAAEc,EAAAA,EAAAA,IAAEf,EAAEgf,qBAAqBhf,EAAEgf,mBAAmBzb,OAAO,EAAE,OAAOpD,KAAK4nB,kBAAkB/nB,GAAGA,EAAEgf,mBAAmB,GAAG/e,CAAC,CAAC,MAAMC,EAAEF,EAAEiD,WAAW4S,WAAW7U,EAAEb,KAAK+gB,QAAQC,QAAQvgB,EAAET,KAAK+gB,QAAQE,KAAKhe,EAAEmE,KAAKgH,IAAIvO,EAAEmf,aAAalf,EAAEsD,QAAQvD,EAAEmf,aAAa/b,EAAE,IAAI,IAAIrC,EAAE,EAAEA,EAAEqC,IAAIrC,EAAE,CAAC,MAAMf,EAAEC,EAAEc,GAAGqC,GAAEsK,EAAAA,EAAAA,IAAE1N,EAAEG,KAAKmY,eAAevU,EAAE5D,KAAKqhB,4BAA4B1Y,IAAI1F,GAAG,GAAGW,EAAE,CAAC,MAAM9D,EAAE8D,EAAEqZ,IAAIpd,EAAEE,GAAGD,EAAEud,aAAavd,EAAE2d,aAAa5c,EAAEqgB,QAAQze,KAAK3C,EAAEud,YAAYxc,EAAEogB,KAAKxe,KAAK3C,EAAE2d,YAAY,MAAMzd,KAAKqhB,4BAA4Btd,IAAId,EAAE,IAAIjD,KAAK4hB,sBAAsB/hB,EAAEE,IAAIU,EAAEgC,KAAK5C,GAAGG,KAAKshB,gCAAgC,CAAC,OAAOthB,KAAK4nB,kBAAkB/nB,GAAGG,KAAK4lB,gBAAgB/lB,EAAEgf,mBAAmB/e,EAAE0jB,MAAM,EAAEvgB,IAAG,CAAE,CAAC4kB,UAAUhoB,GAAGG,KAAKgiB,iBAAiBniB,GAAGG,KAAK4nB,kBAAkB/nB,EAAE,CAAC+nB,kBAAkB/nB,GAAG,IAAG+D,EAAAA,EAAAA,IAAE/D,EAAEgf,oBAAoB,OAAO,MAAM/e,EAAEE,KAAK+gB,QAAQC,QAAQjhB,EAAEC,KAAK+gB,QAAQG,QAAQ,IAAI,MAAMrgB,KAAKhB,EAAEgf,mBAAmB,CAAC,MAAMpe,GAAE8M,EAAAA,EAAAA,IAAE1M,EAAEb,KAAKmY,eAAevX,EAAEZ,KAAKqhB,4BAA4B1Y,IAAIlI,GAAG,IAAIG,EAAE,SAAS,MAAMqC,EAAErC,EAAE8c,MAAM7d,EAAEiD,WAAW4S,YAAY1V,KAAKshB,iCAAiCre,EAAEA,EAAEoa,aAAapa,EAAEwa,aAAa,MAAMxa,EAAEwa,YAAYzd,KAAKqhB,4BAA4B3e,OAAOjC,GAAGV,EAAE0C,KAAKQ,EAAEoa,cAAcvd,EAAEmhB,KAAKxe,KAAKQ,EAAEwa,YAAY3d,EAAEohB,QAAQze,KAAKQ,EAAEoa,cAAcyK,QAAQviB,MAAM,8BAA8B,CAACvF,KAAK4lB,gBAAgB/lB,EAAEgf,mBAAmB,IAAI,CAAC+G,gBAAgB,MAAM/lB,EAAEG,KAAK+gB,QAAQC,QAAQnhB,EAAEqhB,QAAQ9d,OAAO,IAAIpD,KAAKsJ,SAAStH,WAAWnC,EAAEqhB,SAASrhB,EAAEqhB,QAAQ9d,OAAO,GAAGvD,EAAEohB,KAAK7d,OAAO,IAAIpD,KAAKsJ,SAAStF,QAAQnE,EAAEohB,MAAMphB,EAAEohB,KAAK7d,OAAO,GAAG,MAAMtD,EAAEE,KAAK+gB,QAAQE,KAAKlhB,EAAEC,KAAK+gB,QAAQG,QAAQrgB,EAAEuG,KAAKgH,IAAItO,EAAEsD,OAAOrD,EAAEqD,QAAQ,IAAI3C,EAAE,EAAE,KAAKA,EAAEI,GAAG,CAAC,MAAMhB,EAAEuH,KAAKgH,IAAI3N,EAAE6X,EAAEzX,GAAGb,KAAKsJ,SAAStF,QAAQlE,EAAE0jB,MAAM/iB,EAAEZ,IAAIG,KAAKsJ,SAAStH,WAAWjC,EAAEyjB,MAAM/iB,EAAEZ,IAAIY,EAAEZ,CAAC,CAACC,EAAEsD,OAAOvC,GAAGb,KAAKsJ,SAAStF,QAAQ,IAAIvD,EAAEX,EAAEA,EAAE0jB,MAAM/iB,IAAIV,EAAEqD,OAAOvC,GAAGb,KAAKsJ,SAAStH,WAAW,IAAIvB,EAAEV,EAAEA,EAAEyjB,MAAM/iB,IAAIX,EAAEsD,OAAO,EAAErD,EAAEqD,OAAO,CAAC,CAAC+e,WAAWtiB,GAAG,GAAGG,KAAK6nB,UAAUhoB,GAAGA,EAAEyJ,WAAU1I,EAAAA,EAAAA,IAAEZ,KAAKqJ,QAAQgZ,aAAa,CAAC,MAAMviB,EAAE,GAAGD,EAAEyf,cAActf,KAAKqJ,QAAQgZ,YAAY0F,IAAIloB,EAAEgD,GAAGhD,EAAE4gB,MAAM3gB,EAAE,CAACD,EAAEof,YAAY,KAAK,EAAE,MAAMjf,KAAKkjB,mBAAmB,CAACA,oBAAoBljB,KAAKiL,aAAa,iBAAiBjL,KAAKiL,aAAa,iBAAiBjL,KAAKiL,aAAa,0BAA0B,CAAC+Y,kBAAkB,OAAOjU,MAAM6E,KAAK5U,KAAK6F,aAAagP,SAAS,CAAKlG,qBAAiB,OAAO3O,KAAKgkB,kBAAkBzK,QAAQ,CAAC1Z,EAAEC,IAAID,GAAGC,EAAEwJ,SAASxJ,EAAEwJ,SAASlG,OAAO,IAAI,EAAE,CAACyiB,wBAAwBhmB,GAAG,MAAMC,EAAED,EAAEsf,uBAAuBtf,EAAE+Q,YAAY,IAAI7Q,EAAEF,EAAEsf,uBAAuBrf,EAAEE,KAAKmG,wBAAwBtF,EAAEb,KAAK6gB,WAAW,EAAE7gB,KAAK8gB,UAAU,EAAE,OAAO1Z,KAAKgH,IAAIhH,KAAKE,KAAKvH,EAAEc,GAAG,EAAEhB,EAAEqf,oBAAoBpf,EAAE,CAAKyC,WAAO,MAAM,CAACylB,QAAQnoB,GAAGG,KAAK6jB,QAAQhkB,GAAG2C,mBAAmB3C,GAAGG,KAAK6F,aAAa8C,IAAI9I,GAAG8C,mBAAmB9C,GAAGG,KAAK6F,aAAa/D,QAAQjC,GAAG,GAAG,SAASqZ,EAAErZ,GAAG,MAAM,2BAA2BA,EAAEgD,EAAE,CAA+H,SAASwL,EAAExO,GAAG,MAAMC,EAAED,EAAEsM,aAAaC,MAAM,MAAM,CAACyV,4BAA4B5d,EAAEpE,GAAGknB,sBAAsBjnB,IAAIA,EAAEinB,oBAAoBW,sBAAsB5nB,IAAIA,EAAE4nB,oBAAoBrb,qBAAqBvM,IAAIA,EAAEuM,mBAAmB+a,wBAAwBtnB,IAAIA,EAAEsnB,sBAAsBa,gCAAgCnoB,IAAIA,EAAEmoB,8BAA8B/B,gCAAgCpmB,IAAIA,EAAEomB,8BAA8BgC,qBAAqBpoB,IAAIA,EAAEooB,mBAAmB,CAAC,SAASjkB,EAAEpE,GAAG,OAAOA,EAAE+J,cAAc,IAAI,WAAW,OAAM,EAAG,IAAI,UAAU,OAAO/J,EAAEsM,cAActM,EAAEsM,aAAaC,OAAOvM,EAAEsM,aAAaC,MAAMgb,qBAAqB,QAAQ,OAAM,EAAG,CAA2E,SAASZ,EAAE3mB,GAAG,OAAO+D,EAAAA,EAAAA,IAAE/D,GAAG,IAAI2Q,IAAI,IAAIA,IAAI3Q,EAAEc,KAAKd,GAAGA,EAAE4U,OAAO,CAAC,SAASuE,EAAEnZ,EAAEC,GAAG,IAAG8D,EAAAA,EAAAA,IAAE/D,KAAI+D,EAAAA,EAAAA,IAAE9D,GAAG,OAAO0mB,EAAE1mB,GAAG,MAAMC,EAAE,IAAIyQ,IAAI,IAAI,MAAMiE,KAAK5T,KAAKf,EAAED,EAAE+C,IAAI/B,IAAId,EAAEuC,IAAIzB,GAAG,OAAOd,CAAC,EAACF,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACa,eAAc,KAAMkD,EAAEnD,UAAU,gBAAW,IAAQlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,OAAK+D,EAAEnD,UAAU,uBAAkB,IAAQlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACR,MAAM,OAAOuE,EAAEnD,UAAU,0BAA0B,OAAMlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACR,MAAM,KAAKuE,EAAEnD,UAAU,eAAe,OAAMlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACR,MAAM,KAAKuE,EAAEnD,UAAU,YAAY,OAAMlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,OAAK+D,EAAEnD,UAAU,eAAe,OAAMlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACW,UAAS,KAAMoD,EAAEnD,UAAU,gBAAW,IAAQlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACW,UAAS,KAAMoD,EAAEnD,UAAU,qBAAgB,IAAQlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACW,UAAS,KAAMoD,EAAEnD,UAAU,yBAAoB,IAAQlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACW,UAAS,KAAMoD,EAAEnD,UAAU,2BAAsB,IAAQlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACW,UAAS,KAAMoD,EAAEnD,UAAU,0BAA0B,OAAMlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACW,UAAS,KAAMoD,EAAEnD,UAAU,uCAAkC,IAAQlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACa,eAAc,KAAMkD,EAAEnD,UAAU,+CAA0C,IAAQlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACW,UAAS,KAAMoD,EAAEnD,UAAU,gBAAgB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACW,UAAS,KAAMoD,EAAEnD,UAAU,gBAAgB,OAAMlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,OAAK+D,EAAEnD,UAAU,eAAe,OAAMlP,EAAAA,EAAAA,GAAE,EAACsO,EAAAA,EAAAA,IAAE,CAACa,eAAc,KAAMkD,EAAEnD,UAAU,eAAU,GAAQmD,GAAErS,EAAAA,EAAAA,GAAE,EAACsI,EAAAA,EAAAA,GAAE,sDAAsD+J,GAAG,MAAMyV,EAAE,IAAIjV,GAAElH,EAAAA,EAAAA,MAAIka,GAAEla,EAAAA,EAAAA,MAAImY,EAAE,IAAIrL,EAAE,G,wECA5krB,SAAS3Y,EAAEA,GAAG,MAAMI,EAAEJ,EAAEY,KAAK6E,iBAAiBvE,EAAElB,EAAE6G,MAAMyG,WAAWhK,GAAEpD,EAAAA,EAAAA,IAAEgB,IAAIA,EAAEuE,iBAAiB,IAAG3E,EAAAA,EAAAA,IAAEI,KAAKoC,EAAE,OAAOoF,QAAQC,QAAQ,MAAM,GAAGrF,EAAEoC,OAAOtF,GAAG,OAAOsI,QAAQC,QAAQzH,EAAE4E,SAAS,MAAM7E,GAAEgD,EAAAA,EAAAA,IAAE/C,EAAEd,GAAG,OAAOF,EAAAA,EAAAA,IAAEe,GAAGyH,QAAQC,QAAQ1H,GAAGjB,EAAEY,KAAK4nB,MAAMC,SAAQtoB,EAAAA,EAAAA,iBAAEe,EAAEd,EAAEJ,EAAE6G,MAAM8G,YAAY/E,MAAM1I,IAAIF,EAAE+b,WAAW7b,EAAEA,OAAE,IAASiL,OAAO,IAAI,OAAOzC,QAAQC,QAAQ,KAAK,C,uECApZ,MAAM7H,UAAUZ,EAAAA,EAAED,cAAcwE,SAASqV,WAAWzZ,KAAK0F,KAAK,IAAI8K,GAAG,CAACvO,QAAQ,GAAGjC,KAAK0F,KAAKzE,KAAK,EAAE,CAAC,MAAMpB,EAAEG,KAAK8Y,UAAU9Y,KAAK0F,KAAKzD,QAAQjC,KAAK4R,KAAK,gBAAgB,CAACnO,KAAK3D,EAAAA,EAAAA,SAAWE,KAAK4R,KAAK,SAAS,CAACyG,MAAM,GAAGD,QAAQvY,GAAG,CAAC,CAAKuD,aAAS,OAAOpD,KAAK0F,KAAKzE,IAAI,CAAC+C,QAAQnE,GAAG,GAAG,IAAIA,EAAEuD,OAAO,CAAC,IAAI,MAAMtD,KAAKD,EAAEG,KAAK0F,KAAKpD,IAAIxC,GAAGE,KAAK4R,KAAK,gBAAgB,CAACnO,KAAK3D,EAAAA,EAAAA,MAAQE,KAAK4R,KAAK,SAAS,CAACyG,MAAMxY,EAAEuY,QAAQ,IAAI,CAAC,CAACjW,OAAOtC,GAAGG,KAAK0F,KAAKhD,OAAO7C,KAAKG,KAAK4R,KAAK,gBAAgB,CAACnO,KAAK3D,EAAAA,EAAAA,SAAWE,KAAK4R,KAAK,SAAS,CAACyG,MAAM,GAAGD,QAAQ,CAACvY,KAAK,CAACmC,WAAWnC,GAAG,MAAME,EAAE,GAAG,IAAI,MAAMD,KAAKD,EAAEG,KAAK0F,KAAKhD,OAAO5C,IAAIC,EAAE0C,KAAK3C,GAAGC,EAAEqD,OAAO,IAAIpD,KAAK4R,KAAK,gBAAgB,CAACnO,KAAK3D,EAAAA,EAAAA,SAAWE,KAAK4R,KAAK,SAAS,CAACyG,MAAM,GAAGD,QAAQrY,IAAI,CAAC+Y,UAAU,MAAM,IAAI9Y,KAAK0F,KAAK,CAACud,KAAKpjB,GAAG,IAAIC,EAAE,OAAOC,EAAAA,EAAAA,GAAEC,KAAK0F,MAAM3F,KAAKF,EAAEE,KAAKD,EAAEC,GAAE,KAAMD,CAAC,CAACgC,QAAQjC,GAAGG,KAAK0F,KAAK5D,SAAShC,GAAGD,EAAEC,IAAI,E","sources":["../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js","../node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js","../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/featureReference.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/support/EventedSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import t from\"../../../../geometry/Polygon.js\";import i from\"../../../../symbols/FillSymbol3DLayer.js\";import s from\"../../../../symbols/PointSymbol3D.js\";import a from\"../../../../symbols/PolygonSymbol3D.js\";import o from\"../../../../symbols/TextSymbol3DLayer.js\";import r from\"../../terrain/TilingScheme.js\";const h=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class l{constructor(e,t,s){this.loadingGraphics=new Map,this.loadedGraphics=new Map,this.pendingGraphics=new Map,this._enabled=!0,this.tileFetcher=e,this.view=s,this.tilingScheme=new r(t),this.loadedSymbols=h.map((e=>new a(new i({material:{color:[e[0],e[1],e[2],.6]},outline:{color:\"black\",size:1}})))),this.loadingSymbols=[new a(new i({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}}))],this.pendingSymbols=[new a(new i({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}}))],this.dataExtentSymbol=new a(new i({material:{color:[0,0,0,0]},outline:{color:\"green\",size:4}}))}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this.loadingGraphics,{filter:e=>e.isFetching,symbols:this.loadingSymbols}),this._synchronizeMaps(this.loadedGraphics,{filter:e=>!e.isFetching,symbols:this.loadedSymbols}),this._synchronizeMaps(this.pendingGraphics,{filter:e=>!e.isFetching,symbols:this.pendingSymbols}),this.showDataExtent(this.tileFetcher.filterExtent)):(this.loadingGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.loadingGraphics.clear(),this.loadedGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.loadedGraphics.clear(),this.pendingGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.pendingGraphics.clear(),this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null))}showDataExtent(i){if(this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null),!i)return;const s=t.fromExtent(i);this.dataExtentGraphic=new e({geometry:s,symbol:this.dataExtentSymbol}),this.view.graphics.add(this.dataExtentGraphic)}_synchronizeMaps(t,i){const a=[];t.forEach(((e,t)=>{const s=this.tileFetcher.test.getFeatureTileById(t);s&&i.filter(s)||(this.view.graphics.removeMany(e),a.push(t))})),a.forEach((e=>t.delete(e))),this.tileFetcher.test.forEachFeatureTile((a=>{if(i.filter(a)&&!t.has(a.id)){const[r,h,l]=a.descriptor.lij;this.tilingScheme.ensureMaxLod(r);const n=this.tilingScheme.getExtentGeometry(r,h,l),c=[new e({geometry:n,symbol:i.symbols[r%i.symbols.length]}),new e({geometry:n.center,symbol:new s({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new o({text:`${r}/${h}/${l}`,halo:{color:\"white\",size:1/.75},material:{color:\"black\"},size:16})]})})];t.set(a.id,c),this.view.graphics.addMany(c)}}))}}export{l as FeatureTileFetcher3DDebugger,l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import\"../../../core/has.js\";import s from\"../../../core/Error.js\";import a from\"../../../core/Handles.js\";import{clone as o}from\"../../../core/lang.js\";import n from\"../../../core/Logger.js\";import{isSome as l,destroyMaybe as c,removeMaybe as h,isNone as u}from\"../../../core/maybe.js\";import{EsriPromiseMixin as d}from\"../../../core/Promise.js\";import{isAbortError as m,eachAlways as p}from\"../../../core/promiseUtils.js\";import{initial as f,whenOnce as y,watch as g,syncAndInitial as x}from\"../../../core/reactiveUtils.js\";import{property as F}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as v}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isHostedAgolService as _}from\"../../support/arcgisLayerUrl.js\";import{projectGeometry as T}from\"../../../portal/support/geometryServiceUtils.js\";import E from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileFetcher3D as w}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as C}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import b from\"../../../views/3d/support/debugFlags.js\";import{WatchUpdatingTracking as D}from\"../../../views/support/WatchUpdatingTracking.js\";const S=n.getLogger(\"esri.layers.graphics.controllers.FeatureTileController3D\");let O=class extends(d(t)){constructor(e){super(e),this.type=\"feature-tile-3d\",this.watchUpdatingTracking=new D,this.serviceDataExtent=null,this.serviceDataCount=L.NO_SERVICE_DATA_COUNT,this.vertexLimitExceeded=!1,this.displayFeatureLimit=null,this.suspended=!1,this.tileFetcher=null,this.handles=new a,this.fetchDataInfoPromise=null,this.fetchDataInfoAbortController=null,this.lifeCycleAbortController=new AbortController}set extent(e){if(e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void S.error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(t&&e&&t.equals(e))return;const i=e?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(l(this.tileFetcher)&&this.tileFetcher.updating||null!=this.fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this.watchUpdatingTracking&&this.watchUpdatingTracking.updating)}get updatingTotal(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return l(this.tileFetcher)?this.tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(!l(this.tileFetcher)||!this.tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return l(this.displayFeatureLimit)?this.displayFeatureLimit.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&(null==e?this._clearOverride(\"maximumNumberOfFeatures\"):this._override(\"maximumNumberOfFeatures\",e))}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get mode(){var e,t;const i=this.layerView.layer;if(\"feature\"===i.type&&l(i.infoFor3D))return\"snapshot\";if(!1===(null==(e=this.layerView.view.qualitySettings)||null==(t=e.graphics3D)?void 0:t.snapshotAvailable)||this.serviceDataCount===L.NO_SERVICE_DATA_COUNT||this.vertexLimitExceeded)return\"tiles\";const r=this.layerView.view,s=r&&r.featureTiles,a=s&&s.tilingScheme;if(i&&i.minScale&&this.serviceDataExtent&&a){const e=this._approximateExtentSizeAtScale(i.minScale,a);if((this.serviceDataExtent.width/e+this.serviceDataExtent.height/e)/2>L.MAX_SNAPSHOT_MIN_SCALE_FACTOR)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&l(this.tileFetcher)&&this.tileFetcher.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){return\"snapshot\"===this.mode?new r([{id:\"dummy-tile-full-extent\",lij:[0,0,0]}]):this.layerView.view.featureTiles?this.layerView.view.featureTiles.tiles:new r}get test(){return{fetchDataInfoPromise:this.fetchDataInfoPromise,tileFetcher:this.tileFetcher}}initialize(){this.watchUpdatingTracking.add((()=>this.vertexLimitInfo),(()=>this.watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this.lifeCycleAbortController.signal)))),this.watchUpdatingTracking.add((()=>this.mode),(()=>this._modeChanged()),f),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if(!e.get(\"capabilities.operations.supportsQuery\")&&\"ogc-feature\"!==e.type)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this.tileFetcher=c(this.tileFetcher),this.handles=c(this.handles),this.tilesHandle=h(this.tilesHandle),this.lifeCycleAbortController&&(this.lifeCycleAbortController.abort(),this.lifeCycleAbortController=null),this.watchUpdatingTracking.destroy(),this._set(\"watchUpdatingTracking\",null)}suspend(){this.suspended||(this.suspended=!0,l(this.tileFetcher)&&this.tileFetcher.suspend())}resume(){this.suspended&&(this.suspended=!1,l(this.tileFetcher)&&this.tileFetcher.resume())}restart(){const e=()=>{l(this.tileFetcher)&&this.tileFetcher.restart()};this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){const e=()=>{l(this.tileFetcher)&&this.tileFetcher.refetch()};this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=y((()=>{var t;return null==(t=e.featureTiles)?void 0:t.tilingScheme}),this.lifeCycleAbortController.signal);this.watchUpdatingTracking.addPromise(t),t.then((()=>{const{layerView:t,tileDescriptors:i}=this,r=t.layer,s=new w({context:this.context,filterExtent:this.extent,tileDescriptors:i,features:this.graphics});this.tileFetcher=s,this.suspended?this.tileFetcher.suspend():this.tileFetcher.resume();const a=this.layerView.view.resourceController;a&&(this.handles.add(a.memoryController.events.on(\"quality-changed\",(e=>{s.memoryFactor=e}))),this.tileFetcher.memoryFactor=a.memoryController.memoryFactor);const o=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;o&&this.handles.add(g((()=>{var e,t,i;return null==(e=this.layerView.view)||null==(t=e.qualitySettings)||null==(i=t.graphics3D)?void 0:i[o]}),(e=>s.lodFactor=e||1),f));const n=e=>{s.maximumNumberOfFeatures=e,s.useTileCount=this.serviceDataCount>e},l=e=>s.useTileCount=e>this.maximumNumberOfFeatures;\"ogc-feature\"!==r.type&&this.watchUpdatingTracking.add((()=>r.createQueryVersion),(()=>this._dataFilterChanged())),this.watchUpdatingTracking.add((()=>t.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this.watchUpdatingTracking.add((()=>t.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),this.handles.add([r.on(\"apply-edits\",(e=>this._applyEdits(e))),this.watch(\"extent\",(e=>s.filterExtent=e),!0),this.watch(\"tileDescriptors\",(e=>s.tileDescriptors=e),!0),g((()=>this.maximumNumberOfFeatures),n,x),g((()=>this.serviceDataCount),l,x),g((()=>b.FEATURE_TILE_FETCH_SHOW_TILES),(t=>{t&&s&&!s.debugger?(s.debugger=new C(s,e.featureTiles.tilingScheme.toTileInfo(),e),s.debugger.update()):!t&&this.tileFetcher&&s.debugger&&(s.debugger.destroy(),s.debugger=null)}),x)]),this.supportsExceedsLimitQuery||this.watchUpdatingTracking.add((()=>this.maxTotalSnapshotVertices),(()=>this.watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this.lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case\"tiles\":this.tilesHandle||(this.tilesHandle=this.layerView.view.featureTiles.addClient());break;default:S.warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":l(this.tilesHandle)&&(this.tilesHandle.remove(),this.tilesHandle=null)}}_dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this.refetch()}_applyEdits(e){u(this.tileFetcher)||this.tileFetcher.applyEdits(e).then((e=>{e&&(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this.watchUpdatingTracking.addPromise(this._updateServiceDataExtent(this.lifeCycleAbortController.signal))})).catch((e=>{if(!m(e))throw e}))}_availableFieldsChanged(e,t){l(this.tileFetcher)&&N(this.tileFetcher.availableFields,t)&&this.refetch()}_requiredFieldsChanged(e,t){l(this.tileFetcher)&&N(this.tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.outStatistics=[new E({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_fullExtentIsAccurate(){const e=this.layerView.layer;if(e.definitionExpression)return!1;switch(e.type){case\"feature\":return _(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){m(t)||this._set(\"serviceDataExtent\",o(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities.query.supportsExtent,s=o(t.fullExtentInLocalViewSpatialReference),a=i.fullExtent,n=this._fullExtentIsAccurate(),c=this.serviceDataCount;if(r&&c<=L.MAX_FEATURE_COUNT_FOR_EXTENT&&(!s||!n)&&\"queryExtent\"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:L.QUERY_EXTENT_TIMEOUT,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(l(a)){const r=\"portalItem\"in i?i.portalItem:null,s=await T(a,t.view.spatialReference,r,e);this._set(\"serviceDataExtent\",s)}else this._set(\"serviceDataExtent\",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t))return void this._set(\"serviceDataCount\",L.NO_SERVICE_DATA_COUNT);const r=await i(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:L.QUERY_STATISTICS_TIMEOUT,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(m(r.error))throw r.error;this._set(\"serviceDataCount\",L.NO_SERVICE_DATA_COUNT)}}get vertexLimitInfo(){if(u(this.displayFeatureLimit)||u(this.displayFeatureLimit.averageSymbolComplexity))return null;const{averageSymbolComplexity:e,maximumTotalNumberOfPrimitives:t}=this.displayFeatureLimit,{primitivesPerCoordinate:i,primitivesPerFeature:r}=e,s=this._get(\"vertexLimitInfo\");return u(s)||s.maximumTotalNumberOfPrimitives!==t||s.primitivesPerCoordinate!==i||s.primitivesPerFeature!==r?{primitivesPerCoordinate:i,primitivesPerFeature:r,maximumTotalNumberOfPrimitives:t}:s}get supportsExceedsLimitQuery(){const e=this.layerView.layer;return e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async _updateVertexLimitExceeded(e,t){const r=this.vertexLimitInfo;if(u(r))return void this._set(\"vertexLimitExceeded\",!1);const s=r.primitivesPerFeature<=0,a=this.minimumNumberOfVerticesForGeometry>1;if(!s&&!a)return void this._set(\"vertexLimitExceeded\",!1);const{primitivesPerFeature:o,primitivesPerCoordinate:n,maximumTotalNumberOfPrimitives:c}=r;let h;0!==o&&l(e)&&await e;const d=this.serviceDataCount,p=d!==L.NO_SERVICE_DATA_COUNT;if(h=p?Math.ceil((c-d*o)/(n||1)):Math.ceil(c/(n||1)),a&&(h=Math.min(h,A)),p&&this.minimumNumberOfVerticesForGeometry*d>h)return void this._set(\"vertexLimitExceeded\",!0);if(!this.supportsExceedsLimitQuery)return void this._set(\"vertexLimitExceeded\",this.maxTotalSnapshotVertices>h);const f=await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(h),{timeout:L.QUERY_STATISTICS_TIMEOUT,signal:t}));if(!1===f.ok){if(m(f.error))throw f.error;return void this._set(\"vertexLimitExceeded\",!1)}const y=f.value.features[0];y&&y.attributes?this._set(\"vertexLimitExceeded\",!!y.attributes.exceedslimit):this._set(\"vertexLimitExceeded\",!1)}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo();let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=p([i,this._updateVertexLimitExceeded(i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{m(e)||S.error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this.fetchDataInfoPromise&&(this.fetchDataInfoPromise=null,this.fetchDataInfoAbortController=null),e=null}));return e&&(this.fetchDataInfoPromise=s),this.fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this.fetchDataInfoAbortController;e&&(this.fetchDataInfoAbortController=null,this.fetchDataInfoPromise=null,e.abort())}get debug(){return{storedFeatures:l(this.tileFetcher)?this.tileFetcher.storedFeatures:0,totalFeatures:l(this.tileFetcher)?this.tileFetcher.totalFeatures:0,totalVertices:l(this.tileFetcher)?this.tileFetcher.totalVertices:0}}};e([F({readOnly:!0})],O.prototype,\"type\",void 0),e([F({constructOnly:!0})],O.prototype,\"graphics\",void 0),e([F({constructOnly:!0})],O.prototype,\"layerView\",void 0),e([F({constructOnly:!0})],O.prototype,\"context\",void 0),e([F()],O.prototype,\"extent\",null),e([F()],O.prototype,\"updating\",null),e([F({readOnly:!0})],O.prototype,\"watchUpdatingTracking\",void 0),e([F()],O.prototype,\"updatingTotal\",null),e([F()],O.prototype,\"updatingRemaining\",null),e([F()],O.prototype,\"expectedFeatureDiff\",null),e([F()],O.prototype,\"memoryForUnusedFeatures\",null),e([F()],O.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([F({readOnly:!0})],O.prototype,\"serviceDataExtent\",void 0),e([F({readOnly:!0})],O.prototype,\"serviceDataCount\",void 0),e([F({readOnly:!0})],O.prototype,\"vertexLimitExceeded\",void 0),e([F()],O.prototype,\"displayFeatureLimit\",void 0),e([F({type:Number})],O.prototype,\"maximumNumberOfFeatures\",null),e([F({readOnly:!0})],O.prototype,\"mode\",null),e([F({readOnly:!0})],O.prototype,\"maxTotalSnapshotVertices\",null),e([F({readOnly:!0,dependsOn:[\"mode\"]})],O.prototype,\"tileDescriptors\",null),e([F()],O.prototype,\"tileFetcher\",void 0),e([F()],O.prototype,\"fetchDataInfoPromise\",void 0),e([F({readOnly:!0})],O.prototype,\"vertexLimitInfo\",null),O=e([v(\"esri.layers.graphics.controllers.FeatureTileController3D\")],O);const I=1e4,V=12e3,U=1e4,A=5e6;function N(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var L;!function(e){function t(){e.MAX_FEATURE_COUNT_FOR_EXTENT=I,e.QUERY_STATISTICS_TIMEOUT=V,e.QUERY_EXTENT_TIMEOUT=U}e.NO_SERVICE_DATA_COUNT=1/0,e.MAX_SNAPSHOT_MIN_SCALE_FACTOR=5,e.reset=t}(L||(L={})),L.reset();export{O as FeatureTileController3D,L as FeatureTileController3DConstants};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport i from\"../../../core/has.js\";import{PooledRBush as s}from\"../../../core/libs/rbush/PooledRBush.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i,s,d){n.minX=s[0],n.minY=s[1],n.maxX=s[2],n.maxY=s[3],i.search(n,d)}class e{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s(9,i(\"esri-csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),t(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{e as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Evented.js\";import r from\"../../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import{fromRect as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as a,NEGATIVE_INFINITY as d}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as n}from\"../featureConversionUtils.js\";import{BoundsStore as h}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as u}from\"./optimizedFeatureQueryEngineAdapter.js\";class m{constructor(e){this.geometryInfo=e,this._boundsStore=new h,this._featuresById=new Map,this._markedIds=new Set,this.events=new t,this.featureAdapter=u}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=a(d);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{s(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(i(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(t){if(!t)return;const i=t.objectId;if(null==i)return void r.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new e(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:t}));const d=this._featuresById.get(i);let h;if(this._markedIds.add(i),d?(t.displayId=d.displayId,h=this._boundsStore.get(i),this._boundsStore.delete(i)):s(this.onFeatureAdd)&&this.onFeatureAdd(t),o(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,t);h=n(s(h)?h:a(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),s(h)&&this._boundsStore.set(i,h),this._featuresById.set(i,t)}_remove(e){return s(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{estimateAttributesObjectSize as t,estimateFixedArraySize as r,estimateNumberByteSize as i}from\"../../../../core/byteSizeEstimations.js\";import a from\"../../../../core/Error.js\";import{HandleOwner as o}from\"../../../../core/HandleOwner.js\";import{makeHandle as s}from\"../../../../core/handleUtils.js\";import n from\"../../../../core/Logger.js\";import{isSome as l,disposeMaybe as d,unwrap as m,isNone as u,applySome as p,mapSome as h}from\"../../../../core/maybe.js\";import{initial as c,sync as y,watch as _}from\"../../../../core/reactiveUtils.js\";import{property as f}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as g}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{g as R}from\"../../../../chunks/vec3.js\";import{c as v}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as F}from\"../../../../geometry/projection.js\";import{getResolutionForScale as b}from\"../../../../geometry/support/scaleUtils.js\";import{getObjectId as w}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromPoint as S}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as G}from\"../../../../layers/graphics/OptimizedFeature.js\";import j from\"../../../../layers/graphics/OptimizedGeometry.js\";import P from\"../../../../layers/graphics/data/FeatureStore.js\";import{isNumericField as x}from\"../../../../layers/support/fieldUtils.js\";import{generateGradient as T}from\"../../../../renderers/support/heatmapUtils.js\";import{DRAPED_Z as M}from\"../../terrain/OverlayRenderer.js\";import{UpdatePolicy as N,PrimitiveType as E}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as I}from\"../../webgl-engine/lib/Geometry.js\";import{ModelDirty as O}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as C}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as H}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HeatmapDensityMaterial as V}from\"../../webgl-engine/materials/HeatmapDensityMaterial.js\";const W=n.getLogger(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\"),L=50;let U=class extends o{constructor(e){super(e),this.type=\"heatmap\",this.filterVisibility={filterChanged(){},dirty:!1},this.preferredUpdatePolicy=N.ASYNC,this.dataExtent=null,this._renderGeometries=new Map,this._material=new V({}),this._materialWithField=new V({isAttributeDriven:!0}),this._fieldTotal=0,this._memoryFactor=1}initialize(){this._featureStore=new P({geometryType:\"esriGeometryPoint\",hasZ:this.hasZ,hasM:this.hasM});const{colorBufferFloat:e,textureFloat:t}=this._renderView.capabilities,{floatBufferBlendWorking:r}=this._renderView.renderingContext.driverTest;if(null==t||!t.textureFloat)throw new a(\"heatmap:missing-texture-float\",\"HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float.\");if(null==e||!e.textureFloat)throw new a(\"heatmap:missing-color-buffer-float\",\"HeatmapRenderer requires the WebGL2 extension EXT_color_buffer_float or the WebGL1 extension WEBGL_color_buffer_float.\");if(null==e||!e.floatBlend)throw new a(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend.\");if(!r)throw new a(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend. This device claims support for it, but does not actually support it.\");this._memoryFactor=this.owner.view.resourceController.memoryController.memoryFactor,this.updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),c),this.updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((t=>t.setParameters(e)))),c),this.updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),y),this.updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:t})=>{if(l(e)&&t){let t=0;this._featureStore.forEach((r=>{var i;t+=null!=(i=r.attributes[e])?i:0})),this._fieldTotal=t}else this._fieldTotal=this._featureStore.numFeatures}),c),this.handles.add([_((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:t})=>{var r;e&&!t&&W.warn(`Heatmap renderer field '${e}' for layer '${null!=(r=this.layer.title)?r:this.layer.id}' not found`)})),_((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:t})=>{var r;l(e)&&!t&&W.warn(`Heatmap renderer field '${e.name}' for layer '${null!=(r=this.layer.title)?r:this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),this.owner.view.resourceController.memoryController.events.on(\"quality-changed\",(()=>{var e,t,r,i,a;this._memoryFactor=null!=(e=null==(t=this.owner)||null==(r=t.view)||null==(i=r.resourceController)||null==(a=i.memoryController)?void 0:a.memoryFactor)?e:1}))])}destroy(){this._overlayRenderer.removeGeometries(Array.from(this._renderGeometries.values()),this.owner,O.Geometry.REMOVE),this._renderGeometries.clear(),this._material=d(this._material),this._materialWithField=d(this._materialWithField),this._featureStore.clear(),this._featureStore=null}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this.updatingHandles.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get displayFeatureLimit(){var e,t;const r=this._memoryFactor,i=null==(e=this.owner)||null==(t=e.view)?void 0:t.qualitySettings,a=i?Math.ceil(i.heatmap.maxTotalNumberOfFeatures*r):0;return{minimumTotalNumberOfFeatures:0,maximumTotalNumberOfFeatures:a,maximumTotalNumberOfPrimitives:a*2,maximumNumberOfFeatures:a}}get hasZ(){return\"hasZ\"in this.layer&&this.layer.hasZ}get hasM(){return\"hasM\"in this.layer&&this.layer.hasM}get scaleVisibilitySuspended(){return!1}get usedMemory(){var e,t,r,i,a;const o=this.usedMemoryPerFeature*this._featureStore.numFeatures,{R32F:s}=null==(e=this._renderView)||null==(t=e.capabilities)?void 0:t.colorBufferFloat,n=null!=s?1:4,d=4,m=null!=(r=Math.ceil((null==(i=this._overlayRenderer)||null==(a=i.overlays[0])?void 0:a.resolution)*this._densityMapPixelRatio))?r:0;return m*m*n*d+o+(l(this._heatmapRenderer)?3*Math.min(this._heatmapRenderer.blurRadius,L):0)*n*d}get usedMemoryPerFeature(){if(0===this._featureStore.numFeatures)return 0;let e=0;this._featureStore.forEach((r=>e+=t(r.attributes))),e/=this._featureStore.numFeatures;const a=i(),o=6;return o*r([0,0,0],a)+o*r([0,0],a)+(this._heatmapRendererFieldIsNumeric?o*a:0)+e}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return{core:{visible:this._featureStore.numFeatures,missing:0,pending:0},elevationUpdating:!1,visibilityFrustum:!0,visibilityScale:!0}}get _overlayRenderer(){return this.owner.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return m(this._overlayRenderer.spatialReference)}get _materialParameters(){return{...this._blurRadiusParameters,...this._densityParameters,colorRampData:this._colorRampData,pixelRatio:this._densityMapPixelRatio}}get _densityParameters(){const e=this._heatmapRenderer;if(u(e))return null;return{minDensity:e.minPixelIntensity,maxDensity:e.maxPixelIntensity,fieldTotal:this._fieldTotal}}get _blurRadiusParameters(){return p(this._heatmapRenderer,(({referenceScale:e,blurRadius:t})=>({searchRadius:this._clampSearchRadius(t),resolutionForScale:0===e?0:b(e,this.owner.view.spatialReference)})))}get _colorRampData(){return p(this._heatmapRenderer,(e=>T(e.colorStops)))}get _densityMapPixelRatio(){var e,t,r;const i=this._memoryFactor;return(null!=(e=null==(t=this.owner)||null==(r=t.view)?void 0:r.qualitySettings.heatmap.pixelRatio)?e:1)*Math.sqrt(i)}get _renderView(){return this.owner.view._stage.renderView}get _featuresArePoints(){return\"point\"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return\"heatmap\"===(null==e?void 0:e.type)?e:null}get _heatmapRendererFieldName(){return p(this._heatmapRenderer,(e=>e.field))}get _heatmapRendererField(){return p(this._heatmapRendererFieldName,(e=>this.layer.fieldsIndex.get(e)))}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return!u(e)&&x(e)}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return A}maskOccludee(){return A}setObjectIdVisibility(){}async setup(){}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:t}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>w(e,t)))),this._featureStore.addMany(e.added.map((e=>new G(S(new j,e.geometry),e.attributes,p(e.centroid,(e=>S(new j,e))),w(e,t)))));const r=e.added,i=e.removed;this._fieldTotal+=this._computeFieldTotalChange(r,i);const a=h(i,(({uid:e})=>{const t=this._renderGeometries.get(e);return this._renderGeometries.delete(e),t})),o=r.map((e=>{const t=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,t),t}));a.length>0&&this._overlayRenderer.removeGeometries(a,this.owner,O.Geometry.REMOVE),o.length>0&&this._overlayRenderer.addGeometries(o,this.owner,O.Geometry.ADD,!0),(o.length>0||a.length>0)&&this._renderView.requestRender()}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const t=this._heatmapRendererFieldName,r=l(t)?this._materialWithField:this._material,i=v();F(e.geometry,i,this._overlaySpatialReference),i[2]=M;const a=[[H.POSITION,{data:i,size:i.length}]],o=this._heatmapRendererFieldIsNumeric;var s;l(t)&&a.push([H.FEATUREATTRIBUTE,{data:[o&&null!=(s=e.attributes[t])?s:0],size:1}]);const n=new C(new I(a,null,E.Point),r,{layerUid:this.layer.uid,graphicUid:e.uid});return R(n.boundingSphere,i),n}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,t){if(u(this._heatmapRendererFieldName)||!this._heatmapRendererFieldIsNumeric)return e.length-t.length;const r=this._heatmapRendererFieldName,i=(e,t)=>{var i;return e+(null!=(i=t.attributes[r])?i:0)};return e.reduce(i,0)-t.reduce(i,0)}_clampSearchRadius(e){return e>L&&W.warnOnce(`SceneView supports a maximum blurRadius of ${L} for HeatmapRenderer.`),Math.min(e,L)}};e([f()],U.prototype,\"type\",void 0),e([f({constructOnly:!0})],U.prototype,\"owner\",void 0),e([f()],U.prototype,\"layer\",null),e([f()],U.prototype,\"featureStore\",null),e([f()],U.prototype,\"updating\",null),e([f()],U.prototype,\"updatingRemaining\",null),e([f()],U.prototype,\"suspendInfo\",null),e([f()],U.prototype,\"legendEnabled\",null),e([f()],U.prototype,\"filterVisibility\",void 0),e([f()],U.prototype,\"displayFeatureLimit\",null),e([f()],U.prototype,\"preferredUpdatePolicy\",void 0),e([f()],U.prototype,\"hasZ\",null),e([f()],U.prototype,\"hasM\",null),e([f()],U.prototype,\"dataExtent\",void 0),e([f()],U.prototype,\"_featureStore\",void 0),e([f()],U.prototype,\"_overlayRenderer\",null),e([f()],U.prototype,\"_overlaySpatialReference\",null),e([f()],U.prototype,\"_materialParameters\",null),e([f()],U.prototype,\"_densityParameters\",null),e([f()],U.prototype,\"_blurRadiusParameters\",null),e([f()],U.prototype,\"_colorRampData\",null),e([f()],U.prototype,\"_densityMapPixelRatio\",null),e([f()],U.prototype,\"_renderGeometries\",void 0),e([f()],U.prototype,\"_material\",void 0),e([f()],U.prototype,\"_materialWithField\",void 0),e([f()],U.prototype,\"_renderView\",null),e([f()],U.prototype,\"_featuresArePoints\",null),e([f()],U.prototype,\"_loadedPointGraphics\",null),e([f()],U.prototype,\"_heatmapRenderer\",null),e([f()],U.prototype,\"_heatmapRendererFieldName\",null),e([f()],U.prototype,\"_heatmapRendererField\",null),e([f()],U.prototype,\"_heatmapRendererFieldIsNumeric\",null),e([f()],U.prototype,\"_fieldTotal\",void 0),e([f()],U.prototype,\"_memoryFactor\",void 0),U=e([g(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\")],U);const A=s();export{U as HeatmapFeatureProcessor,L as MAX_RADIUS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as t,get as s,isNone as i}from\"../../../core/maybe.js\";import{initial as o,whenOnce as n}from\"../../../core/reactiveUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as p}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as u}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import c from\"../../../rest/support/Query.js\";import{DrapeSourceType as h}from\"./interfaces.js\";import d from\"./graphics/Graphics3DFeatureProcessor.js\";import y from\"./graphics/QueryEngine.js\";import{HeatmapFeatureProcessor as m}from\"./support/HeatmapFeatureProcessor.js\";import{toViewIfLocal as g}from\"./support/projectExtentUtils.js\";import{UpdatePolicy as f}from\"../webgl-engine/lib/basicInterfaces.js\";import{TaskPriority as v}from\"../../support/Scheduler.js\";const E=E=>{let b=class extends E{constructor(){super(...arguments),this.controller=null,this.updatePolicy=f.SYNC,this.suspendResumeExtentMode=\"computed\",this.slicePlaneEnabled=!1,this.drapeSourceType=h.Features,this.fullExtentInLocalViewSpatialReference=null,this.suspendResumeExtent=null,this._controllerCreated=!1,this.clippingExtent=null,this.supportsHeightUnitConversion=!0,this.pendingController=null,this.queryEngine=null}initialize(){const e=this.layer;\"isTable\"in e&&e.isTable?this.addResolvingPromise(Promise.reject(new r(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e}))):(this.addResolvingPromise(this._validateGeometryType()),this.updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),o),this.addResolvingPromise((async()=>{const e=await g(this);this.fullExtentInLocalViewSpatialReference=e,await this._initializeController()})()),this.updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e)),this.queryEngine=new y({layerView:this,priority:v.FEATURE_QUERY_ENGINE}),this.notifyChange(\"updating\"))}destroy(){this._destroyPendingController(),this.controller=t(this.controller),this._set(\"processor\",t(this.processor)),this.queryEngine=t(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this.pendingController=t(this.pendingController)}get legendEnabled(){var e;return this.canResume()&&(null==(e=this.processor)?void 0:e.legendEnabled)}get graphics3DProcessor(){var e;return\"graphics-3d\"===(null==(e=this.processor)?void 0:e.type)?this.processor:null}get heatmapProcessor(){var e;return\"heatmap\"===(null==(e=this.processor)?void 0:e.type)?this.processor:null}getGraphicFromGraphicUid(e){var r;let t=null;return null==(r=this.loadedGraphics)||r.forEach((r=>{r.uid===e&&(t=p(r,this.layer))})),t}whenGraphicBounds(e,r){var t;return null==(t=this.processor)?void 0:t.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){var t;return null==(t=this.processor)?void 0:t.computeAttachmentOrigin(e,r)}queryFeatures(e,r){return this.queryEngine.executeQuery(this._ensureQuery(e),s(r,\"signal\"))}queryObjectIds(e,r){return this.queryEngine.executeQueryForIds(this._ensureQuery(e),s(r,\"signal\"))}queryFeatureCount(e,r){return this.queryEngine.executeQueryForCount(this._ensureQuery(e),s(r,\"signal\"))}queryExtent(e,r){return this.queryEngine.executeQueryForExtent(this._ensureQuery(e),s(r,\"signal\"))}_ensureQuery(e){return i(e)?this.createQuery():c.from(e)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}maskOccludee(e){return this.processor.maskOccludee(e)}canResume(){var e;return super.canResume()&&!(null!=(e=this.processor)&&e.scaleVisibilitySuspended)}getSuspendInfo(){const e=super.getSuspendInfo();return this.processor?{...e,...this.processor.suspendInfo}:e}isUpdating(){var e,r,t;return!(!this.processor||this.processor.destroyed)&&!(this._controllerCreated&&(null==(e=this.controller)||!e.updating)&&null!=(r=this.view)&&null!=(t=r.basemapTerrain)&&t.ready&&!this.processor.updating)}async _initializeController(){const e=this.createController();this.pendingController=e,await e.when(),this._setControllerWhenInitialized(e)}async _setControllerWhenInitialized(e){try{await this.when()}catch(r){}this._controllerCreated=!0,this.notifyChange(\"updating\"),this.isResolved()&&!this.destroyed?(await n((()=>{var e,r;return null==(e=this.view)||null==(r=e.basemapTerrain)?void 0:r.ready})),this.beforeSetController(e),this.pendingController=null,this.controller=e,this.loadedGraphics=e.graphics,this.notifyChange(\"updating\")):this._destroyPendingController()}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case\"stream\":return!1;case\"feature-tile-3d\":return this.controller.extent=e,!0}}async _validateGeometryType(){switch(this.layer.geometryType){case\"multipatch\":case\"multipoint\":return Promise.reject(new r(\"featurelayerview3d:unsupported-geometry-type\",\"Unsupported geometry type ${geometryType}\",{geometryType:this.layer.geometryType}))}}_recreateProcessor(e){var r,t;const s=\"heatmap\"===(null==e?void 0:e.type),i=\"heatmap\"===(null==(r=this.processor)?void 0:r.type),o=this.processor;if(o&&s===i)return;const n=s?new m({owner:this}):new d({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentVisibilityEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this._set(\"processor\",n),null==o||o.destroy(),null==(t=this.queryEngine)||t.clear(),this.addResolvingPromise(n.setup())}_getResourceInfo(){var e,r;const t=this.controller instanceof u?this.controller:null;return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:null!=(e=null==t?void 0:t.maximumNumberOfFeatures)?e:-1,totalNumberOfFeatures:null!=(r=null==t?void 0:t.serviceDataCount)?r:-1,nodes:0,...this.processor.performanceInfo}}get performanceInfo(){return this._getResourceInfo()}};return e([l()],b.prototype,\"loadedGraphics\",void 0),e([l()],b.prototype,\"suspended\",void 0),e([l({readOnly:!0})],b.prototype,\"legendEnabled\",null),e([l()],b.prototype,\"updating\",void 0),e([l()],b.prototype,\"controller\",void 0),e([l()],b.prototype,\"processor\",void 0),e([l({readOnly:!0})],b.prototype,\"updatePolicy\",void 0),e([l({readOnly:!0})],b.prototype,\"suspendResumeExtentMode\",void 0),e([l({type:Boolean})],b.prototype,\"slicePlaneEnabled\",void 0),e([l({readOnly:!0})],b.prototype,\"suspendInfo\",void 0),e([l()],b.prototype,\"graphics3DProcessor\",null),e([l()],b.prototype,\"heatmapProcessor\",null),b=e([a(\"esri.views.3d.layers.FeatureLikeLayerView3D\")],b),b};export{E as FeatureLikeLayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../../layers/graphics/dehydratedFeatures.js\";import{equals as e}from\"../../../../layers/graphics/dehydratedFeatureComparison.js\";class s{constructor(e,s){this.highestResolutionVersion=null,this.versions=[],this.ref(e,s)}get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}ref(s,t){const r=this.feature;i.oldVersion=r,this.feature&&Object.defineProperty(s,\"uid\",{value:this.feature.uid,configurable:!0});for(const o of this.versions)if(o.resolution===t){o.refCount++;const t=this.highestResolutionVersion===o&&!e(s,o.feature);return(t||this.highestResolutionVersion!==o)&&(o.feature=s),i.newVersion=t?s:r,i}const n={feature:s,resolution:t,refCount:1};return this.versions.push(n),!this.highestResolutionVersion||t<this.highestResolutionVersion.resolution?(i.newVersion=s,this.highestResolutionVersion=n):i.newVersion=r,i}unref(e){for(let s=0;s<this.versions.length;s++){const t=this.versions[s];if(t.resolution===e)return t.refCount--,i.oldVersion=this.feature,0===t.refCount&&(this.versions[s]=this.versions[this.versions.length-1],this.versions.length--,this.highestResolutionVersion===t&&(this._recalculateHighestResolutionVersion(),i.oldVersion=t.feature)),i.newVersion=this.feature,i}return null}get feature(){return this.highestResolutionVersion?this.highestResolutionVersion.feature:null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this.highestResolutionVersion=null);let e=this.versions[0];for(let s=1;s<this.versions.length;s++){const t=this.versions[s];t.resolution<e.resolution&&(e=t)}this.highestResolutionVersion=e}}class t{constructor(e){this._feature=e,this.refCount=1}get isReferenced(){return 0!==this.refCount}get isSingle(){return 1===this.refCount}ref(s){return++this.refCount,i.oldVersion=this._feature,this.feature&&Object.defineProperty(s,\"uid\",{value:this.feature.uid,configurable:!0}),e(this._feature,s)||(this._feature=s),i.newVersion=this._feature,i}unref(){return i.oldVersion=this._feature,this.refCount>0&&(this.refCount--,!this.isReferenced)?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null};export{s as MultiFeatureReference,t as SingleFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{shuffle as t}from\"../../../../core/arrayUtils.js\";import{unwrapOr as e,isSome as s,isNone as i}from\"../../../../core/maybe.js\";import{create as r,fromExtent as u,intersects as a,copy as h,POSITIVE_INFINITY as n,intersection as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{numVertices as _,estimateSize as d,getObjectId as m}from\"../../../../layers/graphics/dehydratedFeatures.js\";const l=16438,F=new Set;class E{constructor(t){this.descriptor=t,this.fetchStatus=o.FETCH_NEEDED,this._features=null,this._numVertices=0,this._featureLimit=0,this.featuresMissing=!0,this._shuffled=!1,this._numFeatures=c,this._emptyFeatureRatio=0,this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._availableFields=F,this._displayingFeatures=null,this.alive=!0,this.filtered=!1}get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){return!this.filtered&&(this.featuresMissing||this.features&&this.featureLimit!==this.features.length)}get features(){return this._features}get featureLimit(){return this._featureLimit}set featureLimit(t){this._featureLimit!==t&&(this._featureLimit=t,this._estimatedUnusedSizeDirty=!0)}get availableFields(){return this._availableFields}setFeatures(t,s,i){this._availableFields=e(i,F),this._features=t,this._shuffled=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,t&&t.length>0?(this._emptyFeatureRatio=s/(t.length+s),this._numVertices=t.reduce(((t,e)=>t+_(e.geometry)),0)):(this._emptyFeatureRatio=0,this._numVertices=0)}get emptyFeatureRatio(){return this._emptyFeatureRatio}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures:this._features?this._features.length:0}set numFeatures(t){this._numFeatures=t}get hasPreciseFeatureCount(){return this._numFeatures>c}get needsFeatureCount(){return this._numFeatures===c}get numVertices(){return this._numVertices}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=d(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=d(this._features[t]);return!0}return!1}get isFetching(){return this.fetchStatus===o.FETCHING||this.fetchStatus===o.REFETCHING}get isRefetching(){return this.fetchStatus===o.REFETCHING}get needsFetching(){return this.fetchStatus===o.FETCH_NEEDED||this.fetchStatus===o.REFETCH_NEEDED}get needsRefetching(){return this.fetchStatus===o.REFETCH_NEEDED}get isFetched(){return this.fetchStatus===o.DONE||this.fetchStatus===o.FULL}resetFetching(){this.fetchStatus=this.fetchStatus===o.REFETCHING?o.REFETCH_NEEDED:o.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!S(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return!t||!this.descriptor.extent||(u(t,D),a(this.descriptor.extent,D))}intersectionIncludingBorrowed(t,e){const i=s(this.extentIncludingBorrowedFeatures)?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||i?(t?(u(t,e),f(e,i,e)):h(e,i),e):(h(e,n),e)}_shuffle(e){this._features.sort(((t,s)=>m(t,e)-m(s,e))),t(this._features,l),this._shuffled=!0,this._estimatedUnusedSizeDirty=!0}reduceFeatures(t,e,s){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let i=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&(this.featureLimit=this._features.length,this.fetchStatus===o.DONE&&this._features.length>0&&(this.fetchStatus=o.REFETCH_NEEDED,i=!0)),!this._shuffled&&t<1&&this._shuffle(s);const r=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>r&&(this._features.length=r,this.featuresMissing=!0,this.fetchStatus===o.FULL&&(this.fetchStatus=o.DONE)),i}get cache(){return{availableFields:this._availableFields,features:this.features,numFeatures:this._numFeatures,emptyFeatureRatio:this._emptyFeatureRatio,fetchStatus:this.fetchStatus,featuresMissing:this.featuresMissing}}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._numFeatures=t.numFeatures,this._emptyFeatureRatio=t.emptyFeatureRatio,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0}}const c=-1,g=-2;var o;function S(t,e,s){if(i(e)||i(t)||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}!function(t){t[t.FETCH_NEEDED=0]=\"FETCH_NEEDED\",t[t.REFETCH_NEEDED=1]=\"REFETCH_NEEDED\",t[t.FETCHING=2]=\"FETCHING\",t[t.REFETCHING=3]=\"REFETCHING\",t[t.DONE=4]=\"DONE\",t[t.FULL=5]=\"FULL\"}(o||(o={}));const D=r();export{g as FAILED_FEATURE_COUNT,E as FeatureTile,o as FetchStatus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import i from\"../../../../core/Logger.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{isSome as a,destroyMaybe as n,isNone as o,unwrap as u}from\"../../../../core/maybe.js\";import{isAbortError as l,eachAlways as h}from\"../../../../core/promiseUtils.js\";import{schedule as c}from\"../../../../core/scheduling.js\";import{on as d}from\"../../../../core/watchUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as m,equals as g,clone as F,expand as y,toExtent as _}from\"../../../../geometry/support/aaBoundingRect.js\";import{getObjectId as T,hasVertices as x}from\"../../../../layers/graphics/dehydratedFeatures.js\";import E from\"../../../../rest/support/QuantizationParameters.js\";import C from\"../../../../rest/support/Query.js\";import{ViewingMode as R}from\"../../../ViewingMode.js\";import{MultiFeatureReference as b,SingleFeatureReference as v}from\"./featureReference.js\";import{FAILED_FEATURE_COUNT as M,FetchStatus as D,FeatureTile as w}from\"./FeatureTile.js\";import{tilesAreRelated as j}from\"../../terrain/tileUtils.js\";import{ImmediateTask as O,TaskPriority as P}from\"../../../support/Scheduler.js\";const N=i.getLogger(\"esri.views.3d.layers.support.FeatureTileFetcher3D\");let U=class extends t{constructor(e){super(e),this._useTileCount=!1,this.updating=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this.maximumNumberOfFeaturesExceededThrottle=1e3,this._fullRatio=1,this._farRatio=1,this.changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this.handles=new s,this._frameTask=O,this._dirty=!1,this.featureTiles=new Map,this.displayingFeatureReferences=new Map,this.numDisplayingFeatureReferences=0,this.suspended=!0,this.pendingEdits=null}set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get(\"maximumNumberOfFeatures\");e===t||e<1||(this._set(\"maximumNumberOfFeatures\",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set(\"memoryFactor\",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set(\"lodFactor\",e),this.supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&a(this.context.query.queryFeatureCount)}set useTileCount(e){this._useTileCount=e,this.notifyChange(\"useTileCount\")}get memoryForUnusedFeatures(){let e=0;return this.featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this.featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this.featureTiles.forEach((t=>e+=t.numFeatures)),e}set filterExtent(e){if(e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void N.error(\"#filterExtent=\",\"extent needs to be in the same spatial reference as the tiling scheme\");const t=this._get(\"filterExtent\");if(t===e||t&&e&&t.equals(e))return;const s=e?e.clone():null;this._set(\"filterExtent\",s),this._reclip(s,t)}initialize(){this.handles.add(d(this,\"tileDescriptors\",\"change\",(()=>this._setDirty()),(()=>this._setDirty()))),this.objectIdField=this.context.objectIdField,this.FeatureReferenceClass=this.context.capabilities.supportsMultipleResolutions?b:v;const e=this.context.scheduler;a(e)&&(this._frameTask=e.registerTask(P.FEATURE_TILE_FETCHER,this)),this._setDirty()}destroy(){this._frameTask.remove(),this.handles=n(this.handles),this.featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this.featureTiles.clear(),this.displayingFeatureReferences.clear(),this.pendingEdits&&(this.pendingEdits.controller.abort(),this.pendingEdits=null)}get paused(){return this.suspended||!!this.pendingEdits}restart(){this.featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this.featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this.suspended||(this.suspended=!0,this._pause(),this._setDirty())}resume(){this.suspended&&(this.suspended=!1,this._unpause())}_pause(){this.paused&&(this.featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this.paused||(this._setDirty(),this._updated())}get availableFields(){let e=null;return this.featureTiles.forEach((t=>{o(t.displayingFeatures)||0===t.displayingFeatures.length||(o(e)?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields.has(s)||u(e).delete(s)})))})),a(e)?e:new Set}applyEdits(e){this.pendingEdits||(this.pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this.pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if(l(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0==--t.count&&(this.pendingEdits===t&&(this.pendingEdits=null),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._unpause(),this._updated()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),i=new Set,r=this.objectIdField;e.forEach((({objectId:e,globalId:a})=>{if((!e||e<0)&&t){s||N.errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`);const e=this.features.find((e=>e.attributes&&e.attributes[t]===a));e&&i.add(T(e,r))}else i.add(e)})),this.featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!i.has(T(e,this.objectIdField))));t.length!==e.features.length&&(e.setFeatures(t,0,e.availableFields),this._invalidateCounts())}))}async _applyEditsAddUpdateFeatures(e,t,s){const i=[],r=new Set;if(e.forEach((e=>i.push(e.objectId))),t.forEach((e=>{i.push(e.objectId),r.add(e.objectId)})),0===i.length)return;const a=[];this.featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,i,r,s);t&&a.push(t)})),await h(a)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=t;const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has(T(e,this.objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),e.setFeatures(n,0,H(e.availableFields,a.fields)),this._invalidateCounts())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:B})}_setDirty(){this._dirty=!0,this._updated()}get running(){return this.updating}runTask(e){if(this._frameTask.processQueue(e),!this._dirty||!this.constructed)return;this._dirty=!1;const t=this._getListOfTiles();if(this._markTilesNotAlive(t),!e.run((()=>this._addTiles(t,e)))||!e.run((()=>this._filterExtentTiles(t,e)))||!e.run((()=>this._removeTiles(t,e)))||e.done)return void this._setDirty();const s=this._sortTiles(t);e.run((()=>this._displayTiles(s,e)))&&e.run((()=>this._fetchTiles(s,e)))&&e.run((()=>this._updateMemoryEstimates(s,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!this.suspended&&(this.tileDescriptors.forEach((s=>{const i=this.featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>e.descriptor.loadPriority-t.descriptor.loadPriority)),e}_displayTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;return e.reduceFeatures(t,this.memoryFactor,this.objectIdField)&&this._setDirty(),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this.paused)return!1;let s=!1;for(const i of e){if(!i.needsFetching)continue;const e=a(this.context.memoryCache)?this.context.memoryCache.pop(i.id):null;if(a(e))i.cache=e,this._setDirty(),this._scheduleUpdated(),t.madeProgress();else{if(this._needsNumFeatures(i)){const e=new AbortController,r=this._fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.numFeatures=M)),s=!0,t.madeProgress()}if(t.done)return!0}}if(s)return t.hasProgressed;for(const i of e)if(i.needsFetching){const e=new AbortController,s=this._fetchTile(i,e.signal);if(this._handleRequest(i,s,e,(e=>{i.setFeatures([],0,null),this._invalidateCounts(),i.featuresMissing=!1,this.context.logFetchError(N,e)})),t.madeProgress(),t.done)return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.constructed)return;const s=new Array;this.featureTiles.forEach((i=>{o(i.displayingFeatures)||0===i.displayingFeatures.length||(i.intersectionIncludingBorrowed(t,V),i.intersectionIncludingBorrowed(e,z),g(V,z)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this.changes.updates;for(const i of e)if(!o(i.displayingFeatures))for(const e of i.displayingFeatures){const i=T(e,this.objectIdField);if(t.has(i))continue;t.add(i);const{feature:r}=this.displayingFeatureReferences.get(i);s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;this.paused||this.featureTiles.forEach((t=>t.isFetching?++e:0));const t=this._dirty||e>0||!!this.pendingEdits;if(this._set(\"updating\",t),t){let t=0,s=0,i=0,r=0,n=0;const o=this.displayingFeatureReferences.size/this.numDisplayingFeatureReferences;this.featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=a(e.displayingFeatures)?e.displayingFeatures.length*o:0;n+=t-s}e.needsFetching?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let u=0,l=0;t?(l=t,u=Math.min(r*t/i,t)):(l=s,u=r),n=Math.min(this.maximumNumberOfFeatures-this.features.length,n),this._set(\"updatingTotal\",l),this._set(\"updatingRemaining\",u),this._set(\"expectedFeatureDiff\",n)}else this._set(\"updatingTotal\",0),this._set(\"updatingRemaining\",0),this._set(\"expectedFeatureDiff\",0);this.debugger&&this.debugger.update()}_updateMaximumNumberOfFeaturesExceeded(){const e=r(this.featureTiles,(e=>e.perTileMaximumNumberOfFeaturesExceeded));this._set(\"maximumNumberOfFeaturesExceeded\",e)}_updateRatio(e){const t=q(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this.featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.features&&(e.features.length>=t||e.fetchStatus===D.FULL)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new w(e);return this.featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.descriptor.resolution;this.featureTiles.forEach((s=>{if(!(o(s.displayingFeatures)||e===s||e.descriptor.lij&&s.descriptor.lij&&!j(e.descriptor.lij,s.descriptor.lij))){o(e.displayingFeatures)&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(o(e.extentIncludingBorrowedFeatures)&&(e.extentIncludingBorrowedFeatures=F(e.descriptor.extent)),y(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this.displayingFeatureReferences.get(T(i,this.objectIdField));s.ref(s.feature,t),this.numDisplayingFeatureReferences++}}})),e.featureLimit=a(e.displayingFeatures)?e.displayingFeatures.length:0}_removeTile(e){this._clearTile(e),this.featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetching&&(e.fetchStatus=D.DONE):e.fetchStatus=D.FETCH_NEEDED}_cancelFetchTile(e){const t=e.requestController;a(t)&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){return e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._getListOfTiles()),e.fetchStatus===D.REFETCHING?D.REFETCH_NEEDED:D.FETCH_NEEDED}async _fetchTile(e,t){const s=this._maximumFeaturesForTile(e);if(s<=0)return L(e);const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(I(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>C.MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const a=this._createQuery(e);if(a.maxRecordCountFactor=Math.ceil(s/i),e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);a.maxRecordCountFactor=Math.max(t+1,a.maxRecordCountFactor)}const{features:n,exceededTransferLimit:o,fields:u}=await this._queryFeatures(a,t),l=o?a.maxRecordCountFactor>=C.MAX_MAX_RECORD_COUNT_FACTOR?D.FULL:D.DONE:D.FULL;return await this._frameTask.schedule((()=>{e.featuresMissing=n.length<e.numFeatures||o;const t=this._removeEmptyFeatures(n);e.setFeatures(n,t,Q(u))}),t),this._invalidateCounts(),l}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,a=0,n=this._maximumFeaturesForTile(e)-a;const o=this._getMaxRecordCount(e);let l=null;for(;;){const h=this._createQuery(e),c=this._setPagingParameters(h,i,n,o),{features:d,exceededTransferLimit:p,fields:f}=await this._queryFeatures(h,t);if(await this._frameTask.schedule((()=>{c&&(i+=u(h.num)),a+=d.length,r+=this._removeEmptyFeatures(d),e.featuresMissing=i<e.numFeatures||p,s=s?s.concat(d):d,l=H(l,f),e.setFeatures(s,r,l)}),t),this._invalidateCounts(),this._setDirty(),n=this._maximumFeaturesForTile(e)-a,!c||!p||n<=0)return p?D.DONE:D.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery(),s=e.descriptor.extent;if(s){const e=this.context.tilingScheme.spatialReference;t.geometry=_(s,e)}return this._setResolutionParams(t,e),this._useTileQuery(e)?t.resultType=\"tile\":this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(null==e.descriptor.resolution)return null;const t=this.context.viewingMode===R.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.descriptor.resolution,t)/this.lodFactor}get supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&\"point\"!==this.context.geometryType}_setResolutionParams(e,t){if(!this.supportsResolution)return;const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new E({mode:\"view\",originPosition:\"upper-left\",tolerance:s,extent:this.context.fullExtent}):\"polyline\"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e){const t=e.length;for(let s=0;s<e.length;){const t=e[s];x(t.geometry)?++s:(e[s]=e[e.length-1],--e.length)}return t-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!I(e)}_getMaxRecordCount(e){const{tileMaxRecordCount:t,maxRecordCount:s}=this.context;return this._useTileQuery(e)&&a(t)&&t>0&&this.context.capabilities.supportsResultType?t:a(s)&&s>0?s:k}_useTileQuery(e){return(!I(e)||!this.context.capabilities.supportsCacheHint)&&this.context.capabilities.supportsResultType}_handleRequest(e,t,s,i){e.fetchStatus=e.needsRefetching?D.REFETCHING:D.FETCHING,e.requestController=s;let r=!1;t.then((t=>{e.requestController=null,e.fetchStatus=t})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchStatus=D.DONE),l(t)?r=!0:i(t)})).then((()=>{r||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this.handles&&!this.handles.has(\"scheduleUpdated\")&&this.handles.add(c((()=>{this.handles.remove(\"scheduleUpdated\"),this._updated()})),\"scheduleUpdated\")}_showTile(e){if(a(e.displayingFeatures)&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=a(e.displayingFeatures)&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.descriptor.resolution,i=this.changes.updates,r=this.changes.adds,n=Math.min(e.featureLimit,t.length);e.featureLimit=n;for(let a=0;a<n;++a){const e=t[a],n=T(e,this.objectIdField),o=this.displayingFeatureReferences.get(n);if(o){const t=o.ref(e,s);t.oldVersion!==t.newVersion&&(i.removes.push(t.oldVersion),i.adds.push(t.newVersion))}else this.displayingFeatureReferences.set(n,new this.FeatureReferenceClass(e,s)),r.push(e);this.numDisplayingFeatureReferences++}return this._hideTileFeatures(e),this._applyChanges(),e.displayingFeatures=t.slice(0,n),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(o(e.displayingFeatures))return;const t=this.changes.updates,s=this.changes.removes;for(const i of e.displayingFeatures){const r=T(i,this.objectIdField),a=this.displayingFeatureReferences.get(r);if(!a)continue;const n=a.unref(e.descriptor.resolution);this.numDisplayingFeatureReferences--,n?n.oldVersion!==n.newVersion&&(null==n.newVersion?(this.displayingFeatureReferences.delete(r),s.push(n.oldVersion)):(t.adds.push(n.newVersion),t.removes.push(n.oldVersion))):console.error(\"Hiding unreferenced feature\")}this._applyChanges(),e.displayingFeatures=null}_applyChanges(){const e=this.changes.updates;e.removes.length>0&&(this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this.features.addMany(e.adds),e.adds.length=0);const t=this.changes.adds,s=this.changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+G,i);this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&this.features.addMany(0===r?t:t.slice(r)),s.length>i&&this.features.removeMany(0===r?s:s.slice(r)),t.length=0,s.length=0}_clearTile(e){if(this._hideTile(e),e.features&&a(this.context.memoryCache)){const t=16+e.estimatedSize;this.context.memoryCache.put(e.id,e.cache,t)}e.setFeatures(null,0,null),this._invalidateCounts()}_invalidateCounts(){this.notifyChange(\"totalVertices\"),this.notifyChange(\"totalFeatures\"),this.notifyChange(\"memoryForUnusedFeatures\")}_getListOfTiles(){return Array.from(this.featureTiles.values())}get storedFeatures(){return this._getListOfTiles().reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}_maximumFeaturesForTile(e){const t=e.hasPreciseFeatureCount?e.numFeatures:1/0,s=e.hasPreciseFeatureCount?t:this.maximumNumberOfFeatures,i=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(s*i/(1-e.emptyFeatureRatio)),t)}get test(){return{process:e=>this.runTask(e),getFeatureTileById:e=>this.featureTiles.get(e),forEachFeatureTile:e=>this.featureTiles.forEach(e)}}};function I(e){return\"dummy-tile-full-extent\"===e.id}function q(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function A(e){const t=e.capabilities.query;return{supportsMultipleResolutions:S(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function S(e){switch(e.geometryType){case\"polyline\":return!0;case\"polygon\":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}function L(e){return e.setFeatures([],0,null),e.featuresMissing=!1,D.DONE}function Q(e){return o(e)?new Set:new Set(e.map((e=>e.name)))}function H(e,t){if(o(e)||o(t))return Q(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}e([p({constructOnly:!0})],U.prototype,\"features\",void 0),e([p()],U.prototype,\"tileDescriptors\",void 0),e([p({value:1/0})],U.prototype,\"maximumNumberOfFeatures\",null),e([p({value:1})],U.prototype,\"memoryFactor\",null),e([p({value:1})],U.prototype,\"lodFactor\",null),e([p()],U.prototype,\"useTileCount\",null),e([p({readOnly:!0})],U.prototype,\"updating\",void 0),e([p({readOnly:!0})],U.prototype,\"updatingTotal\",void 0),e([p({readOnly:!0})],U.prototype,\"updatingRemaining\",void 0),e([p({readOnly:!0})],U.prototype,\"expectedFeatureDiff\",void 0),e([p({readOnly:!0})],U.prototype,\"memoryForUnusedFeatures\",null),e([p({readOnly:!0})],U.prototype,\"maximumNumberOfFeaturesExceeded\",void 0),e([p({constructOnly:!0})],U.prototype,\"maximumNumberOfFeaturesExceededThrottle\",void 0),e([p({readOnly:!0})],U.prototype,\"totalVertices\",null),e([p({readOnly:!0})],U.prototype,\"totalFeatures\",null),e([p()],U.prototype,\"filterExtent\",null),e([p({constructOnly:!0})],U.prototype,\"context\",void 0),U=e([f(\"esri.views.3d.layers.support.FeatureTileFetcher3D\")],U);const k=2e3,V=m(),z=m(),B=6e5,G=200,X=U;export{U as FeatureTileFetcher3D,A as contextCapabilitiesFromLayer,X as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{project as o}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const s=l.view.spatialReference,i=l.layer.fullExtent,n=e(i)&&i.spatialReference;if(r(i)||!n)return Promise.resolve(null);if(n.equals(s))return Promise.resolve(i.clone());const a=o(i,s);return e(a)?Promise.resolve(a):l.view.state.isLocal?t(i,s,l.layer.portalItem).then((e=>!l.destroyed&&e?e:void 0)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{ObservableChangesType as t}from\"../../../core/ObservableChangesType.js\";import{someSet as s}from\"../../../core/SetUtils.js\";class r extends e{constructor(){super(...arguments),this._set=new Set}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._set.size}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this.emit(\"after-changes\",{type:t.ADD}),this.emit(\"change\",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:[e]}))}removeMany(e){const s=[];for(const t of e)this._set.delete(t)&&s.push(t);s.length>0&&(this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:s}))}toArray(){return[...this._set]}find(e){let t;return s(this._set,(s=>!!e(s)&&(t=s,!0))),t}forEach(e){this._set.forEach((t=>e(t)))}}export{r as EventedSet};\n"],"names":["h","l","constructor","e","t","s","this","loadingGraphics","Map","loadedGraphics","pendingGraphics","_enabled","tileFetcher","view","tilingScheme","r","loadedSymbols","map","a","i","material","color","outline","size","loadingSymbols","pendingSymbols","dataExtentSymbol","destroy","enabled","update","_synchronizeMaps","filter","isFetching","symbols","showDataExtent","filterExtent","forEach","graphics","removeMany","clear","dataExtentGraphic","remove","geometry","symbol","add","test","getFeatureTileById","push","delete","forEachFeatureTile","has","id","descriptor","lij","ensureMaxLod","n","getExtentGeometry","c","length","center","verticalOffset","screenLength","callout","type","border","symbolLayers","o","text","halo","set","addMany","S","O","d","super","watchUpdatingTracking","D","serviceDataExtent","serviceDataCount","L","NO_SERVICE_DATA_COUNT","vertexLimitExceeded","displayFeatureLimit","suspended","handles","fetchDataInfoPromise","fetchDataInfoAbortController","lifeCycleAbortController","AbortController","extent","spatialReference","equals","layerView","error","_get","clone","_set","updating","mode","featureTiles","updatingTotal","updatingRemaining","expectedFeatureDiff","memoryForUnusedFeatures","maximumNumberOfFeaturesExceeded","maximumNumberOfFeatures","_clearOverride","_override","hasMaximumNumberOfFeaturesOverride","_isOverridden","layer","infoFor3D","qualitySettings","graphics3D","snapshotAvailable","minScale","_approximateExtentSizeAtScale","width","height","MAX_SNAPSHOT_MIN_SCALE_FACTOR","maxTotalSnapshotVertices","totalVertices","Math","max","ceil","pixelSize","levels","tileSize","scale","tileDescriptors","tiles","initialize","vertexLimitInfo","addPromise","_updateVertexLimitExceeded","signal","_modeChanged","f","addResolvingPromise","Promise","resolve","then","_verifyCapabilities","_fetchServiceDataInfo","_initializeTileFetcher","get","_cancelFetchServiceDataInfo","tilesHandle","abort","suspend","resume","restart","refetch","y","w","context","features","resourceController","memoryController","events","on","memoryFactor","geometryType","g","lodFactor","createQueryVersion","_dataFilterChanged","availableFields","_availableFieldsChanged","requiredFields","_requiredFieldsChanged","_applyEdits","watch","useTileCount","x","b","debugger","C","toTileInfo","supportsExceedsLimitQuery","catch","addClient","warn","notifyChange","u","applyEdits","deletedFeatures","updatedFeatures","addedFeatures","_updateServiceDataExtent","m","N","_createVertexLimitExceededQuery","createQuery","outStatistics","E","statisticType","maxVertexCount","outStatisticFieldName","maxPointCount","maxRecordCount","capabilities","query","supportsCacheHint","cacheHint","_createDataInfoQuery","outSpatialReference","_fullExtentIsAccurate","definitionExpression","_","url","async","_tryUpdateServiceDataExtent","fullExtentInLocalViewSpatialReference","supportsExtent","fullExtent","MAX_FEATURE_COUNT_FOR_EXTENT","queryExtent","timeout","QUERY_EXTENT_TIMEOUT","portalItem","T","queryFeatureCount","QUERY_STATISTICS_TIMEOUT","ok","value","averageSymbolComplexity","maximumTotalNumberOfPrimitives","primitivesPerCoordinate","primitivesPerFeature","operations","supportsExceedsLimitStatistics","minimumNumberOfVerticesForGeometry","p","min","A","queryFeatures","attributes","exceedslimit","_updateServiceDataCount","debug","storedFeatures","totalFeatures","F","readOnly","prototype","constructOnly","Number","dependsOn","v","reset","minX","minY","maxX","maxY","_indexInvalid","_boundsToLoad","_boundsById","_idByBounds","_index","_loadIndex","Array","load","forEachInBounds","search","invalidateIndex","geometryInfo","_boundsStore","_featuresById","_markedIds","Set","featureAdapter","hasM","hasZ","numFeatures","fullBounds","objectId","storeStatistics","coords","featureCount","vertexCount","_add","_emitChanged","removeById","_remove","removeManyById","forEachBounds","getFeature","startMarkingUsedFeatures","sweep","emit","feature","displayId","onFeatureAdd","onFeatureRemove","W","U","filterVisibility","filterChanged","dirty","preferredUpdatePolicy","dataExtent","_renderGeometries","_material","V","_materialWithField","isAttributeDriven","_fieldTotal","_memoryFactor","_featureStore","P","colorBufferFloat","textureFloat","_renderView","floatBufferBlendWorking","renderingContext","driverTest","floatBlend","owner","updatingHandles","addOnCollectionChange","_loadedPointGraphics","_onLoadedFeaturesChange","addWhen","_materialParameters","_forEachMaterial","setParameters","_heatmapRendererField","_recreate","fieldName","_heatmapRendererFieldName","numeric","_heatmapRendererFieldIsNumeric","field","title","name","_overlayRenderer","removeGeometries","from","values","featureStore","suspendInfo","legendEnabled","heatmap","maxTotalNumberOfFeatures","minimumTotalNumberOfFeatures","maximumTotalNumberOfFeatures","scaleVisibilitySuspended","usedMemory","usedMemoryPerFeature","R32F","overlays","resolution","_densityMapPixelRatio","_heatmapRenderer","blurRadius","unprocessedMemoryEstimate","performanceInfo","core","visible","missing","pending","elevationUpdating","visibilityFrustum","visibilityScale","basemapTerrain","overlayManager","renderer","_overlaySpatialReference","_blurRadiusParameters","_densityParameters","colorRampData","_colorRampData","pixelRatio","minDensity","minPixelIntensity","maxDensity","maxPixelIntensity","fieldTotal","referenceScale","searchRadius","_clampSearchRadius","resolutionForScale","colorStops","sqrt","_stage","renderView","_featuresArePoints","fieldsIndex","computeAttachmentOrigin","highlight","maskOccludee","setObjectIdVisibility","objectIdField","removed","added","G","j","centroid","_computeFieldTotalChange","uid","_pointGraphicToRenderGeometry","addGeometries","requestRender","toArray","M","H","data","I","layerUid","graphicUid","R","boundingSphere","reduce","warnOnce","arguments","controller","updatePolicy","suspendResumeExtentMode","slicePlaneEnabled","drapeSourceType","suspendResumeExtent","_controllerCreated","clippingExtent","supportsHeightUnitConversion","pendingController","queryEngine","isTable","reject","_validateGeometryType","_recreateProcessor","_initializeController","processor","priority","_destroyPendingController","canResume","graphics3DProcessor","heatmapProcessor","getGraphicFromGraphicUid","whenGraphicBounds","executeQuery","_ensureQuery","queryObjectIds","executeQueryForIds","executeQueryForCount","executeQueryForExtent","getSuspendInfo","isUpdating","destroyed","ready","createController","when","_setControllerWhenInitialized","isResolved","beforeSetController","_updateClippingExtent","frustumVisibilityEnabled","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","updateClippingExtent","setup","_getResourceInfo","displayedNumberOfFeatures","totalNumberOfFeatures","nodes","Boolean","highestResolutionVersion","versions","ref","isReferenced","isSingle","refCount","oldVersion","Object","defineProperty","configurable","newVersion","unref","_recalculateHighestResolutionVersion","_feature","fetchStatus","FETCH_NEEDED","_features","_numVertices","_featureLimit","featuresMissing","_shuffled","_numFeatures","_emptyFeatureRatio","_estimatedSize","_estimatedUnusedSize","_estimatedUnusedSizeDirty","_availableFields","_displayingFeatures","alive","filtered","displayingFeatures","extentIncludingBorrowedFeatures","perTileMaximumNumberOfFeaturesExceeded","featureLimit","setFeatures","emptyFeatureRatio","hasPreciseFeatureCount","needsFeatureCount","numVertices","estimatedSize","updateMemoryEstimates","estimatedUnusedSize","FETCHING","REFETCHING","isRefetching","needsFetching","REFETCH_NEEDED","needsRefetching","isFetched","DONE","FULL","resetFetching","needsDisplayUpdate","intersects","intersectionIncludingBorrowed","_shuffle","sort","reduceFeatures","cache","requestController","_useTileCount","maximumNumberOfFeaturesExceededThrottle","_fullRatio","_farRatio","changes","updates","adds","removes","_frameTask","_dirty","displayingFeatureReferences","numDisplayingFeatureReferences","pendingEdits","_maximumFeaturesUpdated","_setDirty","supportsResolution","_reclip","FeatureReferenceClass","supportsMultipleResolutions","scheduler","registerTask","_cancelFetchTile","_removeTile","paused","_clearTile","_resetFetchTile","memoryCache","_pause","_unpause","_updated","edits","count","result","_applyEditsDeleteFeatures","_applyEditsAddUpdateFeatures","globalIdField","globalId","errorOncePerTick","find","_invalidateCounts","_applyEditsAddUpdateTile","_createQuery","resultType","objectIds","_queryFeatures","slice","fields","queryFeaturesDehydrated","B","running","runTask","processQueue","constructed","_getListOfTiles","_markTilesNotAlive","run","_addTiles","_filterExtentTiles","_removeTiles","done","_sortTiles","_displayTiles","_fetchTiles","_updateMemoryEstimates","_updateMaximumNumberOfFeaturesExceeded","_addTile","madeProgress","hasProgressed","pop","loadPriority","_updateRatio","_showTile","_scheduleUpdated","_needsNumFeatures","_fetchTileCount","_handleRequest","_fetchTile","logFetchError","some","z","_refreshDisplayingFeatures","_applyChanges","_maximumFeaturesForTile","q","_referenceDisplayingFeaturesFromRelatedTiles","_fetchCount","_getMaxRecordCount","supportsMaxRecordCountFactor","_fetchPagedTile","maxRecordCountFactor","exceededTransferLimit","schedule","_removeEmptyFeatures","Q","_createFeatureCountQuery","_setPagingParameters","num","concat","_setResolutionParams","_useTileQuery","supportsPagination","start","_getEffectiveTileResolution","viewingMode","resolutionAtLevel","supportsQuantization","quantizationParameters","originPosition","tolerance","maxAllowableOffset","tileMaxRecordCount","supportsResultType","k","_hideTileFeatures","_hideTile","console","put","process","supportsQuantizationEditMode","supportsFormatPBF","state","isLocal"],"sourceRoot":""}