{"version":3,"file":"static/js/2173.607ab48c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFilterVisibility.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js","../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o,containsPoint as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as h}from\"../../../support/Scheduler.js\";const _=.05;class a{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=h){const e=this._extents,o=new Set;let i=0;for(;i!==e.length;){e.sort(((t,e)=>t[0]-e[0])),i=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const h=e.getItemAt(i);for(let t=i+1;t<e.length;++t){const r=e.getItemAt(t);if(r[0]>=h[2])break;o.add(r)}o.forEach((i=>{if(h===i)return;if(i[2]<=h[0])return void o.delete(i);const a=s(h),c=s(i),g=this._tmpExtent;n(h,i,g);const m=a+c;(s(g)-m)/m<_&&(r(h,g),o.delete(i),e.remove(i),t.madeProgress())})),o.add(h)}}this._dirty=!1}_contains(t){return this._extents.some((e=>o(e,t)))}_removeContained(t){this._extents.filterInPlace((e=>!o(t,e)))}get test(){const t=this;return{containsPoint:e=>t._extents.some((t=>i(t,e)))}}}export{a as ExtentSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import s from\"../../../../core/Handles.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as h}from\"./ExtentSet.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{TaskPriority as p}from\"../../../support/Scheduler.js\";let c=class extends t{constructor(){super(...arguments),this.dirtyExtents=new h,this.globalDirty=!1,this.averageExtentUpdateSize=0,this.dirtyGraphicsSet=new Set,this.handles=new s,this.updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new i}setup(e,t,i,s){this.graphicsCoreOwner=e,this.queryGraphicUIDsInExtent=t,this.graphicsCore=i,this.elevationProvider=s;const r=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add([s.on(\"elevation-change\",(e=>this._elevationChanged(e))),this.graphicsCoreOwner.watch(\"suspended\",(()=>this._suspendedChange())),r.registerTask(p.ELEVATION_ALIGNMENT,this)])}destroy(){this.dirtyGraphicsSet.clear(),this.handles.destroy(),this.handles=null,this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null}clear(){this.dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this.updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this.updateElevation&&(this.globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this.globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.running}get running(){return this.dirtyGraphicsSet.size>0||this.dirtyExtents&&!this.dirtyExtents.empty||this.globalDirty}get updatingRemaining(){return this.dirtyGraphicsSet.size+this.dirtyExtents.size*this.averageExtentUpdateSize}runTask(e){for(this.globalDirty&&(this._markAllGraphicsElevationDirty(),this.globalDirty=!1,e.madeProgress()),e.run((()=>this.dirtyExtents.merge(e)));this.running&&!e.done;)this._updateDirtyGraphics(e),this._updateDirtyExtents(e);this.graphicsCoreOwner.view.deconflictor.setDirty(),this.notifyChange(\"updating\")}_updateDirtyGraphics(e){const t=this.graphicsCoreOwner.view.renderCoordsHelper,i=this.graphicsCore.effectiveUpdatePolicy===o.ASYNC;for(const s of this.dirtyGraphicsSet.keys()){const a=this.graphicsCore.getGraphics3DGraphicById(s);if(this.dirtyGraphicsSet.delete(s),r(a)&&(a.alignWithElevation(this.elevationProvider,t,i),e.madeProgress()),e.done)return}}_updateDirtyExtents(e){for(;!this.dirtyExtents.empty&&!e.done;){const t=this.dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i});const s=this.dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(t,i,(e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);r(t)&&t.needsElevationUpdates()&&this.dirtyGraphicsSet.add(e)})),this.averageExtentUpdateSize=.1*(this.dirtyGraphicsSet.size-s)+.9*this.averageExtentUpdateSize,e.madeProgress()}}_markAllGraphicsElevationDirty(){this.dirtyExtents.clear(),this.dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((e,t)=>this.dirtyGraphicsSet.add(t)))}_elevationChanged(e){if(\"scene\"===e.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:t,spatialReference:i}=e;if(this.graphicsCoreOwner.suspended){if(!this.updateElevation){const e=this.graphicsCore.computedExtent;e&&t[2]>e.xmin&&t[0]<e.xmax&&t[3]>e.ymin&&t[1]<e.ymax&&(this.updateElevation=!0)}this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i})}else t[0]===-1/0?this.globalDirty=!0:this.dirtyExtents.add(t),this.notifyChange(\"updating\")}};e([a({readOnly:!0})],c.prototype,\"updating\",null),e([a({readOnly:!0})],c.prototype,\"updatingRemaining\",null),c=e([n(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],c);const d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import t from\"../../../../core/Handles.js\";import r from\"../../../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../../../core/maybe.js\";import{ObservableChangesType as h}from\"../../../../core/ObservableChangesType.js\";import{isAbortError as l}from\"../../../../core/promiseUtils.js\";import{on as n}from\"../../../../core/watchUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import u from\"../../../../layers/support/FeatureFilter.js\";import{VisibilityFlag as y,VisibilityGroup as p}from\"./enums.js\";import d from\"./QueryEngine.js\";import{getFloorFilterClause as _}from\"../../../support/floorFilterUtils.js\";import{TaskPriority as g}from\"../../../support/Scheduler.js\";const m=r.getLogger(\"esri.views.3d.layers.graphics.Graphics3DFilterVisibility\");let f=class extends i{constructor(...e){super(...e),this._dirty=!1,this._querying=!1,this._handles=new t}get updating(){return this._dirty||this._querying||s(this._queryResult)}setup(e,i){this._layerView=e,this._core=i,this._objectIdField=e.layer.objectIdField,this._queryEngine=new d({layerView:this._layerView,priority:g.FILTER_VISIBILITY});const t=this._layerView.view.resourceController.scheduler;this._handles.add(t.registerTask(g.FILTER_VISIBILITY,this)),this._handles.add(n(i.owner,\"loadedGraphics\",\"after-changes\",(e=>this._graphicsChanged(e)),(()=>this.dirty=!0))),this.filterChanged()}destroy(){this._handles.destroy(),this._handles=null,this.clear(),this._layerView=null,this._core=null}clear(){this._queryEngine.clear()&&(this._core.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(y.FILTER))),this._queryResult=null,this._querying=!1),this.dirty=!1}_graphicsChanged(e){this._queryEngine&&0==(e.type&h.ADD)||(this.dirty=!0)}updateVisibility(e){this.active&&(e.hasVisibilityFlag(y.FILTER,p.GRAPHIC)||e.setVisibilityFlag(y.FILTER,!1,p.GRAPHIC),this.dirty=!0)}filterChanged(){const e=this._recomputeFilter();e!==this._filter&&(this._filter=e,this.dirty=!0)}get active(){return this._filter&&this._core.graphics3DGraphics.size>0}_recomputeFilter(){const e=\"filter\"in this._layerView?this._layerView.filter:null,i=\"timeExtent\"in this._layerView?this._layerView.timeExtent:null,t=_(this._layerView);if(o(i)&&o(t))return e;const r=s(e)?e.clone():new u;if(s(i)&&(r.timeExtent=s(r.timeExtent)?r.timeExtent.intersection(i):i),s(t)){const e=null==r.where||\"\"===r.where;r.where=e?t:`(${r.where}) AND (${t})`}return r}get running(){return this._dirty&&!this._querying||s(this._queryResult)}runTask(e){if(!this.active)return void this.clear();!this._dirty||this._querying||e.done||(this._querying=!0,this.dirty=!1,this._queryEngine.executeQueryForIdSet(this._filter).then((e=>{this._queryResult=e,this._querying=!1})).catch((e=>{if(!l(e)){m.warn(\"FeatureFilter query failed: \"+e,{error:e});const i=new Set;this._core.graphics3DGraphics.forEach((e=>i.add(this._getFeatureId(e.graphic)))),this._queryResult=i,this._querying=!1}})),e.madeProgress());const i=this._queryResult;s(i)&&!e.done&&(this._core.modifyGraphics3DGraphicVisibilities((t=>{if(e.done)return!1;const r=i.has(this._getFeatureId(t.graphic));return!!t.setVisibilityFlag(y.FILTER,r,p.GRAPHIC)&&(e.madeProgress(),!0)})),e.done||(this._queryResult=null))}_getFeatureId(e){return null==e.objectId?e.attributes[this._objectIdField]:e.objectId}set dirty(e){this._dirty=e}};e([a({readOnly:!0})],f.prototype,\"updating\",null),e([a({readOnly:!0})],f.prototype,\"running\",null),e([a()],f.prototype,\"_dirty\",void 0),e([a()],f.prototype,\"_querying\",void 0),e([a()],f.prototype,\"_queryResult\",void 0),f=e([c(\"esri.views.3d.layers.graphics.Graphics3DFilterVisibility\")],f);export{f as Graphics3DFilterVisibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import{neverReached as i}from\"../../../../core/compilerUtils.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import{destroyMaybe as r,isSome as n,unwrap as a}from\"../../../../core/maybe.js\";import{logOnError as o}from\"../../../../core/promiseUtils.js\";import{watch as l,initial as p,when as u}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as c}from\"../../../../core/accessorSupport/diffUtils.js\";import{canProject as y,project as g}from\"../../../../geometry/support/webMercatorUtils.js\";import{getRenderingInfo as m,getRenderingInfoAsync as f}from\"../../../../renderers/support/renderingInfoUtils.js\";import b from\"../../../../rest/support/Query.js\";import{SUSPEND_RESUME_EXTENT_OPTIMISM as v}from\"./constants.js\";import{Graphics3DCore as C}from\"./Graphics3DCore.js\";import E from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFilterVisibility as x}from\"./Graphics3DFilterVisibility.js\";import w from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as V}from\"./Graphics3DObjectStates.js\";import S from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as j}from\"./graphicUtils.js\";import{attributeLookup as O}from\"../support/attributeUtils.js\";import{UpdatePolicy as R,Object3DState as G}from\"../../webgl-engine/lib/basicInterfaces.js\";let _=class extends s{constructor(e){super(e),this.type=\"graphics-3d\",this.elevationFeatureExpressionEnabled=!1,this.dataExtent=null,this.preferredUpdatePolicy=R.ASYNC,this.suspendResumeExtent=null}normalizeCtorArgs(e){const t=e.frustumVisibilityEnabled?new w:null,i=e.scaleVisibilityEnabled?new S:null,s=(e.filterVisibilityEnabled||e.timeExtentVisibilityEnabled)&&\"multipatch\"!==e.owner.layer.geometryType?new x:null,r=e.elevationAlignmentEnabled?new E:null,{owner:n,updateClippingExtent:a,dataExtent:o,elevationFeatureExpressionEnabled:l,preferredUpdatePolicy:p}=e;return{owner:n,updateClippingExtent:a,dataExtent:o,frustumVisibility:t,scaleVisibility:i,filterVisibility:s,elevationAlignment:r,elevationFeatureExpressionEnabled:l,preferredUpdatePolicy:p}}get featureSpatialReference(){return\"featureSpatialReference\"in this.owner?this.owner.featureSpatialReference:void 0}initialize(){const e=new C({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:this.owner.hasZ,hasM:this.owner.hasM});this._set(\"graphicsCore\",e),this.scaleVisibility&&this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.scaleVisibility.layerMinMaxScaleChangeHandler())),this.filterVisibility&&(this.updatingHandles.add((()=>\"filter\"in this.owner&&this.owner.filter),(()=>this.filterVisibility.filterChanged())),this.updatingHandles.add((()=>\"timeExtent\"in this.owner&&this.owner.timeExtent),(()=>this.filterVisibility.filterChanged()))),this.elevationAlignment&&this.updatingHandles.add((()=>this.layer.elevationInfo),((e,t)=>{c(e,t)&&this.updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})),this.updatingHandles.add((()=>this.layer.labelsVisible),(()=>this.graphicsCore.updateVisibilityInfo())),this.updatingHandles.add((()=>this.layer.labelingInfo),((e,t)=>{c(e,t)&&this.graphicsCore.updateLabelingInfo()})),this.updatingHandles.add((()=>this.preferredUpdatePolicy),(e=>this.graphicsCore.preferredUpdatePolicy=e)),this.handles.add(this.view.resourceController.memoryController.events.on(\"quality-changed\",(()=>this.notifyChange(\"displayFeatureLimit\"))))}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set(\"frustumVisibility\",r(this.frustumVisibility)),this._set(\"scaleVisibility\",r(this.scaleVisibility)),this._set(\"filterVisibility\",r(this.filterVisibility)),this._set(\"elevationAlignment\",r(this.elevationAlignment)),this._set(\"objectStates\",r(this.objectStates)),this._set(\"graphicsCore\",r(this.graphicsCore)),this._set(\"owner\",null)}get layer(){return this.owner.layer}get suspendResumeExtentMode(){return\"suspendResumeExtentMode\"in this.owner?this.owner.suspendResumeExtentMode:\"computed\"}get scaleVisibilitySuspended(){var e;return null==(e=this.scaleVisibility)?void 0:e.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return!this.frustumVisibility.suspended}get suspendInfo(){var e,t;const i={};return null!=(e=this.scaleVisibility)&&e.suspended&&(i.outsideScaleRange=!0),null!=(t=this.frustumVisibility)&&t.suspended&&(i.outsideOfView=!0),i}get updating(){var e,t,i;return!!(null!=(e=this.graphicsCore)&&e.updating||null!=(t=this.frustumVisibility)&&t.updating||null!=(i=this.updatingHandles)&&i.updating)}get updatingRemaining(){var e,t;return null!=(e=null==(t=this.graphicsCore)?void 0:t.updatingRemaining)?e:0}get featureStore(){var e;return null==(e=this.graphicsCore)?void 0:e.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity}get filter(){return\"filter\"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get drapeSourceType(){return this.owner.drapeSourceType}get updatePolicy(){return this.owner.updatePolicy}get graphics3DGraphics(){var e;return null==(e=this.graphicsCore)?void 0:e.graphics3DGraphics}get graphics3DGraphicsByObjectID(){var e;return null==(e=this.graphicsCore)?void 0:e.graphics3DGraphicsByObjectID}get symbolUpdateType(){var e;return null==(e=this.graphicsCore)?void 0:e.symbolUpdateType}get displayFeatureLimit(){var e;const t=this.view.resourceController.memoryController.memoryFactor,i=null==(e=this.graphicsCore)?void 0:e.displayFeatureLimit;if(1===t)return i;const s=Math.ceil(i.maximumNumberOfFeatures*t),r=Math.ceil(i.maximumTotalNumberOfFeatures*t),n=Math.ceil(i.minimumTotalNumberOfFeatures*t);return{...i,maximumNumberOfFeatures:s,maximumTotalNumberOfFeatures:r,minimumTotalNumberOfFeatures:n}}get usedMemory(){var e,t;return null!=(e=null==(t=this.graphicsCore)?void 0:t.usedMemory)?e:0}get usedMemoryPerFeature(){var e,t;return null!=(e=null==(t=this.graphicsCore)?void 0:t.usedMemoryPerGraphic)?e:0}get unprocessedMemoryEstimate(){var e,t;return null!=(e=null==(t=this.graphicsCore)?void 0:t.unprocessedMemoryEstimate)?e:0}get performanceInfo(){return{core:this.graphicsCore.performanceInfo,elevationUpdating:this.elevationAlignment.updating,visibilityFrustum:!this.frustumVisibility.suspended,visibilityScale:!this.scaleVisibility.suspended}}async setup(){this.frustumVisibility&&this.frustumVisibility.setup(this);const e=this.owner,t=this.owner.view.basemapTerrain,i=(e,t,i)=>this.graphicsCore.spatialIndex.queryGraphicUIDsInExtent(e,t,i);if(this.scaleVisibility&&this.scaleVisibility.setup(this,this.layer,i,this.graphicsCore,t),this.filterVisibility&&(\"filter\"in e||\"timeExtent\"in e)&&this.filterVisibility.setup(e,this.graphicsCore),this.elevationAlignment){const t=e.view.elevationProvider;this.elevationAlignment.setup(this,i,this.graphicsCore,t)}this._set(\"objectStates\",new V(this.graphicsCore)),this._set(\"labeling\",this.owner.view.labeler.addGraphicsOwner(this.graphicsCore,this.scaleVisibility)),this._set(\"deconfliction\",e.view.deconflictor.addGraphicsOwner(this.graphicsCore)),await o(this.graphicsCore.setup({elevationAlignment:this.elevationAlignment,scaleVisibility:this.scaleVisibility,filterVisibility:this.filterVisibility,deconflictor:this.deconfliction,labeler:this.labeling,objectStates:this.objectStates})),this.updatingHandles.add((()=>this.layer.renderer),(e=>this.updatingHandles.addPromise(this.graphicsCore.rendererChange(e)))),this.updatingHandles.add((()=>e.fullOpacity),(()=>this.graphicsCore.opacityChange())),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this.updatingHandles.add((()=>e.view.clippingArea),(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await o(this.graphicsCore.updateLabelingInfo())}maskOccludee(e){const{set:t,handle:i}=this.objectStates.acquireSet(G.MaskOccludee,null);return this.objectStates.setUid(t,e.uid),i}highlight(e,i){if(e instanceof b){const{set:t,handle:s}=this.objectStates.acquireSet(G.Highlight,i);return this.owner.queryObjectIds(e).then((e=>this.objectStates.setObjectIds(t,e))),s}if(\"number\"==typeof e||\"string\"==typeof e)return this.highlight([e],i);if(e instanceof t)return this.highlight([e],i);if(\"toArray\"in e&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof t){const t=e;if(null==O(this.layer.fieldsIndex,t[0].attributes,i)){const e=t.map((e=>e.uid)),{set:i,handle:s}=this.objectStates.acquireSet(G.Highlight,null);return this.objectStates.setUids(i,e),s}e=t.map((e=>O(this.layer.fieldsIndex,e.attributes,i)))}if(\"number\"==typeof e[0]||\"string\"==typeof e[0]){const t=e,{set:s,handle:r}=this.objectStates.acquireSet(G.Highlight,i);return this.objectStates.setObjectIds(s,t),r}}return M}whenGraphicBounds(e,t){var i;return null==(i=this.graphicsCore)?void 0:i.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){var i;return null==(i=this.graphicsCore)?void 0:i.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,t,i){const s=m(e,{renderer:t,arcade:i});if(n(s)&&s.color){const e=s.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}return s}getRenderingInfoAsync(e,t,i,s){return f(e,{renderer:t,arcade:i,...s})}getSymbolLayerSize(e,t){var i;return null==(i=this.graphicsCore)?void 0:i.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){var i;null==(i=this.graphicsCore)||i.setObjectIdVisibility(e,t)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.handles.add(l((()=>this.suspendResumeExtentMode),(()=>{switch(this.handles.remove(I),this.suspendResumeExtentMode){case\"computed\":this.handles.add([l((()=>this.graphicsCore.computedExtent),(e=>this._updateSuspendResumeExtent(e)),p),l((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],I);break;case\"data\":this.handles.add([u((()=>this.dataExtent),(e=>this._updateSuspendResumeExtent(e)),p),l((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(a(this.dataExtent))))],I);break;default:i(this.suspendResumeExtentMode)}}),p))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this.suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!y(e,i))return;e=g(e,i)}return j(e,t,v,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){this.frustumVisibility&&this.frustumVisibility.setExtent(e),this.scaleVisibility&&this.scaleVisibility.setExtent(e)}};e([h()],_.prototype,\"type\",void 0),e([h({constructOnly:!0})],_.prototype,\"owner\",void 0),e([h()],_.prototype,\"layer\",null),e([h({constructOnly:!0})],_.prototype,\"updateClippingExtent\",void 0),e([h({constructOnly:!0})],_.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([h({constructOnly:!0})],_.prototype,\"graphicsCore\",void 0),e([h({constructOnly:!0})],_.prototype,\"scaleVisibility\",void 0),e([h({constructOnly:!0})],_.prototype,\"filterVisibility\",void 0),e([h({constructOnly:!0})],_.prototype,\"elevationAlignment\",void 0),e([h({constructOnly:!0})],_.prototype,\"frustumVisibility\",void 0),e([h({readOnly:!0})],_.prototype,\"deconfliction\",void 0),e([h({readOnly:!0})],_.prototype,\"labeling\",void 0),e([h({readOnly:!0})],_.prototype,\"objectStates\",void 0),e([h()],_.prototype,\"suspendResumeExtentMode\",null),e([h()],_.prototype,\"dataExtent\",void 0),e([h()],_.prototype,\"scaleVisibilitySuspended\",null),e([h()],_.prototype,\"suspended\",null),e([h()],_.prototype,\"legendEnabled\",null),e([h()],_.prototype,\"suspendInfo\",null),e([h()],_.prototype,\"updating\",null),e([h()],_.prototype,\"updatingRemaining\",null),e([h()],_.prototype,\"featureStore\",null),e([h()],_.prototype,\"view\",null),e([h()],_.prototype,\"loadedGraphics\",null),e([h()],_.prototype,\"fullOpacity\",null),e([h()],_.prototype,\"filter\",null),e([h()],_.prototype,\"slicePlaneEnabled\",null),e([h()],_.prototype,\"drapeSourceType\",null),e([h()],_.prototype,\"updatePolicy\",null),e([h()],_.prototype,\"preferredUpdatePolicy\",void 0),e([h()],_.prototype,\"displayFeatureLimit\",null),_=e([d(\"esri.views.3d.layers.graphics.Graphics3DFeatureProcessor\")],_);const A=_,I=\"suspendResumeExtentMode\",M={remove(){},pause(){},resume(){}};export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{init as i}from\"../../../../core/watchUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as o}from\"../../../../geometry/projectionEllipsoid.js\";import{FrustumExtentIntersection as a}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as h}from\"../../../support/Scheduler.js\";const c=1.2;let p=class extends t{constructor(){super(...arguments),this.suspended=!1,this.extent=null,this.extentIntersectionDirty=!0,this._isVisibleBelowSurface=!1,this.handles=new s,this.graphicsCoreOwner=null,this.updating=!0}setup(e){this.graphicsCoreOwner=e,this.extentIntersection=new a({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,s=t.basemapTerrain,r=t.resourceController.scheduler;this.handles.add([t.on(\"resize\",(()=>this._viewChange())),t.state.watch(\"camera\",(()=>this._viewChange()),!0),r.registerTask(h.FRUSTUM_VISIBILITY,this),s.on(\"elevation-bounds-change\",(()=>this._elevationBoundsChange()))]),\"local\"===t.viewingMode?this.isVisibleBelowSurface=!0:this.handles.add([i(s,[\"opacity\",\"wireframe\"],(()=>this._updateIsVisibleBelowSurface())),i(t,\"map.ground.navigationConstraint.type\",(()=>this._updateIsVisibleBelowSurface()))])}destroy(){this.graphicsCoreOwner=null,this.extent=null,this.extentIntersection=null,this.handles&&(this.handles.destroy(),this.handles=null)}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this.extent=e,this.extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this.extentIntersectionDirty=!0}set isVisibleBelowSurface(e){this._isVisibleBelowSurface=e,this._setDirty(),this.extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=e.map.ground&&e.map.ground.navigationConstraint&&\"none\"===e.map.ground.navigationConstraint.type;this.isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this.extentIntersectionDirty)return;this.extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurface)t=-.3*o(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.elevationBounds;t=s-Math.max(1,(i-s)*(c-1))}this.extentIntersection.update(this.extent,e.spatialReference,t)}get running(){return this.updating}runTask(){if(this._set(\"updating\",!1),!this.extent)return void this._set(\"suspended\",!1);this._updateExtentIntersection();const e=this.graphicsCoreOwner.view.frustum,t=o(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this.extentIntersection.isVisibleInFrustum(e,t))}};e([r({readOnly:!0})],p.prototype,\"suspended\",void 0),e([r({readOnly:!0})],p.prototype,\"updating\",void 0),p=e([n(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{Object3DState as e}from\"./basicInterfaces.js\";var t;!function(e){e[e.Object=0]=\"Object\",e[e.RenderGeometry=1]=\"RenderGeometry\",e[e.External=2]=\"External\",e[e.COUNT=3]=\"COUNT\"}(t||(t={}));class r{constructor(){this.items=[]}addObject(e,r){this.items.push({type:t.Object,objectStateId:r,object:e})}addRenderGeometry(e,r,o){this.items.push({type:t.RenderGeometry,objectStateId:r,renderGeometry:e,owner:o})}addExternal(e,r){this.items.push({type:t.External,objectStateId:r,remove:e})}remove(e){for(let t=this.items.length-1;t>=0;--t){const r=this.items[t];r.objectStateId===e&&(this._removeObjectStateItem(r),this.items.splice(t,1))}}removeObject(e){for(let r=this.items.length-1;r>=0;--r){const o=this.items[r];o.type===t.Object&&o.object===e&&(this._removeObjectStateItem(o),this.items.splice(r,1))}}removeRenderGeometry(e){for(let r=this.items.length-1;r>=0;--r){const o=this.items[r];o.type===t.RenderGeometry&&o.renderGeometry===e&&(this._removeObjectStateItem(o),this.items.splice(r,1))}}removeAll(){this.items.forEach((e=>{this._removeObjectStateItem(e)})),this.items=[]}_removeObjectStateItem(r){switch(r.type){case t.Object:r.objectStateId.channel===e.Highlight?r.object.removeHighlight(r.objectStateId):r.objectStateId.channel===e.MaskOccludee&&r.object.removeOcclude(r.objectStateId);break;case t.RenderGeometry:r.owner.removeRenderGeometryObjectState(r.renderGeometry,r.objectStateId);break;case t.External:r.remove(r.objectStateId)}}}export{r as Object3DStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{Object3DStateSet as t}from\"../../webgl-engine/lib/Object3DStateSet.js\";class e{constructor(e,i){this.stateType=e,this.objectIdField=i,this.objectStateSet=new t,this.ids=new Set,this.paused=!1}hasGraphic(t){if(this.objectIdField){const e=t.graphic.attributes[this.objectIdField];return this.ids.has(e)}return this.ids.has(t.graphic.uid)}}export{e as Graphics3DObjectStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import{Graphics3DObjectStateSet as e}from\"./Graphics3DObjectStateSet.js\";class s{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets=null}acquireSet(s,a){const i=new e(s,a);this._stateSets.push(i);const h=t((()=>this.releaseSet(i)));return{set:i,handle:h}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}_addObjectStateSet(t,e){t.addObjectStateSet(e.stateType,e.objectStateSet)}_removeObjectStateSet(t,e){t.removeObjectState(e.objectStateSet)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&this._addObjectStateSet(s,t)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&this._addObjectStateSet(t,e)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&this._removeObjectStateSet(t,e)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&this._addObjectStateSet(e,t)})):t.ids.forEach((s=>{const a=e.get(s);a&&this._addObjectStateSet(a,t)}))}get test(){return{states:this._stateSets}}}export{s as Graphics3DObjectStates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import r from\"../../../../core/Accessor.js\";import{isNone as t}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import o from\"../../../../layers/graphics/data/QueryEngine.js\";import i from\"../../../../rest/support/FeatureSet.js\";import u from\"../../../../rest/support/Query.js\";import{featureGeometryTypeKebabDictionary as y}from\"../../../../geometry/support/typeUtils.js\";const c=o;let l=class extends r{constructor(e){super(e),this._dataQueryEngineInstance=null}get queryGeometryType(){switch(this.layer.geometryType){case\"multipoint\":case\"point\":case\"polygon\":case\"polyline\":return this.layer.geometryType;case\"mesh\":return\"polygon\";default:return}}get defaultQueryJSON(){return new u({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this._ensureDataQueryEngine()}destroy(){this.clear()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,r){return this.dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e),r)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:n.fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQueryForLatestObservations(e,r){const t=await this.dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),r),s=i.fromJSON(t);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}async executeQuery(e,r){const t=await this.dataQueryEngine.executeQuery(this._ensureQueryJSON(e),r),s=i.fromJSON(t);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}_ensureQueryJSON(e){return t(e)?this.defaultQueryJSON:(\"outSpatialReference\"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),e.toJSON())}_ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=\"timeInfo\"in this.layer&&this.layer.timeInfo&&this.layer.timeInfo.toJSON()||null,r=this.layer.objectIdField,t=y.toJSON(this.queryGeometryType),s=this.layer.fields.map((e=>e.toJSON())),a=this.layerView.view.resourceController.scheduler,n=this.priority,o=this.spatialReference.toJSON(),i=this.layerView.processor.featureStore,{hasZ:u,hasM:l}=this.layerView;return this._dataQueryEngineInstance=new c({hasZ:u,hasM:l,geometryType:t,fields:s,timeInfo:e,spatialReference:o,objectIdField:r,featureStore:i,scheduler:a,priority:n}),this._dataQueryEngineInstance}};e([s({constructOnly:!0})],l.prototype,\"layerView\",void 0),e([s({constructOnly:!0})],l.prototype,\"priority\",void 0),e([s({readOnly:!0,aliasOf:\"layerView.view.spatialReference\"})],l.prototype,\"spatialReference\",void 0),e([s({readOnly:!0,aliasOf:\"layerView.layer\"})],l.prototype,\"layer\",void 0),e([s({readOnly:!0})],l.prototype,\"queryGeometryType\",null),e([s({readOnly:!0})],l.prototype,\"defaultQueryJSON\",null),l=e([a(\"esri.views.3d.layers.graphics.QueryEngine\")],l);const p=l;export{l as QueryEngine,p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n"],"names":["a","constructor","this","_extents","t","allocator","e","_tmpExtent","_dirty","empty","length","size","clear","add","_contains","_removeContained","r","pushNew","pop","_mergeTight","merge","hasProgressed","h","o","Set","i","sort","done","getItemAt","forEach","delete","s","c","g","n","m","remove","madeProgress","some","filterInPlace","test","containsPoint","super","arguments","dirtyExtents","globalDirty","averageExtentUpdateSize","dirtyGraphicsSet","handles","updateElevation","graphicsCoreOwner","graphicsCore","events","setup","queryGraphicUIDsInExtent","elevationProvider","view","resourceController","scheduler","on","_elevationChanged","watch","_suspendedChange","registerTask","p","destroy","notifyChange","suspended","elevationInfoChange","updating","running","updatingRemaining","runTask","_markAllGraphicsElevationDirty","run","_updateDirtyGraphics","_updateDirtyExtents","deconflictor","setDirty","renderCoordsHelper","effectiveUpdatePolicy","keys","getGraphics3DGraphicById","alignWithElevation","spatialReference","emit","extent","needsElevationUpdates","graphics3DGraphics","context","layer","elevationInfo","mode","computedExtent","xmin","xmax","ymin","ymax","readOnly","prototype","d","f","_querying","_handles","_queryResult","_layerView","_core","_objectIdField","objectIdField","_queryEngine","layerView","priority","owner","_graphicsChanged","dirty","filterChanged","modifyGraphics3DGraphicVisibilities","clearVisibilityFlag","y","type","updateVisibility","active","hasVisibilityFlag","setVisibilityFlag","_recomputeFilter","_filter","filter","timeExtent","_","clone","u","intersection","where","executeQueryForIdSet","then","catch","l","warn","error","_getFeatureId","graphic","has","objectId","attributes","elevationFeatureExpressionEnabled","dataExtent","preferredUpdatePolicy","R","suspendResumeExtent","normalizeCtorArgs","frustumVisibilityEnabled","w","scaleVisibilityEnabled","S","filterVisibilityEnabled","timeExtentVisibilityEnabled","geometryType","x","elevationAlignmentEnabled","E","updateClippingExtent","frustumVisibility","scaleVisibility","filterVisibility","elevationAlignment","featureSpatialReference","initialize","C","graphicSymbolSupported","hasZ","hasM","_set","updatingHandles","effectiveScaleRange","layerMinMaxScaleChangeHandler","addPromise","labelsVisible","updateVisibilityInfo","labelingInfo","updateLabelingInfo","memoryController","removeAll","objectStates","suspendResumeExtentMode","scaleVisibilitySuspended","legendEnabled","suspendInfo","outsideScaleRange","outsideOfView","featureStore","loadedGraphics","fullOpacity","slicePlaneEnabled","drapeSourceType","updatePolicy","graphics3DGraphicsByObjectID","symbolUpdateType","displayFeatureLimit","memoryFactor","Math","ceil","maximumNumberOfFeatures","maximumTotalNumberOfFeatures","minimumTotalNumberOfFeatures","usedMemory","usedMemoryPerFeature","usedMemoryPerGraphic","unprocessedMemoryEstimate","performanceInfo","core","elevationUpdating","visibilityFrustum","visibilityScale","async","basemapTerrain","spatialIndex","V","labeler","addGraphicsOwner","deconfliction","labeling","renderer","rendererChange","opacityChange","_setupSuspendResumeExtent","clippingArea","_updateClippingExtent","startCreateGraphics","labelsEnabled","maskOccludee","set","handle","acquireSet","G","setUid","uid","highlight","b","queryObjectIds","setObjectIds","toArray","Array","isArray","O","fieldsIndex","map","setUids","M","whenGraphicBounds","computeAttachmentOrigin","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","getRenderingInfo","arcade","color","getRenderingInfoAsync","getSymbolLayerSize","setObjectIdVisibility","setClippingExtent","recreateAllGraphics","I","_updateSuspendResumeExtent","extentPadding","_suspendResumeExtentChanged","_extentToSuspendResumeRect","equals","j","v","setExtent","constructOnly","A","pause","resume","extentIntersectionDirty","_isVisibleBelowSurface","extentIntersection","_viewChange","state","_elevationBoundsChange","viewingMode","isVisibleBelowSurface","_updateIsVisibleBelowSurface","_setDirty","ground","navigationConstraint","opaque","_updateExtentIntersection","radius","min","max","elevationBounds","update","frustum","isVisibleInFrustum","Object","RenderGeometry","External","COUNT","items","addObject","push","objectStateId","object","addRenderGeometry","renderGeometry","addExternal","_removeObjectStateItem","splice","removeObject","removeRenderGeometry","channel","removeHighlight","removeOcclude","removeRenderGeometryObjectState","stateType","objectStateSet","ids","paused","hasGraphic","_graphicsCore","_stateSets","releaseSet","indexOf","_addObjectStateSet","addObjectStateSet","_removeObjectStateSet","removeObjectState","get","_initializeSet","addGraphic","removeGraphic","allGraphicsDeleted","states","_dataQueryEngineInstance","queryGeometryType","defaultQueryJSON","outSpatialReference","toJSON","dataQueryEngine","_ensureDataQueryEngine","_ensureQueryJSON","executeQueryForCount","count","executeQueryForExtent","executeQueryForIds","executeQueryForLatestObservations","features","sourceLayer","executeQuery","timeInfo","fields","processor","aliasOf","toLowerCase","name"],"sourceRoot":""}