(this.webpackJsonpgeowebmap=this.webpackJsonpgeowebmap||[]).push([[67],{1057:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(3),a=i(4),r=i(23),o=i(971),l=i(268),s=function(){function e(t){if(Object(n.a)(this,e),t instanceof o.a)this._tilemapCache=t;else{if(!t||!("index"in t))throw new Error("Invalid tilemap!");this._tilemap=t.index}}return Object(a.a)(e,[{key:"dataKey",value:function(e,t){if(this._tilemapCache){var i=e.level,n=e.row,a=e.col,o=new l.a(e);return this._tilemapCache.fetchAvailabilityUpsample(i,n,a,o,t).then((function(){return o.world=e.world,o})).catch((function(e){if(Object(r.n)(e))throw e;return null}))}return this._getIndexedDataKey(e)}},{key:"forEach",value:function(e,t,i,n,a){this._callback=a,this._maxLevel=t+e,this._forEach(this._tilemap,t,i,n)}},{key:"_forEach",value:function(e,t,i,n){0!==e&&(this._callback(t,i,n),t!==this._maxLevel&&"object"==typeof e&&(this._forEach(e[0],t+1,2*i,2*n),this._forEach(e[1],t+1,2*i,2*n+1),this._forEach(e[2],t+1,2*i+1,2*n),this._forEach(e[3],t+1,2*i+1,2*n+1)))}},{key:"_getIndexedDataKey",value:function(e){var t=[e];if(e.level<0||e.row<0||e.col<0||e.row>>e.level>0||e.col>>e.level>0)return Promise.resolve(null);for(var i=e;0!==i.level;)i=new l.a(i.level-1,i.row>>1,i.col>>1,i.world),t.push(i);var n,a,r=this._tilemap,o=t.pop();if(1===r)return Promise.resolve(o);for(;t.length;)if(a=(1&(n=t.pop()).col)+((1&n.row)<<1),r){if(0===r[a]){o=null;break}if(1===r[a]){o=n;break}o=n,r=r[a]}return Promise.resolve(o)}}]),e}()},1078:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l}));var n=i(12);function a(e,t,i,n,a,r){e.fillStyle=t,e.fillRect(i,n,a,r)}function r(e,t,i,n,a,r){e.strokeStyle=t,e.strokeRect(i,n,a,r)}function o(e,t){for(var i=window.COLLISION_XRAY,o=0;o<t.length;++o){var l=!t[o].unique.show;if(i||!l){var s,c=Object(n.a)(t[o].colliders);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.enabled){var h=!t[o].unique.parts[u.partIndex].show;if(i||!h){var f=u.xScreen,d=u.yScreen,v=u.dxScreen,p=u.dyScreen;e.globalAlpha=l||h?.2:1,a(e,"green",f-1,d-1,3,3),r(e,"red",f+v,d+p,u.width,u.height),a(e,"blue",f+v-1,d+p-1,3,3),e.globalAlpha=1}}}}catch(_){c.e(_)}finally{c.f()}}}}function l(e,t,i){if(window.PERFORMANCE_RECORDING_STORAGE){var n=window.PERFORMANCE_RECORDING_STORAGE;n.perf=n.perf||{};var a=n.perf;a[e]=a[e]||{start:null,time:0,min:void 0,max:void 0,samples:[],unit:i},a[e].time+=t,a[e].samples.push(t),(null==a[e].min||t<a[e].min)&&(a[e].min=t),(null==a[e].max||t>a[e].max)&&(a[e].max=t)}}},1118:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i(3),a=i(4),r=i(31),o=i(12),l=i(267),s=i(658),c=i(716);function u(e,t,i,n,a,l){var s,c=n.iconRotationAlignment,u=n.textRotationAlignment,h=n.iconTranslate,f=n.iconTranslateAnchor,d=n.textTranslate,v=n.textTranslateAnchor,p=0,_=Object(o.a)(e.colliders);try{for(_.s();!(s=_.n()).done;){var m=s.value,y=0===m.partIndex?h:d,g=Object(r.a)(y,2),b=g[0],w=g[1],O=0===m.partIndex?f:v,S=m.minLod<=l&&l<=m.maxLod;p+=S?0:1,m.enabled=S,m.xScreen=m.xTile*a[0]+m.yTile*a[3]+a[6],m.yScreen=m.xTile*a[1]+m.yTile*a[4]+a[7],0===O?(m.xScreen+=i*b-t*w,m.yScreen+=t*b+i*w):(m.xScreen+=b,m.yScreen+=w),1===(0===m.partIndex?c:u)?(m.dxScreen=m.dxPixels,m.dyScreen=m.dyPixels):(m.dxScreen=i*(m.dxPixels+m.width/2)-t*(m.dyPixels+m.height/2)-m.width/2,m.dyScreen=t*(m.dxPixels+m.width/2)+i*(m.dyPixels+m.height/2)-m.height/2)}}catch(x){_.e(x)}finally{_.f()}e.colliders.length>0&&p===e.colliders.length&&(e.unique.show=!1)}var h=function(){function e(t,i,a,r,u,h){Object(n.a)(this,e),this._symbols=t,this._styleRepository=r,this._zoom=u,this._currentLayerCursor=0,this._currentSymbolCursor=0,this._styleProps=new Map,this._allNeededMatrices=new Map,this._gridIndex=new c.a(i,a,s.a),this._si=Math.sin(Math.PI*h/180),this._co=Math.cos(Math.PI*h/180);var f,d=Object(o.a)(t);try{for(d.s();!(f=d.n()).done;){var v,p=f.value,_=Object(o.a)(p.symbols);try{for(_.s();!(v=_.n()).done;){var m=v.value;this._allNeededMatrices.has(m.tile)||this._allNeededMatrices.set(m.tile,Object(l.a)(m.tile.transforms.tileUnitsToPixels))}}catch(y){_.e(y)}finally{_.f()}}}catch(y){d.e(y)}finally{d.f()}}return Object(a.a)(e,[{key:"work",value:function(e){var t=this._gridIndex;function i(e){for(var i=e.xScreen+e.dxScreen,n=e.yScreen+e.dyScreen,a=i+e.width,l=n+e.height,s=t.getCellSpan(i,n,a,l),c=Object(r.a)(s,4),u=c[0],h=c[1],f=c[2],d=c[3],v=h;v<=d;v++)for(var p=u;p<=f;p++){var _,m=t.cells[v][p],y=Object(o.a)(m);try{for(y.s();!(_=y.n()).done;){var g=_.value,b=g.xScreen+g.dxScreen,w=g.yScreen+g.dyScreen,O=b+g.width,S=w+g.height;if(!(a<b||i>O||l<w||n>S))return!0}}catch(x){y.e(x)}finally{y.f()}}return!1}for(var n=performance.now();this._currentLayerCursor<this._symbols.length;this._currentLayerCursor++,this._currentSymbolCursor=0)for(var a=this._symbols[this._currentLayerCursor],l=this._getProperties(a.styleLayerUID);this._currentSymbolCursor<a.symbols.length;this._currentSymbolCursor++){if(this._currentSymbolCursor%100==99&&performance.now()-n>e)return!1;var s=a.symbols[this._currentSymbolCursor];if(s.unique.show){u(s,this._si,this._co,l,this._allNeededMatrices.get(s.tile),this._zoom);var c=s.unique;if(c.show){var h,f=l.iconAllowOverlap,d=l.iconIgnorePlacement,v=l.textAllowOverlap,p=l.textIgnorePlacement,_=Object(o.a)(s.colliders);try{for(_.s();!(h=_.n()).done;){var m=h.value;if(m.enabled){var y=c.parts[m.partIndex];y.show&&!(m.partIndex?v:f)&&i(m)&&(m.hard?c.show=!1:y.show=!1)}}}catch(P){_.e(P)}finally{_.f()}if(c.show){var g,b=Object(o.a)(s.colliders);try{for(b.s();!(g=b.n()).done;){var w=g.value;if(w.enabled&&(!(w.partIndex?p:d)&&c.parts[w.partIndex].show))for(var O=w.xScreen+w.dxScreen,S=w.yScreen+w.dyScreen,x=O+w.width,T=S+w.height,k=this._gridIndex.getCellSpan(O,S,x,T),j=Object(r.a)(k,4),I=j[0],C=j[1],L=j[2],A=j[3],R=C;R<=A;R++)for(var M=I;M<=L;M++)this._gridIndex.cells[R][M].push(w)}}catch(P){b.e(P)}finally{b.f()}}}}}return!0}},{key:"_getProperties",value:function(e){var t=this._styleProps.get(e);if(t)return t;var i=this._zoom,n=this._styleRepository.getStyleLayerByUID(e),a=0!==n.getLayoutValue("symbol-placement",i),r=n.getLayoutValue("icon-rotation-alignment",i);2===r&&(r=a?0:1);var o=n.getLayoutValue("text-rotation-alignment",i);2===o&&(o=a?0:1);var l=n.getPaintValue("icon-translate",i),s=n.getPaintValue("icon-translate-anchor",i),c=n.getPaintValue("text-translate",i),u=n.getPaintValue("text-translate-anchor",i),h={iconAllowOverlap:n.getLayoutValue("icon-allow-overlap",i),iconIgnorePlacement:n.getLayoutValue("icon-ignore-placement",i),textAllowOverlap:n.getLayoutValue("text-allow-overlap",i),textIgnorePlacement:n.getLayoutValue("text-ignore-placement",i),iconRotationAlignment:r,textRotationAlignment:o,iconTranslateAnchor:s,iconTranslate:l,textTranslateAnchor:u,textTranslate:c};return this._styleProps.set(e,h),h}}]),e}()},1119:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i(31),a=i(12),r=i(3),o=i(4),l=i(2),s=i(658);function c(e,t){if(e.priority-t.priority)return e.priority-t.priority;var i=e.tile.key,n=t.tile.key;return i.world-n.world?i.world-n.world:i.level-n.level?i.level-n.level:i.row-n.row?i.row-n.row:i.col-n.col?i.col-n.col:e.xTile-t.xTile?e.xTile-t.xTile:e.yTile-t.yTile}var u=function(){function e(t,i,n,a,o,l){Object(r.a)(this,e),this._visibleTiles=t,this._symbolRepository=i,this._createCollisionJob=n,this._assignTileSymbolsOpacity=a,this._symbolLayerSorter=o,this._isLayerVisible=l,this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}return Object(o.a)(e,[{key:"running",get:function(){return this._running}},{key:"setScreenSize",value:function(e,t){this._screenWidth===e&&this._screenHeight===t||this.restart(),this._screenWidth=e,this._screenHeight=t}},{key:"restart",value:function(){this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}},{key:"continue",value:function(e){if(this._selectionJob||(this._selectionJob=this._createSelectionJob()),!this._selectionJobCompleted){var t=performance.now();if(!this._selectionJob.work(e))return!1;if(this._selectionJobCompleted=!0,0===(e=Math.max(0,e-(performance.now()-t))))return!1}if(this._collisionJob||(this._collisionJob=this._createCollisionJob(this._selectionJob.sortedSymbols,this._screenWidth,this._screenHeight)),!this._collisionJobCompleted){var i=performance.now();if(!this._collisionJob.work(e))return!1;if(this._collisionJobCompleted=!0,0===(e=Math.max(0,e-(performance.now()-i))))return!1}if(this._opacityJob||(this._opacityJob=this._createOpacityJob()),!this._opacityJobCompleted){var n=performance.now();if(!this._opacityJob.work(e))return!1;if(this._opacityJobCompleted=!0,0===(e=Math.max(0,e-(performance.now()-n))))return!1}return this._running=!1,!0}},{key:"_createSelectionJob",value:function(){for(var e=this._symbolRepository.uniqueSymbols,t=0;t<e.length;t++)for(var i=e[t],n=0;n<i.uniqueSymbols.length;n++){var r,o=i.uniqueSymbols[n],l=Object(a.a)(o.tileSymbols);try{for(l.s();!(r=l.n()).done;){r.value.selectedForRendering=!1}}catch(v){l.e(v)}finally{l.f()}}var s=[],u=0,h=0,f=this._isLayerVisible;var d=this._symbolLayerSorter;return{work:function(t){for(var i,n=performance.now();h<e.length;h++,u=0){var r=e[h],o=r.styleLayerUID;if(f(o)){s[h]=s[h]||{styleLayerUID:o,symbols:[]};for(var l=s[h];u<r.uniqueSymbols.length;u++){if(i=r.uniqueSymbols[u],u%100==99&&performance.now()-n>t)return!1;var d,p=null,_=!1,m=!1,y=Object(a.a)(i.tileSymbols);try{for(y.s();!(d=y.n()).done;){var g=d.value;if(!m||!_){var b=g.tile;(!p||b.isCoverage||b.neededForCoverage&&!_)&&(p=g,(b.neededForCoverage||b.isCoverage)&&(m=!0),b.isCoverage&&(_=!0))}}}catch(v){y.e(v)}finally{y.f()}if(p.selectedForRendering=!0,m){l.symbols.push(p),i.show=!0;var w,O=Object(a.a)(i.parts);try{for(O.s();!(w=O.n()).done;){w.value.show=!0}}catch(v){O.e(v)}finally{O.f()}}else i.show=!1}}else s[h]||(s[h]={styleLayerUID:o,symbols:[]})}var S,x=Object(a.a)(s);try{for(x.s();!(S=x.n()).done;){S.value.symbols.sort(c)}}catch(v){x.e(v)}finally{x.f()}return!0},get sortedSymbols(){return s.sort(d)}}}},{key:"_createOpacityJob",value:function(){var e=this._assignTileSymbolsOpacity,t=this._visibleTiles,i=0;function r(t,i){var o,l=t.symbols,s=Object(a.a)(l);try{for(s.s();!(o=s.n()).done;){var c=Object(n.a)(o.value,2);c[0];h(c[1],i)}}catch(d){s.e(d)}finally{s.f()}e(t,i);var u,f=Object(a.a)(t.childrenTiles);try{for(f.s();!(u=f.n()).done;){r(u.value,i)}}catch(d){f.e(d)}finally{f.f()}}return{work:function(e){for(var n=performance.now();i<t.length;i++){if(performance.now()-n>e)return!1;var a=t[i];Object(l.k)(a.parentTile)||r(a,performance.now())}return!0}}}}]),e}();function h(e,t){var i,n=Object(a.a)(e);try{for(n.s();!(i=n.n()).done;){var r,o=i.value.unique,l=Object(a.a)(o.parts);try{for(l.s();!(r=l.n()).done;){var c=r.value,u=c.targetOpacity>.5?1:-1;c.startOpacity+=u*((t-c.startTime)/s.d),c.startOpacity=Math.min(Math.max(c.startOpacity,0),1),c.startTime=t,c.targetOpacity=o.show&&c.show?1:0}}catch(h){l.e(h)}finally{l.f()}}}catch(h){n.e(h)}finally{n.f()}}},1120:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i(31),a=i(12),r=i(3),o=i(4),l=i(2),s=i(716),c=function(){function e(t,i,n){Object(r.a)(this,e),this.tileCoordRange=t,this._visibleTiles=i,this._createUnique=n,this._tiles=new Map,this._uniqueSymbolsReferences=new Map}return Object(o.a)(e,[{key:"uniqueSymbols",get:function(){return Object(l.j)(this._uniqueSymbolLayerArray)&&(this._uniqueSymbolLayerArray=this._createUniqueSymbolLayerArray()),this._uniqueSymbolLayerArray}},{key:"add",value:function(e,t){this._uniqueSymbolLayerArray=null;var i=this._tiles.get(e.id);i||(i={symbols:new Map},this._tiles.set(e.id,i));var r=new Map;if(t){var o,l=Object(a.a)(t);try{for(l.s();!(o=l.n()).done;){var c=o.value;i.symbols.has(c)&&(r.set(c,i.symbols.get(c)),i.symbols.delete(c))}}catch(j){l.e(j)}finally{l.f()}}else{var u,h=Object(a.a)(e.layerData);try{for(h.s();!(u=h.n()).done;){var f=Object(n.a)(u.value,2),d=f[0];f[1];i.symbols.has(d)&&(r.set(d,i.symbols.get(d)),i.symbols.delete(d))}}catch(j){h.e(j)}finally{h.f()}}this._removeSymbols(r);var v,p=e.symbols,_=new Map,m=Object(a.a)(p);try{for(m.s();!(v=m.n()).done;){var y=Object(n.a)(v.value,2),g=y[0],b=y[1],w=b.length;if(w>=32){var O=this.tileCoordRange;do{O/=2,w/=4}while(w>8&&O>64);var S=new s.a(this.tileCoordRange,this.tileCoordRange,O);_.set(g,{flat:b,index:S}),i.symbols.set(g,{flat:b,index:S});var x,T=Object(a.a)(b);try{for(T.s();!(x=T.n()).done;){var k=x.value;S.getCell(k.xTile,k.yTile).push(k)}}catch(j){T.e(j)}finally{T.f()}}else _.set(g,{flat:b}),i.symbols.set(g,{flat:b})}}catch(j){m.e(j)}finally{m.f()}this._addSymbols(e.key,p)}},{key:"deleteStyleLayers",value:function(e){this._uniqueSymbolLayerArray=null;var t,i=Object(a.a)(this._tiles);try{for(i.s();!(t=i.n()).done;){var r,o=Object(n.a)(t.value,2),l=o[0],s=o[1],c=new Map,u=Object(a.a)(e);try{for(u.s();!(r=u.n()).done;){var h=r.value;s.symbols.has(h)&&(c.set(h,s.symbols.get(h)),s.symbols.delete(h))}}catch(f){u.e(f)}finally{u.f()}this._removeSymbols(c),0===s.symbols.size&&this._tiles.delete(l)}}catch(f){i.e(f)}finally{i.f()}}},{key:"removeTile",value:function(e){this._uniqueSymbolLayerArray=null;var t=this._tiles.get(e.id);if(t){var i,r=new Map,o=Object(a.a)(e.symbols);try{for(o.s();!(i=o.n()).done;){var l=Object(n.a)(i.value,2),s=l[0];l[1];t.symbols.has(s)&&(r.set(s,t.symbols.get(s)),t.symbols.delete(s))}}catch(c){o.e(c)}finally{o.f()}this._removeSymbols(r),0===t.symbols.size&&this._tiles.delete(e.id)}}},{key:"_removeSymbols",value:function(e){var t,i=Object(a.a)(e);try{for(i.s();!(t=i.n()).done;){var r,o=Object(n.a)(t.value,2),l=o[0],s=o[1].flat,c=Object(a.a)(s);try{for(c.s();!(r=c.n()).done;){for(var u=r.value,h=u.unique,f=h.tileSymbols,d=f.length-1,v=0;v<d;v++)if(f[v]===u){f[v]=f[d];break}if(f.length=d,0===d){var p=this._uniqueSymbolsReferences.get(l);p.delete(h),0===p.size&&this._uniqueSymbolsReferences.delete(l)}u.unique=null}}catch(_){c.e(_)}finally{c.f()}}}catch(_){i.e(_)}finally{i.f()}}},{key:"_addSymbols",value:function(e,t){if(0!==t.size){var i,r=this._visibleTiles,o=Object(a.a)(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.parentTile||s.key.world!==e.world||s.key.level===e.level&&!s.key.equals(e)||this._matchSymbols(s,e,t)}}catch(g){o.e(g)}finally{o.f()}var c,u=Object(a.a)(t);try{for(u.s();!(c=u.n()).done;){var h,f=Object(n.a)(c.value,2),d=f[0],v=f[1],p=Object(a.a)(v);try{for(p.s();!(h=p.n()).done;){var _=h.value;if(Object(l.j)(_.unique)){var m=this._createUnique();_.unique=m,m.tileSymbols.push(_);var y=this._uniqueSymbolsReferences.get(d);y||(y=new Set,this._uniqueSymbolsReferences.set(d,y)),y.add(m)}}}catch(g){p.e(g)}finally{p.f()}}}catch(g){u.e(g)}finally{u.f()}}}},{key:"_matchSymbols",value:function(e,t,i){if(e.key.level>t.level){var r=e.key.level-t.level;if(e.key.row>>r!==t.row||e.key.col>>r!==t.col)return}if(t.level>e.key.level){var o=t.level-e.key.level;if(t.row>>o!==e.key.row||t.col>>o!==e.key.col)return}if(t.equals(e.key)){var c,u=Object(a.a)(e.childrenTiles);try{for(u.s();!(c=u.n()).done;){var h=c.value;this._matchSymbols(h,t,i)}}catch(H){u.e(H)}finally{u.f()}}else{var f,d=new Map,v=Object(a.a)(i);try{for(v.s();!(f=v.n()).done;){var p,_=Object(n.a)(f.value,2),m=_[0],y=_[1],g=[],b=Object(a.a)(y);try{for(b.s();!(p=b.n()).done;){var w=p.value,O=Object(s.c)(this.tileCoordRange,w.xTile,t.level,t.col,e.key.level,e.key.col),S=Object(s.c)(this.tileCoordRange,w.yTile,t.level,t.row,e.key.level,e.key.row);O>=0&&O<this.tileCoordRange&&S>=0&&S<this.tileCoordRange&&g.push({symbol:w,xTransformed:O,yTransformed:S})}}catch(H){b.e(H)}finally{b.f()}var x=[],T=e.key.level<t.level?1:1<<e.key.level-t.level,k=this._tiles.get(e.id).symbols.get(m);if(k){var j,I=k.flat,C=Object(a.a)(g);try{for(C.s();!(j=C.n()).done;){var L,A=j.value,R=!1,M=A.xTransformed,P=A.yTransformed;L=Object(l.k)(k.index)?k.index.getCell(M,P):I;var E,z=A.symbol,D=z.hash,U=Object(a.a)(L);try{for(U.s();!(E=U.n()).done;){var V=E.value;if(D===V.hash&&Math.abs(M-V.xTile)<=T&&Math.abs(P-V.yTile)<=T){var F=V.unique;z.unique=F,F.tileSymbols.push(z),R=!0;break}}}catch(H){U.e(H)}finally{U.f()}R||x.push(z)}}catch(H){C.e(H)}finally{C.f()}}x.length>0&&d.set(m,x)}}catch(H){v.e(H)}finally{v.f()}var N,q=Object(a.a)(e.childrenTiles);try{for(q.s();!(N=q.n()).done;){var B=N.value;this._matchSymbols(B,t,d)}}catch(H){q.e(H)}finally{q.f()}}}},{key:"_createUniqueSymbolLayerArray",value:function(){var e,t,i=this._uniqueSymbolsReferences,r=new Array(i.size),o=0,l=Object(a.a)(i);try{for(l.s();!(t=l.n()).done;){var s=Object(n.a)(t.value,2),c=s[0],u=s[1],h=new Array(u.size);e=0;var f,d=Object(a.a)(u);try{for(d.s();!(f=d.n()).done;){var v=f.value;h[e++]=v}}catch(p){d.e(p)}finally{d.f()}r[o]={styleLayerUID:c,uniqueSymbols:h},o++}}catch(p){l.e(p)}finally{l.f()}return r}}]),e}()},1136:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(3),a=i(4),r=i(450),o=i(411),l=function(){function e(t,i){Object(n.a)(this,e),this.lockedSchemaPixelSize=t,this.isGCS=i}return Object(a.a)(e,[{key:"getLevelRowColumn",value:function(e){return this.isGCS?[e[0],e[1]>>1,e[2]>>1]:256===this.lockedSchemaPixelSize&&e[0]>0?[e[0]-1,e[1]>>1,e[2]>>1]:e}},{key:"adjustLevel",value:function(e){return this.isGCS?e:256===this.lockedSchemaPixelSize?e>0?e-1:0:e}},{key:"getShift",value:function(e,t){var i=0,n=0;return(256===this.lockedSchemaPixelSize||this.isGCS)&&(e[2]%2&&(i=t),e[1]%2&&(n=t)),[i,n]}},{key:"getScale",value:function(e){if(this.isGCS){if(512===this.lockedSchemaPixelSize)return 4}else if(256===this.lockedSchemaPixelSize&&0===e)return 1;return 2}}],[{key:"create256x256CompatibleTileInfo",value:function(e){if(!e)return null;if(256===e.size[0]&&256===e.size[1])return e;for(var t=e.spatialReference.isGeographic,i=[],n=e.lods.length,a=0;a<n;a++){var l=e.lods[a],s=t?l.resolution:2*l.resolution;i.push(new r.a({level:l.level,scale:l.scale,resolution:s}))}return new o.a({size:[256,256],dpi:e.dpi,format:e.format,compressionQuality:e.compressionQuality,origin:e.origin,spatialReference:e.spatialReference,lods:i})}},{key:"create512x512CompatibleTileInfo",value:function(e){if(!e)return null;if(256===e.size[0]||256===e.size[1])return null;for(var t=[],i=e.lods.length,n=0;n<i;n++){var a=e.lods[n],l=.5*a.resolution;t.push(new r.a({level:a.level,scale:a.scale,resolution:l}))}return new o.a({size:[512,512],dpi:e.dpi,format:e.format,compressionQuality:e.compressionQuality,origin:e.origin,spatialReference:e.spatialReference,lods:t})}}]),e}()},1152:function(e,t,i){"use strict";i.d(t,"a",(function(){return R}));var n=i(14),a=i(8),r=i.n(a),o=i(15),l=i(3),s=i(4),c=i(69),u=i(17),h=i(721),f=i(23),d=i(330),v=i(12),p=(i(92),i(113),i(142),i(129),i(284),i(40),i(65)),_=(i(115),i(905)),m=function(){function e(t,i){Object(l.a)(this,e),this._width=0,this._height=0,this._free=[],this._width=t,this._height=i,this._free.push(new _.a(0,0,t,i))}return Object(s.a)(e,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"allocate",value:function(e,t){if(e>this._width||t>this._height)return new _.a;for(var i=null,n=-1,a=0;a<this._free.length;++a){var r=this._free[a];e<=r.width&&t<=r.height&&(null===i||r.y<=i.y&&r.x<=i.x)&&(i=r,n=a)}return null===i?new _.a:(this._free.splice(n,1),i.width<i.height?(i.width>e&&this._free.push(new _.a(i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new _.a(i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new _.a(i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new _.a(i.x,i.y+t,e,i.height-t))),new _.a(i.x,i.y,e,t))}},{key:"release",value:function(e){for(var t=0;t<this._free.length;++t){var i=this._free[t];if(i.y===e.y&&i.height===e.height&&i.x+i.width===e.x)i.width+=e.width;else if(i.x===e.x&&i.width===e.width&&i.y+i.height===e.y)i.height+=e.height;else if(e.y===i.y&&e.height===i.height&&e.x+e.width===i.x)i.x=e.x,i.width+=e.width;else{if(e.x!==i.x||e.width!==i.width||e.y+e.height!==i.y)continue;i.y=e.y,i.height+=e.height}this._free.splice(t,1),this.release(e)}this._free.push(e)}}]),e}(),y=function(){function e(t,i,n){Object(l.a)(this,e),this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=t,this.height=i,this._glyphSource=n,this._binPack=new m(t-4,i-4),this._glyphData.push(new Uint8Array(t*i)),this._dirties.push(!0),this._textures.push(void 0)}return Object(s.a)(e,[{key:"getGlyphItems",value:function(e,t){var i,n=this,a=[],r=this._glyphSource,o=new Set,l=Object(v.a)(t);try{for(l.s();!(i=l.n()).done;){var s=i.value,c=Math.floor(.00390625*s);o.add(c)}}catch(h){l.e(h)}finally{l.f()}var u=[];return o.forEach((function(t){if(t<=256){var i=e+t;if(n._rangePromises.has(i))u.push(n._rangePromises.get(i));else{var a=r.getRange(e,t).then((function(){n._rangePromises.delete(i)}),(function(){n._rangePromises.delete(i)}));n._rangePromises.set(i,a),u.push(a)}}})),Promise.all(u).then((function(){var i=n._glyphIndex[e];i||(i={},n._glyphIndex[e]=i);var o,l=Object(v.a)(t);try{for(l.s();!(o=l.n()).done;){var s=o.value,c=i[s];if(c)a[s]={sdf:!0,rect:c.rect,metrics:c.metrics,page:c.page,code:s};else{var u=r.getGlyph(e,s);if(u&&u.metrics){var f=u.metrics,d=void 0;if(0===f.width)d=new _.a(0,0,0,0);else{var p=f.width+6,y=f.height+6,g=p%4?4-p%4:4,b=y%4?4-y%4:4;1===g&&(g=5),1===b&&(b=5),(d=n._binPack.allocate(p+g,y+b)).isEmpty&&(n._dirties[n._currentPage]||(n._glyphData[n._currentPage]=null),n._currentPage=n._glyphData.length,n._glyphData.push(new Uint8Array(n.width*n.height)),n._dirties.push(!0),n._textures.push(void 0),n._binPack=new m(n.width-4,n.height-4),d=n._binPack.allocate(p+g,y+b));var w=n._glyphData[n._currentPage],O=u.bitmap,S=void 0,x=void 0;if(O)for(var T=0;T<y;T++){S=p*T,x=n.width*(d.y+T+1)+d.x;for(var k=0;k<p;k++)w[x+k+1]=O[S+k]}}i[s]={rect:d,metrics:f,tileIDs:null,page:n._currentPage},a[s]={sdf:!0,rect:d,metrics:f,page:n._currentPage,code:s},n._dirties[n._currentPage]=!0}}}}catch(h){l.e(h)}finally{l.f()}return a}))}},{key:"removeGlyphs",value:function(e){for(var t in this._glyphIndex){var i=this._glyphIndex[t];if(i){var n=void 0;for(var a in i)if((n=i[a]).tileIDs.delete(e),0===n.tileIDs.size){for(var r=this._glyphData[n.page],o=n.rect,l=void 0,s=void 0,c=0;c<o.height;c++)for(l=this.width*(o.y+c)+o.x,s=0;s<o.width;s++)r[l+s]=0;delete i[a],this._dirties[n.page]=!0}}}}},{key:"bind",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._textures[i]||(this._textures[i]=new p.a(e,{pixelFormat:6406,dataType:5121,width:this.width,height:this.height},new Uint8Array(this.width*this.height)));var a=this._textures[i];a.setSamplingMode(t),this._dirties[i]&&a.setData(this._glyphData[i]),e.bindTexture(a,n),this._dirties[i]=!1}},{key:"dispose",value:function(){this._binPack=null;var e,t=Object(v.a)(this._textures);try{for(t.s();!(e=t.n()).done;){var i=e.value;i&&i.dispose()}}catch(n){t.e(n)}finally{t.f()}this._textures.length=0}}]),e}(),g=i(712),b=function(){function e(t){if(Object(l.a)(this,e),this._metrics=[],this._bitmaps=[],t)for(;t.next();)if(1===t.tag()){for(var i=t.getMessage();i.next();)if(3===i.tag()){for(var n=i.getMessage(),a=void 0,r=void 0,o=void 0,s=void 0,c=void 0,u=void 0,h=void 0;n.next();)switch(n.tag()){case 1:a=n.getUInt32();break;case 2:r=n.getBytes();break;case 3:o=n.getUInt32();break;case 4:s=n.getUInt32();break;case 5:c=n.getSInt32();break;case 6:u=n.getSInt32();break;case 7:h=n.getUInt32();break;default:n.skip()}n.release(),a&&(this._metrics[a]={width:o,height:s,left:c,top:u,advance:h},this._bitmaps[a]=r)}else i.skip();i.release()}else t.skip()}return Object(s.a)(e,[{key:"getMetrics",value:function(e){return this._metrics[e]}},{key:"getBitmap",value:function(e){return this._bitmaps[e]}}]),e}(),w=function(){function e(){Object(l.a)(this,e),this._ranges=[]}return Object(s.a)(e,[{key:"getRange",value:function(e){return this._ranges[e]}},{key:"addRange",value:function(e,t){this._ranges[e]=t}}]),e}(),O=function(){function e(t){Object(l.a)(this,e),this._glyphInfo={},this._baseURL=t}return Object(s.a)(e,[{key:"getRange",value:function(e,t){var i=this._getFontStack(e);if(i.getRange(t))return Promise.resolve();var n=256*t,a=n+255,r=this._baseURL.replace("{fontstack}",e).replace("{range}",n+"-"+a);return Object(c.default)(r,{responseType:"array-buffer"}).then((function(e){i.addRange(t,new b(new g.a(new Uint8Array(e.data),new DataView(e.data))))})).catch((function(){i.addRange(t,new b)}))}},{key:"getGlyph",value:function(e,t){var i=this._getFontStack(e);if(i){var n=Math.floor(t/256);if(!(n>256)){var a=i.getRange(n);return a?{metrics:a.getMetrics(t),bitmap:a.getBitmap(t)}:void 0}}}},{key:"_getFontStack",value:function(e){var t=this._glyphInfo[e];return t||(t=this._glyphInfo[e]=new w),t}}]),e}(),S=i(31),x=i(903),T="dasharray-",k=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(l.a)(this,e),this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,(t<=0||i<=0)&&console.error("Sprites mosaic defaultWidth and defaultHeight must be greater than zero!"),this._pageWidth=t,this._pageHeight=i,n>0&&(this._maxItemSize=n),this._binPack=new m(t-4,i-4)}return Object(s.a)(e,[{key:"dispose",value:function(){this._binPack=null,this._mosaicRects={};var e,t=Object(v.a)(this._textures);try{for(t.s();!(e=t.n()).done;){var i=e.value;i&&i.dispose()}}catch(n){t.e(n)}finally{t.f()}this._textures.length=0}},{key:"getWidth",value:function(e){return e>=this._size.length?-1:this._size[e][0]}},{key:"getHeight",value:function(e){return e>=this._size.length?-1:this._size[e][1]}},{key:"getPageSize",value:function(e){return e>=this._size.length?null:this._size[e]}},{key:"setSpriteSource",value:function(e){if(this.dispose(),this.pixelRatio=e.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new m(this._pageWidth-4,this._pageHeight-4);var t=Math.floor(this._pageWidth),i=Math.floor(this._pageHeight),n=new Uint32Array(t*i);this._mosaicsData[0]=n,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=e}},{key:"getSpriteItem",value:function(e){var t,i,n,a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this._mosaicRects[e];if(o)return o;if(!this._sprites||"loaded"!==this._sprites.loadStatus)return null;if(e&&e.startsWith(T)?(t=this._rasterizeDash(e),n=(i=Object(S.a)(t,2))[0],a=i[1],r=!0):n=this._sprites.getSpriteInfo(e),!n||!n.width||!n.height||n.width<0||n.height<0)return null;var l=n.width,s=n.height,c=this._allocateImage(l,s),u=Object(S.a)(c,3),h=u[0],f=u[1],d=u[2];return h.width<=0?null:(this._copy(h,n,f,d,r,a),o={rect:h,width:l,height:s,sdf:n.sdf,simplePattern:!1,pixelRatio:n.pixelRatio,page:f},this._mosaicRects[e]=o,o)}},{key:"getSpriteItems",value:function(e){var t,i={},n=Object(v.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;i[a.name]=this.getSpriteItem(a.name,a.repeat)}}catch(r){n.e(r)}finally{n.f()}return i}},{key:"getMosaicItemPosition",value:function(e,t){var i=this.getSpriteItem(e,t),n=i&&i.rect;if(!n)return null;n.width=i.width,n.height=i.height;var a=i.width,r=i.height;return{tl:[n.x+2,n.y+2],br:[n.x+2+a,n.y+2+r],page:i.page}}},{key:"bind",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._textures[i]||(this._textures[i]=new p.a(e,{pixelFormat:6408,dataType:5121,wrapMode:33071,width:this._size[i][0],height:this._size[i][1]},new Uint8Array(this._mosaicsData[i].buffer)));var a=this._textures[i];a.setSamplingMode(t),this._dirties[i]&&a.setData(new Uint8Array(this._mosaicsData[i].buffer)),e.bindTexture(a,n),this._dirties[i]=!1}},{key:"_copy",value:function(t,i,n,a,r,o){if(this._sprites&&"loaded"===this._sprites.loadStatus&&!(n>=this._mosaicsData.length)){var l=new Uint32Array(o?o.buffer:this._sprites.image.buffer),s=this._mosaicsData[n];s&&l||console.error("Source or target images are uninitialized!");var c=o?i.width:this._sprites.width;e._copyBits(l,c,i.x,i.y,s,a[0],t.x+2,t.y+2,i.width,i.height,r),this._dirties[n]=!0}}},{key:"_allocateImage",value:function(e,t){e+=2,t+=2;var i=Math.max(e,t);if(this._maxItemSize&&this._maxItemSize<i){var n=new _.a(0,0,e,t);return this._mosaicsData.push(new Uint32Array(e*t)),this._dirties.push(!0),this._size.push([e,t]),this._textures.push(void 0),[n,this._mosaicsData.length-1,[e,t]]}var a=e%4?4-e%4:4,r=t%4?4-t%4:4;1===a&&(a=5),1===r&&(r=5);var o=this._binPack.allocate(e+a,t+r);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new m(this._pageWidth-4,this._pageHeight-4),this._allocateImage(e,t)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}},{key:"_rasterizeDash",value:function(e){var t=e.match(/\[(.*?)\]/);if(!t)return null;var i=t[1].split(",").map(Number),n=e.slice(e.lastIndexOf("-")+1),a=x.c.rasterizeDash(i,n),r=Object(S.a)(a,3),o=r[0];return[{x:0,y:0,width:r[1],height:r[2],sdf:!0,pixelRatio:1},new Uint8Array(o.buffer)]}}],[{key:"_copyBits",value:function(e,t,i,n,a,r,o,l,s,c,u){var h=n*t+i,f=l*r+o;if(u){f-=r;for(var d=-1;d<=c;h=((++d+c)%c+n)*t+i,f+=r)for(var v=-1;v<=s;v++)a[f+v]=e[h+(v+s)%s]}else for(var p=0;p<c;p++){for(var _=0;_<s;_++)a[f+_]=e[h+_];h+=t,f+=r}}}]),e}(),j=i(1057),I=i(1078),C=i(268),L=new h.a(10),A=new Map,R=function(){function e(t,i,n){Object(l.a)(this,e),this._vectorTileLayer=t,this._styleRepository=i,this.devicePixelRatio=n,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null}return Object(s.a)(e,[{key:"destroy",value:function(){this._connection&&(this._connection.close(),this._connection=null),this._styleRepository=null,this._vectorTileLayer=null,this._spriteMosaic&&(this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic=null)}},{key:"spriteMosaic",get:function(){var e=this;return this._spriteSourcePromise.then((function(){return e._spriteMosaic}))}},{key:"glyphMosaic",get:function(){return this._glyphMosaic}},{key:"start",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var i,n,a,o,l,s,c=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in i=this._vectorTileLayer,n=i.sourceNameToSource,a=[],n)a.push(this._fetchTileMap(n[o],t));return this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,t),this._spriteSourcePromise.then((function(e){c._spriteMosaic=new k(1024,1024,250),c._spriteMosaic.setSpriteSource(e)})),l=this._styleRepository,s=new O(l.glyphs),e.abrupt("return",(this._glyphMosaic=new y(1024,1024,s),this._broadcastPromise=Object(d.b)("WorkerTileHandler",{client:this,schedule:t.schedule,signal:t.signal}).then((function(e){return c._connection=e,Promise.all(c._connection.broadcast("setStyle",{style:i.currentStyleInfo.style,vectorTileLayerMaxBuffers:Object(u.a)("vectortilelayer-max-buffers")},t))})),Promise.all(a)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStyle",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var i=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._broadcastPromise;case 2:return this._broadcastPromise=new Promise((function(e,n){Promise.all(i._connection.broadcast("updateStyle",t)).then(e,n)})),e.abrupt("return",this._broadcastPromise);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setStyle",value:function(){var e=Object(o.a)(r.a.mark((function e(t,i){var n,a,o,l,s=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._broadcastPromise;case 2:for(o in this._styleRepository=t,n=this._vectorTileLayer.sourceNameToSource,a=[],n)a.push(this._fetchTileMap(n[o],null));return this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,null),this._spriteSourcePromise.then((function(e){s._spriteMosaic=new k(1024,1024,250),s._spriteMosaic.setSpriteSource(e)})),l=new O(t.glyphs),e.abrupt("return",(this._glyphMosaic=new y(1024,1024,l),this._broadcastPromise=new Promise((function(e,t){Promise.all(s._connection.broadcast("setStyle",{style:i,vectorTileLayerMaxBuffers:Object(u.a)("vectortilelayer-max-buffers")})).then(e,t)})),a.push(this._broadcastPromise),Promise.all(a)));case 8:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()},{key:"fetchTileData",value:function(e,t){var i=this;return this._getRefKeys(e,t).then((function(e){var n=i._vectorTileLayer.sourceNameToSource,a=[];for(var r in n)a.push(r);return i._getSourcesData(a,e,t)}))}},{key:"parseTileData",value:function(e,t){var i=this,a=e&&e.data;if(!a)return Promise.resolve(null);var r=a.sourceName2DataAndRefKey,o=a.transferList;return 0===Object.keys(r).length?Promise.resolve(null):this._broadcastPromise.then((function(){return i._connection.getAvailableClient().then((function(i){return i.invoke("createTileAndParse",{key:e.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:e.styleLayerUIDs},Object(n.a)(Object(n.a)({},t),{},{transferList:o})).then((function(e){return{tileData:e}}))}))}))}},{key:"getSprites",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._spriteSourcePromise;case 2:return e.abrupt("return",this._spriteMosaic.getSpriteItems(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGlyphs",value:function(e){return this._glyphMosaic.getGlyphItems(e.font,e.codePoints)}},{key:"perfReport",value:function(e){var t=e.key,i=e.milliseconds;Object(I.b)(t,i,"ms")}},{key:"_getTilePayload",value:function(){var e=Object(o.a)(r.a.mark((function e(t,i,n){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.a.pool.acquire(t.id),o=this._vectorTileLayer.sourceNameToSource[i].getSourceTileUrl(a.level,a.row,a.col),C.a.pool.release(a),e.prev=2,e.next=5,this.request(o,n);case 5:return e.t0=e.sent,e.t1=i,e.abrupt("return",{protobuff:e.t0,sourceName:e.t1});case 10:if(e.prev=10,e.t2=e.catch(2),!Object(f.n)(e.t2)){e.next=14;break}throw e.t2;case 14:return e.abrupt("return",{protobuff:null,sourceName:i});case 15:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t,i,n){return e.apply(this,arguments)}}()},{key:"request",value:function(e,t){return Object(c.default)(e,Object(n.a)({responseType:"array-buffer"},t)).then((function(e){return e.data}))}},{key:"_fetchTileMap",value:function(){var e=Object(o.a)(r.a.mark((function e(t,i){var n,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.capabilities.operations.supportsTileMap||!t.tileIndex){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(t.tileMapURL){e.next=4;break}return e.abrupt("return");case 4:if(!(n=L.get(t.tileMapURL))){e.next=7;break}return e.abrupt("return",void(t.tileIndex=n));case 7:if(!A.has(t.tileMapURL)){e.next=20;break}return e.prev=8,e.next=11,A.get(t.tileMapURL);case 11:a=e.sent,t.tileIndex=new j.a(a.data),e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(8),!Object(f.n)(e.t0)){e.next=19;break}throw e.t0;case 19:return e.abrupt("return");case 20:return o=Object(c.default)(t.tileMapURL,i),A.set(t.tileMapURL,o),e.prev=22,e.next=25,o;case 25:a=e.sent,A.delete(t.tileMapURL),L.put(t.tileMapURL,t.tileIndex),t.tileIndex=new j.a(a.data),e.next=35;break;case 31:if(e.prev=31,e.t1=e.catch(22),A.delete(t.tileMapURL),!Object(f.n)(e.t1)){e.next=35;break}throw e.t1;case 35:case"end":return e.stop()}}),e,null,[[8,15],[22,31]])})));return function(t,i){return e.apply(this,arguments)}}()},{key:"_getRefKeys",value:function(e,t){var i=this._vectorTileLayer.sourceNameToSource,n=new Array;for(var a in i){var r=i[a].getRefKey(e,t);n.push(r)}return Object(f.k)(n)}},{key:"_getSourcesData",value:function(e,t,i){for(var n=[],a=0;a<t.length;a++)if(null==t[a].value||null==e[a])n.push(null);else{var r=this._getTilePayload(t[a].value,e[a],i);n.push(r)}return Object(f.k)(n).then((function(e){for(var i={},n=[],a=0;a<e.length;a++)if(e[a].value&&e[a].value&&e[a].value.protobuff&&e[a].value.protobuff.byteLength>0){var r=t[a].value.id;i[e[a].value.sourceName]={refKey:r,protobuff:e[a].value.protobuff},n.push(e[a].value.protobuff)}return{sourceName2DataAndRefKey:i,transferList:n}}))}}]),e}()},1153:function(e,t,i){"use strict";i.d(t,"a",(function(){return T}));var n=i(3),a=i(4),r=(i(92),i(113),i(375)),o=(i(129),i(142),i(40),i(65),i(115),i(17),i(284),i(957)),l=i(1028),s={background:{"background.frag":"#ifdef PATTERN\nuniform lowp float u_opacity;\nuniform lowp sampler2D u_texture;\nvarying mediump vec4 v_tlbr;\nvarying mediump vec2 v_tileTextureCoord;\n#else\nuniform lowp vec4 u_color;\n#endif\n#ifdef ID\nvarying mediump vec4 v_id;\n#endif\nvoid main() {\n#ifdef PATTERN\nmediump vec2 normalizedTextureCoord = mod(v_tileTextureCoord, 1.0);\nmediump vec2 samplePos = mix(v_tlbr.xy, v_tlbr.zw, normalizedTextureCoord);\nlowp vec4 color = texture2D(u_texture, samplePos);\ngl_FragColor = u_opacity * color;\n#else\ngl_FragColor = u_color;\n#endif\n#ifdef ID\nif (gl_FragColor.a < 1.0 / 255.0) {\ndiscard;\n}\ngl_FragColor = v_id;\n#endif\n}","background.vert":"precision mediump float;\nattribute vec2 a_pos;\n#ifdef ID\nuniform mediump vec4 u_id;\nvarying mediump vec4 v_id;\n#endif\nuniform highp mat3 u_dvsMat3;\nuniform mediump float u_coord_range;\nuniform mediump float u_depth;\n#ifdef PATTERN\nuniform mediump mat3 u_pattern_matrix;\nvarying mediump vec2 v_tileTextureCoord;\nuniform mediump vec4 u_tlbr;\nuniform mediump vec2 u_mosaicSize;\nvarying mediump vec4 v_tlbr;\n#endif\nvoid main() {\ngl_Position = vec4((u_dvsMat3 * vec3(u_coord_range * a_pos, 1.0)).xy, u_depth, 1.0);\n#ifdef PATTERN\nv_tileTextureCoord = (u_pattern_matrix * vec3(a_pos, 1.0)).xy;\nv_tlbr             = u_tlbr / u_mosaicSize.xyxy;\n#endif\n#ifdef ID\nv_id = u_id / 255.0;\n#endif\n}"},circle:{"circle.frag":"precision lowp float;\nvarying lowp vec4 v_color;\nvarying lowp vec4 v_stroke_color;\nvarying mediump float v_blur;\nvarying mediump float v_stroke_width;\nvarying mediump float v_radius;\nvarying mediump vec2 v_offset;\n#ifdef ID\nvarying mediump vec4 v_id;\n#endif\nvoid main()\n{\nmediump float dist = length(v_offset);\nmediump float alpha = smoothstep(0.0, -v_blur, dist - 1.0);\nlowp float color_mix_ratio = v_stroke_width < 0.01 ? 0.0 : smoothstep(-v_blur, 0.0, dist - v_radius / (v_radius + v_stroke_width));\ngl_FragColor = alpha * mix(v_color, v_stroke_color, color_mix_ratio);\n#ifdef ID\nif (gl_FragColor.a < 1.0 / 255.0) {\ndiscard;\n}\ngl_FragColor = v_id;\n#endif\n}","circle.vert":"precision mediump float;\nattribute vec2 a_pos;\n#pragma header\nvarying lowp vec4 v_color;\nvarying lowp vec4 v_stroke_color;\nvarying mediump float v_blur;\nvarying mediump float v_stroke_width;\nvarying mediump float v_radius;\nvarying mediump vec2 v_offset;\n#ifdef ID\nuniform mediump vec4 u_id;\nvarying mediump vec4 v_id;\n#endif\nuniform highp mat3 u_dvsMat3;\nuniform highp mat3 u_displayMat3;\nuniform mediump vec2 u_circleTranslation;\nuniform mediump float u_depth;\nuniform mediump float u_antialiasingWidth;\nvoid main()\n{\n#pragma main\nv_color = color * opacity;\nv_stroke_color = stroke_color * stroke_opacity;\nv_stroke_width = stroke_width;\nv_radius = radius;\nv_blur = max(blur, u_antialiasingWidth / (radius + stroke_width));\nmediump vec2 offset = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\nv_offset = offset;\n#ifdef ID\nv_id = u_id / 255.0;\n#endif\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos * 0.5, 1.0) + u_displayMat3 * vec3((v_radius + v_stroke_width) * offset + u_circleTranslation, 0.0);\ngl_Position = vec4(pos.xy, u_depth, 1.0);\n}"},fill:{"fill.frag":"precision lowp float;\n#ifdef PATTERN\nuniform lowp sampler2D u_texture;\nvarying mediump vec2 v_tileTextureCoord;\nvarying mediump vec4 v_tlbr;\n#endif\n#ifdef ID\nvarying mediump vec4 v_id;\n#endif\nvarying lowp vec4 v_color;\nvec4 mixColors(vec4 color1, vec4 color2) {\nfloat compositeAlpha = color2.a + color1.a * (1.0 - color2.a);\nvec3 compositeColor = color2.rgb + color1.rgb * (1.0 - color2.a);\nreturn vec4(compositeColor, compositeAlpha);\n}\nvoid main()\n{\n#ifdef PATTERN\nmediump vec2 normalizedTextureCoord = fract(v_tileTextureCoord);\nmediump vec2 samplePos = mix(v_tlbr.xy, v_tlbr.zw, normalizedTextureCoord);\nlowp vec4 color = texture2D(u_texture, samplePos);\ngl_FragColor = v_color[3] * color;\n#else\ngl_FragColor = v_color;\n#endif\n#ifdef ID\nif (gl_FragColor.a < 1.0 / 255.0) {\ndiscard;\n}\ngl_FragColor = v_id;\n#endif\n}","fill.vert":"precision mediump float;\nattribute vec2 a_pos;\n#pragma header\nuniform highp mat3 u_dvsMat3;\nuniform highp mat3 u_displayMat3;\nuniform mediump float u_depth;\nuniform mediump vec2 u_fillTranslation;\n#ifdef PATTERN\n#include <util/util.glsl>\nuniform mediump vec2 u_mosaicSize;\nuniform mediump float u_patternFactor;\nvarying mediump vec2 v_tileTextureCoord;\nvarying mediump vec4 v_tlbr;\n#endif\n#ifdef ID\nuniform mediump vec4 u_id;\nvarying mediump vec4 v_id;\n#endif\nvarying lowp vec4 v_color;\nvoid main()\n{\n#pragma main\nv_color = color * opacity;\n#ifdef ID\nv_id = u_id / 255.0;\n#endif\n#ifdef PATTERN\nfloat patternWidth = nextPOT(tlbr.z - tlbr.x);\nfloat patternHeight = nextPOT(tlbr.w - tlbr.y);\nfloat scaleX = 1.0 / (patternWidth * u_patternFactor);\nfloat scaleY = 1.0 / (patternHeight * u_patternFactor);\nmat3 patterMat = mat3(scaleX, 0.0,    0.0,\n0.0,    -scaleY, 0.0,\n0.0,    0.0,    1.0);\nv_tileTextureCoord = (patterMat * vec3(a_pos, 1.0)).xy;\nv_tlbr             = tlbr / u_mosaicSize.xyxy;\n#endif\nvec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + u_displayMat3 * vec3(u_fillTranslation, 0.0);\ngl_Position = vec4(pos.xy, u_depth, 1.0);\n}"},icon:{"icon.frag":"precision mediump float;\nuniform lowp sampler2D u_texture;\n#ifdef SDF\nuniform lowp vec4 u_color;\nuniform lowp vec4 u_outlineColor;\n#endif\nvarying mediump vec2 v_tex;\nvarying lowp float v_opacity;\nvarying mediump vec2 v_size;\nvarying lowp vec4 v_color;\n#ifdef SDF\nvarying mediump flaot v_halo_width;\n#endif\n#ifdef ID\nvarying mediump vec4 v_id;\n#endif\n#include <util/encoding.glsl>\nvec4 mixColors(vec4 color1, vec4 color2) {\nfloat compositeAlpha = color2.a + color1.a * (1.0 - color2.a);\nvec3 compositeColor = color2.rgb + color1.rgb * (1.0 - color2.a);\nreturn vec4(compositeColor, compositeAlpha);\n}\nvoid main()\n{\n#ifdef SDF\nlowp vec4 fillPixelColor = v_color;\nfloat d = rgba2float(texture2D(u_texture, v_tex)) - 0.5;\nconst float softEdgeRatio = 0.248062016;\nfloat size = max(v_size.x, v_size.y);\nfloat dist = d * softEdgeRatio * size;\nfillPixelColor *= clamp(0.5 - dist, 0.0, 1.0);\nif (v_halo_width > 0.25) {\nlowp vec4 outlinePixelColor = u_outlineColor;\nconst float outlineLimitRatio = (16.0 / 86.0);\nfloat clampedOutlineSize = softEdgeRatio * min(v_halo_width, outlineLimitRatio * max(v_size.x, v_size.y));\noutlinePixelColor *= clamp(0.5 - (abs(dist) - clampedOutlineSize), 0.0, 1.0);\ngl_FragColor = v_opacity * mixColors(fillPixelColor, outlinePixelColor);\n}\nelse {\ngl_FragColor = v_opacity * fillPixelColor;\n}\n#else\nlowp vec4 texColor = texture2D(u_texture, v_tex);\ngl_FragColor = v_opacity * texColor;\n#endif\n#ifdef ID\nif (gl_FragColor.a < 1.0 / 255.0) {\ndiscard;\n}\ngl_FragColor = v_id;\n#endif\n}","icon.vert":"attribute vec2 a_pos;\nattribute vec2 a_vertexOffset;\nattribute vec4 a_texAngleRange;\nattribute vec4 a_levelInfo;\nattribute float a_opacityInfo;\n#pragma header\n#ifdef ID\nuniform mediump vec4 u_id;\nvarying mediump vec4 v_id;\n#endif\nvarying lowp vec4 v_color;\n#ifdef SDF\nvarying mediump float v_halo_width;\n#endif\nuniform highp mat3 u_dvsMat3;\nuniform highp mat3 u_displayMat3;\nuniform highp mat3 u_displayViewMat3;\nuniform mediump vec2 u_iconTranslation;\nuniform vec2 u_mosaicSize;\nuniform mediump float u_depth;\nuniform mediump float u_mapRotation;\nuniform mediump float u_level;\nuniform lowp float u_keepUpright;\nuniform mediump float u_fadeDuration;\nvarying mediump vec2 v_tex;\nvarying lowp float v_opacity;\nvarying mediump vec2 v_size;\nconst float C_OFFSET_PRECISION = 1.0 / 8.0;\nconst float C_256_TO_RAD = 3.14159265359 / 128.0;\nconst float C_DEG_TO_RAD = 3.14159265359 / 180.0;\nconst float tileCoordRatio = 1.0 / 8.0;\nuniform highp float u_time;\nvoid main()\n{\n#pragma main\nv_color = color;\nv_opacity = opacity;\n#ifdef SDF\nv_halo_width = halo_width;\n#endif\nfloat modded = mod(a_opacityInfo, 128.0);\nfloat targetOpacity = (a_opacityInfo - modded) / 128.0;\nfloat startOpacity = modded / 127.0;\nfloat interpolatedOpacity = clamp(startOpacity + 2.0 * (targetOpacity - 0.5) * u_time / u_fadeDuration, 0.0, 1.0);\nv_opacity *= interpolatedOpacity;\nmediump float a_angle         = a_levelInfo[1];\nmediump float a_minLevel      = a_levelInfo[2];\nmediump float a_maxLevel      = a_levelInfo[3];\nmediump vec2 a_tex            = a_texAngleRange.xy;\nmediump float delta_z = 0.0;\nmediump float rotated = mod(a_angle + u_mapRotation, 256.0);\ndelta_z += (1.0 - step(u_keepUpright, 0.0)) * step(64.0, rotated) * (1.0 - step(192.0, rotated));\ndelta_z += 1.0 - step(a_minLevel, u_level);\ndelta_z += step(a_maxLevel, u_level);\ndelta_z += step(v_opacity, 0.0);\nvec2 offset = C_OFFSET_PRECISION * a_vertexOffset;\nv_size = abs(offset);\n#ifdef SDF\noffset = (120.0 / 86.0) * offset;\n#endif\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + u_displayViewMat3 * vec3(size * offset, 0.0) + u_displayMat3 * vec3(u_iconTranslation, 0.0);\ngl_Position = vec4(pos.xy, u_depth + delta_z, 1.0);\n#ifdef ID\nv_id = u_id / 255.0;\n#endif\nv_tex = a_tex.xy / u_mosaicSize;\n}"},line:{"line.frag":"precision lowp float;\nvarying mediump vec2 v_normal;\nvarying highp float v_accumulatedDistance;\nvarying mediump float v_lineHalfWidth;\nvarying lowp vec4 v_color;\nvarying mediump float v_blur;\n#if defined (PATTERN) || defined(SDF)\nvarying mediump vec4 v_tlbr;\nvarying mediump vec2 v_patternSize;\nvarying mediump float v_widthRatio;\nuniform sampler2D u_texture;\nuniform mediump float u_antialiasing;\n#endif\n#ifdef SDF\n#include <util/encoding.glsl>\n#endif\n#ifdef ID\nvarying mediump vec4 v_id;\n#endif\nvoid main()\n{\nmediump float fragDist = length(v_normal) * v_lineHalfWidth;\nlowp float alpha = clamp((v_lineHalfWidth - fragDist) / v_blur, 0.0, 1.0);\n#ifdef PATTERN\nmediump float relativeTexX = mod(v_accumulatedDistance / (v_patternSize.x * v_widthRatio), 1.0);\nmediump float relativeTexY = 0.5 + v_normal.y * v_lineHalfWidth / (v_patternSize.y * v_widthRatio);\nmediump vec2 texCoord = mix(v_tlbr.xy, v_tlbr.zw, vec2(relativeTexX, relativeTexY));\nlowp vec4 color = texture2D(u_texture, texCoord);\ngl_FragColor = alpha * v_color[3] * color;\n#elif defined(SDF)\nmediump float relativeTexX = mod((v_accumulatedDistance * 0.5) / (v_patternSize.x * v_widthRatio), 1.0);\nmediump float relativeTexY =  0.5 + 0.25 * v_normal.y;\nmediump vec2 texCoord = mix(v_tlbr.xy, v_tlbr.zw, vec2(relativeTexX, relativeTexY));\nmediump float d = rgba2float(texture2D(u_texture, texCoord)) - 0.5;\nfloat dist = d * v_lineHalfWidth;\ngl_FragColor = alpha * clamp(0.5 - dist, 0.0, 1.0) * v_color;\n#else\ngl_FragColor = alpha * v_color;\n#endif\n#ifdef ID\nif (gl_FragColor.a < 1.0 / 255.0) {\ndiscard;\n}\ngl_FragColor = v_id;\n#endif\n}","line.vert":"precision mediump float;\nattribute vec2 a_pos;\nattribute vec4 a_extrude_offset;\nattribute vec4 a_dir_normal;\nattribute vec2 a_accumulatedDistance;\n#pragma header\nuniform highp mat3 u_dvsMat3;\nuniform highp mat3 u_displayMat3;\nuniform highp mat3 u_displayViewMat3;\nuniform mediump float u_zoomFactor;\nuniform mediump vec2 u_lineTranslation;\nuniform mediump float u_antialiasing;\nuniform mediump float u_depth;\nvarying mediump vec2 v_normal;\nvarying highp float v_accumulatedDistance;\nconst float scale = 1.0 / 31.0;\nconst mediump float tileCoordRatio = 8.0;\n#if defined (SDF)\nconst mediump float sdfPatternHalfWidth = 15.5;\n#endif\n#if defined (PATTERN) || defined(SDF)\nuniform mediump vec2 u_mosaicSize;\nvarying mediump vec4 v_tlbr;\nvarying mediump vec2 v_patternSize;\nvarying mediump float v_widthRatio;\n#endif\n#ifdef ID\nuniform mediump vec4 u_id;\nvarying mediump vec4 v_id;\n#endif\nvarying lowp vec4 v_color;\nvarying mediump float v_lineHalfWidth;\nvarying mediump float v_blur;\nvoid main()\n{\n#pragma main\nv_color = color * opacity;\nv_blur = blur + u_antialiasing;\nv_normal = a_dir_normal.zw * scale;\n#if defined (PATTERN) || defined(SDF)\nv_tlbr          = tlbr / u_mosaicSize.xyxy;\nv_patternSize   = vec2(tlbr.z - tlbr.x, tlbr.y - tlbr.w);\n#if defined (PATTERN)\nv_widthRatio = width / v_patternSize.y;\n#else\nv_widthRatio = width / sdfPatternHalfWidth / 2.0;\n#endif\n#endif\nv_lineHalfWidth = (width + u_antialiasing) * 0.5;\nmediump vec2 dir = a_dir_normal.xy * scale;\nmediump vec2 offset_ = a_extrude_offset.zw * scale * offset;\nmediump vec2 dist = v_lineHalfWidth * scale * a_extrude_offset.xy;\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos + offset_ * tileCoordRatio / u_zoomFactor, 1.0) + u_displayViewMat3 * vec3(dist, 0.0) + u_displayMat3 * vec3(u_lineTranslation, 0.0);\ngl_Position = vec4(pos.xy, u_depth, 1.0);\n#if defined (PATTERN) || defined(SDF)\nv_accumulatedDistance = a_accumulatedDistance.x * u_zoomFactor / tileCoordRatio + dot(dir, dist + offset_);\n#endif\n#ifdef ID\nv_id = u_id / 255.0;\n#endif\n}"},outline:{"outline.frag":"varying lowp vec4 v_color;\nvarying mediump vec2 v_normal;\n#ifdef ID\nvarying mediump vec4 v_id;\n#endif\nvoid main()\n{\nlowp float dist = abs(v_normal.y);\nlowp float alpha = smoothstep(1.0, 0.0, dist);\ngl_FragColor = alpha * v_color;\n#ifdef ID\nif (gl_FragColor.a < 1.0 / 255.0) {\ndiscard;\n}\ngl_FragColor = v_id;\n#endif\n}","outline.vert":"attribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_xnormal;\n#pragma header\nvarying lowp vec4 v_color;\n#ifdef ID\nuniform mediump vec4 u_id;\nvarying mediump vec4 v_id;\n#endif\nuniform highp mat3 u_dvsMat3;\nuniform highp mat3 u_displayMat3;\nuniform mediump vec2 u_fillTranslation;\nuniform mediump float u_depth;\nuniform mediump float u_outline_width;\nvarying lowp vec2 v_normal;\nconst float scale = 1.0 / 15.0;\nvoid main()\n{\n#pragma main\nv_color = color * opacity;\n#ifdef ID\nv_id = u_id / 255.0;\n#endif\nv_normal = a_xnormal;\nmediump vec2 dist = u_outline_width * scale * a_offset;\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + u_displayMat3 * vec3(dist + u_fillTranslation, 0.0);\ngl_Position = vec4(pos.xy, u_depth, 1.0);\n}"},text:{"text.frag":"uniform lowp sampler2D u_texture;\nvarying lowp vec2 v_tex;\nvarying lowp vec4 v_color;\nvarying mediump float v_edgeWidth;\nvarying mediump float v_edgeDistance;\n#ifdef ID\nvarying mediump vec4 v_id;\n#endif\nvoid main()\n{\nlowp float dist = texture2D(u_texture, v_tex).a;\nmediump float alpha = smoothstep(v_edgeDistance - v_edgeWidth, v_edgeDistance + v_edgeWidth, dist);\ngl_FragColor = alpha * v_color;\n#ifdef ID\nif (gl_FragColor.a < 1.0 / 255.0) {\ndiscard;\n}\ngl_FragColor = v_id;\n#endif\n}","text.vert":"attribute vec2 a_pos;\nattribute vec2 a_vertexOffset;\nattribute vec4 a_texAngleRange;\nattribute vec4 a_levelInfo;\nattribute float a_opacityInfo;\n#pragma header\nvarying lowp vec4 v_color;\n#ifdef ID\nuniform mediump vec4 u_id;\nvarying mediump vec4 v_id;\n#endif\nuniform highp mat3 u_dvsMat3;\nuniform highp mat3 u_displayMat3;\nuniform highp mat3 u_displayViewMat3;\nuniform mediump vec2 u_textTranslation;\nuniform vec2 u_mosaicSize;\nuniform mediump float u_depth;\nuniform mediump float u_mapRotation;\nuniform mediump float u_level;\nuniform lowp float u_keepUpright;\nuniform mediump float u_fadeDuration;\nvarying lowp vec2 v_tex;\nconst float offsetPrecision = 1.0 / 8.0;\nconst mediump float edgePos = 0.75;\nuniform mediump float u_antialiasingWidth;\nvarying mediump float v_edgeDistance;\nvarying mediump float v_edgeWidth;\nuniform lowp float u_halo;\nconst float sdfFontScale = 1.0 / 24.0;\nconst float sdfPixel = 3.0;\nuniform highp float u_time;\nvoid main()\n{\n#pragma main\nif (u_halo > 0.5)\n{\nv_color = halo_color * opacity;\nhalo_width *= sdfPixel;\nhalo_blur *= sdfPixel;\n}\nelse\n{\nv_color = color * opacity;\nhalo_width = 0.0;\nhalo_blur = 0.0;\n}\nfloat modded = mod(a_opacityInfo, 128.0);\nfloat targetOpacity = (a_opacityInfo - modded) / 128.0;\nfloat startOpacity = modded / 127.0;\nfloat interpolatedOpacity = clamp(startOpacity + 2.0 * (targetOpacity - 0.5) * u_time / u_fadeDuration, 0.0, 1.0);\nv_color *= interpolatedOpacity;\nmediump float a_angle       = a_levelInfo[1];\nmediump float a_minLevel    = a_levelInfo[2];\nmediump float a_maxLevel    = a_levelInfo[3];\nmediump vec2 a_tex          = a_texAngleRange.xy;\nmediump float a_visMinAngle    = a_texAngleRange.z;\nmediump float a_visMaxAngle    = a_texAngleRange.w;\nmediump float delta_z = 0.0;\nmediump float angle = mod(a_angle + u_mapRotation, 256.0);\nif (a_visMinAngle < a_visMaxAngle)\n{\ndelta_z += (1.0 - step(u_keepUpright, 0.0)) * (step(a_visMaxAngle, angle) + (1.0 - step(a_visMinAngle, angle)));\n}\nelse\n{\ndelta_z += (1.0 - step(u_keepUpright, 0.0)) * (step(a_visMaxAngle, angle) * (1.0 - step(a_visMinAngle, angle)));\n}\ndelta_z += 1.0 - step(a_minLevel, u_level);\ndelta_z += step(a_maxLevel, u_level);\ndelta_z += step(v_color[3], 0.0);\nv_tex = a_tex.xy / u_mosaicSize;\n#ifdef ID\nv_id = u_id / 255.0;\n#endif\nv_edgeDistance = edgePos - halo_width / size;\nv_edgeWidth = (u_antialiasingWidth + halo_blur) / size;\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + sdfFontScale * u_displayViewMat3 * vec3(offsetPrecision * size * a_vertexOffset, 0.0) + u_displayMat3 * vec3(u_textTranslation, 0.0);\ngl_Position = vec4(pos.xy, u_depth + delta_z, 1.0);\n}"},util:{"encoding.glsl":"const vec4 rgba2float_factors = vec4(\n255.0 / (256.0),\n255.0 / (256.0 * 256.0),\n255.0 / (256.0 * 256.0 * 256.0),\n255.0 / (256.0 * 256.0 * 256.0 * 256.0)\n);\nfloat rgba2float(vec4 rgba) {\nreturn dot(rgba, rgba2float_factors);\n}","util.glsl":"float nextPOT(in float x) {\nreturn pow(2.0, ceil(log2(abs(x))));\n}"}};var c=new l.a((function(e){var t=s;return e.split("/").forEach((function(e){t&&(t=t[e])})),t}));function u(e){return c.resolveIncludes(e)}var h=function(e){return Object(o.b)({ID:e.id,PATTERN:e.pattern})},f={shaders:function(e){return{vertexShader:h(e)+u("background/background.vert"),fragmentShader:h(e)+u("background/background.frag")}}},d=function(e){return Object(o.b)({ID:e.id})},v={shaders:function(e){return{vertexShader:d(e)+u("circle/circle.vert"),fragmentShader:d(e)+u("circle/circle.frag")}}},p=function(e){return Object(o.b)({ID:e.id,PATTERN:e.pattern})},_={shaders:function(e){return{vertexShader:p(e)+u("fill/fill.vert"),fragmentShader:p(e)+u("fill/fill.frag")}}},m=function(e){return Object(o.b)({ID:e.id})},y={shaders:function(e){return{vertexShader:m(e)+u("outline/outline.vert"),fragmentShader:m(e)+u("outline/outline.frag")}}},g=function(e){return Object(o.b)({ID:e.id,SDF:e.sdf})},b={shaders:function(e){return{vertexShader:g(e)+u("icon/icon.vert"),fragmentShader:g(e)+u("icon/icon.frag")}}},w=function(e){return Object(o.b)({ID:e.id,PATTERN:e.pattern,SDF:e.sdf})},O={shaders:function(e){return{vertexShader:w(e)+u("line/line.vert"),fragmentShader:w(e)+u("line/line.frag")}}},S=function(e){return Object(o.b)({ID:e.id})},x={shaders:function(e){return{vertexShader:S(e)+u("text/text.vert"),fragmentShader:S(e)+u("text/text.frag")}}},T=function(){function e(){Object(n.a)(this,e),this._programByKey=new Map}return Object(a.a)(e,[{key:"dispose",value:function(){this._programByKey.forEach((function(e){return e.dispose()})),this._programByKey.clear()}},{key:"getMaterialProgram",value:function(e,t,i){var n=t.key<<3|this._getMaterialOptionsValue(t.type,i);if(this._programByKey.has(n))return this._programByKey.get(n);var a=(0,this._getProgramTemplate(t.type).shaders)(i),o=a.vertexShader,l=a.fragmentShader,s=t.getShaderHeader(),c=t.getShaderMain(),u=o.replace("#pragma header",s).replace("#pragma main",c),h=new r.a(e,u,l,t.getAttributeLocations());return this._programByKey.set(n,h),h}},{key:"_getMaterialOptionsValue",value:function(e,t){switch(e){case 0:var i=t;return(i.pattern?1:0)<<1|(i.id?1:0);case 1:var n=t;return(n.pattern?1:0)<<1|(n.id?1:0);case 2:case 5:case 6:return t.id?1:0;case 3:var a=t;return(a.sdf?1:0)<<2|(a.pattern?1:0)<<1|(a.id?1:0);case 4:var r=t;return(r.sdf?1:0)<<1|(r.id?1:0);default:return 0}}},{key:"_getProgramTemplate",value:function(e){switch(e){case 0:return f;case 5:return v;case 1:return _;case 4:return b;case 3:return O;case 2:return y;case 6:return x;default:return null}}}]),e}()},1375:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return N}));var n=i(8),a=i.n(n),r=i(15),o=i(31),l=i(3),s=i(4),c=i(6),u=i(7),h=i(0),f=i(2),d=i(23),v=i(27),p=i(1),_=(i(17),i(18),i(16),i(9)),m=i(1136),y=i(420),g=i(267),b=i(45),w=i(507),O=i(1152),S=i(747),x=i(1118),T=i(1119),k=i(1120),j=i(716);function I(e,t){var i=[],n=new k.a(4096,i,(function(){var e=new S.b;return e.show=!1,e.parts.push({startTime:0,startOpacity:0,targetOpacity:0,show:!1}),e.parts.push({startTime:0,startOpacity:0,targetOpacity:0,show:!1}),e})),a=new T.a(i,n,(function(t,i,n){return new x.a(t,i,n,e.styleRepository,e.key.level,0)}),(function(e,t){Object(j.d)(e,t,!1)}),(function(){return 0}),(function(e){var i=t.getStyleLayerByUID(e).getLayoutProperty("visibility");return!i||1!==i.getValue()}));i.push(e),n.add(e),a.setScreenSize(512,512),a.continue(1/0)}var C=i(268),L=function(e){Object(c.a)(i,e);var t=Object(u.a)(i);function i(e,n,a,r,o){var s;return Object(l.a)(this,i),(s=t.call(this,e,n,a))._memCache=r,s._loader=o,s._ongoingTileRequests=new Map,s._ongoingRequestToController=new Map,s}return Object(s.a)(i,[{key:"destroy",value:function(){this._ongoingRequestToController.forEach((function(e){return e.abort()})),this._ongoingRequestToController.clear(),this._ongoingTileRequests.clear()}},{key:"getVectorTile",value:function(){var e=Object(r.a)(a.a.mark((function e(t,i,n,r){var o,l,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=new C.a(t,i,n,0),l=this._memCache.get(o.id),!Object(f.k)(l)){e.next=4;break}return e.abrupt("return",(l.retain(),l));case 4:return e.next=6,this._getVectorTileData(o);case 6:if(s=e.sent,Object(d.x)(r),this._vectorTileLayer){e.next=9;break}return e.abrupt("return",null);case 9:if(l=this._memCache.get(o.id),!Object(f.k)(l)){e.next=11;break}return e.abrupt("return",(l.retain(),l));case 11:return c=this._vectorTileLayer.tileInfo.getTileBounds(Object(b.l)(),o),e.abrupt("return",(l=new w.a(o,c[0],c[3],512,512,this._styleRepository,this._memCache),Object(f.k)(s)&&s.tileData?(l.setData(s.tileData),l.retain(),this._memCache.put(o.id,l,l.memoryUsage*l.referenced,y.a)):l.setData(null),l.neededForCoverage=!0,l.transforms.tileUnitsToPixels=Object(g.c)(1/8,0,0,0,1/8,0,0,0,1),I(l,this._styleRepository),l));case 13:case"end":return e.stop()}}),e,this)})));return function(t,i,n,a){return e.apply(this,arguments)}}()},{key:"_getVectorTileData",value:function(e){var t=this,i=e.id;if(this._ongoingTileRequests.has(i))return this._ongoingTileRequests.get(i);var n=new AbortController,a={signal:n.signal},r=this._getParsedVectorTileData(e,a).then((function(e){return t._ongoingTileRequests.delete(i),t._ongoingRequestToController.delete(i),e})).catch((function(){return t._ongoingTileRequests.delete(i),t._ongoingRequestToController.delete(i),null}));return this._ongoingTileRequests.set(i,r),this._ongoingRequestToController.set(i,n),r}},{key:"_getParsedVectorTileData",value:function(e,t){var i=this;return this.fetchTileData(e,t).then((function(n){return i.parseTileData({key:e,data:n},t)}))}},{key:"request",value:function(e,t){return this._loader.request(e,"binary",t)}}]),i}(O.a),A=i(926),R=i(1153),M=1e-6,P=function(){function e(t,i){Object(l.a)(this,e),this.spriteMosaic=t,this.glyphMosaic=i,this._brushCache=new Map,this._vtlMaterialManager=new R.a}return Object(s.a)(e,[{key:"dispose",value:function(){this._brushCache&&(this._brushCache.forEach((function(e){return e.dispose()})),this._brushCache=null),this._vtlMaterialManager=Object(f.f)(this._vtlMaterialManager),this.spriteMosaic.dispose(),this.glyphMosaic.dispose()}},{key:"vectorTilesMaterialManager",get:function(){return this._vtlMaterialManager}},{key:"drawTile",value:function(e,t,i){var n=this,a=e.context,r=i.layers;i.backgroundBucketIds.length>0&&(e.renderPass="background",i.backgroundBucketIds.forEach((function(a){return n._renderStyleLayer(i.getLayerById(a),e,t,!0)}))),a.setBlendingEnabled(!1),a.setDepthTestEnabled(!0),a.setDepthWriteEnabled(!0),a.setDepthFunction(515),e.renderPass="opaque";for(var o=r.length-1;o>=0;o--)this._renderStyleLayer(r[o],e,t,!1);a.setDepthWriteEnabled(!1),a.setBlendingEnabled(!0),a.setBlendFunctionSeparate(1,771,1,771),e.renderPass="translucent";for(var l=0;l<r.length;l++)this._renderStyleLayer(r[l],e,t,!1);a.setDepthTestEnabled(!1),e.renderPass="symbol";for(var s=0;s<r.length;s++)this._renderStyleLayer(r[s],e,t,!1);a.bindVAO()}},{key:"_renderStyleLayer",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n||e&&i.layerData.has(e.uid)){var a=e.getLayoutProperty("visibility");if(!a||1!==a.getValue()){var r,o=t.renderPass;switch(e.type){case 0:if("background"!==o)return;r="vtlBackground";break;case 1:if("opaque"!==o&&"translucent"!==t.renderPass)return;r="vtlFill";break;case 2:if("translucent"!==o)return;r="vtlLine";break;case 4:if("symbol"!==o)return;r="vtlCircle";break;case 3:if("symbol"!==o)return;r="vtlSymbol"}var l=t.displayLevel;void 0!==e.minzoom&&e.minzoom>l+M||void 0!==e.maxzoom&&e.maxzoom<=l-M||(t.styleLayerUID=e.uid,t.styleLayer=e,this.drawWithBrush(t,i,r))}}}},{key:"drawWithBrush",value:function(e,t,i){if(!this._brushCache.has(i)){var n=A.b[i];this._brushCache.set(i,new n)}this._brushCache.get(i).drawMany(e,[t])}}]),e}(),E=i(1055),z=i(693),D=i(722),U=i(83),V=i(686),F=function(e){Object(c.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).type="vector-tile-3d",n}return Object(s.a)(i,[{key:"initialize",value:function(){var e=this,t=U.q.force512VTL?this.layer.tileInfo:this.layer.compatibleTileInfo256,i=this._getTileInfoSupportError(t,this.layer.fullExtent);if(i)this.addResolvingPromise(Promise.reject(i));else{var n=this.view,a=n.basemapTerrain,r=n.spatialReference,l=n.pixelRatio,s=Object(v.m)(this.view,"basemapTerrain.tilingSchemeLocked").then((function(){var t,i=a.tilingScheme,n=i.pixelSize;e.schemaHelper=new m.a(n,r.isGeographic),t=256===n?e.layer.compatibleTileInfo256:e.view.spatialReference.isGeographic?e.layer.compatibleTileInfo512:e.layer.tileInfo;var o=e._getTileInfoCompatibilityError(t,i);if(o)throw o;e._set("tileInfo",t)}));this._tileHandlerController=Object(d.e)();var c=this.view.resourceController;this._memCache=c.memoryController.getMemCache(this.layer.uid,(function(e){return e.release()}));var u=this.layer.currentStyleInfo,h=u.style,f=u.spriteUrl,p=u.glyphsUrl,_=new E.a(h,{spriteUrl:f,glyphsUrl:p}),y=a.mapTileRequester;this._tileHandler=new L(this.layer,_,l,this._memCache,y);var g=this._tileHandlerController.signal,b=function(e){return c.schedule(e)},w=this._tileHandler.start({signal:g,schedule:b}),O=this._tileHandler.spriteMosaic;O.then((function(t){!Object(d.o)(g)&&e._tileHandler&&(e.painter=new P(t,e._tileHandler.glyphMosaic))})),w.then((function(){return e._tileHandlerController=null}));var S=function(){e._tileHandlerController&&e._tileHandlerController.abort(),e._tileHandlerController=Object(d.e)(),e._memCache.clear();var t=e.layer.currentStyleInfo,i=t.style,n=t.spriteUrl,a=t.glyphsUrl,r=new E.a(i,{spriteUrl:n,glyphsUrl:a}),s=new L(e.layer,r,l,e._memCache,y),c=s.start({signal:e._tileHandlerController.signal,schedule:b}),u=s.spriteMosaic;c.then((function(){return e._tileHandlerController=null})),e.updatingHandles.addPromise(Promise.all([c,u]).then((function(t){var i=Object(o.a)(t,2)[1],n=e._tileHandler,a=e.painter;e.painter=new P(i,s.glyphMosaic),e._tileHandler=s,e.emit("data-changed"),n.destroy(),a&&a.dispose()})))};this.updatingHandles.add(this,"layer.currentStyleInfo",S),this.updatingHandles.add(this,"view.pixelRatio",S);var x=Promise.all([s,w,O]);this.addResolvingPromise(x)}}},{key:"destroy",value:function(){this.painter=Object(f.f)(this.painter),this._tileHandlerController&&(this._tileHandlerController.abort(),this._tileHandlerController=null),Object(f.e)(this._tileHandler),this._memCache=Object(f.e)(this._memCache),this._tileHandler=null}},{key:"dataLevelRange",get:function(){var e=this.tileInfo.lods,t=e[0].scale,i=e[e.length-1].scale,n=this.levelRangeFromScaleRange(t,i);return 1===n.minLevel&&256===this.tileInfo.size[0]&&(n.minLevel=0),n}},{key:"fetchTile",value:function(){var e=Object(r.a)(a.a.mark((function e(t,i,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tileHandler.getVectorTile(t,i,n,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,i,n,a){return e.apply(this,arguments)}}()}]),i}(Object(D.a)(Object(z.a)(V.a)));Object(h.a)([Object(p.b)({aliasOf:"layer.fullExtent"})],F.prototype,"fullExtent",void 0),Object(h.a)([Object(p.b)()],F.prototype,"layer",void 0),Object(h.a)([Object(p.b)()],F.prototype,"tileInfo",void 0),Object(h.a)([Object(p.b)()],F.prototype,"dataLevelRange",null),Object(h.a)([Object(p.b)()],F.prototype,"updatingProgressValue",void 0);var N=F=Object(h.a)([Object(_.a)("esri.views.3d.layers.VectorTileLayerView3D")],F)},881:function(e,t,i){"use strict";i.d(t,"a",(function(){return w})),i.d(t,"b",(function(){return O})),i.d(t,"c",(function(){return c})),i.d(t,"d",(function(){return M})),i.d(t,"e",(function(){return o})),i.d(t,"f",(function(){return k})),i.d(t,"g",(function(){return T})),i.d(t,"h",(function(){return x})),i.d(t,"i",(function(){return I})),i.d(t,"j",(function(){return l})),i.d(t,"k",(function(){return S})),i.d(t,"l",(function(){return E})),i.d(t,"m",(function(){return n})),i.d(t,"n",(function(){return P})),i.d(t,"o",(function(){return a})),i.d(t,"p",(function(){return R})),i.d(t,"q",(function(){return d})),i.d(t,"r",(function(){return v})),i.d(t,"s",(function(){return p})),i.d(t,"t",(function(){return _})),i.d(t,"u",(function(){return f})),i.d(t,"v",(function(){return h})),i.d(t,"w",(function(){return m})),i.d(t,"x",(function(){return y})),i.d(t,"y",(function(){return g})),i.d(t,"z",(function(){return b})),i.d(t,"A",(function(){return u})),i.d(t,"B",(function(){return s})),i.d(t,"C",(function(){return j})),i.d(t,"D",(function(){return r})),i.d(t,"E",(function(){return A})),i.d(t,"F",(function(){return L})),i.d(t,"G",(function(){return C}));var n=1e-30,a=4294967295,r=512,o=8,l=29,s=8,c={metrics:{width:15,height:17,left:0,top:-7,advance:14}},u=0,h=0,f=0,d=1,v=2,p=3,_=4,m=5,y=6,g=5,b=6,w=1,O=2,S=2,x=1,T=2,k=4,j=1.05,I=6,C=5,L=6,A=1.15,R=2,M=8,P=500,E=10},882:function(e,t,i){"use strict";var n,a,r,o,l,s,c;i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return n})),i.d(t,"e",(function(){return l})),i.d(t,"f",(function(){return s})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"}(n||(n={})),function(e){e[e.SUCCEEDED=0]="SUCCEEDED",e[e.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(a||(a={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(r||(r={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.OPACITY=1]="OPACITY",e[e.COLOR=2]="COLOR",e[e.ROTATION=4]="ROTATION",e[e.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",e[e.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",e[e.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",e[e.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(l||(l={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(s||(s={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(c||(c={}))},883:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a}));var n=new Float32Array(1);new Uint32Array(n.buffer);function a(e){return[255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]}function r(e,t){return 65535&e|t<<16}function o(e,t,i,n){return 255&e|(255&t)<<8|(255&i)<<16|n<<24}},884:function(e,t,i){"use strict";i.d(t,"a",(function(){return w})),i.d(t,"b",(function(){return T})),i.d(t,"c",(function(){return S})),i.d(t,"d",(function(){return O})),i.d(t,"e",(function(){return _})),i.d(t,"f",(function(){return x})),i.d(t,"g",(function(){return v})),i.d(t,"h",(function(){return p}));var n=i(14),a=i(47),r=i(44),o=i(6),l=i(7),s=i(3),c=i(4),u=i(20),h=i(882),f=i(969);function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=h.e.SIZE_FIELD_STOPS|h.e.SIZE_MINMAX_VALUE|h.e.SIZE_SCALE_STOPS|h.e.SIZE_UNIT_VALUE,n=(e&(h.f.FIELD_TARGETS_OUTLINE|h.f.MINMAX_TARGETS_OUTLINE|h.f.SCALE_TARGETS_OUTLINE|h.f.UNIT_TARGETS_OUTLINE))>>>4;return t?i&n:i&~n}function v(e,t,i,n,a){switch(e){case h.d.FILL:return w.from(t,n);case h.d.LINE:return S.from(t,i);case h.d.MARKER:return O.from(t);case h.d.TEXT:return x.from(t);case h.d.LABEL:return T.from(t,a);default:throw new Error("Unable to createMaterialKey for unknown geometryType ".concat(e))}}function p(e){switch(_.load(e).geometryType){case h.d.MARKER:return new O(e);case h.d.FILL:return new w(e);case h.d.LINE:return new S(e);case h.d.TEXT:return new x(e);case h.d.LABEL:return new T(e)}}var _=function(){function e(t){Object(s.a)(this,e),this._data=0,this._data=t}return Object(c.a)(e,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"geometryType",get:function(){return this.bits(8,11)},set:function(e){this.setBits(e,8,11)}},{key:"mapAligned",get:function(){return!!this.bit(20)},set:function(e){this.setBit(20,e)}},{key:"sdf",get:function(){return!!this.bit(11)},set:function(e){this.setBit(11,e)}},{key:"pattern",get:function(){return!!this.bit(12)},set:function(e){this.setBit(12,e)}},{key:"textureBinding",get:function(){return this.bits(0,8)},set:function(e){this.setBits(e,0,8)}},{key:"geometryTypeString",get:function(){switch(this.geometryType){case h.d.FILL:return"fill";case h.d.MARKER:return"marker";case h.d.LINE:return"line";case h.d.TEXT:return"text";case h.d.LABEL:return"label";default:throw new u.a("Unable to handle unknown geometryType: ".concat(this.geometryType))}}},{key:"setBit",value:function(e,t){var i=1<<e;t?this._data|=i:this._data&=~i}},{key:"bit",value:function(e){return(this._data&1<<e)>>e}},{key:"setBits",value:function(e,t,i){for(var n=t,a=0;n<i;n++,a++)this.setBit(n,0!=(e&1<<a))}},{key:"bits",value:function(e,t){for(var i=0,n=e,a=0;n<t;n++,a++)i|=this.bit(n)<<a;return i}},{key:"hasVV",value:function(){return!1}},{key:"setVV",value:function(e,t){}},{key:"getVariation",value:function(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}},{key:"getVariationHash",value:function(){return this._data&~(7&this.textureBinding)}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}}]),e}();_.shared=new _(0);var m=function(e){return function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"vvSizeMinMaxValue",get:function(){return 0!==this.bit(16)},set:function(e){this.setBit(16,e)}},{key:"vvSizeScaleStops",get:function(){return 0!==this.bit(17)},set:function(e){this.setBit(17,e)}},{key:"vvSizeFieldStops",get:function(){return 0!==this.bit(18)},set:function(e){this.setBit(18,e)}},{key:"vvSizeUnitValue",get:function(){return 0!==this.bit(19)},set:function(e){this.setBit(19,e)}},{key:"hasVV",value:function(){return Object(a.a)(Object(r.a)(i.prototype),"hasVV",this).call(this)||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}},{key:"setVV",value:function(e,t){Object(a.a)(Object(r.a)(i.prototype),"setVV",this).call(this,e,t);var n=d(e,t)&e;this.vvSizeMinMaxValue=!!(n&h.e.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(n&h.e.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(n&h.e.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(n&h.e.SIZE_SCALE_STOPS)}}]),i}(e)},y=function(e){return function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"vvRotation",get:function(){return 0!==this.bit(15)},set:function(e){this.setBit(15,e)}},{key:"hasVV",value:function(){return Object(a.a)(Object(r.a)(i.prototype),"hasVV",this).call(this)||this.vvRotation}},{key:"setVV",value:function(e,t){Object(a.a)(Object(r.a)(i.prototype),"setVV",this).call(this,e,t),this.vvRotation=!t&&!!(e&h.e.ROTATION)}}]),i}(e)},g=function(e){return function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"vvColor",get:function(){return 0!==this.bit(13)},set:function(e){this.setBit(13,e)}},{key:"hasVV",value:function(){return Object(a.a)(Object(r.a)(i.prototype),"hasVV",this).call(this)||this.vvColor}},{key:"setVV",value:function(e,t){Object(a.a)(Object(r.a)(i.prototype),"setVV",this).call(this,e,t),this.vvColor=!t&&!!(e&h.e.COLOR)}}]),i}(e)},b=function(e){return function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"vvOpacity",get:function(){return 0!==this.bit(14)},set:function(e){this.setBit(14,e)}},{key:"hasVV",value:function(){return Object(a.a)(Object(r.a)(i.prototype),"hasVV",this).call(this)||this.vvOpacity}},{key:"setVV",value:function(e,t){Object(a.a)(Object(r.a)(i.prototype),"setVV",this).call(this,e,t),this.vvOpacity=!t&&!!(e&h.e.OPACITY)}}]),i}(e)},w=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"getVariation",value:function(){return Object(n.a)(Object(n.a)({},Object(a.a)(Object(r.a)(i.prototype),"getVariation",this).call(this)),{},{dotDensity:this.dotDensity,vvColor:this.vvColor,vvOpacity:this.vvOpacity})}},{key:"dotDensity",get:function(){return!!this.bit(15)},set:function(e){this.setBit(15,e)}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e,t){var i=this.load(0);return i.geometryType=h.d.FILL,t?i.dotDensity=!0:i.setVV(e,!1),i.data}}]),i}(g(b(_)));w.shared=new w(0);var O=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"getVariation",value:function(){return Object(n.a)(Object(n.a)({},Object(a.a)(Object(r.a)(i.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=h.d.MARKER,t.setVV(e,!1),t.data}}]),i}(g(b(y(m(_)))));O.shared=new O(0);var S=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"getVariation",value:function(){return Object(n.a)(Object(n.a)({},Object(a.a)(Object(r.a)(i.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e,t){var i=this.load(0);return i.geometryType=h.d.LINE,i.setVV(e,t),i.data}}]),i}(g(b(m(_))));S.shared=new S(0);var x=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"getVariation",value:function(){return Object(n.a)(Object(n.a)({},Object(a.a)(Object(r.a)(i.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(e);return t.geometryType=h.d.TEXT,t.setVV(e,!1),t.data}}]),i}(g(b(y(m(_)))));x.shared=new x(0);var T=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"getVariation",value:function(){return Object(n.a)(Object(n.a)({},Object(a.a)(Object(r.a)(i.prototype),"getVariation",this).call(this)),{},{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e,t){var i=this.load(0);return i.geometryType=h.d.LABEL,i.setVV(e,!1),i.mapAligned=Object(f.a)(t),i.data}}]),i}(m(_));T.shared=new T(0)},885:function(e,t,i){"use strict";i.d(t,"a",(function(){return B})),i.d(t,"b",(function(){return E})),i.d(t,"c",(function(){return z})),i.d(t,"d",(function(){return q})),i.d(t,"e",(function(){return H})),i.d(t,"f",(function(){return Y})),i.d(t,"g",(function(){return Z})),i.d(t,"h",(function(){return V})),i.d(t,"i",(function(){return F})),i.d(t,"j",(function(){return J})),i.d(t,"k",(function(){return W})),i.d(t,"l",(function(){return j})),i.d(t,"m",(function(){return N})),i.d(t,"n",(function(){return D})),i.d(t,"o",(function(){return U})),i.d(t,"p",(function(){return P}));var n=i(14),a=i(21),r=i(12),o=i(20),l=i(16),s=(i(24),i(30),i(886),i(882)),c=i(3),u=i(4),h=i(126),f=function(){function e(){Object(c.a)(this,e),this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}return Object(u.a)(e,[{key:"acquire",value:function(e,t,i,n,a,r,o,l,s){this.color=e,this.haloColor=t,this.haloSize=i,this.size=n,this.angle=a,this.offsetX=r,this.offsetY=o,this.hAnchor=l,this.vAnchor=s}},{key:"release",value:function(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}]),e}();f.pool=new h.a(f);i(65);var d=l.a.getLogger("esri.views.2d.engine.webgl.Utils"),v="geometry",p=[{name:v,strideInBytes:36,divisor:0}],_=[{name:v,strideInBytes:12,divisor:0}],m=[{name:v,strideInBytes:40,divisor:0}],y=[{name:v,strideInBytes:36,divisor:0}],g=[{name:v,strideInBytes:36,divisor:0}];function b(e){var t,i={},n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;i[a.name]=a.strideInBytes}}catch(o){n.e(o)}finally{n.f()}return i}var w=b([{name:v,strideInBytes:36,divisor:0}]),O=b(p),S=b(_),x=b(m),T=b(y),k=b(g);function j(e,t){switch(e){case s.d.MARKER:return w;case s.d.FILL:return t?S:O;case s.d.LINE:return x;case s.d.TEXT:return T;case s.d.LABEL:return k}}var I=[v],C=[v],L=[v],A=[v],R=[v];function M(e){switch(e){case s.d.MARKER:return I;case s.d.FILL:return C;case s.d.LINE:return L;case s.d.TEXT:return A;case s.d.LABEL:return R}}function P(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function E(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function z(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function D(e){return null!=e}function U(e){return"number"==typeof e}function V(e){switch(e){case"butt":return 0;case"round":return 1;case"square":return 2;default:return d.error(new o.a("mapview-invalid-type","Cap type ".concat(e," is not a valid option. Defaulting to round"))),1}}function F(e){switch(e){case"miter":return 2;case"bevel":return 0;case"round":return 1;default:return d.error(new o.a("mapview-invalid-type","Join type ".concat(e," is not a valid option. Defaulting to round"))),1}}function N(e){switch(e){case"opacity":return s.b.OPACITY;case"color":return s.b.COLOR;case"rotation":return s.b.ROTATION;case"size":return s.b.SIZE;default:return d.error("Cannot interpret unknown vv: ".concat(e)),null}}function q(e,t,i,n,a,r,o){for(var l in r)for(var s=r[l].stride,c=P(s),u=r[l].data,h=i[l].data,f=s*a.vertexCount/c,d=s*e/c,v=s*a.vertexFrom/c,p=0;p<f;++p)h[p+d]=u[p+v];for(var _=a.indexCount,m=0;m<_;++m)n[m+t]=o[m+a.indexFrom]-a.vertexFrom+e}var B=Object(a.a)({},v,35044);function H(e,t){for(var i=[],n=0;n<5;++n){var a,o=M(n),l={},s=Object(r.a)(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;l[c]={data:t(n,c)}}}catch(u){s.e(u)}finally{s.f()}i.push({data:e(n),buffers:l})}return i}function W(e){switch(e){case 5121:return 1;case 32819:return 2;case 5126:return 4;default:return void d.error(new o.a("webgl-utils","Unable to handle type ".concat(e)))}}function J(e){switch(e){case 5121:return Uint8Array;case 32819:return Uint16Array;case 5126:return Float32Array;default:return void d.error(new o.a("webgl-utils","Unable to handle type ".concat(e)))}}var G=function(e){var t=new Map;for(var i in e){var n,a=Object(r.a)(e[i]);try{for(a.s();!(n=a.n()).done;){var o=n.value;t.set(o.name,o.location)}}catch(l){a.e(l)}finally{a.f()}}return t},K=function(e){var t={};for(var i in e){var n=e[i];t[i]=n.length?n[0].stride:0}return t},X=new Map,Y=function(e,t){if(!X.has(e)){var i=function(e){var t={},i=function(i){var a=e[i],r=0;t[i]=a.map((function(e){var t=Object(n.a)(Object(n.a)({},e),{},{normalized:e.normalized||!1,divisor:e.divisor||0,offset:r,stride:0});return r+=e.count*function(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5126:case 5124:case 5125:return 4}}(e.type),t})),t[i].forEach((function(e){return e.stride=r}))};for(var a in e)i(a);return t}(t),a={strides:K(i),bufferLayouts:i,attributes:G(t)};X.set(e,a)}return X.get(e)};function Z(e){e(s.d.FILL),e(s.d.LINE),e(s.d.MARKER),e(s.d.TEXT),e(s.d.LABEL)}},886:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return c}));var n=i(31),a=i(883);function r(e,t){return Array.isArray(t)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):(e[0]=t.r,e[1]=t.g,e[2]=t.b,e[3]=t.a),e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e[t+3];return e[t+0]*=n,e[t+1]*=n,e[t+2]*=n,i||(e[t+3]*=255),e}function l(e){return o(r([],e))}function s(e){if(!e)return 0;var t=e.r,i=e.g,n=e.b,r=e.a;return Object(a.b)(t*r,i*r,n*r,255*r)}function c(e){if(!e)return 0;var t=Object(n.a)(e,4),i=t[0],r=t[1],o=t[2],l=t[3];return Object(a.b)(i*(l/255),r*(l/255),o*(l/255),l)}},905:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(3),a=i(4),r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(n.a)(this,e),this.x=t,this.y=i,this.width=a,this.height=r}return Object(a.a)(e,[{key:"isEmpty",get:function(){return this.width<=0||this.height<=0}},{key:"union",value:function(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height)}}]),e}()},969:function(e,t,i){"use strict";function n(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}i.d(t,"a",(function(){return n}))},971:function(e,t,i){"use strict";i.d(t,"a",(function(){return R}));var n,a=i(8),r=i.n(a),o=i(15),l=i(14),s=i(3),c=i(4),u=i(6),h=i(7),f=i(0),d=i(69),v=i(32),p=i(20),_=i(55),m=i(16),y=i(698),g=i(75),b=i(23),w=i(141),O=i(34),S=i(27),x=i(1),T=(i(17),i(60)),k=i(9),j=i(102),I=i(26),C=function(){function e(){Object(s.a)(this,e),this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}return Object(c.a)(e,[{key:"getAvailability",value:function(e,t){if("unknown"!==this._allAvailability)return this._allAvailability;var i=(e-this.location.top)*this.location.width+(t-this.location.left),n=i%8,a=i>>3,r=this._tileAvailabilityBitSet;return a<0||a>r.length?"unknown":r[a]&1<<n?"available":"unavailable"}},{key:"_updateFromData",value:function(e){for(var t=this.location.width,i=this.location.height,n=!0,a=!0,r=Math.ceil(t*i/8),o=new Uint8Array(r),l=0,s=0;s<e.length;s++){var c=s%8;e[s]?(a=!1,o[l]|=1<<c):n=!1,7===c&&++l}a?this._allAvailability="unavailable":n?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=o,this.byteSize+=o.length)}}],[{key:"fromDefinition",value:function(t,i){var n=t.service.request||d.default,a=t.row,r=t.col,o=t.width,s=t.height,c={query:{f:"json"}};return i=i?Object(l.a)(Object(l.a)({},c),i):c,n(function(e){var t;if("vector-tile"===e.service.type)t="".concat(e.service.url,"/tilemap/").concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height);else{var i=e.service.tileServers;t="".concat(i&&i.length?i[e.row%i.length]:e.service.url,"/tilemap/").concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height)}var n=e.service.query;return n&&(t="".concat(t,"?").concat(n)),t}(t),i).then((function(e){return e.data})).catch((function(e){if(e&&e.details&&422===e.details.httpStatus)return{location:{top:a,left:r,width:o,height:s},valid:!0,data:Object(j.c)(o*s,0)};throw e})).then((function(t){if(t.location&&(t.location.top!==a||t.location.left!==r||t.location.width!==o||t.location.height!==s))throw new p.a("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:a,left:r,width:o,height:s}});return e.fromJSON(t)}))}},{key:"fromJSON",value:function(t){e.validateJSON(t);var i=new e;return i.location=Object.freeze(Object(I.a)(t.location)),i._updateFromData(t.data),Object.freeze(i)}},{key:"validateJSON",value:function(e){if(!e||!e.location)throw new p.a("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new p.a("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new p.a("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new p.a("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new p.a("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}]),e}();function L(e){return"".concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height)}var A=m.a.getLogger("esri.layers.support.TilemapCache"),R=n=function(e){Object(u.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e))._handles=new _.a,n._pendingTilemapRequests={},n._availableLevels={},n.levels=5,n.cacheByteSize=2097152,n.request=d.default,n._prefetchingEnabled=!0,n}return Object(c.a)(i,[{key:"initialize",value:function(){var e=this;this._tilemapCache=new y.a(this.cacheByteSize),this._handles.add([this.watch(["layer.parsedUrl","layer.tileServers?"],(function(){return e._initializeTilemapDefinition()})),Object(S.a)(this,"layer.tileInfo.lods",(function(t){return e._initializeAvailableLevels(t)}),!0)]),this._initializeTilemapDefinition()}},{key:"destroy",value:function(){this._handles&&(this._handles.destroy(),this._handles=null)}},{key:"castLevels",value:function(e){return e<=2?(A.error("Minimum levels for Tilemap is 3, but got ",e),3):e}},{key:"size",get:function(){return 1<<this.levels}},{key:"fetchTilemap",value:function(e,t,i,n){var a=this;if(!this._availableLevels[e])return Promise.reject(new p.a("tilemap-cache:level-unavailable","Level ".concat(e," is unavailable in the service")));var r=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,r);if(o)return Promise.resolve(o);var s=n&&n.signal;return n=Object(l.a)(Object(l.a)({},n),{},{signal:null}),new Promise((function(e,t){Object(b.s)(s,(function(){return t(Object(b.f)())}));var i=L(r),o=a._pendingTilemapRequests[i];if(!o){o=C.fromDefinition(r,n).then((function(e){return a._tilemapCache.put(i,e,e.byteSize),e}));var l=function(){return delete a._pendingTilemapRequests[i]};a._pendingTilemapRequests[i]=o,o.then(l,l)}o.then(e,t)}))}},{key:"getAvailability",value:function(e,t,i){if(!this._availableLevels[e])return"unavailable";var n=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return n?n.getAvailability(t,i):"unknown"}},{key:"getAvailabilityUpsample",value:function(e,t,i,n){n.level=e,n.row=t,n.col=i;var a=this.layer.tileInfo;for(a.updateTileInfo(n);;){var r=this.getAvailability(n.level,n.row,n.col);if("unavailable"!==r)return r;if(!a.upsampleTile(n))return"unavailable"}}},{key:"fetchAvailability",value:function(e,t,i,n){return this._availableLevels[e]?this.fetchTilemap(e,t,i,n).catch((function(e){return e})).then((function(n){if(n instanceof C){var a=n.getAvailability(t,i);return"unavailable"===a?Promise.reject(new p.a("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i})):a}if(Object(b.n)(n))throw n;return"unknown"})):Promise.reject(new p.a("tilemap-cache:level-unavailable","Level ".concat(e," is unavailable in the service")))}},{key:"fetchAvailabilityUpsample",value:function(e,t,i,n,a){var r=this;n.level=e,n.row=t,n.col=i;var o=this.layer.tileInfo;o.updateTileInfo(n);var l=this.fetchAvailability(e,t,i,a).catch((function(e){if(Object(b.n)(e))throw e;if(o.upsampleTile(n))return r.fetchAvailabilityUpsample(n.level,n.row,n.col,n);throw e}));return this._fetchAvailabilityUpsamplePrefetch(n.id,e,t,i,a,l),l}},{key:"_fetchAvailabilityUpsamplePrefetch",value:function(){var e=Object(o.a)(r.a.mark((function e(t,i,a,o,s,c){var u,h,f,d,v,p,_,m,y,g=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._prefetchingEnabled){e.next=2;break}return e.abrupt("return");case 2:if(u="prefetch-".concat(t),!this._handles.has(u)){e.next=5;break}return e.abrupt("return");case 5:return h=Object(b.e)(),c.then((function(){return h.abort()}),(function(){return h.abort()})),f=!1,d={remove:function(){f||(f=!0,h.abort())}},this._handles.add(d,u),e.next=12,Object(w.d)(10,h.signal).catch((function(){}));case 12:if(f||(f=!0,this._handles.remove(u)),!Object(b.o)(h)){e.next=15;break}return e.abrupt("return");case 15:for(v={id:t,level:i,row:a,col:o},p=Object(l.a)(Object(l.a)({},s),{},{signal:h.signal}),_=this.layer.tileInfo,m=function(e){var t=g.fetchAvailability(v.level,v.row,v.col,p);n._prefetches.push(t);var i=function(){n._prefetches.removeUnordered(t)};t.then(i,i)},y=0;n._prefetches.length<n._maxPrefetch&&_.upsampleTile(v);++y)m();case 18:case"end":return e.stop()}}),e,this)})));return function(t,i,n,a,r,o){return e.apply(this,arguments)}}()},{key:"_initializeTilemapDefinition",value:function(){if(this.layer.parsedUrl){var e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?Object(O.E)(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}}},{key:"_tilemapFromCache",value:function(e,t,i,n){n.level=e,n.row=t-t%this.size,n.col=i-i%this.size;var a=L(n);return this._tilemapCache.get(a)}},{key:"_initializeAvailableLevels",value:function(e){var t=this;this._availableLevels={},e&&e.forEach((function(e){return t._availableLevels[e.level]=!0}))}},{key:"test",get:function(){var e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:function(t,i,n){return!!e._tilemapFromCache(t,i,n,e._tmpTilemapDefinition)}}}}]),i}(v.a);R._maxPrefetch=4,R._prefetches=new g.a({initialSize:n._maxPrefetch}),Object(f.a)([Object(x.b)({constructOnly:!0,type:Number})],R.prototype,"levels",void 0),Object(f.a)([Object(T.a)("levels")],R.prototype,"castLevels",null),Object(f.a)([Object(x.b)({readOnly:!0,type:Number})],R.prototype,"size",null),Object(f.a)([Object(x.b)({constructOnly:!0,type:Number})],R.prototype,"cacheByteSize",void 0),Object(f.a)([Object(x.b)({constructOnly:!0})],R.prototype,"layer",void 0),Object(f.a)([Object(x.b)({constructOnly:!0})],R.prototype,"request",void 0),R=n=Object(f.a)([Object(k.a)("esri.layers.support.TilemapCache")],R)}}]);
//# sourceMappingURL=67.77551fe3.chunk.js.map