{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js","../node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js","../node_modules/@arcgis/core/views/layers/StreamLayerView.js","../node_modules/@arcgis/core/views/layers/support/FeatureFilter.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/support/featureReference.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js","../node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js","../node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFilterVisibility.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureLikeLayerView.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js","../node_modules/@arcgis/core/views/3d/support/EventedSet.js"],"names":["l","m","this","objectId","cloneProperties","t","e","a","type","Number","json","read","prototype","n","y","onUpdate","_idToGraphic","Map","clear","set","get","forEach","sourceLayer","layer","delete","size","f","arguments","_updateInfo","websocket","client","graphics","h","addResolvingPromise","when","_startup","_updateIntervalId","clearInterval","connection","destroy","store","handles","removeAll","connectionStatus","parsedUrl","spatialReference","r","definitionExpression","o","geometryDefinition","s","objectIdField","i","timeInfo","purgeOptions","maxReconnectionAttempts","maxReconnectionInterval","updateInterval","d","toJSON","geometryType","g","layerView","view","_","geometry","where","_set","p","_outSpatialReference","_onUpdate","bind","featuresManager","c","add","on","_onFeature","watch","I","performance","now","setInterval","Math","round","emit","checkForUpdates","hasEventListener","attributes","centroid","fromJSON","removeMany","length","addMany","readOnly","updatePolicy","hasZ","hasM","outFields","returnGeometry","outSpatialReference","queryEngine","executeQueryForLatestObservations","_ensureQuery","signal","connectionError","filter","aliasOf","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","u","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","spatialRelationship","hiddenIds","Set","distance","objectIds","units","timeExtent","enabled","String","types","write","source","reader","target","writer","Array","from","overridePolicy","toLowerCase","name","_dataQueryEngineInstance","ensureDataQueryEngine","dataQueryEngine","executeQueryForIdSet","_ensureQueryJSON","executeQueryForCount","executeQueryForExtent","count","extent","executeQueryForIds","features","executeQuery","defaultQueryJSON","queryGeometryType","fields","map","resourceController","scheduler","priority","graphics3d","graphicsCore","featureStore","constructOnly","highestResolutionVersion","versions","ref","refCount","feature","oldVersion","Object","defineProperty","value","uid","configurable","resolution","newVersion","push","recalculateHighestResolutionVersion","_feature","isReferenced","descriptor","fetchStatus","_features","_numVertices","_featureLimit","featuresMissing","_shuffled","_numFeatures","_emptyFeatureRatio","_estimatedSize","_estimatedUnusedSize","_estimatedUnusedSizeDirty","_availableFields","_displayingFeatures","alive","filtered","extentIncludingBorrowedFeatures","featureLimit","reduce","hasPreciseFeatureCount","id","updateMemoryEstimates","S","displayingFeatures","sort","ceil","numFeatures","_shuffle","max","availableFields","emptyFeatureRatio","requestController","P","getLogger","q","_useTileCount","updating","updatingTotal","updatingRemaining","expectedFeatureDiff","maximumNumberOfFeaturesExceeded","maximumNumberOfFeaturesExceededThrottle","_fullRatio","_farRatio","changes","updates","adds","removes","_frameTask","D","_dirty","featureTiles","displayingFeatureReferences","numDisplayingFeatureReferences","suspended","pendingEdits","_get","maximumFeaturesUpdated","memoryFactor","setDirty","lodFactor","supportsResolution","refetch","context","query","queryFeatureCount","notifyChange","estimatedUnusedSize","numVertices","tilingScheme","equals","error","clone","reclip","FeatureReferenceClass","capabilities","supportsMultipleResolutions","b","M","registerTask","O","FEATURE_TILE_FETCHER","remove","cancelFetchTile","removeTile","controller","abort","clearTile","resetFetchTile","memoryCache","pause","unpause","paused","updated","has","edits","Promise","resolve","then","result","catch","applyEditsDeleteFeatures","deletedFeatures","applyEditsAddUpdateFeatures","addedFeatures","updatedFeatures","globalIdField","globalId","errorOncePerTick","find","R","setFeatures","invalidateCounts","applyEditsAddUpdateTile","createQuery","resultType","cacheHint","queryFeatures","slice","k","queryFeaturesDehydrated","timeout","H","processQueue","constructed","getListOfTiles","markTilesNotAlive","run","addTiles","filterExtentTiles","removeTiles","done","sortTiles","displayTiles","fetchTiles","updateMaximumNumberOfFeaturesExceeded","tileDescriptors","addTile","madeProgress","hasProgressed","intersects","filterExtent","pop","loadPriority","updateRatio","reduceFeatures","showTile","needsFetching","cache","scheduleUpdated","needsNumFeatures","fetchTileCount","_handleRequest","fetchTile","logFetchError","some","intersectionIncludingBorrowed","V","z","F","refreshDisplayingFeatures","applyChanges","isFetching","maximumFeaturesForTile","min","maximumNumberOfFeatures","debugger","update","perTileMaximumNumberOfFeaturesExceeded","lij","w","referenceDisplayingFeaturesFromRelatedTiles","j","T","resetFetching","fetchCount","N","getMaxRecordCount","supportsMaxRecordCountFactor","v","MAX_MAX_RECORD_COUNT_FACTOR","fetchPagedTile","maxRecordCountFactor","isRefetching","exceededTransferLimit","schedule","_removeEmptyFeatures","Q","createFeatureCountQuery","setPagingParameters","num","concat","supportsCacheHint","x","setResolutionParams","useTileQuery","supportsPagination","start","viewingMode","resolutionAtLevel","getEffectiveTileResolution","supportsQuantization","quantizationParameters","E","mode","originPosition","tolerance","fullExtent","maxAllowableOffset","C","useTileCount","needsFeatureCount","tileMaxRecordCount","maxRecordCount","supportsResultType","L","needsRefetching","needsDisplayUpdate","hideTileFeatures","unref","console","B","hideTile","estimatedSize","put","values","process","runTask","getFeatureTileById","forEachFeatureTile","U","A","supportsQuantizationEditMode","supportsFormatPBF","loadingGraphics","loadedGraphics","pendingGraphics","_enabled","tileFetcher","loadedSymbols","material","color","outline","loadingSymbols","pendingSymbols","dataExtentSymbol","synchronizeMaps","symbols","showDataExtent","dataExtentGraphic","fromExtent","symbol","test","ensureMaxLod","getExtentGeometry","center","verticalOffset","screenLength","callout","border","symbolLayers","text","halo","watchUpdatingTracking","serviceDataExtent","serviceDataCount","NO_SERVICE_DATA_COUNT","vertexLimitExceeded","displayFeatureLimit","fetchDataInfoPromise","fetchDataInfoAbortController","lifeCycleAbortController","memoryForUnusedFeatures","_clearOverride","_override","_isOverridden","infoFor3D","minScale","approximateExtentSizeAtScale","width","height","MAX_SNAPSHOT_MIN_SCALE_FACTOR","totalVertices","pixelSize","levels","tileSize","scale","tiles","addPromise","updateVertexLimitExceeded","modeChanged","verifyCapabilities","fetchServiceDataInfo","initializeTileFetcher","cancelFetchServiceDataInfo","tilesHandle","suspend","resume","restart","memoryController","events","dataFilterChanged","availableFieldsChanged","requiredFieldsChanged","applyEdits","toTileInfo","supportsExceedsLimitQuery","addClient","warn","updateServiceDataExtent","outStatistics","statisticType","maxVertexCount","outStatisticFieldName","maxPointCount","url","tryUpdateServiceDataExtent","fullExtentInLocalViewSpatialReference","supportsExtent","fullExtentIsAccurate","MAX_FEATURE_COUNT_FOR_EXTENT","createDataInfoQuery","queryExtent","QUERY_EXTENT_TIMEOUT","portalItem","QUERY_STATISTICS_TIMEOUT","ok","averageSymbolComplexity","maximumTotalNumberOfPrimitives","primitivesPerCoordinate","primitivesPerFeature","operations","supportsExceedsLimitStatistics","vertexLimitInfo","minimumNumberOfVerticesForGeometry","maxTotalSnapshotVertices","createVertexLimitExceededQuery","exceedslimit","updateServiceDataCount","storedFeatures","totalFeatures","dependsOn","reset","state","isLocal","destroyed","extentIntersectionDirty","_isVisibleBelowSurface","extentIntersection","renderCoordsHelper","basemapTerrain","viewChange","FRUSTUM_VISIBILITY","elevationBoundsChange","isVisibleBelowSurface","updateIsVisibleBelowSurface","_setDirty","ground","navigationConstraint","opaque","radius","elevationBounds","updateExtentIntersection","frustum","isVisibleInFrustum","items","objectStateId","object","renderGeometry","owner","_removeObjectStateItem","splice","channel","removeHighlight","removeOcclude","removeRenderGeometryObjectState","stateType","objectStateSet","ids","graphic","_graphicsCore","_stateSets","releaseSet","handle","indexOf","addObjectStateSet","removeObjectState","graphics3DGraphics","_addObjectStateSet","setUid","initializeSet","hasGraphic","_removeObjectStateSet","states","_extents","allocator","_tmpExtent","contains","removeContained","pushNew","mergeTight","getItemAt","filterInPlace","containsPoint","dirtyExtents","globalDirty","averageExtentUpdateSize","dirtyGraphicsSet","updateElevation","queryGraphicUIDsInExtent","elevationProvider","_elevationChanged","suspendedChange","ELEVATION_ALIGNMENT","running","empty","markAllGraphicsElevationDirty","merge","_updateDirtyGraphics","_updateDirtyExtents","deconflictor","effectiveUpdatePolicy","keys","getGraphics3DGraphicById","alignWithElevation","needsElevationUpdates","elevationInfo","computedExtent","xmin","xmax","ymin","ymax","_querying","_handles","_queryResult","_layerView","_core","_objectIdField","_queryEngine","FILTER_VISIBILITY","_graphicsChanged","dirty","filterChanged","modifyGraphics3DGraphicVisibilities","clearVisibilityFlag","active","hasVisibilityFlag","setVisibilityFlag","recomputeFilter","intersection","_getFeatureId","suspendResumeExtentMode","dataExtent","suspendResumeExtent","scaleVisibility","outsideScaleRange","frustumVisibility","outsideOfView","frustumVisibilityEnabled","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentVisibilityEnabled","elevationAlignmentEnabled","preferredUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","filterVisibility","elevationAlignment","updateClippingExtent","layerMinMaxScaleChangeHandler","elevationInfoChange","updateVisibilityInfo","updateLabelingInfo","setup","spatialIndex","labeler","addGraphicsOwner","deconfliction","labeling","objectStates","rendererChange","opacityChange","setupSuspendResumeExtent","_updateClippingExtent","startCreateGraphics","labelsEnabled","acquireSet","queryObjectIds","setObjectIds","highlight","toArray","isArray","fieldsIndex","setUids","clippingArea","setClippingExtent","recreateAllGraphics","updateSuspendResumeExtent","suspendResumeExtentChanged","extentToSuspendResumeRect","extentPadding","setExtent","slicePlaneEnabled","drapeSourceType","_controllerCreated","clippingExtent","supportsHeightUnitConversion","pendingController","isTable","reject","updatingHandles","validateGeometryType","FEATURE_QUERY_ENGINE","initializeController","destroyPendingController","canResume","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","renderer","arcade","graphics3DGraphicsByObjectID","symbolUpdateType","whenGraphicBounds","computeAttachmentOrigin","getSymbolLayerSize","maskOccludee","suspendInfo","ready","createController","setControllerWhenInitialized","isResolved","beforeSetController","displayedNumberOfFeatures","totalNumberOfFeatures","nodes","core","performanceInfo","elevationUpdating","visibilityFrustum","visibilityScale","_getResourceInfo","Boolean","added","removed"],"mappings":"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","file":"static/js/75.07c225dc.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Accessor.js\";import{HandleOwnerMixin as o}from\"../../../core/HandleOwner.js\";import{isSome as s}from\"../../../core/maybe.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import c from\"../data/StreamFeatureManager.js\";import{createConnection as p}from\"../sources/connections/createConnection.js\";import{EventedSet as h}from\"../../../views/3d/support/EventedSet.js\";import{featureGeometryTypeKebabDictionary as d}from\"../../../geometry/support/typeUtils.js\";var l;const u=2500;let m=l=class extends t{getObjectId(){return this.objectId}clone(){return new l({objectId:this.objectId,...this.cloneProperties()})}};e([a({type:Number,json:{read:!0}})],m.prototype,\"objectId\",void 0),m=l=e([n(\"esri.layers.graphics.controllers.StreamGraphic\")],m);class y{constructor(e){this.onUpdate=e,this._idToGraphic=new Map}destroy(){this._idToGraphic.clear()}add(e){this._idToGraphic.set(e.objectId,e)}get(e){return this._idToGraphic.get(e)}forEach(e){this._idToGraphic.forEach(e)}removeById(e){const t=this._idToGraphic.get(e);return t?(t.sourceLayer=t.layer=null,this._idToGraphic.delete(e),t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._idToGraphic.size}}let f=class extends(o(i(r))){constructor(){super(...arguments),this._updateInfo={websocket:0,client:0},this.graphics=new h}initialize(){this.addResolvingPromise(this.layer.when((()=>this._startup())))}destroy(){this.clear()}clear(){this._updateIntervalId&&(clearInterval(this._updateIntervalId),this._updateIntervalId=0),this.connection&&(this.connection.destroy(),this.connection=null),this.store&&(this.store.destroy(),this.store=null),this.graphics.clear(),this.handles.removeAll()}get updating(){return!this.connection||\"connected\"===this.connection.connectionStatus}_startup(){const{parsedUrl:e,spatialReference:t,definitionExpression:r,geometryDefinition:o,objectIdField:s,timeInfo:i,purgeOptions:a,maxReconnectionAttempts:n,maxReconnectionInterval:h,updateInterval:l}=this.layer,m=d.toJSON(this.layer.geometryType),f=t,g=this.layerView.view.spatialReference,_={geometry:o,where:r};this.clear(),this._set(\"connection\",p(e,f,g,m,_,n,h)),this._outSpatialReference=g.toJSON(),this.store=new y(this._onUpdate.bind(this)),this.featuresManager=new c(this.store,s,i.toJSON(),a),this.handles.add([this.connection.on(\"feature\",(e=>this._onFeature(e))),this.layer.watch(\"definitionExpression\",(()=>this._startup())),this.layer.watch(\"geometryDefinition\",(()=>this._startup())),this.layer.watch(\"purgeOptions\",(()=>this._startup()))]);let I=performance.now();this._updateIntervalId=setInterval((()=>{const e=performance.now(),t=e-I;if(t>u){I=e;const r=Math.round(this._updateInfo.client/(t/1e3)),o=Math.round(this._updateInfo.websocket/(t/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.layerView.emit(\"update-rate\",{client:r,websocket:o})}this.featuresManager.checkForUpdates()}),l)}_onFeature(e){this._updateInfo.websocket++,this.layerView.hasEventListener(\"data-received\")&&this.layerView.emit(\"data-received\",{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry});try{s(e.geometry)&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._outSpatialReference);const t=m.fromJSON(e);t.sourceLayer=t.layer=this.layer,this.featuresManager.add(t)}catch{}}_onUpdate(e,t){s(t)&&this.graphics.removeMany(t),s(e)&&(this._updateInfo.client+=e.length,this.graphics.addMany(e))}};e([a()],f.prototype,\"connection\",void 0),e([a()],f.prototype,\"layer\",void 0),e([a()],f.prototype,\"layerView\",void 0),e([a({readOnly:!0})],f.prototype,\"updating\",null),f=e([n(\"esri.layers.graphics.controllers.StreamController\")],f);var g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Error.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../layers/graphics/controllers/StreamController.js\";import i from\"../../../rest/support/Query.js\";import{FeatureLikeLayerView3D as a}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as n}from\"./LayerView3D.js\";import p from\"../../layers/LayerView.js\";import{StreamLayerView as l}from\"../../layers/StreamLayerView.js\";let c=class extends(l(a(n(p)))){constructor(){super(...arguments),this.type=\"stream-3d\",this.updatePolicy=0,this.hasZ=!0,this.hasM=!1}get connectionError(){const r=this.get(\"controller.connection.errorString\");if(r)return new e(\"stream-controller\",r)}createQuery(){return new i({outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(r,e){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(r),null==e?void 0:e.signal)}createController(){return new s({layer:this.layer,layerView:this})}beforeSetController(){}};r([o({readOnly:!0})],c.prototype,\"updatePolicy\",void 0),r([o({readOnly:!0})],c.prototype,\"connectionError\",null),r([o()],c.prototype,\"controller\",void 0),r([o({readOnly:!0})],c.prototype,\"hasZ\",void 0),r([o({readOnly:!0})],c.prototype,\"hasM\",void 0),c=r([t(\"esri.views.3d.layers.StreamLayerView3D\")],c);var y=c;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"./support/FeatureFilter.js\";const s=s=>{let c=class extends s{constructor(...o){super(...o),this.connectionError=null,this.connectionStatus=\"disconnected\",this.filter=null}};return o([r({readOnly:!0})],c.prototype,\"connectionError\",void 0),o([r({aliasOf:\"controller.connection.connectionStatus\",readOnly:!0})],c.prototype,\"connectionStatus\",void 0),o([r({type:e})],c.prototype,\"filter\",void 0),c=o([t(\"esri.layers.mixins.StreamLayerView\")],c),c};export{s as StreamLayerView,s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../../geometry.js\";import r from\"../../../TimeExtent.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{clone as o}from\"../../../core/lang.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../../core/accessorSupport/decorators/writer.js\";import{fromJSON as l}from\"../../../geometry/support/jsonUtils.js\";import c from\"../../../rest/support/Query.js\";var d;const m=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let h=d=class extends s{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.hiddenIds=new Set,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null,this.enabled=!1}writeWhere(e,t){t.where=e||\"1=1\"}enable(){this._set(\"enabled\",!0)}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:a,distance:p}=this;return new c({geometry:o(r),objectIds:o(n),spatialRelationship:i,timeExtent:o(s),where:t,units:a,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,hiddenIds:i,timeExtent:s,objectIds:n,units:a,distance:p}=this,l=new Set;return i.forEach((e=>l.add(e))),new d({geometry:o(t),hiddenIds:l,objectIds:o(n),spatialRelationship:r,timeExtent:o(s),where:e,units:a,distance:p})}};e([n({type:String})],h.prototype,\"where\",void 0),e([p(\"where\")],h.prototype,\"writeWhere\",null),e([n({types:t,json:{read:l,write:!0}})],h.prototype,\"geometry\",void 0),e([n({type:String,json:{read:{source:\"spatialRel\",reader:m.read},write:{target:\"spatialRel\",writer:m.write}}})],h.prototype,\"spatialRelationship\",void 0),e([n({json:{write:(e,t,r)=>t[r]=Array.from(e),read:e=>new Set(e)}})],h.prototype,\"hiddenIds\",void 0),e([n({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],h.prototype,\"distance\",void 0),e([n({type:[Number],json:{write:!0}})],h.prototype,\"objectIds\",void 0),e([n({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],h.prototype,\"units\",void 0),e([n({type:r,json:{write:!0}})],h.prototype,\"timeExtent\",void 0),e([n({readOnly:!0})],h.prototype,\"enabled\",void 0),h=d=e([a(\"esri.views.layers.support.FeatureFilter\")],h);var y=h;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import r from\"../../../../core/Accessor.js\";import{isNone as t}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import o from\"../../../../layers/graphics/data/QueryEngine.js\";import i from\"../../../../rest/support/FeatureSet.js\";import u from\"../../../../rest/support/Query.js\";import{featureGeometryTypeKebabDictionary as y}from\"../../../../geometry/support/typeUtils.js\";const c=o;let l=class extends r{constructor(e){super(e),this._dataQueryEngineInstance=null}get queryGeometryType(){switch(this.layer.geometryType){case\"multipoint\":case\"point\":case\"polygon\":case\"polyline\":return this.layer.geometryType;case\"mesh\":return\"polygon\";default:return}}get defaultQueryJSON(){return new u({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this.ensureDataQueryEngine()}destroy(){this.clear()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,r){return this.dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e),r)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:n.fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQueryForLatestObservations(e,r){const t=await this.dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),r),s=i.fromJSON(t);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}async executeQuery(e,r){const t=await this.dataQueryEngine.executeQuery(this._ensureQueryJSON(e),r),s=i.fromJSON(t);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}_ensureQueryJSON(e){return t(e)?this.defaultQueryJSON:(\"outSpatialReference\"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),e.toJSON())}ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=\"timeInfo\"in this.layer&&this.layer.timeInfo&&this.layer.timeInfo.toJSON()||null,r=this.layer.objectIdField,t=y.toJSON(this.queryGeometryType),s=this.layer.fields.map((e=>e.toJSON())),a=this.layerView.view.resourceController.scheduler,n=this.priority,o=this.spatialReference.toJSON(),i=this.layerView.graphics3d.graphicsCore.featureStore,{hasZ:u,hasM:l}=this.layerView;return this._dataQueryEngineInstance=new c({hasZ:u,hasM:l,geometryType:t,fields:s,timeInfo:e,spatialReference:o,objectIdField:r,featureStore:i,scheduler:a,priority:n}),this._dataQueryEngineInstance}};e([s({constructOnly:!0})],l.prototype,\"layerView\",void 0),e([s({constructOnly:!0})],l.prototype,\"priority\",void 0),e([s({readOnly:!0,aliasOf:\"layerView.view.spatialReference\"})],l.prototype,\"spatialReference\",void 0),e([s({readOnly:!0,aliasOf:\"layerView.layer\"})],l.prototype,\"layer\",void 0),e([s({readOnly:!0})],l.prototype,\"queryGeometryType\",null),e([s({readOnly:!0})],l.prototype,\"defaultQueryJSON\",null),l=e([a(\"esri.views.3d.layers.graphics.QueryEngine\")],l);var p=l;export{l as QueryEngine,p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../../layers/graphics/dehydratedFeatures.js\";import{equals as e}from\"../../../../layers/graphics/dehydratedFeatureComparison.js\";class s{constructor(e,s){this.highestResolutionVersion=null,this.versions=[],this.ref(e,s)}get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}ref(s,t){const r=this.feature;i.oldVersion=r,this.feature&&Object.defineProperty(s,\"uid\",{value:this.feature.uid,configurable:!0});for(const o of this.versions)if(o.resolution===t){o.refCount++;const t=this.highestResolutionVersion===o&&!e(s,o.feature);return(t||this.highestResolutionVersion!==o)&&(o.feature=s),i.newVersion=t?s:r,i}const n={feature:s,resolution:t,refCount:1};return this.versions.push(n),!this.highestResolutionVersion||t<this.highestResolutionVersion.resolution?(i.newVersion=s,this.highestResolutionVersion=n):i.newVersion=r,i}unref(e){for(let s=0;s<this.versions.length;s++){const t=this.versions[s];if(t.resolution===e)return t.refCount--,i.oldVersion=this.feature,0===t.refCount&&(this.versions[s]=this.versions[this.versions.length-1],this.versions.length--,this.highestResolutionVersion===t&&(this.recalculateHighestResolutionVersion(),i.oldVersion=t.feature)),i.newVersion=this.feature,i}return null}get feature(){return this.highestResolutionVersion?this.highestResolutionVersion.feature:null}recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this.highestResolutionVersion=null);let e=this.versions[0];for(let s=1;s<this.versions.length;s++){const t=this.versions[s];t.resolution<e.resolution&&(e=t)}this.highestResolutionVersion=e}}class t{constructor(e){this._feature=e,this.refCount=1}get isReferenced(){return 0!==this.refCount}get isSingle(){return 1===this.refCount}ref(s){return++this.refCount,i.oldVersion=this._feature,this.feature&&Object.defineProperty(s,\"uid\",{value:this.feature.uid,configurable:!0}),e(this._feature,s)||(this._feature=s),i.newVersion=this._feature,i}unref(){return i.oldVersion=this._feature,this.refCount>0&&(this.refCount--,!this.isReferenced)?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null};export{s as MultiFeatureReference,t as SingleFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{shuffle as t}from\"../../../../core/arrayUtils.js\";import{unwrapOr as e,isSome as s,isNone as i}from\"../../../../core/maybe.js\";import{create as r,fromExtent as u,intersects as a,copy as h,POSITIVE_INFINITY as n,intersection as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{numVertices as d,estimateSize as m,getObjectId as l}from\"../../../../layers/graphics/dehydratedFeatures.js\";const _=16438,c=new Set;class g{constructor(t){this.descriptor=t,this.fetchStatus=0,this._features=null,this._numVertices=0,this._featureLimit=0,this.featuresMissing=!0,this._shuffled=!1,this._numFeatures=o,this._emptyFeatureRatio=0,this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._availableFields=c,this._displayingFeatures=null,this.alive=!0,this.filtered=!1}get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){return!this.filtered&&(this.featuresMissing||this.features&&this.featureLimit!==this.features.length)}get features(){return this._features}get featureLimit(){return this._featureLimit}set featureLimit(t){this._featureLimit!==t&&(this._featureLimit=t,this._estimatedUnusedSizeDirty=!0)}get availableFields(){return this._availableFields}setFeatures(t,s,i){this._availableFields=e(i,c),this._features=t,this._shuffled=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,t&&t.length>0?(this._emptyFeatureRatio=s/(t.length+s),this._numVertices=t.reduce(((t,e)=>t+d(e.geometry)),0)):(this._emptyFeatureRatio=0,this._numVertices=0)}get emptyFeatureRatio(){return this._emptyFeatureRatio}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures:this._features?this._features.length:0}set numFeatures(t){this._numFeatures=t}get hasPreciseFeatureCount(){return this._numFeatures>o}get needsFeatureCount(){return this._numFeatures===o}get numVertices(){return this._numVertices}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=m(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=m(this._features[t]);return!0}return!1}get isFetching(){return 2===this.fetchStatus||3===this.fetchStatus}get isRefetching(){return 3===this.fetchStatus}get needsFetching(){return 0===this.fetchStatus||1===this.fetchStatus}get needsRefetching(){return 1===this.fetchStatus}get isFetched(){return 4===this.fetchStatus||5===this.fetchStatus}resetFetching(){this.fetchStatus=3===this.fetchStatus?1:0}get needsDisplayUpdate(){return!!this._features&&!S(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return!t||!this.descriptor.extent||(u(t,p),a(this.descriptor.extent,p))}intersectionIncludingBorrowed(t,e){const i=s(this.extentIncludingBorrowedFeatures)?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||i?(t?(u(t,e),f(e,i,e)):h(e,i),e):(h(e,n),e)}_shuffle(e){this._features.sort(((t,s)=>l(t,e)-l(s,e))),t(this._features,_),this._shuffled=!0,this._estimatedUnusedSizeDirty=!0}reduceFeatures(t,e,s){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let i=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&(this.featureLimit=this._features.length,4===this.fetchStatus&&this._features.length>0&&(this.fetchStatus=1,i=!0)),!this._shuffled&&t<1&&this._shuffle(s);const r=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>r&&(this._features.length=r,this.featuresMissing=!0,5===this.fetchStatus&&(this.fetchStatus=4)),i}get cache(){return{availableFields:this._availableFields,features:this.features,numFeatures:this._numFeatures,emptyFeatureRatio:this._emptyFeatureRatio,fetchStatus:this.fetchStatus,featuresMissing:this.featuresMissing}}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._numFeatures=t.numFeatures,this._emptyFeatureRatio=t.emptyFeatureRatio,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0}}const o=-1,F=-2;function S(t,e,s){if(i(e)||i(t)||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}const p=r();export{F as FAILED_FEATURE_COUNT,g as FeatureTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import i from\"../../../../core/Logger.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{isSome as a,destroyMaybe as n,isNone as o,unwrap as u}from\"../../../../core/maybe.js\";import{createAbortController as l,isAbortError as h,eachAlways as c}from\"../../../../core/promiseUtils.js\";import{schedule as d}from\"../../../../core/scheduling.js\";import{on as p}from\"../../../../core/watchUtils.js\";import{property as f}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as g,equals as F,clone as y,expand as T,toExtent as x}from\"../../../../geometry/support/aaBoundingRect.js\";import{getObjectId as R,hasVertices as C}from\"../../../../layers/graphics/dehydratedFeatures.js\";import E from\"../../../../rest/support/QuantizationParameters.js\";import v from\"../../../../rest/support/Query.js\";import{MultiFeatureReference as b,SingleFeatureReference as M}from\"./featureReference.js\";import{FAILED_FEATURE_COUNT as _,FeatureTile as w}from\"./FeatureTile.js\";import{tilesAreRelated as j}from\"../../terrain/tileUtils.js\";import{ImmediateTask as D,TaskPriority as O}from\"../../../support/Scheduler.js\";const P=i.getLogger(\"esri.views.3d.layers.support.FeatureTileFetcher3D\");let q=class extends t{constructor(e){super(e),this._useTileCount=!1,this.updating=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this.maximumNumberOfFeaturesExceededThrottle=1e3,this._fullRatio=1,this._farRatio=1,this.changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this.handles=new s,this._frameTask=D,this._dirty=!1,this.featureTiles=new Map,this.displayingFeatureReferences=new Map,this.numDisplayingFeatureReferences=0,this.suspended=!0,this.pendingEdits=null}set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get(\"maximumNumberOfFeatures\");e===t||e<1||(this._set(\"maximumNumberOfFeatures\",e),this.maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set(\"memoryFactor\",e),this.setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set(\"lodFactor\",e),this.supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&a(this.context.query.queryFeatureCount)}set useTileCount(e){this._useTileCount=e,this.notifyChange(\"useTileCount\")}get memoryForUnusedFeatures(){let e=0;return this.featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this.featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this.featureTiles.forEach((t=>e+=t.numFeatures)),e}set filterExtent(e){if(e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void P.error(\"#filterExtent=\",\"extent needs to be in the same spatial reference as the tiling scheme\");const t=this._get(\"filterExtent\");if(t===e||t&&e&&t.equals(e))return;const s=e?e.clone():null;this._set(\"filterExtent\",s),this.reclip(s,t)}initialize(){this.handles.add(p(this,\"tileDescriptors\",\"change\",(()=>this.setDirty()),(()=>this.setDirty()))),this.objectIdField=this.context.objectIdField,this.FeatureReferenceClass=this.context.capabilities.supportsMultipleResolutions?b:M;const e=this.context.scheduler;a(e)&&(this._frameTask=e.registerTask(O.FEATURE_TILE_FETCHER,this)),this.setDirty()}destroy(){this._frameTask.remove(),this.handles=n(this.handles),this.featureTiles.forEach((e=>{this.cancelFetchTile(e),this.removeTile(e)})),this.featureTiles.clear(),this.displayingFeatureReferences.clear(),this.pendingEdits&&(this.pendingEdits.controller.abort(),this.pendingEdits=null)}get paused(){return this.suspended||!!this.pendingEdits}restart(){this.featureTiles.forEach((e=>{this.cancelFetchTile(e),this.clearTile(e),this.resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this.setDirty()}refetch(){this.featureTiles.forEach((e=>{this.cancelFetchTile(e),this.resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this.setDirty()}suspend(){this.suspended||(this.suspended=!0,this.pause(),this.setDirty())}resume(){this.suspended&&(this.suspended=!1,this.unpause())}pause(){this.paused&&(this.featureTiles.forEach((e=>this.cancelFetchTile(e))),this.updated())}unpause(){this.paused||(this.setDirty(),this.updated())}get availableFields(){let e=null;return this.featureTiles.forEach((t=>{o(t.displayingFeatures)||0===t.displayingFeatures.length||(o(e)?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields.has(s)||u(e).delete(s)})))})),a(e)?e:new Set}applyEdits(e){this.pendingEdits||(this.pendingEdits={edits:Promise.resolve(),count:0,controller:l()},this.pause());const t=this.pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if(h(e))throw e;return null})).then((e=>e?(this.applyEditsDeleteFeatures(e.deletedFeatures),this.applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0==--t.count&&(this.pendingEdits===t&&(this.pendingEdits=null),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this.unpause(),this.updated()),e)))));return t.edits=s,this.updated(),s}applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),i=new Set,r=this.objectIdField;e.forEach((({objectId:e,globalId:a})=>{if((!e||e<0)&&t){s||P.errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`);const e=this.features.find((e=>e.attributes&&e.attributes[t]===a));e&&i.add(R(e,r))}else i.add(e)})),this.featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!i.has(R(e,this.objectIdField))));t.length!==e.features.length&&(e.setFeatures(t,0,e.availableFields),this.invalidateCounts())}))}async applyEditsAddUpdateFeatures(e,t,s){const i=[],r=new Set;if(e.forEach((e=>i.push(e.objectId))),t.forEach((e=>{i.push(e.objectId),r.add(e.objectId)})),0===i.length)return;const a=[];this.featureTiles.forEach((e=>{const t=this.applyEditsAddUpdateTile(e,i,r,s);t&&a.push(t)})),await c(a)}async applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;const r=this.createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=t;const a=await this.queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has(R(e,this.objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),e.setFeatures(n,0,k(e.availableFields,a.fields)),this.invalidateCounts())}queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:H})}setDirty(){this._dirty=!0,this.updated()}get running(){return this.updating}runTask(e){if(this._frameTask.processQueue(e),!this._dirty||!this.constructed)return;this._dirty=!1;const t=this.getListOfTiles();if(this.markTilesNotAlive(t),!e.run((()=>this.addTiles(t,e)))||!e.run((()=>this.filterExtentTiles(t,e)))||!e.run((()=>this.removeTiles(t,e)))||e.done)return void this.setDirty();const s=this.sortTiles(t);e.run((()=>this.displayTiles(s,e)))&&e.run((()=>this.fetchTiles(s,e)))&&e.run((()=>this.updateMemoryEstimates(s,e)))||this.setDirty(),this.updated(),this.updating||this.updateMaximumNumberOfFeaturesExceeded()}markTilesNotAlive(e){for(const t of e)t.alive=!1}addTiles(e,t){return!this.suspended&&(this.tileDescriptors.forEach((s=>{const i=this.featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this.addTile(s)),t.madeProgress())})),t.hasProgressed)}filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this.clearTile(s),t.madeProgress()))}return t.hasProgressed}removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this.removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}sortTiles(e){return e.sort(((e,t)=>e.descriptor.loadPriority-t.descriptor.loadPriority)),e}displayTiles(e,t){const s=this.updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;return e.reduceFeatures(t,this.memoryFactor,this.objectIdField)&&this.setDirty(),this.showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this.setDirty();break}return t.hasProgressed}fetchTiles(e,t){if(this.paused)return!1;let s=!1;for(const i of e){if(!i.needsFetching)continue;const e=a(this.context.memoryCache)?this.context.memoryCache.pop(i.id):null;if(a(e))i.cache=e,this.setDirty(),this.scheduleUpdated(),t.madeProgress();else{if(this.needsNumFeatures(i)){const e=l(),r=this.fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.numFeatures=_)),s=!0,t.madeProgress()}if(t.done)return!0}}if(s)return t.hasProgressed;for(const i of e)if(i.needsFetching){const e=l(),s=this.fetchTile(i,e.signal);if(this._handleRequest(i,s,e,(e=>{i.setFeatures([],0,null),this.invalidateCounts(),i.featuresMissing=!1,this.context.logFetchError(P,e)})),t.madeProgress(),t.done)return!0}return t.hasProgressed}updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this.setDirty(),!0))),t.hasProgressed}reclip(e,t){if(!this.constructed)return;const s=new Array;this.featureTiles.forEach((i=>{o(i.displayingFeatures)||0===i.displayingFeatures.length||(i.intersectionIncludingBorrowed(t,V),i.intersectionIncludingBorrowed(e,z),F(V,z)||s.push(i))})),this.refreshDisplayingFeatures(s),this.updated()}refreshDisplayingFeatures(e){const t=new Set,s=this.changes.updates;for(const i of e)if(!o(i.displayingFeatures))for(const e of i.displayingFeatures){const i=R(e,this.objectIdField);if(t.has(i))continue;t.add(i);const{feature:r}=this.displayingFeatureReferences.get(i);s.removes.push(r),s.adds.push(r)}this.applyChanges()}updated(){let e=0;this.paused||this.featureTiles.forEach((t=>t.isFetching?++e:0));const t=this._dirty||e>0||!!this.pendingEdits;if(this._set(\"updating\",t),t){let t=0,s=0,i=0,r=0,n=0;const o=this.displayingFeatureReferences.size/this.numDisplayingFeatureReferences;this.featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this.maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=a(e.displayingFeatures)?e.displayingFeatures.length*o:0;n+=t-s}e.needsFetching?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let u=0,l=0;t?(l=t,u=Math.min(r*t/i,t)):(l=s,u=r),n=Math.min(this.maximumNumberOfFeatures-this.features.length,n),this._set(\"updatingTotal\",l),this._set(\"updatingRemaining\",u),this._set(\"expectedFeatureDiff\",n)}else this._set(\"updatingTotal\",0),this._set(\"updatingRemaining\",0),this._set(\"expectedFeatureDiff\",0);this.debugger&&this.debugger.update()}updateMaximumNumberOfFeaturesExceeded(){const e=r(this.featureTiles,(e=>e.perTileMaximumNumberOfFeaturesExceeded));this._set(\"maximumNumberOfFeaturesExceeded\",e)}updateRatio(e){const t=S(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this.scheduleUpdated(),s}maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this.featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this.maximumFeaturesForTile(e);e.features&&(e.features.length>=t||5===e.fetchStatus)||(this.cancelFetchTile(e),this.resetFetchTile(e))})),this.setDirty())}addTile(e){const t=new w(e);return this.featureTiles.set(t.id,t),this.resetFetchTile(t),this.referenceDisplayingFeaturesFromRelatedTiles(t),t}referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.descriptor.resolution;this.featureTiles.forEach((s=>{if(!(o(s.displayingFeatures)||e===s||e.descriptor.lij&&s.descriptor.lij&&!j(e.descriptor.lij,s.descriptor.lij))){o(e.displayingFeatures)&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(o(e.extentIncludingBorrowedFeatures)&&(e.extentIncludingBorrowedFeatures=y(e.descriptor.extent)),T(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this.displayingFeatureReferences.get(R(i,this.objectIdField));s.ref(s.feature,t),this.numDisplayingFeatureReferences++}}})),e.featureLimit=a(e.displayingFeatures)?e.displayingFeatures.length:0}removeTile(e){this.clearTile(e),this.featureTiles.delete(e.id)}resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetching&&(e.fetchStatus=4):e.fetchStatus=0}cancelFetchTile(e){const t=e.requestController;a(t)&&(e.requestController=null,e.resetFetching(),t.abort())}async fetchTileCount(e,t){return e.numFeatures=await this.fetchCount(e,t),this.updateRatio(this.getListOfTiles()),3===e.fetchStatus?1:0}async fetchTile(e,t){const s=this.maximumFeaturesForTile(e);if(s<=0)return N(e);const i=this.getMaxRecordCount(e),r=Math.ceil(s/i);if(I(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>v.MAX_MAX_RECORD_COUNT_FACTOR)return this.fetchPagedTile(e,t);const a=this.createQuery(e);if(a.maxRecordCountFactor=Math.ceil(s/i),e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);a.maxRecordCountFactor=Math.max(t+1,a.maxRecordCountFactor)}const{features:n,exceededTransferLimit:o,fields:u}=await this.queryFeatures(a,t),l=o?a.maxRecordCountFactor>=v.MAX_MAX_RECORD_COUNT_FACTOR?5:4:5;return await this._frameTask.schedule((()=>{e.featuresMissing=n.length<e.numFeatures||o;const t=this._removeEmptyFeatures(n);e.setFeatures(n,t,Q(u))}),t),this.invalidateCounts(),l}async fetchCount(e,t){return this.context.query.queryFeatureCount(this.createFeatureCountQuery(e),{signal:t})}async fetchPagedTile(e,t){let s,i=0,r=0,a=0,n=this.maximumFeaturesForTile(e)-a;const o=this.getMaxRecordCount(e);let l=null;for(;;){const h=this.createQuery(e),c=this.setPagingParameters(h,i,n,o),{features:d,exceededTransferLimit:p,fields:f}=await this.queryFeatures(h,t);if(await this._frameTask.schedule((()=>{c&&(i+=u(h.num)),a+=d.length,r+=this._removeEmptyFeatures(d),e.featuresMissing=i<e.numFeatures||p,s=s?s.concat(d):d,l=k(l,f),e.setFeatures(s,r,l)}),t),this.invalidateCounts(),this.setDirty(),n=this.maximumFeaturesForTile(e)-a,!c||!p||n<=0)return p?4:5}}createFeatureCountQuery(e){const t=this.createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}createQuery(e){const t=this.context.createQuery(),s=e.descriptor.extent;if(s){const e=this.context.tilingScheme.spatialReference;t.geometry=x(s,e)}return this.setResolutionParams(t,e),this.useTileQuery(e)?t.resultType=\"tile\":this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),t}setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}getEffectiveTileResolution(e){if(null==e.descriptor.resolution)return null;const t=1===this.context.viewingMode?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.descriptor.resolution,t)/this.lodFactor}get supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&\"point\"!==this.context.geometryType}setResolutionParams(e,t){if(!this.supportsResolution)return;const s=this.getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new E({mode:\"view\",originPosition:\"upper-left\",tolerance:s,extent:this.context.fullExtent}):\"polyline\"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e){const t=e.length;for(let s=0;s<e.length;){const t=e[s];C(t.geometry)?++s:(e[s]=e[e.length-1],--e.length)}return t-e.length}needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!I(e)}getMaxRecordCount(e){const{tileMaxRecordCount:t,maxRecordCount:s}=this.context;return this.useTileQuery(e)&&a(t)&&t>0&&this.context.capabilities.supportsResultType?t:a(s)&&s>0?s:L}useTileQuery(e){return(!I(e)||!this.context.capabilities.supportsCacheHint)&&this.context.capabilities.supportsResultType}_handleRequest(e,t,s,i){e.fetchStatus=e.needsRefetching?3:2,e.requestController=s;let r=!1;t.then((t=>{e.requestController=null,e.fetchStatus=t})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchStatus=4),h(t)?r=!0:i(t)})).then((()=>{r||this.setDirty(),this.scheduleUpdated()}))}scheduleUpdated(){this.handles&&!this.handles.has(\"scheduleUpdated\")&&this.handles.add(d((()=>{this.handles.remove(\"scheduleUpdated\"),this.updated()})),\"scheduleUpdated\")}showTile(e){if(a(e.displayingFeatures)&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=a(e.displayingFeatures)&&e.displayingFeatures.length>0;return this.hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.descriptor.resolution,i=this.changes.updates,r=this.changes.adds,n=Math.min(e.featureLimit,t.length);e.featureLimit=n;for(let a=0;a<n;++a){const e=t[a],n=R(e,this.objectIdField),o=this.displayingFeatureReferences.get(n);if(o){const t=o.ref(e,s);t.oldVersion!==t.newVersion&&(i.removes.push(t.oldVersion),i.adds.push(t.newVersion))}else this.displayingFeatureReferences.set(n,new this.FeatureReferenceClass(e,s)),r.push(e);this.numDisplayingFeatureReferences++}return this.hideTileFeatures(e),this.applyChanges(),e.displayingFeatures=t.slice(0,n),!0}hideTile(e){this.cancelFetchTile(e),this.hideTileFeatures(e)}hideTileFeatures(e){if(o(e.displayingFeatures))return;const t=this.changes.updates,s=this.changes.removes;for(const i of e.displayingFeatures){const r=R(i,this.objectIdField),a=this.displayingFeatureReferences.get(r);if(!a)continue;const n=a.unref(e.descriptor.resolution);this.numDisplayingFeatureReferences--,n?n.oldVersion!==n.newVersion&&(null==n.newVersion?(this.displayingFeatureReferences.delete(r),s.push(n.oldVersion)):(t.adds.push(n.newVersion),t.removes.push(n.oldVersion))):console.error(\"Hiding unreferenced feature\")}this.applyChanges(),e.displayingFeatures=null}applyChanges(){const e=this.changes.updates;e.removes.length>0&&(this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this.features.addMany(e.adds),e.adds.length=0);const t=this.changes.adds,s=this.changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+B,i);this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&this.features.addMany(0===r?t:t.slice(r)),s.length>i&&this.features.removeMany(0===r?s:s.slice(r)),t.length=0,s.length=0}clearTile(e){if(this.hideTile(e),e.features&&a(this.context.memoryCache)){const t=16+e.estimatedSize;this.context.memoryCache.put(e.id,e.cache,t)}e.setFeatures(null,0,null),this.invalidateCounts()}invalidateCounts(){this.notifyChange(\"totalVertices\"),this.notifyChange(\"totalFeatures\"),this.notifyChange(\"memoryForUnusedFeatures\")}getListOfTiles(){return Array.from(this.featureTiles.values())}get storedFeatures(){return this.getListOfTiles().reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}maximumFeaturesForTile(e){const t=e.hasPreciseFeatureCount?e.numFeatures:1/0,s=e.hasPreciseFeatureCount?t:this.maximumNumberOfFeatures,i=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(s*i/(1-e.emptyFeatureRatio)),t)}get test(){return{process:e=>this.runTask(e),getFeatureTileById:e=>this.featureTiles.get(e),forEachFeatureTile:e=>this.featureTiles.forEach(e)}}};function I(e){return\"dummy-tile-full-extent\"===e.id}function S(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function U(e){const t=e.capabilities.query;return{supportsMultipleResolutions:A(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function A(e){switch(e.geometryType){case\"polyline\":return!0;case\"polygon\":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}function N(e){return e.setFeatures([],0,null),e.featuresMissing=!1,4}function Q(e){return o(e)?new Set:new Set(e.map((e=>e.name)))}function k(e,t){if(o(e)||o(t))return Q(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}e([f({constructOnly:!0})],q.prototype,\"features\",void 0),e([f()],q.prototype,\"tileDescriptors\",void 0),e([f({value:1/0})],q.prototype,\"maximumNumberOfFeatures\",null),e([f({value:1})],q.prototype,\"memoryFactor\",null),e([f({value:1})],q.prototype,\"lodFactor\",null),e([f()],q.prototype,\"useTileCount\",null),e([f({readOnly:!0})],q.prototype,\"updating\",void 0),e([f({readOnly:!0})],q.prototype,\"updatingTotal\",void 0),e([f({readOnly:!0})],q.prototype,\"updatingRemaining\",void 0),e([f({readOnly:!0})],q.prototype,\"expectedFeatureDiff\",void 0),e([f({readOnly:!0})],q.prototype,\"memoryForUnusedFeatures\",null),e([f({readOnly:!0})],q.prototype,\"maximumNumberOfFeaturesExceeded\",void 0),e([f({constructOnly:!0})],q.prototype,\"maximumNumberOfFeaturesExceededThrottle\",void 0),e([f({readOnly:!0})],q.prototype,\"totalVertices\",null),e([f({readOnly:!0})],q.prototype,\"totalFeatures\",null),e([f()],q.prototype,\"filterExtent\",null),e([f({constructOnly:!0})],q.prototype,\"context\",void 0),q=e([m(\"esri.views.3d.layers.support.FeatureTileFetcher3D\")],q);const L=2e3,V=g(),z=g(),H=6e5,B=200;var X=q;export{q as FeatureTileFetcher3D,U as contextCapabilitiesFromLayer,X as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import t from\"../../../../geometry/Polygon.js\";import i from\"../../../../symbols/FillSymbol3DLayer.js\";import s from\"../../../../symbols/PointSymbol3D.js\";import a from\"../../../../symbols/PolygonSymbol3D.js\";import o from\"../../../../symbols/TextSymbol3DLayer.js\";import r from\"../../terrain/TilingScheme.js\";const h=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class l{constructor(e,t,s){this.loadingGraphics=new Map,this.loadedGraphics=new Map,this.pendingGraphics=new Map,this._enabled=!0,this.tileFetcher=e,this.view=s,this.tilingScheme=new r(t),this.loadedSymbols=h.map((e=>new a(new i({material:{color:[e[0],e[1],e[2],.6]},outline:{color:\"black\",size:1}})))),this.loadingSymbols=[new a(new i({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}}))],this.pendingSymbols=[new a(new i({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}}))],this.dataExtentSymbol=new a(new i({material:{color:[0,0,0,0]},outline:{color:\"green\",size:4}}))}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this.synchronizeMaps(this.loadingGraphics,{filter:e=>e.isFetching,symbols:this.loadingSymbols}),this.synchronizeMaps(this.loadedGraphics,{filter:e=>!e.isFetching,symbols:this.loadedSymbols}),this.synchronizeMaps(this.pendingGraphics,{filter:e=>!e.isFetching,symbols:this.pendingSymbols}),this.showDataExtent(this.tileFetcher.filterExtent)):(this.loadingGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.loadingGraphics.clear(),this.loadedGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.loadedGraphics.clear(),this.pendingGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.pendingGraphics.clear(),this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null))}showDataExtent(i){if(this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null),!i)return;const s=t.fromExtent(i);this.dataExtentGraphic=new e({geometry:s,symbol:this.dataExtentSymbol}),this.view.graphics.add(this.dataExtentGraphic)}synchronizeMaps(t,i){const a=[];t.forEach(((e,t)=>{const s=this.tileFetcher.test.getFeatureTileById(t);s&&i.filter(s)||(this.view.graphics.removeMany(e),a.push(t))})),a.forEach((e=>t.delete(e))),this.tileFetcher.test.forEachFeatureTile((a=>{if(i.filter(a)&&!t.has(a.id)){const[r,h,l]=a.descriptor.lij;this.tilingScheme.ensureMaxLod(r);const n=this.tilingScheme.getExtentGeometry(r,h,l),c=[new e({geometry:n,symbol:i.symbols[r%i.symbols.length]}),new e({geometry:n.center,symbol:new s({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new o({text:`${r}/${h}/${l}`,halo:{color:\"white\",size:1/.75},material:{color:\"black\"},size:16})]})})];t.set(a.id,c),this.view.graphics.addMany(c)}}))}}export{l as FeatureTileFetcher3DDebugger,l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import\"../../../core/has.js\";import s from\"../../../core/Error.js\";import a from\"../../../core/Handles.js\";import{clone as o}from\"../../../core/lang.js\";import n from\"../../../core/Logger.js\";import{isSome as l,destroyMaybe as c,removeMaybe as h,isNone as u}from\"../../../core/maybe.js\";import{EsriPromiseMixin as d}from\"../../../core/Promise.js\";import{createAbortController as m,isAbortError as p,eachAlways as f}from\"../../../core/promiseUtils.js\";import{whenOnce as y,init as g}from\"../../../core/watchUtils.js\";import{property as x}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as F}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isHostedAgolService as v}from\"../../support/arcgisLayerUrl.js\";import{projectGeometry as T}from\"../../../portal/support/geometryServiceUtils.js\";import E from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileFetcher3D as w}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as C}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import D from\"../../../views/3d/support/debugFlags.js\";import{WatchUpdatingTracking as b}from\"../../../views/support/WatchUpdatingTracking.js\";const S=n.getLogger(\"esri.layers.graphics.controllers.FeatureTileController3D\");let _=class extends(d(t)){constructor(e){super(e),this.type=\"feature-tile-3d\",this.watchUpdatingTracking=new b,this.serviceDataExtent=null,this.serviceDataCount=A.NO_SERVICE_DATA_COUNT,this.vertexLimitExceeded=!1,this.displayFeatureLimit=null,this.suspended=!1,this.tileFetcher=null,this.handles=new a,this.fetchDataInfoPromise=null,this.fetchDataInfoAbortController=null,this.lifeCycleAbortController=m()}set extent(e){if(e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void S.error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(t&&e&&t.equals(e))return;const i=e?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(l(this.tileFetcher)&&this.tileFetcher.updating||null!=this.fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this.watchUpdatingTracking&&this.watchUpdatingTracking.updating)}get updatingTotal(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return l(this.tileFetcher)?this.tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(!l(this.tileFetcher)||!this.tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return l(this.displayFeatureLimit)?this.displayFeatureLimit.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&(null==e?this._clearOverride(\"maximumNumberOfFeatures\"):this._override(\"maximumNumberOfFeatures\",e))}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get mode(){const e=this.layerView.layer;if(\"feature\"===e.type&&l(e.infoFor3D))return\"snapshot\";if(this.serviceDataCount===A.NO_SERVICE_DATA_COUNT||this.vertexLimitExceeded)return\"tiles\";const t=this.layerView.view,i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this.approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>A.MAX_SNAPSHOT_MIN_SCALE_FACTOR)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&l(this.tileFetcher)&&this.tileFetcher.totalVertices||0;return Math.max(e,t)}approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){return\"snapshot\"===this.mode?new r([{id:\"dummy-tile-full-extent\",lij:[0,0,0]}]):this.layerView.view.featureTiles?this.layerView.view.featureTiles.tiles:new r}get test(){return{fetchDataInfoPromise:this.fetchDataInfoPromise,tileFetcher:this.tileFetcher}}initialize(){this.watchUpdatingTracking.add(this,\"vertexLimitInfo\",(()=>this.watchUpdatingTracking.addPromise(this.updateVertexLimitExceeded(null,this.lifeCycleAbortController.signal)))),this.watchUpdatingTracking.add(this,\"mode\",(()=>this.modeChanged()),2),this.addResolvingPromise(Promise.resolve().then((()=>this.verifyCapabilities())).then((()=>this.watchUpdatingTracking.addPromise(this.fetchServiceDataInfo()))).then((()=>this.initializeTileFetcher())))}verifyCapabilities(){const e=this.layerView.layer;if(!e.get(\"capabilities.operations.supportsQuery\")&&\"ogc-feature\"!==e.type)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this.cancelFetchServiceDataInfo(),this.tileFetcher=c(this.tileFetcher),this.handles=c(this.handles),this.tilesHandle=h(this.tilesHandle),this.lifeCycleAbortController&&(this.lifeCycleAbortController.abort(),this.lifeCycleAbortController=null),this.watchUpdatingTracking.destroy(),this._set(\"watchUpdatingTracking\",null)}suspend(){this.suspended||(this.suspended=!0,l(this.tileFetcher)&&this.tileFetcher.suspend())}resume(){this.suspended&&(this.suspended=!1,l(this.tileFetcher)&&this.tileFetcher.resume())}restart(){const e=()=>{l(this.tileFetcher)&&this.tileFetcher.restart()};this.watchUpdatingTracking.addPromise(this.fetchServiceDataInfo().then(e,e))}refetch(){const e=()=>{l(this.tileFetcher)&&this.tileFetcher.refetch()};this.watchUpdatingTracking.addPromise(this.fetchServiceDataInfo().then(e,e))}initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=y(e.featureTiles,\"tilingScheme\",this.lifeCycleAbortController.signal);this.watchUpdatingTracking.addPromise(t),t.then((()=>{const{layerView:t,tileDescriptors:i}=this,r=t.layer,s=new w({context:this.context,filterExtent:this.extent,tileDescriptors:i,features:this.graphics});this.tileFetcher=s,this.suspended?this.tileFetcher.suspend():this.tileFetcher.resume();const a=this.layerView.view.resourceController;a&&(this.handles.add(a.memoryController.events.on(\"quality-changed\",(e=>{s.memoryFactor=e}))),this.tileFetcher.memoryFactor=a.memoryController.memoryFactor);const o=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;o&&this.handles.add(g(this.layerView.view,\"qualitySettings.graphics3D.\"+o,(e=>{s.lodFactor=e||1})));const n=e=>{s.maximumNumberOfFeatures=e,s.useTileCount=this.serviceDataCount>e},l=e=>s.useTileCount=e>this.maximumNumberOfFeatures;this.watchUpdatingTracking.add(r,\"createQueryVersion\",(()=>this.dataFilterChanged())),this.watchUpdatingTracking.add(t,\"availableFields\",((e,t)=>this.availableFieldsChanged(t,e))),this.watchUpdatingTracking.add(t,\"requiredFields\",((e,t)=>this.requiredFieldsChanged(t,e))),this.handles.add([r.on(\"apply-edits\",(e=>this.applyEdits(e))),this.watch(\"extent\",(e=>s.filterExtent=e),!0),this.watch(\"tileDescriptors\",(e=>s.tileDescriptors=e),!0),g(this,\"maximumNumberOfFeatures\",n,!0),g(this,\"serviceDataCount\",l,!0),g(D,\"FEATURE_TILE_FETCH_SHOW_TILES\",(t=>{t&&s&&!s.debugger?(s.debugger=new C(s,e.featureTiles.tilingScheme.toTileInfo(),e),s.debugger.update()):!t&&this.tileFetcher&&s.debugger&&(s.debugger.destroy(),s.debugger=null)}))]),this.supportsExceedsLimitQuery||this.watchUpdatingTracking.add(this,\"maxTotalSnapshotVertices\",(()=>this.watchUpdatingTracking.addPromise(this.updateVertexLimitExceeded(null,this.lifeCycleAbortController.signal))))})).catch((()=>{}))}modeChanged(){switch(this.mode){case\"tiles\":this.tilesHandle||(this.tilesHandle=this.layerView.view.featureTiles.addClient());break;default:S.warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":l(this.tilesHandle)&&(this.tilesHandle.remove(),this.tilesHandle=null)}}dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this.refetch()}applyEdits(e){u(this.tileFetcher)||this.tileFetcher.applyEdits(e).then((e=>{e&&(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this.watchUpdatingTracking.addPromise(this.updateServiceDataExtent(this.lifeCycleAbortController.signal))})).catch((e=>{if(!p(e))throw e}))}availableFieldsChanged(e,t){l(this.tileFetcher)&&N(this.tileFetcher.availableFields,t)&&this.refetch()}requiredFieldsChanged(e,t){l(this.tileFetcher)&&N(this.tileFetcher.availableFields,t)&&this.restart()}createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.outStatistics=[new E({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities.query.supportsCacheHint&&(i.cacheHint=!0),i}createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}fullExtentIsAccurate(){const e=this.layerView.layer;if(e.definitionExpression)return!1;switch(e.type){case\"feature\":return v(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async updateServiceDataExtent(e){try{await this.tryUpdateServiceDataExtent(e)}catch(t){p(t)||this._set(\"serviceDataExtent\",o(this.layerView.fullExtentInLocalViewSpatialReference))}}async tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities.query.supportsExtent,s=o(t.fullExtentInLocalViewSpatialReference),a=i.fullExtent,n=this.fullExtentIsAccurate(),l=this.serviceDataCount;if(r&&l<=A.MAX_FEATURE_COUNT_FOR_EXTENT&&(!s||!n)&&\"queryExtent\"in i){const t=this.createDataInfoQuery(),r=await i.queryExtent(t,{timeout:A.QUERY_EXTENT_TIMEOUT,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(a){const r=\"portalItem\"in i?i.portalItem:null,s=await T(a,t.view.spatialReference,r,e);this._set(\"serviceDataExtent\",s)}else this._set(\"serviceDataExtent\",null)}async updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t))return void this._set(\"serviceDataCount\",A.NO_SERVICE_DATA_COUNT);const r=await i(t.queryFeatureCount(this.createDataInfoQuery(),{timeout:A.QUERY_STATISTICS_TIMEOUT,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(p(r.error))throw r.error;this._set(\"serviceDataCount\",A.NO_SERVICE_DATA_COUNT)}}get vertexLimitInfo(){if(u(this.displayFeatureLimit)||u(this.displayFeatureLimit.averageSymbolComplexity))return null;const{averageSymbolComplexity:e,maximumTotalNumberOfPrimitives:t}=this.displayFeatureLimit,{primitivesPerCoordinate:i,primitivesPerFeature:r}=e,s=this._get(\"vertexLimitInfo\");return u(s)||s.maximumTotalNumberOfPrimitives!==t||s.primitivesPerCoordinate!==i||s.primitivesPerFeature!==r?{primitivesPerCoordinate:i,primitivesPerFeature:r,maximumTotalNumberOfPrimitives:t}:s}get supportsExceedsLimitQuery(){const e=this.layerView.layer;return e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async updateVertexLimitExceeded(e,t){const r=this.vertexLimitInfo;if(u(r))return void this._set(\"vertexLimitExceeded\",!1);const s=r.primitivesPerFeature<=0,a=this.minimumNumberOfVerticesForGeometry>1;if(!s&&!a)return void this._set(\"vertexLimitExceeded\",!1);const{primitivesPerFeature:o,primitivesPerCoordinate:n,maximumTotalNumberOfPrimitives:c}=r;let h;0!==o&&l(e)&&await e;const d=this.serviceDataCount,m=d!==A.NO_SERVICE_DATA_COUNT;if(h=m?Math.ceil((c-d*o)/(n||1)):Math.ceil(c/(n||1)),a&&(h=Math.min(h,U)),m&&this.minimumNumberOfVerticesForGeometry*d>h)return void this._set(\"vertexLimitExceeded\",!0);if(!this.supportsExceedsLimitQuery)return void this._set(\"vertexLimitExceeded\",this.maxTotalSnapshotVertices>h);const f=await i(this.layerView.layer.queryFeatures(this.createVertexLimitExceededQuery(h),{timeout:A.QUERY_STATISTICS_TIMEOUT,signal:t}));if(!1===f.ok){if(p(f.error))throw f.error;return void this._set(\"vertexLimitExceeded\",!1)}const y=f.value.features[0];y&&y.attributes?this._set(\"vertexLimitExceeded\",!!y.attributes.exceedslimit):this._set(\"vertexLimitExceeded\",!1)}async fetchServiceDataInfo(){this.cancelFetchServiceDataInfo();let e=m();const t=e.signal,i=this.updateServiceDataCount(t),r=f([i,this.updateVertexLimitExceeded(i,t)]),s=r.then((()=>this.updateServiceDataExtent(t))).catch((e=>{p(e)||S.error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this.fetchDataInfoPromise&&(this.fetchDataInfoPromise=null,this.fetchDataInfoAbortController=null),e=null}));return e&&(this.fetchDataInfoPromise=s),this.fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}cancelFetchServiceDataInfo(){const e=this.fetchDataInfoAbortController;e&&(this.fetchDataInfoAbortController=null,this.fetchDataInfoPromise=null,e.abort())}get debug(){return{storedFeatures:l(this.tileFetcher)?this.tileFetcher.storedFeatures:0,totalFeatures:l(this.tileFetcher)?this.tileFetcher.totalFeatures:0,totalVertices:l(this.tileFetcher)?this.tileFetcher.totalVertices:0}}};e([x({readOnly:!0})],_.prototype,\"type\",void 0),e([x({constructOnly:!0})],_.prototype,\"graphics\",void 0),e([x({constructOnly:!0})],_.prototype,\"layerView\",void 0),e([x({constructOnly:!0})],_.prototype,\"context\",void 0),e([x()],_.prototype,\"extent\",null),e([x()],_.prototype,\"updating\",null),e([x({readOnly:!0})],_.prototype,\"watchUpdatingTracking\",void 0),e([x()],_.prototype,\"updatingTotal\",null),e([x()],_.prototype,\"updatingRemaining\",null),e([x()],_.prototype,\"expectedFeatureDiff\",null),e([x()],_.prototype,\"memoryForUnusedFeatures\",null),e([x()],_.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([x({readOnly:!0})],_.prototype,\"serviceDataExtent\",void 0),e([x({readOnly:!0})],_.prototype,\"serviceDataCount\",void 0),e([x({readOnly:!0})],_.prototype,\"vertexLimitExceeded\",void 0),e([x()],_.prototype,\"displayFeatureLimit\",void 0),e([x({type:Number})],_.prototype,\"maximumNumberOfFeatures\",null),e([x({readOnly:!0})],_.prototype,\"mode\",null),e([x({readOnly:!0})],_.prototype,\"maxTotalSnapshotVertices\",null),e([x({readOnly:!0,dependsOn:[\"mode\"]})],_.prototype,\"tileDescriptors\",null),e([x()],_.prototype,\"tileFetcher\",void 0),e([x()],_.prototype,\"fetchDataInfoPromise\",void 0),e([x({readOnly:!0})],_.prototype,\"vertexLimitInfo\",null),_=e([F(\"esri.layers.graphics.controllers.FeatureTileController3D\")],_);const O=1e4,I=12e3,V=1e4,U=5e6;function N(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var A;!function(e){function t(){e.MAX_FEATURE_COUNT_FOR_EXTENT=O,e.QUERY_STATISTICS_TIMEOUT=I,e.QUERY_EXTENT_TIMEOUT=V}e.NO_SERVICE_DATA_COUNT=1/0,e.MAX_SNAPSHOT_MIN_SCALE_FACTOR=5,e.reset=t}(A||(A={})),A.reset();export{_ as FeatureTileController3D,A as FeatureTileController3DConstants};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{project as r}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as o}from\"../../../../portal/support/geometryServiceUtils.js\";function t(t){const l=t.view.spatialReference,s=t.layer.fullExtent,i=s&&s.spatialReference;if(!i)return Promise.resolve(null);if(i.equals(l))return Promise.resolve(s.clone());const n=r(s,l);return e(n)?Promise.resolve(n):t.view.state.isLocal?o(s,l,t.layer.portalItem).then((e=>!t.destroyed&&e?e:void 0)).catch((()=>null)):Promise.resolve(null)}export{t as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{init as i}from\"../../../../core/watchUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as o}from\"../../../../geometry/projectionEllipsoid.js\";import{FrustumExtentIntersection as a}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as l}from\"../../../support/Scheduler.js\";const h=1.2;let u=class extends t{constructor(){super(...arguments),this.suspended=!1,this.extent=null,this.extentIntersectionDirty=!0,this._isVisibleBelowSurface=!1,this.handles=new s,this.layerView=null,this.updating=!0}setup(e){this.layerView=e,this.extentIntersection=new a({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,s=t.basemapTerrain,r=t.resourceController.scheduler;this.handles.add([t.on(\"resize\",(()=>this.viewChange())),t.state.watch(\"camera\",(()=>this.viewChange()),!0),r.registerTask(l.FRUSTUM_VISIBILITY,this),s.on(\"elevation-bounds-change\",(()=>this.elevationBoundsChange()))]),\"local\"===t.viewingMode?this.isVisibleBelowSurface=!0:this.handles.add([i(s,[\"opacity\",\"wireframe\"],(()=>this.updateIsVisibleBelowSurface())),i(t,\"map.ground.navigationConstraint.type\",(()=>this.updateIsVisibleBelowSurface()))])}destroy(){this.layerView=null,this.extent=null,this.extentIntersection=null,this.handles&&(this.handles.destroy(),this.handles=null)}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this.extent=e,this.extentIntersectionDirty=!0,this._setDirty()}viewChange(){this._setDirty()}elevationBoundsChange(){this._setDirty(),this.extentIntersectionDirty=!0}set isVisibleBelowSurface(e){this._isVisibleBelowSurface=e,this._setDirty(),this.extentIntersectionDirty=!0}updateIsVisibleBelowSurface(){const e=this.layerView.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=e.map.ground&&e.map.ground.navigationConstraint&&\"none\"===e.map.ground.navigationConstraint.type;this.isVisibleBelowSurface=s||!t.opaque||i}updateExtentIntersection(){if(!this.extentIntersectionDirty)return;this.extentIntersectionDirty=!1;const e=this.layerView.view;let t;if(this._isVisibleBelowSurface)t=-.3*o(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.elevationBounds;t=s-Math.max(1,(i-s)*(h-1))}this.extentIntersection.update(this.extent,e.spatialReference,t)}get running(){return this.updating}runTask(){if(this._set(\"updating\",!1),!this.extent)return void this._set(\"suspended\",!1);this.updateExtentIntersection();const e=this.layerView.view.frustum,t=o(this.layerView.view.spatialReference).radius;this._set(\"suspended\",!this.extentIntersection.isVisibleInFrustum(e,t))}};e([r({readOnly:!0})],u.prototype,\"suspended\",void 0),e([r({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([n(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],u);var p=u;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.items=[]}addObject(e,t){this.items.push({type:0,objectStateId:t,object:e})}addRenderGeometry(e,t,s){this.items.push({type:1,objectStateId:t,renderGeometry:e,owner:s})}addExternal(e,t){this.items.push({type:2,objectStateId:t,remove:e})}remove(e){for(let t=this.items.length-1;t>=0;--t){const s=this.items[t];s.objectStateId===e&&(this._removeObjectStateItem(s),this.items.splice(t,1))}}removeObject(e){for(let t=this.items.length-1;t>=0;--t){const s=this.items[t];0===s.type&&s.object===e&&(this._removeObjectStateItem(s),this.items.splice(t,1))}}removeRenderGeometry(e){for(let t=this.items.length-1;t>=0;--t){const s=this.items[t];1===s.type&&s.renderGeometry===e&&(this._removeObjectStateItem(s),this.items.splice(t,1))}}removeAll(){this.items.forEach((e=>{this._removeObjectStateItem(e)})),this.items=[]}_removeObjectStateItem(e){switch(e.type){case 0:0===e.objectStateId.channel?e.object.removeHighlight(e.objectStateId):1===e.objectStateId.channel&&e.object.removeOcclude(e.objectStateId);break;case 1:e.owner.removeRenderGeometryObjectState(e.renderGeometry,e.objectStateId);break;case 2:e.remove(e.objectStateId)}}}export{e as Object3DStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{Object3DStateSet as t}from\"../../webgl-engine/lib/Object3DStateSet.js\";class e{constructor(e,i){this.stateType=e,this.objectIdField=i,this.objectStateSet=new t,this.ids=new Set,this.paused=!1}hasGraphic(t){if(this.objectIdField){const e=t.graphic.attributes[this.objectIdField];return this.ids.has(e)}return this.ids.has(t.graphic.uid)}}export{e as Graphics3DObjectStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import{Graphics3DObjectStateSet as e}from\"./Graphics3DObjectStateSet.js\";class s{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets=null}acquireSet(s,a){const i=new e(s,a);this._stateSets.push(i);const h=t((()=>this.releaseSet(i)));return{set:i,handle:h}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}_addObjectStateSet(t,e){t.addObjectStateSet(e.stateType,e.objectStateSet)}_removeObjectStateSet(t,e){t.removeObjectState(e.objectStateSet)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&this._addObjectStateSet(s,t)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this.initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&this._addObjectStateSet(t,e)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&this._removeObjectStateSet(t,e)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&this._addObjectStateSet(e,t)})):t.ids.forEach((s=>{const a=e.get(s);a&&this._addObjectStateSet(a,t)}))}get test(){return{states:this._stateSets}}}export{s as Graphics3DObjectStates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o,containsPoint as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as h}from\"../../../support/Scheduler.js\";const a=.05;class c{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this.contains(t)||(this.removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this.mergeTight(),this._extents.pop()}merge(t){return this.mergeTight(t),t.hasProgressed}mergeTight(t=h){const e=this._extents,o=new Set;let i=0;for(;i!==e.length;){e.sort(((t,e)=>t[0]-e[0])),i=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const h=e.getItemAt(i);for(let t=i+1;t<e.length;++t){const r=e.getItemAt(t);if(r[0]>=h[2])break;o.add(r)}o.forEach((i=>{if(h===i)return;if(i[2]<=h[0])return void o.delete(i);const c=s(h),g=s(i),m=this._tmpExtent;n(h,i,m);const d=c+g;(s(m)-d)/d<a&&(r(h,m),o.delete(i),e.remove(i),t.madeProgress())})),o.add(h)}}this._dirty=!1}contains(t){return this._extents.some((e=>o(e,t)))}removeContained(t){this._extents.filterInPlace((e=>!o(t,e)))}get test(){const t=this;return{containsPoint:e=>t._extents.some((t=>i(t,e)))}}}export{c as ExtentSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import s from\"../../../../core/Handles.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as h}from\"./ExtentSet.js\";import{TaskPriority as o}from\"../../../support/Scheduler.js\";let p=class extends t{constructor(){super(...arguments),this.dirtyExtents=new h,this.globalDirty=!1,this.averageExtentUpdateSize=0,this.dirtyGraphicsSet=new Set,this.handles=new s,this.updateElevation=!1,this.layerView=null,this.graphicsCore=null,this.events=new i}setup(e,t,i,s){this.layerView=e,this.queryGraphicUIDsInExtent=t,this.graphicsCore=i,this.elevationProvider=s;const r=this.layerView.view.resourceController.scheduler;this.handles.add([s.on(\"elevation-change\",(e=>this._elevationChanged(e))),this.layerView.watch(\"suspended\",(()=>this.suspendedChange())),r.registerTask(o.ELEVATION_ALIGNMENT,this)])}destroy(){this.dirtyGraphicsSet.clear(),this.handles.destroy(),this.handles=null,this.layerView=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null}clear(){this.dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}suspendedChange(){!0===this.layerView.suspended?this.updateElevation=!1:!1===this.layerView.suspended&&this.updateElevation&&(this.globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this.globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.running}get running(){return this.dirtyGraphicsSet.size>0||this.dirtyExtents&&!this.dirtyExtents.empty||this.globalDirty}get updatingRemaining(){return this.dirtyGraphicsSet.size+this.dirtyExtents.size*this.averageExtentUpdateSize}runTask(e){for(this.globalDirty&&(this.markAllGraphicsElevationDirty(),this.globalDirty=!1,e.madeProgress()),e.run((()=>this.dirtyExtents.merge(e)));this.running&&!e.done;)this._updateDirtyGraphics(e),this._updateDirtyExtents(e);this.layerView.view.deconflictor.setDirty(),this.notifyChange(\"updating\")}_updateDirtyGraphics(e){const t=this.layerView.view.renderCoordsHelper,i=0===this.graphicsCore.effectiveUpdatePolicy;for(const s of this.dirtyGraphicsSet.keys()){const a=this.graphicsCore.getGraphics3DGraphicById(s);if(this.dirtyGraphicsSet.delete(s),r(a)&&(a.alignWithElevation(this.elevationProvider,t,i),e.madeProgress()),e.done)return}}_updateDirtyExtents(e){for(;!this.dirtyExtents.empty&&!e.done;){const t=this.dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i});const s=this.dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(t,i,(e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);r(t)&&t.needsElevationUpdates()&&this.dirtyGraphicsSet.add(e)})),this.averageExtentUpdateSize=.1*(this.dirtyGraphicsSet.size-s)+.9*this.averageExtentUpdateSize,e.madeProgress()}}markAllGraphicsElevationDirty(){this.dirtyExtents.clear(),this.dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((e,t)=>this.dirtyGraphicsSet.add(t)))}_elevationChanged(e){if(\"scene\"===e.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:t,spatialReference:i}=e;if(this.layerView.suspended){if(!this.updateElevation){const e=this.graphicsCore.computedExtent;e&&t[2]>e.xmin&&t[0]<e.xmax&&t[3]>e.ymin&&t[1]<e.ymax&&(this.updateElevation=!0)}this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i})}else t[0]===-1/0?this.globalDirty=!0:this.dirtyExtents.add(t),this.notifyChange(\"updating\")}};e([a({readOnly:!0})],p.prototype,\"updating\",null),e([a({readOnly:!0})],p.prototype,\"updatingRemaining\",null),p=e([n(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],p);var d=p;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import t from\"../../../../core/Handles.js\";import r from\"../../../../core/Logger.js\";import{isNone as s,isSome as h}from\"../../../../core/maybe.js\";import{isAbortError as l}from\"../../../../core/promiseUtils.js\";import{on as o}from\"../../../../core/watchUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import u from\"./QueryEngine.js\";import c from\"../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as y}from\"../../../support/floorFilterUtils.js\";import{TaskPriority as d}from\"../../../support/Scheduler.js\";const p=r.getLogger(\"esri.views.3d.layers.graphics.Graphics3DFilterVisibility\");let _=class extends i{constructor(...e){super(...e),this.filter=null,this._dirty=!1,this._querying=!1,this._handles=new t}get updating(){return this._dirty||this._querying||null!=this._queryResult}setup(e,i){this._layerView=e,this._core=i,this._objectIdField=e.layer.objectIdField,this._queryEngine=new u({layerView:this._layerView,priority:d.FILTER_VISIBILITY});const t=this._layerView.view.resourceController.scheduler;this._handles.add(t.registerTask(d.FILTER_VISIBILITY,this)),this._handles.add(o(i.owner,\"loadedGraphics\",\"after-changes\",(e=>this._graphicsChanged(e)),(()=>this.dirty=!0))),this.filterChanged()}destroy(){this._handles.destroy(),this._handles=null,this.clear(),this._layerView=null,this._core=null}clear(){this._queryEngine.clear()&&(this._core.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(2))),this._queryResult=null,this._querying=!1),this.dirty=!1,this.notifyChange(\"updating\")}_graphicsChanged(e){this._queryEngine&&0==(1&e.type)||(this.dirty=!0)}updateVisibility(e){this.active&&(e.hasVisibilityFlag(2,0)||e.setVisibilityFlag(2,!1,0),this.dirty=!0)}filterChanged(){const e=this.recomputeFilter();e!==this.filter&&(this.filter=e,this.dirty=!0)}get active(){return this.filter&&this._core.graphics3DGraphics.size>0}recomputeFilter(){const e=\"filter\"in this._layerView?this._layerView.filter:null,i=\"timeExtent\"in this._layerView?this._layerView.timeExtent:null,t=y(this._layerView);if(s(i)&&s(t))return e;const r=h(e)?e.clone():new c;if(h(i)&&(r.timeExtent=h(r.timeExtent)?r.timeExtent.intersection(i):i),h(t)){const e=null==r.where||\"\"===r.where;r.where=e?t:`(${r.where}) AND (${t})`}return r}get running(){return this._dirty&&!this._querying||null!=this._queryResult}runTask(e){this.active?(!this._dirty||this._querying||e.done||(this._querying=!0,this.dirty=!1,this._queryEngine.executeQueryForIdSet(this.filter).then((e=>{this._queryResult=e,this._querying=!1})).catch((e=>{l(e)||(p.warn(\"FeatureFilter query failed: \"+e,{error:e}),this._queryResult=new Set,this._core.graphics3DGraphics.forEach((e=>this._queryResult.add(this._getFeatureId(e.graphic)))),this._querying=!1)})),e.madeProgress()),this._queryResult&&!e.done&&(this._core.modifyGraphics3DGraphicVisibilities((i=>{if(e.done)return!1;const t=this._queryResult.has(this._getFeatureId(i.graphic));return!!i.setVisibilityFlag(2,t,0)&&(e.madeProgress(),!0)})),e.done||(this._queryResult=null)),this.notifyChange(\"updating\")):this.clear()}_getFeatureId(e){return null==e.objectId?e.attributes[this._objectIdField]:e.objectId}set dirty(e){this._dirty!==e&&(this._dirty=e,this.notifyChange(\"updating\"))}};e([n({readOnly:!0})],_.prototype,\"updating\",null),_=e([a(\"esri.views.3d.layers.graphics.Graphics3DFilterVisibility\")],_);export{_ as Graphics3DFilterVisibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import{neverReached as s}from\"../../../../core/compilerUtils.js\";import r from\"../../../../core/Handles.js\";import{logOnError as n}from\"../../../../core/promiseUtils.js\";import{init as a}from\"../../../../core/watchUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as p}from\"../../../../core/accessorSupport/diffUtils.js\";import{canProject as h,project as d}from\"../../../../geometry/support/webMercatorUtils.js\";import c from\"../../../../rest/support/Query.js\";import{SUSPEND_RESUME_EXTENT_OPTIMISM as u}from\"./constants.js\";import{Graphics3DCore as g}from\"./Graphics3DCore.js\";import m from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFilterVisibility as y}from\"./Graphics3DFilterVisibility.js\";import f from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as b}from\"./Graphics3DObjectStates.js\";import w from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as x}from\"./graphicUtils.js\";import{attributeLookup as E}from\"../support/attributeUtils.js\";import{WatchUpdatingTracking as C}from\"../../../support/WatchUpdatingTracking.js\";let V=class extends i{constructor(t){super(t),this._handles=new r,this.watchUpdatingTracking=new C,this.suspendResumeExtentMode=\"computed\",this.dataExtent=null,this.suspendResumeExtent=null}get suspended(){var t;return null==(t=this.scaleVisibility)?void 0:t.suspended}get suspendInfo(){var t,e;const i={};return null!=(t=this.scaleVisibility)&&t.suspended&&(i.outsideScaleRange=!0),null!=(e=this.frustumVisibility)&&e.suspended&&(i.outsideOfView=!0),i}get updating(){var t,e,i;return!!(null!=(t=this.graphicsCore)&&t.updating||null!=(e=this.frustumVisibility)&&e.updating||null!=(i=this.watchUpdatingTracking)&&i.updating)}normalizeCtorArgs(t){const e=t.frustumVisibilityEnabled?new f:null,i=t.scaleVisibilityEnabled?new w:null,s=(t.filterVisibilityEnabled||t.timeExtentVisibilityEnabled)&&\"multipatch\"!==t.layer.geometryType?new y:null,r=t.elevationAlignmentEnabled?new m:null,n=new g({owner:t.owner,layer:t.layer,preferredUpdatePolicy:t.preferredUpdatePolicy,elevationFeatureExpressionEnabled:t.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:t.owner.hasZ,hasM:t.owner.hasM}),{updateClippingExtent:a,suspendResumeExtentMode:o,dataExtent:l}=t;return{graphicsCore:n,frustumVisibility:e,scaleVisibility:i,filterVisibility:s,elevationAlignment:r,updateClippingExtent:a,suspendResumeExtentMode:o,dataExtent:l}}initialize(){this.scaleVisibility&&this.watchUpdatingTracking.add(this.layer,\"scaleRangeId\",(()=>this.scaleVisibility.layerMinMaxScaleChangeHandler())),this.filterVisibility&&(this.watchUpdatingTracking.add(this.owner,\"filter\",(()=>this.filterVisibility.filterChanged())),this.watchUpdatingTracking.add(this.owner,\"timeExtent\",(()=>this.filterVisibility.filterChanged()))),this.elevationAlignment&&this.watchUpdatingTracking.add(this.layer,\"elevationInfo\",((t,e)=>{p(t,e)&&this.watchUpdatingTracking.addPromise(this.graphicsCore.elevationInfoChange())})),this.watchUpdatingTracking.add(this.layer,\"labelsVisible\",(()=>this.graphicsCore.updateVisibilityInfo())),this.watchUpdatingTracking.add(this.layer,\"labelingInfo\",((t,e)=>{p(t,e)&&this.graphicsCore.updateLabelingInfo()}))}async setup(){this.frustumVisibility&&this.frustumVisibility.setup(this.owner);const t=this.owner,e=this.owner.view.basemapTerrain,i=(t,e,i)=>this.graphicsCore.spatialIndex.queryGraphicUIDsInExtent(t,e,i);if(this.scaleVisibility&&this.scaleVisibility.setup(t,this.layer,i,this.graphicsCore,e),this.filterVisibility&&(\"filter\"in t||\"timeExtent\"in t)&&this.filterVisibility.setup(t,this.graphicsCore),this.elevationAlignment){const e=t.view.elevationProvider;this.elevationAlignment.setup(t,i,this.graphicsCore,e)}this._set(\"objectStates\",new b(this.graphicsCore)),this._set(\"labeling\",this.owner.view.labeler.addGraphicsOwner(this.graphicsCore,this.scaleVisibility)),this._set(\"deconfliction\",t.view.deconflictor.addGraphicsOwner(this.graphicsCore)),await n(this.graphicsCore.setup({elevationAlignment:this.elevationAlignment,scaleVisibility:this.scaleVisibility,filterVisibility:this.filterVisibility,deconflictor:this.deconfliction,labeler:this.labeling,objectStates:this.objectStates})),this.watchUpdatingTracking.add(this.layer,\"renderer\",(t=>this.watchUpdatingTracking.addPromise(this.graphicsCore.rendererChange(t)))),this.watchUpdatingTracking.add(t,\"fullOpacity\",(()=>this.graphicsCore.opacityChange())),this.setupSuspendResumeExtent(),this.updateClippingExtent&&(this.watchUpdatingTracking.add(t.view,\"clippingArea\",(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await n(this.graphicsCore.updateLabelingInfo())}destroy(){this._handles&&(this._handles.destroy(),this._handles=null);const t=[\"watchUpdatingTracking\",\"frustumVisibility\",\"scaleVisibility\",\"filterVisibility\",\"elevationAlignment\",\"objectStates\",\"graphicsCore\"];for(const e of t){const t=this[e];t&&(t.destroy(),this._set(e,null))}this._set(\"layer\",null),this._set(\"owner\",null)}maskOccludee(t){const{set:e,handle:i}=this.objectStates.acquireSet(1,null);return this.objectStates.setUid(e,t.uid),i}highlight(t,i){if(t instanceof c){const{set:e,handle:s}=this.objectStates.acquireSet(0,i);return this.owner.queryObjectIds(t).then((t=>this.objectStates.setObjectIds(e,t))),s}if(\"number\"==typeof t||\"string\"==typeof t)return this.highlight([t],i);if(t instanceof e)return this.highlight([t],i);if(\"toArray\"in t&&(t=t.toArray()),Array.isArray(t)&&t.length>0){if(t[0]instanceof e){const e=t;if(null==E(this.layer.fieldsIndex,e[0].attributes,i)){const t=e.map((t=>t.uid)),{set:i,handle:s}=this.objectStates.acquireSet(0,null);return this.objectStates.setUids(i,t),s}t=e.map((t=>E(this.layer.fieldsIndex,t.attributes,i)))}if(\"number\"==typeof t[0]||\"string\"==typeof t[0]){const e=t,{set:s,handle:r}=this.objectStates.acquireSet(0,i);return this.objectStates.setObjectIds(s,e),r}}return S}_updateClippingExtent(){const t=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(t,this.owner.view.spatialReference)&&(this.updateClippingExtent(t)||this.graphicsCore.recreateAllGraphics())}setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this._handles.add(a(this,\"suspendResumeExtentMode\",(()=>{switch(this._handles.remove(j),this.suspendResumeExtentMode){case\"computed\":this._handles.add([a(this.graphicsCore,\"computedExtent\",(t=>this.updateSuspendResumeExtent(t))),this.graphicsCore.watch(\"extentPadding\",(()=>this.updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],j);break;case\"data\":this._handles.add([a(this,\"dataExtent\",(t=>this.updateSuspendResumeExtent(t))),this.graphicsCore.watch(\"extentPadding\",(()=>this.updateSuspendResumeExtent(this.dataExtent)))],j);break;default:s(this.suspendResumeExtentMode)}})))}updateSuspendResumeExtent(t){t?this.suspendResumeExtentChanged(this.extentToSuspendResumeRect(t,this.suspendResumeExtent)):this.suspendResumeExtentChanged(null)}extentToSuspendResumeRect(t,e){const i=this.owner.view.spatialReference;if(!t.spatialReference.equals(i)){if(!h(t,i))return;t=d(t,i)}return x(t,e,u,this.graphicsCore.extentPadding)}suspendResumeExtentChanged(t){this.frustumVisibility&&this.frustumVisibility.setExtent(t),this.scaleVisibility&&this.scaleVisibility.setExtent(t)}};t([o({aliasOf:\"graphicsCore.layer\"})],V.prototype,\"layer\",void 0),t([o({aliasOf:\"graphicsCore.owner\"})],V.prototype,\"owner\",void 0),t([o({constructOnly:!0})],V.prototype,\"updateClippingExtent\",void 0),t([o({constructOnly:!0})],V.prototype,\"graphicsCore\",void 0),t([o({constructOnly:!0})],V.prototype,\"scaleVisibility\",void 0),t([o({constructOnly:!0})],V.prototype,\"filterVisibility\",void 0),t([o({constructOnly:!0})],V.prototype,\"elevationAlignment\",void 0),t([o({constructOnly:!0})],V.prototype,\"frustumVisibility\",void 0),t([o({readOnly:!0})],V.prototype,\"deconfliction\",void 0),t([o({readOnly:!0})],V.prototype,\"labeling\",void 0),t([o({readOnly:!0})],V.prototype,\"objectStates\",void 0),t([o({readOnly:!0})],V.prototype,\"watchUpdatingTracking\",void 0),t([o()],V.prototype,\"suspendResumeExtentMode\",void 0),t([o()],V.prototype,\"dataExtent\",void 0),t([o({readOnly:!0})],V.prototype,\"suspended\",null),t([o({readOnly:!0})],V.prototype,\"suspendInfo\",null),t([o({readOnly:!0,dependsOn:[\"graphicsCore.updating\",\"frustumVisibility.updating\",\"watchUpdatingTracking.updating\"]})],V.prototype,\"updating\",null),V=t([l(\"esri.views.3d.layers.graphics.Graphics3DFeatureLikeLayerView\")],V);var v=V;const j=\"suspendResumeExtentMode\",S={remove(){},pause(){},resume(){}};export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{destroyMaybe as r,isSome as i,get as s,isNone as n}from\"../../../core/maybe.js\";import{whenTrueOnce as o}from\"../../../core/watchUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as h}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as p}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import{getRenderingInfo as d,getRenderingInfoAsync as u}from\"../../../renderers/support/renderingInfoUtils.js\";import c from\"../../../rest/support/Query.js\";import g from\"./graphics/Graphics3DFeatureLikeLayerView.js\";import y from\"./graphics/QueryEngine.js\";import{toViewIfLocal as m}from\"./support/projectExtentUtils.js\";import{TaskPriority as f}from\"../../support/Scheduler.js\";const E=E=>{let b=class extends E{constructor(){super(...arguments),this.controller=null,this.updatePolicy=1,this.suspendResumeExtentMode=\"computed\",this.slicePlaneEnabled=!1,this.drapeSourceType=1,this.fullExtentInLocalViewSpatialReference=null,this.suspendResumeExtent=null,this._controllerCreated=!1,this.clippingExtent=null,this.supportsHeightUnitConversion=!0,this.pendingController=null,this.queryEngine=null}initialize(){const e=this.layer;\"isTable\"in e&&e.isTable?this.addResolvingPromise(Promise.reject(new t(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e}))):(this._set(\"graphics3d\",new g({owner:this,layer:e,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentVisibilityEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,suspendResumeExtentMode:this.suspendResumeExtentMode,updateClippingExtent:e=>this.updateClippingExtent(e)})),this.updatingHandles.add(this,\"updatePolicy\",(e=>this.graphics3d.graphicsCore.preferredUpdatePolicy=e)),this.updatingHandles.add(this,\"suspendResumeExtentMode\",(e=>{this.graphics3d.suspendResumeExtentMode=e})),this.addResolvingPromise(this.graphics3d.setup().then((()=>this.validateGeometryType())).then((()=>this.queryEngine=new y({layerView:this,priority:f.FEATURE_QUERY_ENGINE}))).then((()=>m(this))).then((e=>this.fullExtentInLocalViewSpatialReference=e)).then((()=>this.initializeController()))),this.notifyChange(\"updating\"))}destroy(){this.destroyPendingController(),this.controller=r(this.controller),this._set(\"graphics3d\",r(this.graphics3d)),this.queryEngine=r(this.queryEngine),this.loadedGraphics=null}destroyPendingController(){this.pendingController&&(this.pendingController.destroy(),this.pendingController=null)}get legendEnabled(){var e,t;return this.canResume()&&!(null!=(e=this.graphics3d)&&null!=(t=e.frustumVisibility)&&t.suspended)}notifyGraphicGeometryChanged(e){this.graphics3d.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphics3d.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,t,r){const s=d(e,{renderer:t,arcade:r});if(i(s)&&s.color){const e=s.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}return s}async getRenderingInfoAsync(e,t,r,i){return u(e,{renderer:t,arcade:r,...i})}getGraphicFromGraphicUid(e){var t;let r=null;return null==(t=this.loadedGraphics)||t.forEach((t=>{t.uid===e&&(r=h(t,this.layer))})),r}get graphics3DGraphics(){return this.graphics3d?this.graphics3d.graphicsCore.graphics3DGraphics:null}get graphics3DGraphicsByObjectID(){return this.graphics3d?this.graphics3d.graphicsCore.graphics3DGraphicsByObjectID:null}get symbolUpdateType(){return this.graphics3d?this.graphics3d.graphicsCore.symbolUpdateType:null}whenGraphicBounds(e,t){return this.graphics3d?this.graphics3d.graphicsCore.whenGraphicBounds(e,t):null}computeAttachmentOrigin(e,t){return this.graphics3d?this.graphics3d.graphicsCore.computeAttachmentOrigin(e,t):null}getSymbolLayerSize(e,t){return this.graphics3d?this.graphics3d.graphicsCore.getSymbolLayerSize(e,t):null}queryFeatures(e,t){return this.queryEngine.executeQuery(this._ensureQuery(e),s(t,\"signal\"))}queryObjectIds(e,t){return this.queryEngine.executeQueryForIds(this._ensureQuery(e),s(t,\"signal\"))}queryFeatureCount(e,t){return this.queryEngine.executeQueryForCount(this._ensureQuery(e),s(t,\"signal\"))}queryExtent(e,t){return this.queryEngine.executeQueryForExtent(this._ensureQuery(e),s(t,\"signal\"))}_ensureQuery(e){return n(e)?this.createQuery():c.from(e)}highlight(e){return this.graphics3d.highlight(e,this.layer.objectIdField)}maskOccludee(e){return this.graphics3d.maskOccludee(e)}canResume(){return super.canResume()&&(!this.graphics3d||!this.graphics3d.suspended)}getSuspendInfo(){const e=super.getSuspendInfo();return this.graphics3d?{...e,...this.graphics3d.suspendInfo}:e}isUpdating(){var e,t;return!(!this.graphics3d||this.graphics3d.destroyed)&&!(this._controllerCreated&&(null==(e=this.controller)||!e.updating)&&null!=(t=this.view.basemapTerrain)&&t.ready&&!this.graphics3d.updating)}async initializeController(){const e=this.createController();this.pendingController=e,await e.when(),this.setControllerWhenInitialized(e)}async setControllerWhenInitialized(e){try{await this.when()}catch(t){}this._controllerCreated=!0,this.notifyChange(\"updating\"),this.isResolved()&&!this.destroyed?(await o(this.view,\"basemapTerrain.ready\"),this.beforeSetController(e),this.pendingController=null,this.controller=e,this.loadedGraphics=e.graphics,this.notifyChange(\"updating\")):this.destroyPendingController()}updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case\"stream\":return!1;case\"feature-tile-3d\":return this.controller.extent=e,!0}}validateGeometryType(){switch(this.layer.geometryType){case\"multipatch\":case\"multipoint\":return Promise.reject(new t(\"featurelayerview3d:unsupported-geometry-type\",\"Unsupported geometry type ${geometryType}\",{geometryType:this.layer.geometryType}))}}_getResourceInfo(){const e=this.controller&&this.controller instanceof p?this.controller:null;return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:e?e.maximumNumberOfFeatures:-1,totalNumberOfFeatures:e?e.serviceDataCount:-1,nodes:0,core:this.graphics3d.graphicsCore.performanceInfo,elevationUpdating:this.graphics3d.elevationAlignment.updating,visibilityFrustum:!this.graphics3d.frustumVisibility.suspended,visibilityScale:!this.graphics3d.scaleVisibility.suspended}}get performanceInfo(){return this._getResourceInfo()}};return e([a()],b.prototype,\"loadedGraphics\",void 0),e([a()],b.prototype,\"suspended\",void 0),e([a({readOnly:!0})],b.prototype,\"legendEnabled\",null),e([a()],b.prototype,\"updating\",void 0),e([a()],b.prototype,\"controller\",void 0),e([a()],b.prototype,\"graphics3d\",void 0),e([a({readOnly:!0})],b.prototype,\"updatePolicy\",void 0),e([a({readOnly:!0})],b.prototype,\"suspendResumeExtentMode\",void 0),e([a({type:Boolean})],b.prototype,\"slicePlaneEnabled\",void 0),e([a({readOnly:!0})],b.prototype,\"suspendInfo\",void 0),b=e([l(\"esri.views.3d.layers.FeatureLikeLayerView3D\")],b),b};export{E as FeatureLikeLayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someSet as t}from\"../../../core/SetUtils.js\";class s extends e{constructor(){super(...arguments),this._set=new Set}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit(\"after-changes\",{type:2}),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._set.size}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this.emit(\"after-changes\",{type:1}),this.emit(\"change\",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this.emit(\"after-changes\",{type:2}),this.emit(\"change\",{added:[],removed:[e]}))}removeMany(e){const t=[];for(const s of e)this._set.delete(s)&&t.push(s);t.length>0&&(this.emit(\"after-changes\",{type:2}),this.emit(\"change\",{added:[],removed:t}))}toArray(){return[...this._set]}find(e){let s;return t(this._set,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._set.forEach((t=>e(t)))}}export{s as EventedSet};\n"],"sourceRoot":""}