{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js","../node_modules/@arcgis/core/layers/support/capabilities.js","../node_modules/@arcgis/core/layers/support/SceneModification.js","../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js","../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js","../node_modules/@arcgis/core/views/layers/support/FeatureFilter.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js"],"names":["s","arguments","nodesPerPage","rootIndex","lodSelectionMetricType","t","e","o","type","Number","prototype","String","p","i","factor","json","read","source","a","baseColorFactor","baseColorTexture","metallicRoughnessTexture","metallicFactor","roughnessFactor","l","alphaMode","alphaCutoff","doubleSided","cullFace","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","pbrMetallicRoughness","r","opaque","mask","blend","Boolean","none","back","front","n","reader","index","jpg","png","dds","ktx2","basis","u","atlas","y","Float32","UInt64","UInt32","UInt16","UInt8","d","draco","c","offset","m","triangle","D","getLogger","Q","L","R","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","serviceUpdateTimeStamp","fields","associatedLayer","outFields","listMode","renderer","definitionExpression","popupEnabled","popupTemplate","layerType","this","layer","path","parsedUrl","id","query","F","associatedFeatureServiceItem","associatedLayerID","g","portalItem","layerId","name","displayField","createPopupTemplate","signal","_fetchService","then","indexInfo","S","rootNode","apiKey","addResolvingPromise","Promise","resolve","q","f","token","responseType","data","origin","url","fieldsIndex","get","getFeatureType","feature","domains","getField","domain","types","typeIdField","capabilities","v","supportsZ","supportsM","isVersioned","T","geometryType","returnGeometry","returnZ","where","sqlFormat","_getAssociatedLayerForQuery","queryExtent","createQuery","queryFeatureCount","queryFeatures","features","sourceLayer","queryObjectIds","has","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","loaded","_loadAssociatedLayerForQuery","load","error","LoadableMixin","j","readOnly","I","O","w","x","aliasOf","h","P","write","origins","service","value","enabled","allowNull","b","target","Point","E","title","modelName","isEmpty","visible","opacity","alias","ignoreOrigin","attachment","supportsContentType","supportsExifInfo","supportsKeywords","supportsName","supportsSize","supportsAttachment","editing","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsUpdateWithoutM","supportsUploadWithItemId","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAttachments","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","queryRelated","supportsCount","supportsOrderBy","supportsPagination","maxRecordCount","maxRecordCountFactor","standardMaxRecordCount","supportsCacheHint","supportsCentroid","supportsDisjointSpatialRelationship","supportsDistance","supportsDistinct","supportsExtent","supportsFormatPBF","supportsGeometryProperties","supportsHavingClause","supportsHistoricMoment","supportsMaxRecordCountFactor","supportsPercentileStatistics","supportsQuantization","supportsQuantizationEditMode","supportsQueryByOthers","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsStatistics","tileMaxRecordCount","geometry","spatialReference","equals","messages","push","modification","context","toJSON","nonNullable","_map","Map","size","toArray","clear","emit","added","removed","length","Set","objectId","add","refCount","set","filter","delete","values","forEach","referenceCount","callbacks","runIndex","handle","registerTask","I3S_CONTROLLER","remove","needsUpdate","sort","numIndexLoading","numNodesLoading","done","priority","update","unshift","destroy","mbs","renderMbs","imModificationImpact","childCount","level","resources","version","lodMetric","maxError","numFeatures","failed","hasModifications","cacheState","vertexCount","memory","nodeHasLOD","isChosen","lodLevel","childOffset","visibilityCache","ref","node","useAsHole","filterImpact","streamDataController","viewportQueries","logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","lodConversion","urlPrefix","_loading","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","NEGATIVE_INFINITY","_maxProcessingPrio","POSITIVE_INFINITY","_nodeTraversalState","_version","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","layerHasModifications","_layerHasFilter","logLayer","lastUpdate","_maxLodLevel","maxLodLevel","init","pageSize","M","addPage","N","rootPage","nodes","children","parents","makeRefNode","_validateNode","addNode","request","catch","map","obb","center","halfSize","mesh","attribute","_","material","hasSharedResource","hasFeatureData","attributes","resource","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","updateParentsAndLevel","Array","getPage","pop","getNode","getChildIndex","Math","max","populateChildren","getParent","metricType","lodSelection","getNodeInternal","serviceObbInRenderSR","forAllNodes","getIndexById","getParentIndex","invalidateNodeVisibilityCacheInternal","geometryObb","traverse","isNodeVisible","isGeometryVisible","delta","coverage","_traverseCoverage","prune","invalidateGeometryVisibility","invalidateVisibilityCache","invalidateNodeVisibilityCache","reset","C","traverseVisible","entryPriority","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","indexOf","cancel","madeProgress","filterInPlace","_computeFeatureEstimate","updateScreenSpaceErrorBias","_updateFeatureEstimate","min","_load","_loadNode","loadPage","getLodLevel","hasLOD","requestUpdate","nodeTraversalState","isArray","sharedResource","href","warn","geometryData","attributeData","some","featureData","hasOwnProperty","featureRange","textureData","distToPOI","_traverseVisible","traverseChildren","_traverseChildren","prio","updateElevationInfo","sqrt","PI","layerView","_lodGlobalDirty","_index","_isNodeInScaleBounds","_removeNodes","isChosenMaxLOD","_childrenRequireLoading","requiresLODGlobalHandling","view","resourceController","memoryController","usedMemory","floor","_lodGlobalHandling","isNodeLoaded","nodeCrossfadingEnabled","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","_removeChildrenRecursive","isNodeReloading","defaultGeometrySchema","requiredAttributes","options","layerUrl","materialAndTextures","key","loadAttribute","attributeStorageInfo","loadAttributes","bufferDefinition","bufferIndex","loadGeometry","loadShared","A","textures","$","loadFeatureData","featureIds","geometries","params","featureDataPosition","U","loadTextures","k","loadedAttributes","attributeDataInfo","geometryBuffer","geometryDescriptor","requiredTextures","pointData","reject","fixTextureEncodings","addAbsoluteHrefTexture","usage","encoding","downsampled","width","height","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","all","encodings","textureEncodings","loadTexture","textureDefinitions","Object","keys","images","hrefConcat","substring","position","vertexRegions","vertexAttributes","region","geometryBuffers","compressedAttributes","requester","activeRequests","busy","abort","response","abortController","abortHandle","indexSR","_renderCoordsHelper","extent","elevationProvider","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmp1","_tmp2","_tmp3","_tmp0","screenspaceErrorBias","progressiveLoadFactor","updateCamera","engineSR","tmpPoint","_elevationContext","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","z","_computeRenderObb","getRenderMbs","isMBSinExtent","getVisibilityObb","_updateMinMaxDistance","MAX_VALUE","calcCameraDistanceToCenter","abs","getDistanceGlobeMode","getDistancePlanarMode","evaluateLODmetric","getDistance","screenSpaceDiameterMbs","angleDependentLoD","calcAngleDependentLoD","calcCameraDistance","screenSizeFactor","featureTarget","fixedFeatureTarget","updating","updatingProgress","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","profile","store","lodType","createStreamDataRequester","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","i3slayer","_defaultGeometrySchema","when","destroyed","_setClippingArea","clippingArea","_pointOfInterestChanged","events","on","_setCameraDirty","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","watch","state","_elevationInfoChanged","_scaleBoundsChanged","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","V","crsIndex","renderCoordsHelper","contentCamera","fixedContentCamera","isGraphics3D","_clippingArea","elevationInfo","_getProgressiveLoadFactor","lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","modifications","imModificationsChanged","_startNodeLoading","_tmpPoint","updateNodeModificationStatus","forAll","_nodeLoader","H","hide","availableFields","objectIdField","field","_getRequiredAttributes","renderSpatialReference","setPointOfInterest","K","distancePenalty","distCameraToPOI","updateExtent","notifyChange","setLodGlobalDirty","_evaluateUpdating","invalidateBoundingVolumeCache","areScaleBoundsActive","basemapTerrain","_scaleUpdateHandler","_updateScaleInBoundingRect","scale","minScale","maxScale","suspended","getUnloadedMemoryEstimate","lodDropFactor","maxLevel","_processLogError","getPriority","_process","_removeInvisibleNodes","isIntegratedMesh","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","process","_prefetchIndex","getIndexLoading","lodGlobalHandling","dirty","pushArray","updates","featureEstimate","isLoading","_get","_set","prefetch","baseLOD","getIndexMissing","checkFeatureTarget","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","dataStreamController","pointsOfInterest","focus","renderLocation","memoryFactor","lodFactor","minQuality","invalidateVisibilityObbs","shouldLoadNode","_shouldDropNode","supportedTextureEncodings","rendererTextureUsage","isMeshPyramid","startNodeLoading","isNodeLoading","cancelAll","_cancelAllNodes","getLoadedNodeIndices","nodeFadeoutEnabled","getLoadedAttributes","getAttributeData","schedule","updateAttributes","_loadAndAddNode","_loadUncached","_loadCached","useNodeAsHole","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","loadCachedNodeData","addCachedNodeData","reschedule","loadNodeData","resetFailedNodes","getScale","_getScale","detail","updateStats","disableUpdates","layerFilterChanged","constructOnly","dependsOn","every","toLowerCase","factorIM","factor3dObject","J","clone","start","num","queryFeaturesJSON","concat","exceededTransferLimit","MAX_MAX_RECORD_COUNT_FACTOR","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","getMemCache","uid","pendingFetchChangedObjectIds","fetchChangedObjectIds","rollback","commit","updateValue","getOverridesFromCache","objectIds","fieldNames","queryOverridesFromAssociatedLayer","processOverridesFromAssociatedLayer","cacheValue","put","getCacheKey","memCacheValueSize","fromCache","from","fromInteractiveEditingSession","logMaximumObjectsExceededWarning","cacheHint","reduce","ok","portal","getFetchChangedObjectIdsServerGen","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","JSON","stringify","serverGen","timeout","edits","serverGens","minServerGen","maximumNumberOfEditOVerrides","isActive","split","pageError","nodeError","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","create","isStandardized","missingFields","join","parsedDefinitionExpression","testFeature","_limit","_all","_active","_pending","_handle","_handleChanges","find","addMany","removeManyByObjectId","removeMany","sample","addAndRemove","percentage","last","_parent","loadedGraphics","slicePlaneEnabled","_renderingInfo","symbol","_graphicsByNode","_scaleVisibility","_graphicsCore","owner","preferredUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","hasZ","hasM","layerScaleEnabled","setup","spatialIndex","queryGraphicUIDsInExtent","labeler","addGraphicsOwner","emptySymbolLabelSupported","elevationInfoOverride","mode","disablePlacement","logEntityDescription","deconflictor","scaleVisibility","startCreateGraphics","updateLabelingInfo","filteredIds","collection","objectHandle","fromRenderCoords","generateUID","graphic","property","oldValue","newValue","graphicUpdateHandler","effectiveUpdatePolicy","unprocessedMemoryEstimate","graphicsCore","hasInitialize","isGeodetic","isGeographic","broadcast","jsonSchema","rings","Float64Array","getItemAt","ids","paused","forAllFeatures","forAllFeaturesOfNode","highlights","releaseSet","pause","resume","initializeSet","addComponentHighlight","removeComponentHighlight","clearHighlights","lodCrossfadeSignedDuration","_preRenderFrameTaskHandle","_currentFrameStartTime","_numFadingNodes","lodCrossfadeProgress","notifyLODUpdate","notifyUpdate","preRender","_updateAllNodeFading","foreachCrossfadeNode","fullOpacity","deltaTime","stopNodeFading","markNodeToRemove","setNodeOpacityByIndex","removeMarkedNodes","Date","now","lodCrossfadeinDuration","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","getNodeOpacityByIndex","_startNodeFading","getNodeCrossfadeMetaData","tmpEvent","intersector","viewingMode","fullExtent","zmin","zmax","intersectionHandler","isGround","toRenderCoords","elevationOffset","setAltitude","intersect","results","getIntersectionPoint","getAltitude","computeLayerExtent","computeObjectExtent","_expandExtent","getVisibleNodes","quaternion","EventedMixin","layerUid","sublayerUid","traverseNodeHierarchy","slicePlane","ray","direction","tolerance","verticalOffset","applyToMbs","applyToObb","nodeIndex","componentIndex","dist","normal","triangleNr","ground","isFiltered","_db","_quotaReductionPromise","_gcCounter","_hit","_miss","_destroyed","gcFrequency","maxByteSize","quotaReductionFactor","_dbName","_storeName","indexedDB","open","onupgradeneeded","result","transaction","objectStoreNames","contains","objectStore","createObjectStore","indexNames","createIndex","unique","oldVersion","close","_put","_getCacheSize","_removeLeastRecentlyAccessed","byteSize","date","openCursor","onsuccess","primaryKey","continue","openKeyCursor","oncomplete","onerror","onabort","readyState","Ge","Le","Be","cachedRendererVersion","cachedEdgeMaterials","cachedSymbology","ne","ze","_elevationProvider","_intersectionHandler","_nodeId2Meta","_nodeId2MetaReloading","_i3sWasmLoaded","_hasLoadedPBRTextures","_asyncModuleLoading","_addTasks","_rendererVersion","_colorVariable","_opacityVariable","_rendererFields","_symbologyFields","_symbologyOverride","_symbologyOverrideFields","_symbolInfos","_idbCache","Fe","_hasColors","_hasTextures","_hasData","_modifications","_layerUrl","_cacheKeySuffix","_arcade","_tmpAttributeOnlyGraphic","_crossfadeHelper","ae","fe","_currentRenderer","_usePBR","unit","ce","_stage","renderView","qualitySettings","sceneService","preLoadBasis","attributeOverrides","oe","_worker","X","promise","setLegacySchema","be","ye","_controller","gpuMemoryEstimate","texMemoryEstimate","geoMemoryEstimate","_collection","componentObjectCollection","_highlights","re","_forAllFeatures","_forAllFeaturesOfNode","_isIntegratedMesh","_hasSymbolColors","featureAttributes","faceRange","_hasVertexColors","color","cachedDrawingInfo","_edgeView","ensureEdgeView","_memCache","_deleteComponentObject","he","le","updatingHandles","_clippingAreaChanged","_opacityChange","_slicePlaneEnabledChange","_reloadAll","_filterChange","_updatePBR","clearMemCache","_suspendedChange","_labelingChanged","_modificationsChanged","handles","Re","_treeDebugger","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","_showModifications","ve","_clearAddTasks","layerChanged","unregister","sceneIntersectionHelper","removeIntersectionHandler","destroyContext","_removeAllNodeDataFromStage","_labeler","_visibleGeometryChangedSchedulerHandle","estimatedTexMemRequired","getObjectGPUMemoryUsage","unloadedMemoryEstimate","_supportsLabeling","_addMetaToLabeler","_hasModifications","Z","setModifications","Y","ee","modificationsChanged","_modificationGraphics","graphics","I3S_SHOW_MODIFICATIONS","clip","replace","outline","addNodeMeta","_createAttributes","register","addIntersectionHandler","_attributeValuesChanged","apply","_getInvalidRendererVersion","setNodeMetaAttributes","_updateEngineObject","formats","format","Ue","hasTexture","Ye","hasNormals","hasRegions","uvRegion","Pe","He","_getGeometryParameters","De","_getObjectIdField","_findGraphicNodeAndIndex","de","boundingBox","screenSpaceObjects","Ie","_createGraphic","_getMemCacheKey","indexDepth","ue","_idbCacheEnabled","_getCacheKey","nodeVersion","loadMissingTextures","initialized","tt","transformedGeometry","et","it","Ze","_addData","_transformNode","_safeReschedule","_addCachedNodeData","componentOffsets","ge","Te","extents","orientation","slice","call","globalTrafo","Me","_getVertexBufferLayout","crsVertex","pe","layouts","localOrigin","needNormals","normalReferenceFrame","indexToVertexProjector","vertexToRenderProjector","invoke","hasShadowsEnabled","supportsNodeCrossFading","_setNodeOpacity","Ve","getComponentObb","_addNodeMeta","setObjectVisibility","_updateMaterial","_setNewNodeOpacity","objectCreated","_cacheGPUData","_removeNodeStageData","layout","indices","interleavedVertexData","positionData","hasColors","_materialParameters","Uint32Array","byteLength","stride","vertices","count","layoutParameters","geometryParams","positions","transformation","G","errorOnce","createObject","toMapSpace","transform","rotationScale","B","textureCoordinates","_initMaterialAndTextures","memEstimateGeometryAdded","memEstimateTextureAdded","hasParametersFromSource","metallicRoughness","W","isOpaque","meta","_addOrUpdateEdgeRendering","updateObjectVisibility","_setObjectSymbolColors","_applyFiltersToNode","_visibleGeometryChanged","ot","_e","updateMaterial","me","textureRepository","usePBR","viewSpatialReference","_updateMaterialOverlay","colors","normals","Ne","updateClippingArea","geometryFilterChanged","hasGeometryFilter","_applyFilters","_filters","getFilters","_boundingboxFilter","_sqlFilter","_createLayerGraphic","Ce","xe","Xe","Oe","getComponentAabb","We","_boundingboxNodeTest","getComponentCount","invisible","_transformAABB","$e","_boundingboxFeatureTest","getObjectTransform","hasObject","_getFilteredEdgeMaterials","hasEdges","perFeatureEdgeMaterials","getNodeOpacity","updateAllComponentMaterials","addEdges","removeObject","_applyFiltersToNodeComponents","applyFilterChange","setAllComponentVisibilities","_updateCachedFilteredIds","_computeFilteredComponentIndices","appliedFilters","_computeFilteredIds","_removeEdgeRendering","removeNodeMeta","objectDeleted","memEstimateGeometryRemoved","destroyObject","memEstimateTextureRemoved","polygonOffsetEnabled","je","_invalidateAllSymbols","getRequiredFields","_updateSymbologyFields","arcadeRequired","visualVariables","getSymbols","_updateCachedRendererData","externalColor","externalColorMixMode","castShadows","pickable","getSymbol","arcade","we","Uint8Array","Je","colorMixMode","edgeMaterial","Se","_getSymbolInfo","Qe","se","alpha","objectTransparency","round","_getCachedEdgeMaterials","_getSymbolColors","setComponentData","setNeedsRender","stopAllNodeFading","objectOpacity","_updateEdgeRendering","commonMaterialParameters","physicallyBasedRenderingEnabled","_forVisibleFeaturesOfNode","_forAllFeaturesOfNodeInClippingArea","forEachVisibleComponent","Ee","acquireSet","setFeatureIds","rt","objectChanged","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","toFixed","getUnloadedMemory","MemCache","hitRate","IDBCache","getHitRate","controller","visibleObjectIds","numNodes","getMaterial","_setNodeEdgeOpacity","updateAllComponentOpacities","Ke","st","buffer","te","ie","Ae","baseColorTextureId","metallicRoughnessTextureId","normalTextureId","emissiveTextureId","occlusionTextureId","sublayers","forEachSublayer","sublayersProperty","readSublayers","_projectionEngineLoaded","loadAsyncModule","_geometryEngine","applyFilters","layerFieldsIndex","sortedObjectIds","addSqlFilter","parsedWhereClause","parsedGeometry","spatialRelationship","warnOnce","startIndex","endIndex","intersects","disjoint","object","maskSR","renderSR","aabbCache","triangleTest","geometryTest","getComponentPositions","_geVersion","distance","units","isWGS84","geodesicBuffer","WGS84","wkid","timeExtent","aabr","splice","isWebMercator","_dataQueryEngineInstance","outSpatialReference","ensureDataQueryEngine","dataQueryEngine","executeQueryForCount","_ensureQueryJSON","executeQueryForExtent","fromJSON","executeQueryForIds","returnCentroid","executeQuery","defaultQueryJSON","timeInfo","featureStore","getFeatureExtent","sourceSpatialReference","sublayer","parent","canResume","isUpdating","_override","_clearOverride","filterMode","edges","lastMaterial","cachedMaterial","Error","_queryEngine","_updateRequiredFields","_rendererChange","_updateSymbologyOverride","filterExpressions","viewFilter","checkSupport","_loadAsyncModule","parsedFilterExpressions","_setSymbologyOverride","filterExpressionFields","requiredFields","rootNodeVisible","_validateFetchPopupFeatures","clientGraphics","whenGraphicAttributes","definitionExpressionFields","addFilters","_ensureQueryEngine","_ensureQuery","_createQueryEngine","FEATURE_QUERY_ENGINE","featureAdapter","_addDefinitionExpressionToQuery","sublayerViews","_abortController","_loadingComponents","activeFilterId","filters","filterBlocks","filterExpression","initializeSubLayerViews","items","getGraphicFromIntersectorMetadata","_findComponent","fetchPopupFeatures","whenGraphicBounds","highlight","getUsedMemory","transferList","_malloc","HEAPU8","dracoDecompressPointCloudData","_free","BYTES_PER_ELEMENT","byteOffset","isDraco","isLegacy","uv0","featureIndex","discarded","interleavedVertedData","indicesType","Uint16Array","positionIndicesType","positionIndices","filterOBBs","default","locateFile","onRuntimeInitialized","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","hiddenIds","writer","overridePolicy","lastEditInfoEnabled","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","featureExtents","_textureRep","_textureId","_textureRef","acquire","release","glTexture","bindTexture","setUniform2f","descriptor","wrapTextures","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","diffuse","transparency","useVertexColorAlpha","wrap","channels","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","shaderTextureLOD","mipmap","maxAnisotropy","components","noUnpackFlip","baseColor","mrrFactors","alphaDiscardMode","emissionTexture","ellipsoidMode","compressedTextureS3TC","compressedTextureETC","Blob","jpeg","bmp","gif","txt","xml","svg","zip","pbf","gz","verifyItemRelativeUrls","writtenUrls","rootPath","originIdOf","resourceFromPath","toUpdate","toKeep","pendingOperations","itemRelativeUrl","toAdd","content","finish"],"mappings":"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","file":"static/js/62.3b828be1.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{enumeration as r}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([o({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([o({type:Number})],s.prototype,\"rootIndex\",void 0),e([o({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([p(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends t{constructor(){super(...arguments),this.factor=1}};e([o({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([o({type:Number})],i.prototype,\"factor\",void 0),i=e([p(\"esri.layer.support.I3SMaterialTexture\")],i);let a=class extends t{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([o({type:[Number]})],a.prototype,\"baseColorFactor\",void 0),e([o({type:i})],a.prototype,\"baseColorTexture\",void 0),e([o({type:i})],a.prototype,\"metallicRoughnessTexture\",void 0),e([o({type:Number})],a.prototype,\"metallicFactor\",void 0),e([o({type:Number})],a.prototype,\"roughnessFactor\",void 0),a=e([p(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],a);let l=class extends t{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([r({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],l.prototype,\"alphaMode\",void 0),e([o({type:Number})],l.prototype,\"alphaCutoff\",void 0),e([o({type:Boolean})],l.prototype,\"doubleSided\",void 0),e([r({none:\"none\",back:\"back\",front:\"front\"})],l.prototype,\"cullFace\",void 0),e([o({type:i})],l.prototype,\"normalTexture\",void 0),e([o({type:i})],l.prototype,\"occlusionTexture\",void 0),e([o({type:i})],l.prototype,\"emissiveTexture\",void 0),e([o({type:[Number]})],l.prototype,\"emissiveFactor\",void 0),e([o({type:a})],l.prototype,\"pbrMetallicRoughness\",void 0),l=e([p(\"esri.layer.support.I3SMaterialDefinition\")],l);let n=class extends t{};e([o({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([r({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\",ktx2:\"ktx2\",basis:\"basis\"})],n.prototype,\"format\",void 0),n=e([p(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends t{constructor(){super(...arguments),this.atlas=!1}};e([o({type:[n]})],u.prototype,\"formats\",void 0),e([o({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([p(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends t{};e([r({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([o({type:Number})],y.prototype,\"component\",void 0),y=e([p(\"esri.layer.support.I3SGeometryAttribute\")],y);let d=class extends t{};e([r({draco:\"draco\"})],d.prototype,\"encoding\",void 0),e([o({type:[String]})],d.prototype,\"attributes\",void 0),d=e([p(\"esri.layer.support.I3SGeometryCompressedAttributes\")],d);let c=class extends t{constructor(){super(...arguments),this.offset=0}};e([o({type:Number})],c.prototype,\"offset\",void 0),e([o({type:y})],c.prototype,\"position\",void 0),e([o({type:y})],c.prototype,\"normal\",void 0),e([o({type:y})],c.prototype,\"uv0\",void 0),e([o({type:y})],c.prototype,\"color\",void 0),e([o({type:y})],c.prototype,\"uvRegion\",void 0),e([o({type:y})],c.prototype,\"featureId\",void 0),e([o({type:y})],c.prototype,\"faceRange\",void 0),e([o({type:d})],c.prototype,\"compressedAttributes\",void 0),c=e([p(\"esri.layer.support.I3SGeometryBuffer\")],c);let m=class extends t{};e([r({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([o()],m.prototype,\"geometryBuffers\",void 0),m=e([p(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,c as I3SGeometryBuffer,d as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,l as I3SMaterialDefinition,a as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{webSceneRendererTypes as t}from\"../../renderers/support/types.js\";import o from\"../../request.js\";import s from\"../../core/Error.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import a from\"../../core/Loadable.js\";import p from\"../../core/Logger.js\";import{isSome as n,isNone as l}from\"../../core/maybe.js\";import{EsriPromiseMixin as d}from\"../../core/Promise.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{enumeration as u}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as c}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../geometry/Extent.js\";import f from\"../../geometry/SpatialReference.js\";import g from\"../FeatureLayer.js\";import j from\"./BuildingSublayer.js\";import{zeroCapabilities as v}from\"../support/capabilities.js\";import{popupEnabled as b}from\"../support/commonProperties.js\";import{defineFieldProperties as L}from\"../support/fieldProperties.js\";import F from\"../support/FieldsIndex.js\";import{fetchIndexInfo as S}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as I,I3SMaterialDefinition as O,I3STextureSetDefinition as w,I3SGeometryDefinition as x}from\"../support/I3SLayerDefinitions.js\";import T from\"../../rest/support/Query.js\";import{createPopupTemplate as q}from\"../../support/popupUtils.js\";import P from\"../../symbols/support/ElevationInfo.js\";const D=p.getLogger(\"esri.layers.buildingSublayers.BuildingComponentSublayer\"),Q=L();let R=class extends(a.LoadableMixin(d(j))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.fields=null,this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl.path}/sublayers/${this.id}`,query:this.layer.parsedUrl.query}:null}get fieldsIndex(){return new F(this.fields)}readAssociatedLayer(e,r){const t=this.layer.associatedFeatureServiceItem,o=r.associatedLayerID;return n(t)&&\"number\"==typeof o?new g({portalItem:t,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return null}get displayField(){return n(this.associatedLayer)?this.associatedLayer.displayField:null}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const r=n(e)?e.signal:null,t=this._fetchService(r).then((()=>{this.indexInfo=S(this.parsedUrl.path,this.rootNode,this.nodePages,this.apiKey,D,r)}));return this.addResolvingPromise(t),Promise.resolve(this)}createPopupTemplate(e){return q(this,e)}async _fetchService(e){const r=(await o(this.parsedUrl.path,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,r){var t,o,s,i;const a=null==(t=this.getFeatureType(null==r?void 0:r.feature))||null==(o=t.domains)?void 0:o[e];return a&&\"inherited\"!==a.type?a:null!=(s=null==(i=this.getField(e))?void 0:i.domain)?s:null}getFeatureType(e){return e&&n(this.associatedLayer)?this.associatedLayer.getFeatureType(e):null}get types(){return n(this.associatedLayer)?this.associatedLayer.types:[]}get typeIdField(){return n(this.associatedLayer)?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=n(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:v,{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}=e;return{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}}createQuery(){const e=new T;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryExtent(e||this.createQuery(),r)))}queryFeatureCount(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatureCount(e||this.createQuery(),r)))}queryFeatures(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatures(e||this.createQuery(),r))).then((e=>{if(null!=e&&e.features)for(const r of e.features)r.layer=this.layer,r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryObjectIds(e||this.createQuery(),r)))}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:n(this.associatedLayer)}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return n(e)&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),l(this.associatedLayer))throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([y({readOnly:!0})],R.prototype,\"parsedUrl\",null),e([y({type:I,readOnly:!0})],R.prototype,\"nodePages\",void 0),e([y({type:[O],readOnly:!0})],R.prototype,\"materialDefinitions\",void 0),e([y({type:[w],readOnly:!0})],R.prototype,\"textureSetDefinitions\",void 0),e([y({type:[x],readOnly:!0})],R.prototype,\"geometryDefinitions\",void 0),e([y({readOnly:!0})],R.prototype,\"serviceUpdateTimeStamp\",void 0),e([y({readOnly:!0})],R.prototype,\"store\",void 0),e([y({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],R.prototype,\"rootNode\",void 0),e([y({readOnly:!0})],R.prototype,\"attributeStorageInfo\",void 0),e([y(Q.fields)],R.prototype,\"fields\",void 0),e([y({readOnly:!0})],R.prototype,\"fieldsIndex\",null),e([y({readOnly:!0,type:g})],R.prototype,\"associatedLayer\",void 0),e([c(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],R.prototype,\"readAssociatedLayer\",null),e([y(Q.outFields)],R.prototype,\"outFields\",void 0),e([y({type:String,readOnly:!0})],R.prototype,\"objectIdField\",null),e([y({readOnly:!0,type:String,json:{read:!1}})],R.prototype,\"displayField\",null),e([y({readOnly:!0,type:String,aliasOf:\"layer.apiKey\"})],R.prototype,\"apiKey\",void 0),e([y({readOnly:!0,type:h,aliasOf:\"layer.fullExtent\"})],R.prototype,\"fullExtent\",void 0),e([y({readOnly:!0,type:f,aliasOf:\"layer.spatialReference\"})],R.prototype,\"spatialReference\",void 0),e([y({readOnly:!0,aliasOf:\"layer.version\"})],R.prototype,\"version\",void 0),e([y({readOnly:!0,type:P,aliasOf:\"layer.elevationInfo\"})],R.prototype,\"elevationInfo\",void 0),e([y({readOnly:!0,type:Number,aliasOf:\"layer.minScale\"})],R.prototype,\"minScale\",void 0),e([y({readOnly:!0,type:Number,aliasOf:\"layer.maxScale\"})],R.prototype,\"maxScale\",void 0),e([y({type:[\"hide\",\"show\"],json:{write:!0}})],R.prototype,\"listMode\",void 0),e([y({types:t,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],R.prototype,\"renderer\",void 0),e([y({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],R.prototype,\"definitionExpression\",void 0),e([y(b)],R.prototype,\"popupEnabled\",void 0),e([y({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],R.prototype,\"popupTemplate\",void 0),e([y({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],R.prototype,\"normalReferenceFrame\",void 0),e([y({readOnly:!0,json:{read:!1}})],R.prototype,\"defaultPopupTemplate\",null),e([y()],R.prototype,\"types\",null),e([y()],R.prototype,\"typeIdField\",null),e([y({json:{write:!1}}),u(new i({\"3DObject\":\"3d-object\",Point:\"point\"}))],R.prototype,\"layerType\",void 0),e([y()],R.prototype,\"geometryType\",null),e([y()],R.prototype,\"profile\",null),e([y({readOnly:!0,json:{read:!1}})],R.prototype,\"capabilities\",null),R=e([m(\"esri.layers.buildingSublayers.BuildingComponentSublayer\")],R);var E=R;export{E as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{IdentifiableMixin as r}from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as o}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as a}from\"../support/commonProperties.js\";let l=class extends(r(o)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.visible=!0,this.opacity=1}readTitle(e,r){return\"string\"==typeof r.alias?r.alias:\"string\"==typeof r.name?r.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:void 0}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],l.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],l.prototype,\"readTitle\",null),e([t()],l.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],l.prototype,\"id\",void 0),e([s(\"service\",\"id\")],l.prototype,\"readIdOnlyOnce\",null),e([t(a(String))],l.prototype,\"modelName\",void 0),e([t(a(Boolean))],l.prototype,\"isEmpty\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],l.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],l.prototype,\"opacity\",void 0),l=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],l);var n=l;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst s={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,tileMaxRecordCount:0}};export{s as zeroCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import t from\"../../core/Warning.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import{canProjectWithoutEngine as c,projectPolygon as m}from\"../../geometry/projection.js\";import n from\"../../geometry/Polygon.js\";var l;let y=l=class extends r{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!c(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new n;m(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new l({geometry:o(this.geometry),type:this.type})}};e([s({type:n}),a()],y.prototype,\"geometry\",void 0),e([i([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([s({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),a()],y.prototype,\"type\",void 0),y=l=e([p(\"esri.layers.support.SceneModification\")],y);var f=y;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this.sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this.sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this.sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{b as s}from\"../../../../chunks/vec4f64.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=s([0,0,0,-1]),this.imModificationImpact=4}}class i extends t{constructor(s,t,i,e,h,o,r,c,n,a){super(s,i),this.index=t,this.childCount=e,this.level=h,this.resources=o,this.version=r,this.lodMetric=c,this.maxError=n,this.numFeatures=a,this.failed=!1,this.hasModifications=!1,this.cacheState=0,this.vertexCount=0,this.memory=0}}class e{constructor(s,t,i,e){this.nodeHasLOD=s,this.isChosen=t,this.lodLevel=i,this.version=e}}export{i as Node,t as NodeBase,e as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{l as n}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{NodeBase as a,Node as d,NodeTraversalState as l}from\"./I3SNode.js\";import{addWraparound as h}from\"./I3SUtil.js\";import{clone as u}from\"../../support/orientedBoundingBox.js\";class c{constructor(e,t,i,s,r){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=r,this.useAsHole=0,this.filterImpact=2}}class g{constructor(e,t,i,r,n,o,a,d,l,h,u,c,g,m){this.streamDataController=i,this.viewportQueries=r,this.logger=n,this.holeFilling=o,this._isLoaded=a,this._isReloading=d,this._isSelected=l,this._enable=h,this._needsUpdate=u,this._canRequest=c,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=0,this.lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=b(0),this._visibilityCacheVersion=b(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new f,this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this.init(t)}init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=1;break;case\"maxScreenThresholdSQ\":this.lodMetric=1,this.lodConversion=M}this.addPage(N(this.rootIndex,this.nodesPerPage),e.rootPage)}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this.makeRefNode(new a(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this.addNode(t,0)}}loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._loading.delete(e),this.addPage(e,t)})).catch((t=>{this._loading.delete(e),r(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}addPage(e,t){for(let n=this._nodePages.length;n<e;n++)this._nodePages[n]=null;const i=[],s=[],r=t.nodes.map(((t,r)=>{const a=i.length,l=t.children?t.children.length:0;s.push(-1);for(let e=0;e<l;e++)i.push(t.children[e]);const h=`${t.index}`,g=u(t.obb),m=o([g.center[0],g.center[1],g.center[2],n(g.halfSize)]),f=t.mesh&&t.mesh.attribute,_=t.mesh&&t.mesh.geometry,b=t.mesh&&t.mesh.material,p={hasSharedResource:!1,hasFeatureData:!!_,attributes:f&&null!=f.resource?`${f.resource}`:null,geometry:_&&null!=_.resource?`${_.resource}`:null,texture:b&&null!=b.resource?`${b.resource}`:null,geometryDefinition:_?_.definition:-1,materialDefinition:b?b.definition:-1},y=new d(h,e*this.nodesPerPage+r,m,l,0,p,this.lastUpdate,this.lodMetric,this.lodConversion(t.lodThreshold),_?_.featureCount:null);return y.serviceObb=g,y.visibilityObb=this._computeVisibilityObb(y),y.vertexCount=_?_.vertexCount:0,new c(a,l,v(this._visibilityCacheVersion),null,y)}));this._nodePages[e]={nodes:r,children:i,parents:s},this.nodeCount+=r.length,this.updateParentsAndLevel()}updateParentsAndLevel(){const t=new Array,i=(i,s,r)=>{const n=this.getPage(i);if(e(n)){const o=x(i,this.nodesPerPage);n.parents[o]=s;const a=n.nodes[o].node;e(a)&&(a.level=r,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),r=this.getNode(s);if(e(r))for(let e=0;e<r.childCount;e++){i(this.getChildIndex(r,e),s,r.level+1),this._maxLevel=Math.max(this._maxLevel,r.level+1)}}}getPage(e){return this._nodePages[N(e,this.nodesPerPage)]}getNodeInternal(e){const i=this.getPage(e);return t(i)?null:i.nodes[x(e,this.nodesPerPage)]}addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const r=this.getParent(s),n=e(r)?r.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?n+1:n);const{lodMetric:a,maxError:l}=w(t.lodSelection),h=i(this.getNodeInternal(s));return h.node=new d(t.id,s,o(t.mbs),h.childCount,n,t.resources,t.version,a,l,t.numFeatures),t.obb&&(h.node.serviceObb=u(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}makeRefNode(t,i){const s=this._nodePages[0],r=s.nodes.length;return s.nodes.push(new c(0,0,v(this._visibilityCacheVersion),t,null)),this.nodeCount++,s.parents.push(i),t.renderMbs[3]=-1,e(t.serviceObbInRenderSR)&&(t.serviceObbInRenderSR.halfSize[0]=-1),r}populateChildren(e,t){const s=i(this.getNodeInternal(e)),r=i(this.getPage(e));s.childOffset=r.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this.makeRefNode(t[i],e);r.children.push(s)}}getNode(t){const i=this.getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this.forAllNodes(((s,r)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=r)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this.getPage(e.index);if(t(s))return-1;const r=s.nodes[x(e.index,this.nodesPerPage)];return s.children[r.childOffset+i]}getParentIndex(t){const i=this.getPage(t);return e(i)?i.parents[x(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this.getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}invalidateVisibilityCache(){this._visibilityCacheVersion=b(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this.getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=v(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this.getNodeInternal(t);e(i)&&(_(i),this.invalidateNodeVisibilityCacheInternal(i))}invalidateGeometryVisibility(t){const i=this.getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,i.node.renderMbs[3]=-1,e(i.node.serviceObbInRenderSR)&&(i.node.serviceObbInRenderSR.halfSize[0]=-1))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}isNodeVisible(i){const s=this.getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(!y(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,r=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&2===s.filterImpact){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):0}const n=e(i)&&1===s.filterImpact,o=!(e(i)&&2===i.imModificationImpact)&&(!r||this.viewportQueries.isNodeVisible(r))&&!n;return s.visibilityCache=p(o,this._visibilityCacheVersion),o}return P(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this.getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||4!==i.node.imModificationImpact))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,r,n,o,a){const d=this.getPage(s);if(t(d)||0===r.childCount)return;const l=r.childOffset+r.childCount,h=new Array;for(let t=r.childOffset;t<l;++t){const i=d.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,n),a.coverage+=o):this._traverseCoverage(t,e,n+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this.getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(y(i.useAsHole,this._version))return P(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const r=s.delta*s.coverage<=.5;return i.useAsHole=p(r,this._version),r}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=b(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this.forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=4,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this.forAllNodes((t=>{if(e(t)){t.filterImpact=2;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,r,n){if(!this._dirty)return;this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s,this._missing),m.clear();let o=!0;const a=new C,d=new C,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,c,g)=>{if(t(c)){let e=this.entryPriority(u);e===1/0&&(e=this.entryPriority(g));const t=N(u,this.nodesPerPage);return m.set(t,Math.max(e,m.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=c.node;if(this._updateNodeFeatureEstimate(f,d),t(f)){const e=this.entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),m.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=i(this.getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<c.childCount;t++){const i=_.children[c.childOffset+t],s=this.getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(m.set(i,this.entryPriority(i)),this._prefetch.push(i))}if(f.failed||!f.resources.hasFeatureData)return;if(h.add(f.id),this._isLoaded(u)){if(a.known+=f.memory,++a.knownNodes,this._isSelected(f)?c.childCount>0&&(o=!1):(a.unremoved+=f.memory,o=!1),this._needsUpdate(f)){const e=this.entryPriority(u);m.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(f.memory&&(a.known+=f.memory,++a.knownNodes),!this._isSelected(f))return void(this._isReloading(u)&&this._updates.remove.push(u));if(c.childCount>0&&(o=!1),f.memory?(a.missing+=f.memory,a.known+=f.memory,++a.knownNodes):++a.missingNodes,s.indexOf(f.index)>=0)return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this.entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==f.index)));if(!r.done&&this._enable(f))return void r.madeProgress();const v=this.entryPriority(u);m.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&n&&e(f)&&4===f.imModificationImpact&&l.push(u)};this.traverseVisible(u);const c=this._updates.add;c.length>0&&this.layerHasModifications&&(l.length>0&&n(l),c.filterInPlace((e=>{const i=this.getNodeInternal(e),s=t(i)||t(i.node)||2!==i.node.imModificationImpact;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>m.get(e)-m.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=m.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>m.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>m.get(e)-m.get(t))),this._updates.update.sort(((e,t)=>m.get(e)-m.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,m.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,r=t,n=i,o=10;for(;o--;){const i=new C;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;n=s,s=.5*(s+r)}else r=s,s=.5*(s+n)}return this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>m.get(e)-m.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this.loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&y(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),r=this.viewportQueries.hasLOD(e);let n=!0;if(r){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);n=e&&s>e.lodLevel}else n=s>0}else n=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=n,i.version=p(!0,this._version),i):(i=new l(r,n,s,p(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this.getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const n=s.id,o=this.urlPrefix+n,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(n,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this.addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),r(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,r=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,r=new a(`${t.id}`,t.mbs);return r.serviceObb=s,r.visibilityObb=this._computeVisibilityObb(r),r},n=Array.isArray(t.children)?t.children.map(r).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:n,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this.forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}entryPriority(i){const s=this.getNodeInternal(i),r=this.getParentIndex(i);if(t(s)||r<0&&null==s.node)return r<0?1/0:this.entryPriority(r);let n=0;if(s.node&&r>=0){const e=this._nodeTraversalState.get(r);null!=e&&(n=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-n*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this.getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,r,n){if(r.node&&0===r.childCount)return void(this.isGeometryVisible(t)&&n(t,r,s));if(!this.isNodeVisible(t))return;if(n(t,r,s),null==r.node)return;const o=this.nodeTraversalState(r.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this.getPage(t));for(let i=0;i<r.childCount;i++){const s=a.children[r.childOffset+i],o=this.getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,n):n(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,r=this.getNodeInternal(s);e(r)&&this._traverseChildren(s,r,i)}_traverseChildren(i,s,r){const n=this.getPage(i);if(t(n))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=n.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&r(s.node)&&this._traverseChildren(i,s,r)}}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(e){this.forAllNodes(_),this.viewportQueries.updateElevationInfo(e)}forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this.addNode(e,t)}}}const m=new Map;class f{constructor(){this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e,t){this.add.clear(),this.update.clear(),this.cancel=e,this.missing=t}}function _(t){e(t.node)&&(t.node.renderMbs[3]=-1,e(t.node.serviceObbInRenderSR)&&(t.node.serviceObbInRenderSR.halfSize[0]=-1)),e(t.ref)&&(t.ref.renderMbs[3]=-1,e(t.ref.serviceObbInRenderSR)&&(t.ref.serviceObbInRenderSR.halfSize[0]=-1))}function v(e){return h(e,-2)}function b(e){return h(e,2)}function p(e,t){return t+(e?1:0)}function y(e,t){return(-2&e)===t}function P(e){return 1==(1&e)}function N(e,t){return 0===t?0:e/t|0}function x(e,t){return 0===t?e:e%t}const I=[[\"maxScreenThreshold\",1],[\"screenSpaceRelative\",2],[\"removedFeatureDiameter\",3],[\"distanceRangeFromDefaultCamera\",4]];function w(e){if(e)for(let t=0;t<e.length;t++)for(const i of I)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:0,maxError:0}}class C{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function M(e){return Math.sqrt(e*(4/Math.PI))}export{g as I3SIndex,w as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";class o{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,s,o){this._maxLodLevel=o.maxLodLevel,this._index=s,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const s=this._index.nodeTraversalState(i);return!!this.isChosenMaxLOD(s)||!!s.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,s=Math.max(0,Math.floor(10*(i-1)));t.clear(),this._lodGlobalHandling(this._index.rootNode,s,!1);const o=t.length;this._removeNodes(t,e);const d=t.length<o;return 0!==t.length&&(this._lodGlobalDirty=!0),t.clear(),d}_lodGlobalHandling(s,o,d){if(e(s))return!1;const l=s.index,n=this._index,r=this.layerView,a=n.nodeTraversalState(s),h=this.isChosenMaxLOD(a),u=r.isNodeLoaded(l),c=r.nodeCrossfadingEnabled;if(c&&u&&h){const e=!d&&this.hasNoVisibleChildren(s);r.fadeNode(l,0,!e)}const x=u&&(!r.isNodeFullyFadedIn||r.isNodeFullyFadedIn(l));if(u&&(r.updateNodeState(l,h?1:0),h))return x&&this._removeChildrenRecursive(s),x;const _=s.childCount>0;let L=_;if(_)for(let e=0;e<s.childCount;e++){const t=n.getChildIndex(s,e),l=n.getNode(t);if(i(l)){!(!n.isGeometryVisible(t)||this._lodGlobalHandling(l,o,d||x))&&this._isNodeInScaleBounds(l)&&(L=!1)}else n.isNodeVisible(t)&&(L=!1)}const N=u&&!h&&(L||t.length<o);N&&t.push(l),!c||N||!u||d||L||r.fadeNode(l,0,!1);const b=!s.resources.hasFeatureData;return L||x&&!N||b}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&t.push(e.index),!0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(!this.layerView.isNodeLoaded(e.index)||(i=!1,!1)))),i}_childrenRequireLoading(e){let i=!1,s=!0;return this._index.traverseChildren(e,(e=>{if(!s||!this._index.isNodeVisible(e.index))return!1;const o=this._index.nodeTraversalState(e);return this.isChosenMaxLOD(o)&&this._index.isGeometryVisible(e.index)&&(i=!0),!this.layerView.isNodeLoaded(e.index)||(s=!1,!1)})),s&&i}isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const t=new s({deallocator:null});export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}load(e,t,r){return this.streamDataController.request(e,t,r)}loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this.load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this.loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=p(this.geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this.loadGeometry(r.resources.geometry,u,i)):null,m=r.resources.hasSharedResource?await this.loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,x=h&&h.material,A=h&&h.textures,$=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this.loadFeatureData($,i):null,j=w?y(T):g(x),I=o(j)&&b(T),U=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let S=null,q=null;if(d){S=t(await d);const e=D(this.defaultGeometrySchema,m);q=f(a,e)}const v=U?t(await U):null,P=s?t(await s):{},k=P?{attributeData:P,loadedAttributes:this.requiredAttributes}:null;return n(j)?{geometryData:j,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:n(I)?{pointData:I,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:Promise.reject()}static addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this.load(r,\"json\",t).then((e=>(h.fixTextureEncodings(e),h.addAbsoluteHrefTexture(e,r),e)))}loadTexture(e,t,r,i,o,n){let s=!1;return 4===o||1===o||2===o?this.load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this.load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this.loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this.load(r,\"json\",t)}loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this.load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function y(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function D(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function p(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{createAbortController as e,onAbortOrThrow as t,always as r}from\"../../../../core/promiseUtils.js\";class s{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(s,l,a){const o=e(),n=t(a,(()=>o.abort())),u={signal:o.signal,query:{token:this.apiKey}},i=this.requester.request(s,l,u),c={response:i,abortController:o,abortHandle:n};return this.activeRequests.add(c),r(i,(()=>{var e;c.abortController=null,null==(e=c.abortHandle)||e.remove(),c.abortHandle=null,this.activeRequests.delete(c)})),i}cancelAll(){this.activeRequests.forEach((e=>{var t,r;null==(t=e.abortController)||t.abort(),e.abortController=null,null==(r=e.abortHandle)||r.remove()})),this.activeRequests.clear()}}export{s as I3SStreamDataController,s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{h as s,i,l as r,a as n,d as a,p as o,f as h,b as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as _,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as M}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as v,extractExpressionInfo as D}from\"../graphics/featureExpressionInfoUtils.js\";import{transformObb as C,intersectBoundingBoxWithMbs as P}from\"./I3SUtil.js\";import{create as R,isVisible as S}from\"../../support/orientedBoundingBox.js\";const E=1e5;class L{constructor(t,e,s,i,r,n,a,o={}){this.indexSR=t,this._renderCoordsHelper=e,this.extent=r,this.elevationProvider=n,this.options=o,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this.screenspaceErrorBias=o.screenspaceErrorBias||1,this.progressiveLoadFactor=o.progressiveLoadFactor||1,this.updateCamera(s,i),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this.tmpPoint=f(0,0,0,t)}updateElevationInfo(t){null!=t?(this._elevationContext=M.fromElevationInfo(t),this._elevationContext.updateFeatureExpressionInfoContext(v(D(t,!1)))):this._elevationContext=null}updateCamera(t,e){this._useFrustumCulling=e,e&&_(t.viewMatrix,t.projectionMatrix,this._frustum),this._screenSizeFactor=1/(t.perScreenPixelRatio/2),this._camPos=t.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(t){this._poi=t}updateScreenSpaceErrorBias(t){const e=this.screenspaceErrorBias;return this.screenspaceErrorBias=t,e}updateExtent(t){this.extent=t}getRenderMbs(t){const e=t.renderMbs;return e[3]<0&&(u(e,t.mbs),this._elevationContext&&e[3]<E&&(this.tmpPoint.x=e[0],this.tmpPoint.y=e[1],this.tmpPoint.z=e[2],e[2]=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)),p(e,this.indexSR,e,this.engineSR)),e}getVisibilityObb(s){if(t(s.visibilityObb))return s.visibilityObb;const i=s.serviceObb;return e(i)||i.halfSize[0]<0?void 0:(s.serviceObbInRenderSR=this._computeRenderObb(i,s.serviceObbInRenderSR,s.mbs[3]),s.serviceObbInRenderSR)}_computeRenderObb(t,s,i){if(e(s)&&(s=R()),s.halfSize[0]<0){let e=0;this._elevationContext&&i<E&&(this.tmpPoint.x=t.center[0],this.tmpPoint.y=t.center[1],this.tmpPoint.z=t.center[2],e=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)-t.center[2]),C(t,this.indexSR,s,this.engineSR,e)}return s}isNodeVisible(e){const s=this.getRenderMbs(e);if(!this.isMBSinExtent(s))return!1;if(!this._useFrustumCulling)return!0;const i=this.getVisibilityObb(e);return t(i)?S(i,this._frustum):b(this._frustum,x(s))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const s=e.geometryObb;return t(s)?S(s,this._frustum):this.isNodeVisible(e)}isMBSinExtent(t){return!this.extent||0!==P(this.extent,t)}screenSpaceDiameterMbs(t,e){const i=this.getRenderMbs(t),r=Math.sqrt(s(i,this._camPos)),n=r-i[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:e/n*this._screenSizeFactor}calcCameraDistance(t){return this.calcCameraDistanceToCenter(t)-this.getRenderMbs(t)[3]}calcCameraDistanceToCenter(t){const e=this.getRenderMbs(t),s=i(e,this._camPos);return this._updateMinMaxDistance(s),s}calcAngleDependentLoD(t){const e=this.getRenderMbs(t),s=e[3],n=(Math.abs(e[0]*(e[0]-this._camPos[0])+e[1]*(e[1]-this._camPos[1])+e[2]*(e[2]-this._camPos[2]))/r(e)+s)/i(e,this._camPos);return Math.min(1,n)}hasLOD(t){return 0!==t.lodMetric}getDistancePlanarMode(t,e){const s=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],n=s*s+i*i,a=e[3];if(n<=a*a)return Math.abs(r);const o=Math.sqrt(n)-a;return Math.sqrt(r*r+o*o)}getDistanceGlobeMode(t,e){const m=r(e),u=r(t)-m;n(this._tmp0,t,a(t,e)/o(t));const p=s(e,this._tmp0),l=e[3];if(p<=l*l)return Math.abs(u);{const s=n(this._tmp0,e,1/m),o=m,p=l*l/2/o,d=n(this._tmp1,s,o-p),_=t,b=h(this._tmp2,_,d),x=h(this._tmp2,b,n(this._tmp3,s,a(s,b))),f=c(this._tmp2,d,n(this._tmp2,x,l/r(x)));let g=i(_,f);if(u>=2e5){const t=h(this._tmp1,_,f);let e=a(t,s)/r(t);e<.08&&(e=1e-4),g/=e}return g}}getDistance(t,e){return this.engineSR===l(this.engineSR)?this.getDistanceGlobeMode(t,e):this.getDistancePlanarMode(t,e)}_updateMinMaxDistance(t){t>0?(this.minDistance=Math.min(this.minDistance,t),this.maxDistance=Math.max(this.maxDistance,t)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-t))}getLodLevel(t){if(0===t.lodMetric||!t.resources.hasFeatureData)return 0;if(0===t.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this.progressiveLoadFactor<1){const e=this.progressiveLoadFactor*this.screenspaceErrorBias,s=this.screenspaceErrorBias;return this.evaluateLODmetric(t,e)?this.evaluateLODmetric(t,s)?2:1:0}return this.evaluateLODmetric(t,this.screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(t,e){switch(t.lodMetric){case 2:{const s=this.getRenderMbs(t),i=this.getDistance(this._camPos,s),r=2*i/this._screenSizeFactor,n=i+s[3];return this._updateMinMaxDistance(n),t.maxError*e<=r}case 1:{let s=this.screenSpaceDiameterMbs(t,t.mbs[3]*e);return this.options.angleDependentLoD&&(s*=this.calcAngleDependentLoD(t)),s<t.maxError}case 3:return this.screenSpaceDiameterMbs(t,t.maxError)*e<10;case 4:return this.calcCameraDistance(t)>t.maxError*e}return!1}distToPOI(t){const e=this.getRenderMbs(t);return i(e,this._poi)-e[3]}distCameraToPOI(){return i(this._camPos,this._poi)}}export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import a from\"../../../core/Logger.js\";import{isSome as r,isNone as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{createAbortController as h,isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as m,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import f from\"../../support/PromiseQueue.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as w}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import N from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import v from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as C}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as D,getIndexCrs as L,findIntersectingNodes as S}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import V from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{projectToBoundingBox as I}from\"../../../views/3d/support/extentUtils.js\";import{maxDownloadSlots as A}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as F,scaleBoundsPredicate as P}from\"../../../views/support/layerViewUtils.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";const O=a.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),M=100,q=2,G=1e4,Q=1e-4,j=1.2,T=500,B=1.5;let E=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(2);return new C(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(3);return new C(e,this.layer.apiKey)}get crsVertex(){return D(this.layer)}get crsIndex(){return L(this.layer)}get rootNodeVisible(){if(r(this._index)){const e=this._index.rootNode;if(r(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}get index(){return this._index}initialize(){this._disableMemCache=!this.layerView.loadCachedGPUData||!this.layerView.addCachedGPUData,this._lodHandling=new N(this.layerView);const e=this.layerView.i3slayer;this.layer=e,this._defaultGeometrySchema=e.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in e&&(this._fields=e.fields,this._attributeStorageInfo=e.attributeStorageInfo),this.addResolvingPromise(Promise.all([this.layer.indexInfo,this.layer.when(),this.layerView.when()]).then((([t])=>{var i;if(this.destroyed||!this.layerView||this.layerView.destroyed)return;const s=this.layerView.view;this._setClippingArea(s.clippingArea);const a=this.layerView.view.resourceController;this._handles.add([u(s,\"pointsOfInterest.focus.renderLocation\",(e=>this._pointOfInterestChanged(e))),a.memoryController.events.on(\"quality-changed\",(()=>this._setCameraDirty())),u(this.layerView,\"suspended\",(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=a.scheduler.registerIdleStateCallbacks(t,i)})),b(this.layerView.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),this.watch(\"uncompressedTextureDownsamplingEnabled\",(()=>this.restartNodeLoading())),this.watch([\"featureTarget\",\"fixedFeatureTarget\"],(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),s.state.watch(\"contentCamera\",(()=>this._setCameraDirty())),this.layer.watch(\"elevationInfo\",(()=>this._elevationInfoChanged())),this.layer.watch([\"minScale\",\"maxScale\"],(()=>this._scaleBoundsChanged())),this.layerView.watch(\"lodFactor\",(()=>this._setCameraDirty())),this.layerView.watch(\"availableFields?\",(()=>this._requiredFieldsChange())),this.layerView.watch(\"holeFilling\",(e=>r(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new V(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,s.elevationProvider,this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new w(e,t,this.indexStreamController,this._viewportQueries,O,this.layerView.holeFilling,(e=>this.layerView.isNodeLoaded(e)),(e=>this.layerView.isNodeReloading(e)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,1)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(e=>this.layerView.computeVisibilityObb?this.layerView.computeVisibilityObb(e):null),null!=(i=this.layerView)&&i.computeNodeFiltering?e=>this.layerView.computeNodeFiltering(e):void 0);const d=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(d),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;r(t)&&i&&i.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);r(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,H.prune(),r(k)&&(k.hide(),k=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=z(e,i),a=z(t,i);return s>=0&&a>=0?{index:s,name:t[a].name,field:t[a],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();R(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();I(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){r(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),r(this._index)&&(this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),r(this._viewportQueries)&&r(this._index)&&(this._viewportQueries.updateExtent(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this.notifyChange(\"rootNodeVisible\"),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(d(i))return;const s=i.rootNode;if(d(s))return;const a=this._elevationUpdateNodes;a.clear(),S(e,t,s,this.crsIndex,i,(e=>a.push(e.index))),a.forAll((e=>{i.invalidateBoundingVolumeCache(e),e===s.index&&this.notifyChange(\"rootNodeVisible\")})),a.length&&this.restartNodeLoading()}getParentIndex(e){return r(this._index)&&this._index.getParentIndex(e)}_elevationInfoChanged(){r(this._index)&&this._index.updateElevationInfo(this.layer.elevationInfo),this._setCameraDirty()}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.scale,e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t,i){const s=this._index;if(d(s))return;const a=s.rootNode;!d(a)&&p(t,i,$,this.crsIndex)&&this._loadedNodeScales.forEach(((t,i)=>{const a=s.getNode(i);r(a)&&m($,a.mbs)&&this._loadedNodeScales.set(i,e)}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=F(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return d(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return r(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||d(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?O.error(\"Error during processing: \"+i):50===this._errorCount&&O.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){if(this._restartNodeLoading&&this._startNodeLoading(),null!=this._nodeLoader&&!d(this._index)){for(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t)));!e.done&&this._idleQueue.process();)e.madeProgress();e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating()}}_processIndex(e){if(d(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update([...this._loadingNodes.keys()],e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(d(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.isGraphics3D||d(this._index)||d(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>T){if(this._featureLOD<=Q)return;this._featureLOD/=B,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=G||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,a=this._index.checkFeatureTarget(t,s);a!==s&&(this._featureLOD=a/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*j||e&&i.estimate>t))return;if(this._featureLOD<=Q)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(G,Math.max(Q,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(d(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);r(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,0)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(d(this._index))return!1;let i=(this._isIdle?M:q)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());r(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(d(a)||2!==a.cacheState&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=q)&&(this._downloadingCount<A&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(r(this._index)?this._index.getIndexMissing():0)+3*(r(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.length>0||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||d(this._index)||d(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return r(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){r(this._index)&&this._index.invalidateNodeVisibilityCache(e)}updateBoundingVolume(e){r(this._index)&&this._index.invalidateBoundingVolumeCache(e)}invalidateGeometryVisibility(e){r(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){r(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){if(r(this._index)){const e=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(e)}this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e)||!this._isNodeInScaleBounds(e))&&(!!r(this._index)&&this._index.isGeometryVisible(e.index))}_shouldDropNode(e){if(d(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||d(e)||d(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:!this.isMeshPyramid};this._nodeLoader=new v(this.layer,this.dataStreamController,O,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,1)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(d(t)||d(this._viewportQueries))return!1;H.clear(),this.layerView.getLoadedNodeIndices(H);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return H.filterInPlace((e=>{const i=t.getNode(e);return d(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),H.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(H,e,0),!(i&&this.lodDropFactor<1)&&(0===H.length||(H.clear(),!1))}markNodeToRemove(e){H.push(e)}removeMarkedNodes(){this._removeNodes(H,U,0)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(r(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),a=this._index;1===i&&this.layerView.nodeFadeoutEnabled&&r(a)&&a.isGeometryVisible(s)?this.layerView.fadeNode(s,1,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=h();this._updatingNodes.set(e.index,t);(R(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!l(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void O.error(\"already loading node \"+e.index);const t=h();this._loadingNodes.set(e.index,t);const i=()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()};this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then(i).catch((e=>{if(i(),!l(e))throw e}))}_loadAndAddNode(e,t){return 1===e.cacheState?this._loadUncached(e,t):this._loadCached(e,t).then((t=>{t||(e.cacheState=1,r(this._index)&&this._index.updates.add.push(e.index))})).catch((t=>{if(!l(t))throw e.cacheState=1,t}))}_enableFromGPUCache(e,t){if(this._disableMemCache||d(this._index))return!1;if(0===t&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return r(t)&&r(t.attributeInfo)&&R(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){r(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}_loadCached(e,t){if(this._enableFromGPUCache(e,1))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(d(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=2})).catch((t=>{if(!l(t))throw O.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,r(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&r(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=this.layerView.view.basemapTerrain.getScale(this._tmpPoint);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=F(this.layer);return P(t,i,s)}updateStats(e){e.index=r(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),r(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){r(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),r(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;r(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([_({readOnly:!0})],E.prototype,\"isMeshPyramid\",null),e([_({readOnly:!0})],E.prototype,\"isGraphics3D\",null),e([_({readOnly:!0})],E.prototype,\"indexStreamController\",null),e([_({readOnly:!0})],E.prototype,\"dataStreamController\",null),e([_({readOnly:!0})],E.prototype,\"crsVertex\",null),e([_({readOnly:!0})],E.prototype,\"crsIndex\",null),e([_()],E.prototype,\"screenSizeFactor\",void 0),e([_()],E.prototype,\"featureTarget\",void 0),e([_()],E.prototype,\"fixedFeatureTarget\",void 0),e([_()],E.prototype,\"layerView\",void 0),e([_()],E.prototype,\"layer\",void 0),e([_({})],E.prototype,\"updating\",void 0),e([_({})],E.prototype,\"updatingProgress\",void 0),e([_({readOnly:!0})],E.prototype,\"leavesReached\",void 0),e([_({constructOnly:!0})],E.prototype,\"scaleVisibilityEnabled\",void 0),e([_({readOnly:!0,dependsOn:[]})],E.prototype,\"rootNodeVisible\",null),E=e([c(\"esri.layers.graphics.controllers.I3SOnDemandController\")],E);const H=new o({deallocator:null});let k;function R(e,t){return r(e)&&e.length===t.length&&e.every((e=>z(t,e.name)>=0))}function z(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const K={factorIM:.2,factor3dObject:.05,distancePenalty:10},$=y();var J=E;export{J as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{splitIntoChunks as t,remove as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{createAbortController as m,whenOrAbort as u}from\"../../../../core/promiseUtils.js\";import{formatNumber as g}from\"../../../../intl/number.js\";import{getMaximumQuerySize as b,queryAllJSON as p}from\"../../../../layers/support/featureQueryAll.js\";const f=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class y{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=m(),this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=v,this.memCache=t.getMemCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this.fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const t=this.interactiveEditingSessions,i=new O(e,{rollback:()=>{s(t,i),0===t.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return t.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await u(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this.getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this.queryOverridesFromAssociatedLayer(o,d,s);c(h)||this.processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this.cacheValue(e,t,s)}cacheValue(e,t,s){this.memCache.put(this.getCacheKey(e,t),s,this.memCacheValueSize(s))}getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this.fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}fromCache(e,t){const s=this.fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this.getCacheKey(e,t);return this.memCache.get(i)}fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}getCacheKey(e,t){return`${e}-${t}`}async queryOverridesFromAssociatedLayer(e,s,r){if(0===e.length||0===s.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this.logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...s],n.cacheHint=!0,n.objectIds=e;const o=b(a),c=e.length>o?t(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(p(a,t,{signal:r}))})):[i(p(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${g(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,f.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this.cacheValue(e,i,a)}}}memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async fetchChangedObjectIds(t){var s,i,a;const n=this.layer;if(await n.load({signal:t}),this.changedObjectIds.clear(),c(n.associatedLayer)||null==(s=n.associatedLayer.capabilities)||null==(i=s.operations)||!i.supportsChangeTracking)return;const o=this.getFetchChangedObjectIdsServerGen();if(c(o))return null;const d=n.associatedLayer.layerId,m=await r(e(`${n.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${d}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:d,serverGen:o}])},timeout:j,signal:t})),u=m.ok&&null!=(a=m.value.data)&&a.edits?h(m.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(u)){const e=Math.min(this._maximumNumberOfEditOVerrides,u.length);e<u.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=u.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class O{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=0}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=2,this.options.rollback())}commit(){this.isActive&&(this.state=1,this.options.commit(this.updates),this.updates.clear())}get isActive(){return 0===this.state}}const j=1e4,v=5e4;export{y as I3SAttributeOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=e.getLogger(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\"),p=e=>{let p=class extends e{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&t.error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&t.error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return t.error(\"definitionExpression is using non standard function\"),null;const e=[],i=r.fieldNames;return n(i,this.i3slayer.fields,{missingFields:e}),e.length>0?(t.error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return t.error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{p as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{GraphicsMap as s}from\"./GraphicsMap.js\";class i extends e{constructor(e){super(),this._limit=e,this._all=new s,this._active=new a(this),this._pending=new Map,this._handle=this._all.on(\"change\",(e=>this._handleChanges(e)))}destroy(){this._handle.remove()}get length(){return this._active.length}toArray(){return this._active.toArray()}find(e){return this._active.find(e)}forEach(e){this._active.forEach(e)}addMany(e){this._all.addMany(e)}removeManyByObjectId(e){this._all.removeManyByObjectId(e)}_handleChanges(e){let t=e.removed;if(this._pending.size>0){t=new Array;for(const s of e.removed)this._pending.delete(s.objectId)||t.push(s)}let s=this._limit-this._active.length+t.length;s<e.added.length&&(this._active.removeMany(t),t=[],h.reset(1-this._limit/(this._active.length+e.added.length)),this._active.forEach((e=>{h.sample()&&(t.push(e),this._pending.set(e.objectId,e))})),s=this._limit-this._active.length+t.length);let i=e.added;if(s<e.added.length){i=new Array,h.reset(s/e.added.length);for(const t of e.added)h.sample()?i.push(t):this._pending.set(t.objectId,t)}const n=s-i.length;n>0&&this._pending.size>0&&(h.reset(n/this._pending.size),this._pending.forEach((e=>{h.sample()&&(i.push(e),this._pending.delete(e.objectId))}))),this._active.addAndRemove(i,t)}}class n{constructor(){this.percentage=1,this.last=-1,this.index=0}reset(e){this.percentage=e,this.last=-1}sample(){const e=Math.floor(this.index*this.percentage);return++this.index,e!==this.last&&(this.last=e,!0)}}const h=new n;class a{constructor(e){this._parent=e,this._map=new Map}get length(){return this._map.size}forEach(e){this._map.forEach((t=>e(t)))}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}toArray(){return[...this._map.values()]}addAndRemove(e,t){for(const s of e)this._map.set(s.objectId,s);for(const s of t)this._map.delete(s.objectId);(e.length>0||t.length>0)&&this._parent.emit(\"change\",{added:e,removed:t})}removeMany(e){for(const t of e)this._map.delete(t.objectId);e.length>0&&this._parent.emit(\"change\",{added:[],removed:e})}}export{i as LimitGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import\"../../../symbols.js\";import s from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as l}from\"../../../core/accessorSupport/diffUtils.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{makeDehydratedPoint as c}from\"../../../layers/graphics/dehydratedFeatures.js\";import{Graphics3DCore as h}from\"./graphics/Graphics3DCore.js\";import n from\"./graphics/Graphics3DScaleVisibility.js\";import{boundingBoxTop as d}from\"./i3s/I3SGeometryUtil.js\";import{LimitGraphicsMap as y}from\"../support/LimitGraphicsMap.js\";import g from\"../../../symbols/PointSymbol3D.js\";let u=class extends s{constructor(e){super(e),this.loadedGraphics=new y(5e4),this.slicePlaneEnabled=!1,this._renderingInfo={symbol:new g},this._handles=new r,this._graphicsByNode=new Map,this._scaleVisibility=null}initialize(){this._graphicsCore=new h({owner:this,layer:this.layer,preferredUpdatePolicy:0,elevationFeatureExpressionEnabled:!1,graphicSymbolSupported:!1,getRenderingInfoWithoutRenderer:!0,hasZ:!0,hasM:!1});const e=this.view.basemapTerrain;this._scaleVisibility=new n({layerScaleEnabled:!1}),this._scaleVisibility.setup(this,this.layer,((e,i,s)=>this._graphicsCore.spatialIndex.queryGraphicUIDsInExtent(e,i,s)),this._graphicsCore,e);const i=this.view.labeler.addGraphicsOwner(this._graphicsCore,this._scaleVisibility,{emptySymbolLabelSupported:!0,elevationInfoOverride:{mode:\"absolute-height\",offset:0},disablePlacement:{logEntityDescription:\"3D Object Scene Layer features\"}}),s=this.view.deconflictor.addGraphicsOwner(this._graphicsCore);this._graphicsCore.setup({labeler:i,deconflictor:s,scaleVisibility:this._scaleVisibility}).then((()=>{this._graphicsCore.startCreateGraphics()})).catch((()=>{})),this._handles.add([this.layer.watch(\"labelingInfo\",((e,i)=>{l(e,i)&&this._graphicsCore.updateLabelingInfo()}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null),null!=this._scaleVisibility&&(this._scaleVisibility.destroy(),this._scaleVisibility=null),null!=this._graphicsCore&&(this._graphicsCore.destroy(),this._graphicsCore=null),this.loadedGraphics.destroy(),this.view=null}addNodeMeta(e,s){let r=0;const o=e.filteredIds,a=e.featureIds.map(((a,l)=>{d(l,this.collection,e.objectHandle,f);const p=c(0,0,0,this.view.spatialReference);this.view.renderCoordsHelper.fromRenderCoords(f,p);const h=s(l,e);let n=!1;return t(o)?n=!0:r<o.length&&a===o[r]&&(n=!0,r++),{objectId:a,uid:i.generateUID(),attributes:h,visible:n,geometry:p}}));this.loadedGraphics.addMany(a),this._graphicsByNode.set(e.node.index,a)}setNodeMetaAttributes(e,i){const s=this._graphicsByNode.get(e.node.index),r=new Array(s.length);for(let t=0;t<s.length;t++){const o=s[t];o.attributes=i(t,e),r[t]=o.uid}this._graphicsCore.updateLabelingInfo(r)}applyFilterChange(e){const i=this._graphicsByNode.get(e.node.index);if(i)if(t(e.filteredIds))for(const s of i)s.visible||(s.visible=!0,m.graphic=s,m.property=\"visible\",m.oldValue=!1,m.newValue=!0,this._graphicsCore.graphicUpdateHandler(m));else{let s=0;for(const r of i){const i=r.visible;s<e.filteredIds.length&&r.objectId===e.filteredIds[s]?(r.visible=!0,s++):r.visible=!1,i!==r.visible&&(m.graphic=r,m.property=\"visible\",m.oldValue=i,m.newValue=r.visible,this._graphicsCore.graphicUpdateHandler(m))}}}removeNodeMeta(e){this.loadedGraphics.removeManyByObjectId(e.featureIds)}getRenderingInfo(){return this._renderingInfo}notifyGraphicGeometryChanged(){}notifyGraphicVisibilityChanged(){}get updatePolicy(){return this._graphicsCore.effectiveUpdatePolicy}get usedMemory(){return this._graphicsCore.usedMemory}get unloadedMemoryEstimate(){return this._graphicsCore.unprocessedMemoryEstimate}get test(){return{graphicsCore:this._graphicsCore}}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"collection\",void 0),e([o()],u.prototype,\"loadedGraphics\",void 0),e([o({aliasOf:\"_graphicsCore.updating\"})],u.prototype,\"updating\",void 0),e([o()],u.prototype,\"slicePlaneEnabled\",void 0),e([o()],u.prototype,\"_graphicsCore\",void 0),u=e([a(\"esri.views.3d.layers.I3SMeshViewLabeler\")],u);const m={graphic:null,property:null,oldValue:null,newValue:null},f=p();var b=u;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import t from\"../../../core/PooledArray.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r,projectVectorToVector as s}from\"../../../geometry/projection.js\";const n=e.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\");class i extends o{constructor(e){super(\"SceneLayerWorker\",\"process\",e,{hasInitialize:!0})}getTransferList(e){return[e.geometryBuffer]}setModifications(e,t,o){const r={context:e,modifications:f(t,o),isGeodetic:o.isGeographic};this.broadcast(r,\"setModifications\")}setLegacySchema(e,t){const o=JSON.stringify(t);this.broadcast({context:e,jsonSchema:o},\"setLegacySchema\")}destroyContext(e){return this.broadcast(e,\"destroyContext\")}}const c=new t({deallocator:null}),a=[0,0,0];function f(e,t){c.clear();for(const i of e){const e=\"clip\"===i.type?2:\"mask\"===i.type?1:0,o=i.geometry;let f=e=>e;if(o.spatialReference){if(!r(o.spatialReference,t)){n.warn(\"Can't project modification polygon into layer spatial reference, ignoring modification\");continue}f=e=>(s(e,o.spatialReference,a,t),a)}else o.hasZ||(a[2]=0,f=e=>(a[0]=e[0],a[1]=e[1],a));c.push(e),c.push(o.rings.length);for(const t of o.rings){c.push(t.length);for(const e of t){const t=f(e);c.push(t[0]),c.push(t[1]),c.push(t[2])}}}c.push(3);const o=new Float64Array(c.length);for(let r=0;r<c.length;++r)o[r]=c.getItemAt(r);return o}export{i as I3SMeshWorkerHandle,f as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";class t{constructor(){this.ids=new Set,this.paused=!1}}class s{constructor({collection:e,forAllFeatures:t,forAllFeaturesOfNode:s}){this.highlights=[],this.collection=e,this.forAllFeatures=t,this.forAllFeaturesOfNode=s}destroy(){this.highlights.forEach((e=>this.releaseSet(e))),this.highlights=null}acquireSet(){const s=new t;this.highlights.push(s);const i={remove:()=>{this.releaseSet(s),e(this.highlights,s)},pause:()=>{this.releaseSet(s),s.paused=!0},resume:()=>{s.paused=!1,this.initializeSet(s)}};return{set:s,handle:i}}setFeatureIds(e,t){t.forEach((t=>e.ids.add(t))),this.initializeSet(e)}initializeSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.addComponentHighlight(i.objectHandle,s),1)))}releaseSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.removeComponentHighlight(i.objectHandle,s),1)))}objectCreated(e){this.highlights.forEach((t=>{t.paused||this.forAllFeaturesOfNode(e,((s,i)=>(t.ids.has(s)&&this.collection.addComponentHighlight(e.objectHandle,i),1)))}))}objectDeleted(e){this.collection.clearHighlights(e.objectHandle)}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e,isSome as s}from\"../../../../core/maybe.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";class d{constructor(){this.lodCrossfadeSignedDuration=0}}class i{constructor(e){this.view=e,this._preRenderFrameTaskHandle=null,this._currentFrameStartTime=null,this._numFadingNodes=0}get updating(){return this._numFadingNodes>0}stopNodeFading(s){null!=s.lodCrossfadeProgress&&(this._numFadingNodes--,s.lodCrossfadeProgress=null,0===this._numFadingNodes&&(null!=this._preRenderFrameTaskHandle&&(this._preRenderFrameTaskHandle=e(this._preRenderFrameTaskHandle)),this.view.notifyLODUpdate(),this.view.notifyUpdate()))}_startNodeFading(e,s,d){0===this._numFadingNodes&&(this._preRenderFrameTaskHandle=o({preRender:e=>this._updateAllNodeFading(e)}),this.view.notifyLODUpdate()),null==e.lodCrossfadeProgress&&(this._numFadingNodes++,this.view.notifyUpdate()),e.lodCrossfadeSignedDuration=d,e.lodCrossfadeProgress=s}_updateAllNodeFading(e){const o=this.view.nodeCrossfadingEnabled;this.view.foreachCrossfadeNode(((d,i)=>{if(s(i)&&s(i.lodCrossfadeProgress)){const s=i.lodCrossfadeSignedDuration,t=s>0?this.view.fullOpacity:0,a=e.deltaTime/s,r=i.lodCrossfadeProgress+Math.abs(a),n=!o||r>=1||0===s,l=t-(n?0:s>0?1:-1)*(1-r);n?(this.stopNodeFading(i),s<0&&this.view.markNodeToRemove(d)):i.lodCrossfadeProgress=r,this.view.setNodeOpacityByIndex(d,l)}})),this.view.removeMarkedNodes()}stopAllNodeFading(){this.view.foreachCrossfadeNode(((e,o)=>{if(s(o)&&s(o.lodCrossfadeProgress)){this.stopNodeFading(o);const s=o.lodCrossfadeSignedDuration;s<0&&this.view.markNodeToRemove(e);const d=s>0?this.view.fullOpacity:0;this.view.setNodeOpacityByIndex(e,d)}})),this.view.removeMarkedNodes()}fadeNode(e,s,o,d){null==this._currentFrameStartTime&&(this._currentFrameStartTime=Date.now());const i=this.view,a=i.nodeCrossfadingEnabled,r=0===o?i.fullOpacity:0,n=a?d?0===o?i.lodCrossfadeinDuration:i.lodCrossfadeoutDuration:i.lodCrossfadeUncoveredDuration:0,l=this.view.getNodeOpacityByIndex(e);if(a&&l!==r&&n>0){const e=1-Math.abs(r-l);this._startNodeFading(s,e,t(o)*n)}else this.stopNodeFading(s),this.view.setNodeOpacityByIndex(e,r),1===o&&this.view.removeNode(e)}isNodeFullyFadedIn(e){const o=this.view.getNodeCrossfadeMetaData(e);return s(o)&&null==o.lodCrossfadeProgress&&this.view.getNodeOpacityByIndex(e)===this.view.fullOpacity}}function t(e){return 0===e?1:-1}export{i as I3SCrossfadeHelper,d as NodeCrossfadeMetaData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{x as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{m as l,g as p}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{empty as d,expand as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{Intersector as f}from\"../../webgl-engine/lib/Intersector.js\";const u=d(),v=c(),x=h(),y=h(),E=h(),g=s.getLogger(\"esri.views.3d.layers.i3s.I3SElevationProvider\");let j=class extends(r.EventedMixin(t)){constructor(e){super(e),this.tmpEvent={spatialReference:null,extent:u,context:\"scene\"}}initialize(){this.view=this.layerView.view,this.renderCoordsHelper=this.view.renderCoordsHelper,this.intersector=new f(this.view.state.viewingMode),this.intersector.options.store=0;const e=this.layerView.i3slayer.fullExtent;this.zmin=e.zmin,this.zmax=e.zmax,this.tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}getElevation(e,t,r,s){if(x[0]=e,x[1]=t,x[2]=r,!this.renderCoordsHelper.toRenderCoords(x,s,x))return g.error(\"could not project point to compute elevation\"),null;const i=this.layerView.elevationOffset,o=this.zmin+i,n=this.zmax+i;return this.renderCoordsHelper.setAltitude(y,n,x),this.renderCoordsHelper.setAltitude(E,o,x),this.intersector.reset(y,E),this.intersectionHandler.intersect(this.intersector,null,y,E),this.intersector.results.min.getIntersectionPoint(x)?this.renderCoordsHelper.getAltitude(x):null}layerChanged(){this.spatialReference&&(this.tmpEvent.extent=this.computeLayerExtent(),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}objectChanged(e){this.spatialReference&&(this.tmpEvent.extent=this.computeObjectExtent(e),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}computeObjectExtent(e){return d(u),this._expandExtent(e,u),u}computeLayerExtent(){d(u);for(const e of this.layerView.getVisibleNodes())this._expandExtent(e,u);return u}_expandExtent(e,t){const r=e.visibilityObb||e.serviceObbInRenderSR;if(i(r)){a(v,r.quaternion),v[12]=r.center[0],v[13]=r.center[1],v[14]=r.center[2];for(let e=0;e<8;++e)x[0]=1&e?r.halfSize[0]:-r.halfSize[0],x[1]=2&e?r.halfSize[1]:-r.halfSize[1],x[2]=4&e?r.halfSize[2]:-r.halfSize[2],l(x,x,v),this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}else{const r=e.renderMbs[3],s=p(y,e.renderMbs);s[0]-=r,s[1]-=r,s[2]-=r;const i=p(E,e.renderMbs);i[0]+=r,i[1]+=r,i[2]+=r;for(let e=0;e<8;++e)x[0]=1&e?s[0]:i[0],x[1]=2&e?s[1]:i[1],x[2]=4&e?s[2]:i[2],this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}}};e([o({constructOnly:!0})],j.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],j.prototype,\"intersectionHandler\",void 0),e([o()],j.prototype,\"view\",void 0),e([o({readOnly:!0,aliasOf:\"view.elevationProvider.spatialReference\"})],j.prototype,\"spatialReference\",void 0),j=e([n(\"esri.views.3d.layers.i3s.I3SElevationProvider\")],j);var b=j;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{g as t}from\"../../../../chunks/vec3.js\";import{intersectLine as r}from\"../../support/orientedBoundingBox.js\";import{IntersectorResult as i}from\"../../webgl-engine/lib/intersectorUtils.js\";import{getVerticalOffsetI3S as s}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";class n{constructor(e){this.type=\"I3S\",this.layerUid=e.layerUid,this.sublayerUid=e.sublayerUid,this.collection=e.collection,this.traverseNodeHierarchy=e.traverseNodeHierarchy,this.slicePlane=e.slicePlaneEnabled,this.isGround=e.isGround}intersect(n,l,d,a){const c=n.results,u=2===n.options.store,b=n.ray.direction,m=n.tolerance;let y=e=>e,h=e=>e;const p=s(n.verticalOffset);e(p)&&(y=e=>p.applyToMbs(e),h=e=>p.applyToObb(e)),this.traverseNodeHierarchy(((s,f)=>!(e(s.serviceObbInRenderSR)&&!r(h(s.serviceObbInRenderSR),d,b,m))&&(!f||e(s.geometryObb)&&!r(h(s.geometryObb),d,b,m)||!e(s.serviceObbInRenderSR)&&!o(y(s.renderMbs),d,b,m)||this.collection.intersect(f,d,a,m,p,((e,r,o,b)=>{if(r>=0){if(null!=l&&!l(d,a,r))return;const m=i=>{i.intersector=this.type,i.target={type:\"external\",metadata:{layerUid:this.layerUid,sublayerUid:this.sublayerUid,nodeIndex:s.index,componentIndex:e}},i.dist=r,t(i.normal,o),i.triangleNr=b};if(this.isGround&&(null==c.ground.dist||r<c.ground.dist)&&m(c.ground),n.options.isFiltered)return;if((null==c.min.dist||r<c.min.dist)&&m(c.min),(null==c.max.dist||r>c.max.dist)&&m(c.max),u){const e=new i(n.ray);m(e),n.results.all.push(e)}}})),!0)))}get intersectionHandlerId(){return this.layerUid}}function o(e,t,r,i=0){const s=e[3]+i,n=t[0]-e[0],o=t[1]-e[1],l=t[2]-e[2],d=r[0],a=r[1],c=r[2],u=d*n+a*o+c*l;return u*u-(d*d+a*a+c*c)*(n*n+o*o+l*l-s*s)>=0}export{n as I3SIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{onAbort as s,throwIfAborted as r}from\"../../../../core/promiseUtils.js\";const i=14;class o{constructor(e,t,s=i){this._version=s,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=1073741824,this.quotaReductionFactor=.2,this._dbName=e,this._storeName=t}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,i=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),o=s.objectStoreNames.contains(\"last_access\")?r.objectStore(\"last_access\"):s.createObjectStore(\"last_access\");o.indexNames.contains(\"date\")||o.createIndex(\"date\",\"date\",{unique:!1}),o.indexNames.contains(\"byteSize\")||o.createIndex(\"byteSize\",\"byteSize\",{unique:!1}),t.oldVersion<this._version&&(i.clear(),o.clear())},c(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(t,s){if(null==this._db)return Promise.reject(new e(\"indexedb:not-initialized\",\"IndexedDB Cache is not initialized\"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(t,s))).catch((e=>{if(e&&\"QuotaExceededError\"===e.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(t,s)));throw e})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,i){if(null==this._db)return Promise.resolve(null);let o=null;return Promise.resolve().then((()=>{const t=this._db.transaction(this._storeName,\"readonly\");o=s(i,(()=>{t.abort()}));return c(t.objectStore(this._storeName).get(e))})).then((s=>{if(null==s)++this._miss;else if(this._db){++this._hit;this._db.transaction(\"last_access\",\"readwrite\").objectStore(\"last_access\").put({date:Date.now(),byteSize:s.byteSize},e)}return t(o)&&o.remove(),s})).catch((()=>(++this._miss,r(i),t(o)&&o.remove(),null)))}remove(e){return null==this._db?Promise.resolve():Promise.resolve().then((async()=>{const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\"),i=s.delete(e),o=r.delete(e);await Promise.all([c(i),c(o),n(t)])}))}_put(e,t){const s=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),r=s.objectStore(this._storeName),i=s.objectStore(\"last_access\"),o=r.put(t,e),a=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([c(o),c(a),n(s)])}_removeLeastRecentlyAccessed(e){if(e<=0)return;const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\");let i=0;const o=r.index(\"date\").openCursor(null,\"next\");return o.onsuccess=()=>{const t=o.result;null!=t&&(null!=t.value.byteSize&&(i+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),i<e&&t.continue())},n(t)}_getCacheSize(){const e=this._db.transaction(\"last_access\"),t=e.objectStore(\"last_access\");let s=0;const r=t.index(\"byteSize\").openKeyCursor();return r.onsuccess=()=>{const e=r.result;if(!e)return;const t=e.key;null!=t&&(s+=t),e.continue()},n(e).then((()=>s))}}function n(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function c(e){return new Promise(((t,s)=>{\"done\"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}export{o as IDBCache,c as whenRequest,n as whenTransaction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../Graphic.js\";import s from\"../../../core/Collection.js\";import r from\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{someMap as a}from\"../../../core/MapUtils.js\";import{unwrapOr as n,destroyMaybe as l,isSome as d,isNone as h,applySome as c,unwrap as u}from\"../../../core/maybe.js\";import _ from\"../../../core/PooledArray.js\";import{throwIfAborted as m,createResolver as g}from\"../../../core/promiseUtils.js\";import{schedule as p}from\"../../../core/scheduling.js\";import{isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as b}from\"../../../core/unitUtils.js\";import{init as y}from\"../../../core/watchUtils.js\";import{property as v}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as I}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as M}from\"../../../chunks/mat3.js\";import{c as C}from\"../../../chunks/mat3f32.js\";import{m as x,v as O}from\"../../../chunks/mat4.js\";import{b as j,c as w}from\"../../../chunks/mat4f64.js\";import{m as S,g as E}from\"../../../chunks/vec3.js\";import{c as F}from\"../../../chunks/vec3f64.js\";import{s as D}from\"../../../chunks/vec4.js\";import{projectBuffer as R,getProjectorName as N,localLinearScaleFactors as T,projectVectorToVector as V,projectBoundingSphere as A}from\"../../../geometry/projection.js\";import{create as P,empty as H,expandWithBuffer as U,intersects as G}from\"../../../geometry/support/aaBoundingBox.js\";import L from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{fixFields as B}from\"../../../layers/support/fieldUtils.js\";import{areLabelsVisible as k}from\"../../../layers/support/layerUtils.js\";import q from\"../../../layers/support/SceneModification.js\";import{getColor as z,getOpacity as W}from\"../../../renderers/visualVariables/support/visualVariableUtils.js\";import{loadArcade as $}from\"../../../support/arcadeOnDemand.js\";import K from\"../../../symbols/Symbol3D.js\";import{getMetersPerUnit as J}from\"../../../symbols/support/unitConversionUtils.js\";import Q from\"./I3SMeshViewLabeler.js\";import{I3SMeshWorkerHandle as X,toWasmModification as Y}from\"./I3SMeshWorkerHandle.js\";import{initialize as Z,setModificationsSync as ee,filterObbsForModificationsSync as te,interpretObbModificationResults as ie}from\"./SceneLayerWorker.js\";import{overrideColor as se}from\"./graphics/graphicUtils.js\";import re from\"./i3s/Highlights.js\";import{I3SAttributeOverrides as oe}from\"./i3s/I3SAttributeOverrides.js\";import{I3SCrossfadeHelper as ae,NodeCrossfadeMetaData as ne}from\"./i3s/I3SCrossfadeHelper.js\";import le from\"./i3s/I3SElevationProvider.js\";import{boundingBoxCornerPoints as de}from\"./i3s/I3SGeometryUtil.js\";import{I3SIntersectionHandler as he}from\"./i3s/I3SIntersectionHandler.js\";import{getSupportedEncodings as ce,selectEncoding as ue,createTexture as _e,configureMaterial as me}from\"./i3s/I3SMaterialUtil.js\";import{computeGlobalTransformation as ge,getLocalOrigin as pe}from\"./i3s/I3SProjectionUtil.js\";import{rendererNeedsTextures as fe,checkSceneLayerValid as be,checkSceneLayerCompatibleWithView as ye,getCacheKeySuffix as ve,whenGraphicAttributes as Ie,computeVisibilityObb as Me,filterInPlace as Ce,getCachedAttributeValue as xe,intersectBoundingBoxWithMbs as Oe,addWraparound as je,getSymbolInfo as we,transparentEdgeMaterial as Se,getClipAABB as Ee}from\"./i3s/I3SUtil.js\";import{IDBCache as Fe}from\"./i3s/IDBCache.js\";import{attributeLookup as De}from\"./support/attributeUtils.js\";import Re from\"../support/debugFlags.js\";import{projectToBoundingBox as Ne}from\"../support/extentUtils.js\";import{create as Te,clone as Ve}from\"../support/orientedBoundingBox.js\";import{updatingProgress as Ae}from\"../support/updatingProperties.js\";import{glLayout as Pe}from\"../support/buffer/glUtil.js\";import{createVertexBufferLayout as He}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{loadBasis as Ue}from\"../webgl-engine/lib/BasisUtil.js\";const Ge=o.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),Le=[1,1,1,1];class Be extends ne{constructor(e,t,i,s,r,o,a){super(),this.node=e,this.featureIds=t,this.objectHandle=i,this.cachedRendererVersion=s,this.attributeInfo=r,this.material=o,this.textures=a,this.cachedEdgeMaterials=new Array,this.cachedSymbology=null}}const ke=19,qe=104857600,ze=t=>{let o=class extends t{constructor(...e){super(e),this._elevationProvider=null,this._intersectionHandler=null,this._nodeId2Meta=new Map,this._nodeId2MetaReloading=new Map,this._i3sWasmLoaded=!1,this._hasLoadedPBRTextures=!1,this._asyncModuleLoading=0,this._addTasks=new Map,this._rendererVersion=0,this._colorVariable=null,this._opacityVariable=null,this._rendererFields=null,this._symbologyFields=null,this._symbologyOverride=null,this._symbologyOverrideFields=null,this._symbolInfos=new Map,this._idbCache=new Fe(\"esri-scenelayer-cache\",\"geometries\"),this.holeFilling=\"auto\",this._hasColors=!1,this._hasTextures=!1,this._hasData=!1,this.slicePlaneEnabled=!1,this._modifications=new Array,this._layerUrl=\"\",this._cacheKeySuffix=null,this._arcade=null,this._tmpAttributeOnlyGraphic=new i(null,null,{}),this._crossfadeHelper=new ae(this)}get lodCrossfadeoutDuration(){return 0}get lodCrossfadeinDuration(){return 0}get lodCrossfadeUncoveredDuration(){return 0}get layerUid(){return this.i3slayer&&this.i3slayer.uid}get sublayerUid(){return null}get hasTexturesOrVertexColors(){return this._hasData?this._hasTextures||this._hasColors?\"yes\":\"probably-not\":\"unknown\"}get rendererTextureUsage(){return fe(this._currentRenderer)?this._usePBR()||this._hasLoadedPBRTextures?63:37:this._usePBR()||this._hasLoadedPBRTextures?44:36}get elevationOffset(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null!=e&&\"absolute-height\"===e.mode){const t=b(this.i3slayer.spatialReference),i=J(e.unit);return n(e.offset,0)*i/t}return 0}get supportedTextureEncodings(){return ce(this.view._stage.renderView.capabilities)}get uncompressedTextureDownsamplingEnabled(){var e;const t=null==(e=this.view)?void 0:e.qualitySettings.sceneService.uncompressedTextureDownsamplingEnabled,i=0==(4&this.supportedTextureEncodings);return t&&i}initialize(){this.preLoadBasis(),this.addResolvingPromise(this.i3slayer.indexInfo);const e=this.view.resourceController;if(this.attributeOverrides=new oe(this.i3slayer,e.memoryController),this._worker=new X((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._worker.setLegacySchema(this.layerUid,this.i3slayer.store.defaultGeometrySchema),be(this.i3slayer),ye(this.i3slayer,this.view),this._layerUrl=this.i3slayer.parsedUrl.path,this._controller=new L({layerView:this}),this.gpuMemoryEstimate=0,this.texMemoryEstimate=0,this.geoMemoryEstimate=0,this._stage=this.view._stage,this._collection=this._stage.renderView.componentObjectCollection,this._highlights=new re({collection:this._collection,forAllFeatures:e=>this._forAllFeatures(e,null,1),forAllFeaturesOfNode:(e,t)=>this._forAllFeaturesOfNode(e,t)}),this._isIntegratedMesh||!this.i3slayer.store.defaultGeometrySchema)this._hasSymbolColors=!1;else{const e=this.i3slayer.store.defaultGeometrySchema.featureAttributes;this._hasSymbolColors=!!(e&&e.faceRange&&e.id)}this._hasVertexColors=null!=this.i3slayer.store.defaultGeometrySchema.vertexAttributes.color&&(null==this.i3slayer.cachedDrawingInfo||!this.i3slayer.cachedDrawingInfo.color),this._isIntegratedMesh||(this._edgeView=this._stage.renderView.ensureEdgeView()),this._memCache=this.view.resourceController.memoryController.getMemCache(this.i3slayer.uid,(e=>this._deleteComponentObject(e)));const t=e=>d(this._controller.index)&&d(this._controller.index.rootNode)?this._controller.index.traverse(this._controller.index.rootNode,(t=>{const i=t.index,s=this._nodeId2Meta.get(i)||this._nodeId2MetaReloading.get(i);return e(t,d(s)?s.objectHandle:null)})):()=>{};this._intersectionHandler=new he({layerUid:this.layerUid,sublayerUid:this.sublayerUid,collection:this._collection,slicePlaneEnabled:this.slicePlaneEnabled,isGround:this._isIntegratedMesh,traverseNodeHierarchy:t}),this._elevationProvider=new le({layerView:this,intersectionHandler:this._intersectionHandler}),this._hasLoadedPBRTextures=this._usePBR(),this.updatingHandles.add(this,\"view.clippingArea\",(()=>this._clippingAreaChanged()),2),this.updatingHandles.add(this,\"fullOpacity\",(e=>this._opacityChange(e))),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._slicePlaneEnabledChange(e))),this.updatingHandles.add(this,\"elevationOffset\",((e,t)=>{this._reloadAll(t),this._controller.invalidateVisibilityObbs()})),this.updatingHandles.add(this,\"filter\",(()=>this._filterChange()),2),this.updatingHandles.add(this,\"view.qualitySettings.physicallyBasedRenderingEnabled\",(()=>this._updatePBR()));const i=()=>{this._reloadAll(),this.clearMemCache()};this.updatingHandles.add(this,\"rendererTextureUsage\",i),this.updatingHandles.add(this,\"uncompressedTextureDownsamplingEnabled\",i),this.updatingHandles.add(this,\"suspended\",(e=>this._suspendedChange(e)),2),this.updatingHandles.add(this.i3slayer,\"labelsVisible\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this.i3slayer,\"labelingInfo\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this,\"_modifications\",(()=>this._modificationsChanged()),2),this.handles.add([y(Re,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Re.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||Re.I3S_TREE_SHOW_TILES||(this._treeDebugger=l(this._treeDebugger))})),y(Re,\"I3S_SHOW_MODIFICATIONS\",(()=>this._showModifications()))]),this._cacheKeySuffix=ve(this.i3slayer.spatialReference,this.view.renderSpatialReference),this._idbCache.init().catch((e=>Ge.warn(`Failed to initialize IndexedDB cache: ${e}`)))}destroy(){this._clearAddTasks(),this.attributeOverrides=l(this.attributeOverrides),this._elevationProvider&&(this._elevationProvider.layerChanged(),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this._intersectionHandler&&(this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null);const e=this._worker;e&&(e.destroyContext(this.i3slayer.uid).then((()=>e.destroy())),this._worker=null),this._removeAllNodeDataFromStage(),this._memCache=l(this._memCache),this._collection=null,this._stage=null,this._edgeView=null,this._labeler=l(this._labeler),this._treeDebugger=l(this._treeDebugger),this._controller=l(this._controller),this._highlights.destroy(),this._nodeId2Meta.clear(),this._nodeId2MetaReloading.clear(),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}memEstimateTextureAdded(e){const t=e.estimatedTexMemRequired;return this.gpuMemoryEstimate+=t,this.texMemoryEstimate+=t,t}memEstimateTextureRemoved(e){const t=e.estimatedTexMemRequired;this.gpuMemoryEstimate-=t,this.texMemoryEstimate-=t}memEstimateGeometryAdded(e){const t=this._collection.getObjectGPUMemoryUsage(e);return this.gpuMemoryEstimate+=t,this.geoMemoryEstimate+=t,t}memEstimateGeometryRemoved(e){const t=this._collection.getObjectGPUMemoryUsage(e);this.gpuMemoryEstimate-=t,this.geoMemoryEstimate-=t}isNodeLoaded(e){return this._nodeId2Meta.has(e)}isNodeReloading(e){return this._nodeId2MetaReloading.has(e)}getUsedMemory(){let e=d(this._labeler)?this._labeler.usedMemory:0;return this._nodeId2Meta.forEach((t=>e+=d(t)?t.node.memory:0)),this._nodeId2MetaReloading.forEach((t=>e+=d(t)?t.node.memory:0)),e}getUnloadedMemory(){return(d(this._controller)?this._controller.unloadedMemoryEstimate:0)+(d(this._labeler)?this._labeler.unloadedMemoryEstimate:0)}ignoresMemoryFactor(){return!1}_labelingChanged(){if(!(k(this.i3slayer)&&this._supportsLabeling))return void(d(this._labeler)&&(this._labeler.destroy(),this._labeler=null));if(d(this._labeler))return;const e=new Q({view:this.view,layer:this.i3slayer,collection:this._collection});this._nodeId2Meta.forEach((t=>d(t)&&this._addMetaToLabeler(e,t))),this._labeler=e}_loadAsyncModule(e){return++this._asyncModuleLoading,e.then((e=>(--this._asyncModuleLoading,e)),(e=>{throw--this._asyncModuleLoading,e}))}_modificationsChanged(){if(!this._i3sWasmLoaded&&this._hasModifications)return this._i3sWasmLoaded=Z().then((()=>{this._i3sWasmLoaded=!0,this._modificationsChanged(),this.notifyUpdate()})),void this.notifyUpdate();if(!0!==this._i3sWasmLoaded)return;const e=this.i3slayer.uid,t=this.i3slayer.spatialReference;this._worker.setModifications(e,this._modifications,t);const i=Y(this._modifications,t);ee({context:e,modifications:i,isGeodetic:t.isGeographic}),this._controller.modificationsChanged();const s=this._hasModifications?new _:null;this._nodeId2Meta.forEach(((e,t)=>{h(e)?this._nodeId2Meta.delete(t):e.node.hasModifications?(this._nodeId2Meta.delete(t),this._nodeId2MetaReloading.set(t,e)):d(s)&&s.push(e.node)})),d(s)&&this._nodeId2MetaReloading.forEach((e=>s.push(e.node))),d(s)&&s.length>0&&(this.updateNodeModificationStatus(s),s.forAll((e=>{if(2!==e.imModificationImpact){const t=this._nodeId2Meta.get(e.index);this._controller.invalidateGeometryVisibility(e.index),this._nodeId2Meta.delete(e.index),d(t)&&this._nodeId2MetaReloading.set(e.index,t)}}))),this.clearMemCache(),this._controller.restartNodeLoading(),this._showModifications()}_showModifications(){if(d(this._modificationGraphics)&&(this.view.graphics.removeMany(this._modificationGraphics),this._modificationGraphics=null),!Re.I3S_SHOW_MODIFICATIONS||0===this._modifications.length)return;const e={clip:[227,227,79,.8],mask:[227,139,79,.8],replace:[139,227,79,.8]},t={type:\"simple-fill\",outline:{color:[255,255,255],width:1}};this._modificationGraphics=new Array;for(const s of this._modifications){s.geometry.spatialReference=this.i3slayer.spatialReference;const r={...t,color:e[s.type]};this._modificationGraphics.push(new i({geometry:s.geometry,symbol:r}))}this.view.graphics.addMany(this._modificationGraphics)}_addMetaToLabeler(e,t){e.addNodeMeta(t,((e,t)=>this._createAttributes(e,t)))}_suspendedChange(e){e?(this._removeAllNodeDataFromStage(),this.view.elevationProvider&&this.view.elevationProvider.unregister(this._elevationProvider),this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler)):(this.view.elevationProvider.register(this._elevationContext,this._elevationProvider),this._stage.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler))}getLoadedAttributes(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const i=this._nodeId2Meta.get(e);d(i)&&d(i.attributeInfo)&&(i.attributeInfo.attributeData=t,this._attributeValuesChanged(i))}async updateAttributes(e,t,i){const s=this._nodeId2Meta.get(e);d(s)&&(await this.attributeOverrides.apply(s.featureIds,t,i),s.attributeInfo=t,this._attributeValuesChanged(s))}_attributeValuesChanged(e){e.cachedRendererVersion=this._getInvalidRendererVersion(),e.filteredIds=null,d(this._labeler)&&this._labeler.setNodeMetaAttributes(e,((e,t)=>this._createAttributes(e,t))),this._updateEngineObject(e)}clearMemCache(){d(this._memCache)&&this._memCache.clear()}getVisibleNodes(){const e=new Array;return this._nodeId2Meta.forEach((t=>d(t)&&e.push(t.node))),e}getLoadedNodeIndices(e){this._nodeId2Meta.forEach(((t,i)=>e.push(i))),this._nodeId2MetaReloading.forEach(((t,i)=>e.push(i)))}preLoadBasis(){!r(\"disable-feature:i3s-basis\")&&0!=(2&this.supportedTextureEncodings)&&c(this.i3slayer.textureSetDefinitions,(e=>e.some((e=>e.formats.some((e=>\"basis\"===e.format||\"ktx2\"===e.format))))))&&Ue()}_getVertexBufferLayout(e,t){const i={hasTexture:Ye(e.params.material),hasNormals:t.normal,hasRegions:t.uvRegion};return Pe(He(this._getGeometryParameters(i)))}_getObjectIdField(){return this.i3slayer.objectIdField||\"OBJECTID\"}_findGraphicNodeAndIndex(e){const t=De(this.i3slayer.fieldsIndex,e.attributes,this._getObjectIdField());let i=null;return a(this._nodeId2Meta,(e=>{if(h(e))return!1;const s=e.featureIds.indexOf(t);return-1!==s&&(i={node:e.node,index:s},!0)})),i}_getGraphicIndices(e,t){const i=this._nodeId2Meta.get(e.index);if(h(i))return[];const s=[],r=this._getObjectIdField(),o=this.i3slayer.fieldsIndex;for(const a of t){const e=De(o,a.attributes,r),t=i.featureIds.indexOf(e);-1!==t&&s.push(t)}return s}whenGraphicBounds(e){const t=this._findGraphicNodeAndIndex(e);if(!t)return Promise.reject();const i=this._nodeId2Meta.get(t.node.index);if(h(i))return Promise.reject();const s=i.objectHandle,r=de(t.index,this._collection,s,new Float64Array(24)),o=this.view.renderSpatialReference,a=this.view.spatialReference;if(R(r,o,0,r,a,0,8)){const e=H();return U(e,r,0,8),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}}whenGraphicAttributes(e,t){return Ie(this.i3slayer,e,this._getObjectIdField(),t,(()=>[...this._nodeId2Meta.values()].filter(d)))}getGraphicFromIntersectorMetadata(e){if(null==e.nodeIndex||null==e.componentIndex)return null;const t=this._nodeId2Meta.get(e.nodeIndex);return h(t)||null==t.featureIds||e.componentIndex>=t.featureIds.length?null:this._createGraphic(e.componentIndex,t)}_getCacheKey(e){return`${this._layerUrl}/v${ke}/${e.id}${this._cacheKeySuffix}`}_getMemCacheKey(e,t=this.elevationOffset){return e+\"#\"+t}get _idbCacheEnabled(){return!this._controller.disableIDBCache&&0===this._modifications.length&&0===this.elevationOffset&&null!=this._cacheKeySuffix}loadCachedGPUData(e){return d(this._memCache)?this._memCache.pop(this._getMemCacheKey(e.index)):null}deleteCachedGPUData(e){d(e)&&this._deleteComponentObject(e)}_cacheGPUData(e,t=this.elevationOffset){if(h(this._memCache))return void this._deleteComponentObject(e);const i=this._controller.indexDepth-e.node.level;this._memCache.put(this._getMemCacheKey(e.node.index,t),e,e.node.memory,i)}loadMissingTextures(e,t,i,s){const r=e.filter(((e,i)=>{if(0==(e.usage&this.rendererTextureUsage))return!1;if(h(t))return!0;const s=ue(e.encodings,this.supportedTextureEncodings),r=t[i];return!!(h(r)||null==r.data||s&&r.encoding!==s.encoding)}));return 0===r.length?Promise.resolve(!1):i(r,s).then((i=>{let s=0;for(let r=0;r<e.length;r++)s<i.length&&i[s].id===e[r].id&&(t[r]=i[s],s++);return!0}))}loadCachedNodeData(e,t,i){return this._idbCacheEnabled?this._idbCache.get(this._getCacheKey(e),t).then((s=>null==s?null:s.nodeVersion!==e.version?(this._idbCache.remove(this._getCacheKey(e)),null):(e.geometryObb=s.geometryObb,this.loadMissingTextures(s.requiredTextures,s.textureData,i,t).then((i=>(i&&this._idbCache.initialized&&d(s.textureData)&&(s.byteSize=tt(s.transformedGeometry,s.textureData),s.textureData.every(et)&&it(e,s)&&this._idbCache.put(this._getCacheKey(e),s).catch((t=>Ge.warn(`Failed to update node with textures in IndexedDB cache: ${e.id}: ${t}`)))),m(t),s)))))):Promise.resolve(null)}addNode(e,t,i){return Ze(t)?this._addData(e,t.attributeDataInfo,(()=>this._transformNode(e,t,i).then((s=>this._safeReschedule((()=>{if(h(s))return e.hasModifications=!1,this._addCachedNodeData(e,null,i);e.hasModifications=s.transformedGeometry.hasModifications;const{obb:r,componentOffsets:o,featureIds:a,transformedGeometry:n}=s,l=this._controller.crsIndex,c=this.view.renderSpatialReference,u=ge(e.mbs,this.elevationOffset,l,c);e.geometryObb=Te([r.center.x,r.center.y,r.center.z],[r.extents.x,r.extents.y,r.extents.z],[r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w]),S(e.geometryObb.center,e.geometryObb.center,u),t.geometryData.componentOffsets=o,a&&(t.geometryData.featureIds=Array.prototype.slice.call(a));const _={nodeVersion:e.version,geometryData:t.geometryData,requiredTextures:t.requiredTextures,textureData:t.textureData,transformedGeometry:n,globalTrafo:u,geometryObb:e.geometryObb,byteSize:tt(n,t.textureData)};if(this._idbCacheEnabled&&this._idbCache.initialized&&it(e,_)){const t=d(_.textureData)?_.textureData.map((e=>et(e)?e:null)):null;this._idbCache.put(this._getCacheKey(e),{..._,textureData:t}).catch((t=>Ge.warn(`Failed to store node in IndexedDB cache: ${e.id}: ${t}`)))}return this._addCachedNodeData(e,_,i)}),i))))):Promise.reject()}computeVisibilityObb(e){return Me(e,this.view.renderSpatialReference,this._controller.crsIndex,this.i3slayer.spatialReference,this.elevationOffset,this._modifications)}_transformNode(e,t,i){const s=t.geometryData.geometries,r=new Array(s.length);for(let h=0;h<s.length;++h)r[h]=this._getVertexBufferLayout(s[h],t.geometryDescriptor);const o=e.mbs,a=this.elevationOffset,n=this._controller.crsIndex,l=this._controller.crsVertex,d=this.view.renderSpatialReference,c=pe(o,a,n),u=ge(o,a,n,d),_=N(n,l),m=N(l,d);if(h(_)||h(m))return Promise.resolve(null);const g={context:this.i3slayer.uid,geometryBuffer:t.geometryBuffer,geometryData:t.geometryData,geometryDescriptor:t.geometryDescriptor,layouts:r,localOrigin:c,globalTrafo:u,mbs:o,obb:e.serviceObb,elevationOffset:a,needNormals:!this._isIntegratedMesh&&this._controller.isMeshPyramid,normalReferenceFrame:this.i3slayer.normalReferenceFrame||\"none\",indexToVertexProjector:_,vertexToRenderProjector:m};return this._worker.invoke(g,i)}get supportsNodeCrossFading(){var e,t;return!(null!=(e=this.view)&&null!=(t=e._stage)&&t.renderView.hasShadowsEnabled)}get nodeCrossfadingEnabled(){return this.supportsNodeCrossFading&&(this.lodCrossfadeinDuration>0||this.lodCrossfadeoutDuration>0||this.lodCrossfadeUncoveredDuration>0)}get nodeFadeoutEnabled(){return this.supportsNodeCrossFading&&this.lodCrossfadeoutDuration>0}_setNewNodeOpacity(e){const t=this.nodeCrossfadingEnabled?0:this.fullOpacity;this._setNodeOpacity(e,t)}addCachedGPUData(e,t,i){if(e.geometryObb=Ve(this._collection.getComponentObb(t.objectHandle)),!this._controller.isGeometryVisible(e))return void this._cacheGPUData(t);d(this._labeler)&&this._addMetaToLabeler(this._labeler,t);const s=e.index;this._addNodeMeta(s,t),this.updateNodeState(s,i),this._collection.setObjectVisibility(t.objectHandle,1),this._updateMaterial(t),this._setNewNodeOpacity(t),this._updateEngineObject(t),this._highlights.objectCreated(t),d(this._treeDebugger)&&this._treeDebugger.update()}addCachedNodeData(e,t,i,s){return this._addData(e,i,(()=>this._addCachedNodeData(e,t,s)))}async _addCachedNodeData(e,t,i){if(this.suspended||!this._controller.isGeometryVisible(e))return void this._removeNodeStageData(e.index,this.elevationOffset,this._nodeId2MetaReloading);if(h(t))return void this._addNodeMeta(e.index,null);const s=this._addTasks.get(e.index),{geometryData:o,transformedGeometry:a,globalTrafo:n}=t;await this.attributeOverrides.apply(o.featureIds,s.attributeInfo,i);const l=d(t.textureData)?t.textureData.filter((e=>d(e)&&0!=(e.usage&this.rendererTextureUsage))):[];!r(\"disable-feature:i3s-basis\")&&l.some((e=>d(e)&&(2===e.encoding||1===e.encoding)))&&await Ue(),e.memory=0;const{componentOffsets:c,geometries:_,featureIds:m}=o,g=this._collection,p=_[0],{layout:f,indices:b,interleavedVertexData:y,positionData:v,hasColors:I}=a,S=this._materialParameters(p,f),E=c||new Uint32Array([0,b?b.length:y.byteLength/f[0].stride]),D={vertices:{data:y,count:y.byteLength/f[0].stride,layoutParameters:S.geometryParams},positionData:{positions:v.data,indices:v.indices},indices:b,componentOffsets:E},R=p.transformation?j(p.transformation):w();x(R,n,R);const N=O(F(),R),A=M(C(),R),P=this.view.renderSpatialReference,H=this.view.basemapTerrain.spatialReference,U=F(),G=[1,1,1];T(N,P,G,H)||Ge.errorOnce(\"Unsupported coordinate system for IM overlay\"),V(N,P,U,H);const L=g.createObject({toMapSpace:[U[0],U[1],G[0],G[1]],geometry:D,obb:u(e.geometryObb),transform:{position:N,rotationScale:A}}),B=2===S.geometryParams.textureCoordinates,k=this._initMaterialAndTextures(L,S.material,l,B);e.memory+=this.memEstimateGeometryAdded(L),e.memory+=k.reduce(((e,t)=>e+(d(t)?this.memEstimateTextureAdded(t):0)),0);const q=!!S.material.hasParametersFromSource,z=\"blend\"!==S.material.alphaMode&&S.material.metallicRoughness.baseColorFactor[3]>=1,W=new Be(e,m,L,this._getInvalidRendererVersion(),s.attributeInfo,{hasParametersFromSource:q,isOpaque:z},k);s.meta=W,!this._hasTextures&&t.requiredTextures.some((({usage:e})=>0!=(19&e)))&&(this._hasTextures=!0),this._hasData=!0,this._hasColors=this._hasColors||I,this._hasTextures=this._hasTextures||!!e.resources.texture,this.notifyChange(\"hasTexturesOrVertexColors\");const $=this.slicePlaneEnabled;return this._addOrUpdateEdgeRendering(W).then((t=>(d(t)&&t.updateObjectVisibility(W.objectHandle,!1),this._safeReschedule((()=>{const i=this._addTasks.get(e.index);if(!i)return;if(d(this._labeler)&&this._addMetaToLabeler(this._labeler,W),this._addNodeMeta(e.index,W),i.meta=null,this.suspended)return void this._removeNodeStageData(e.index,this.elevationOffset);g.setObjectVisibility(L,1),d(t)&&t.updateObjectVisibility(W.objectHandle,!0),W.attributeInfo=i.attributeInfo;const s=W.cachedRendererVersion!==this._rendererVersion,r=$!==this.slicePlaneEnabled;this._setObjectSymbolColors(W);const o=this._applyFiltersToNode(W);(s||d(t)&&(r||o))&&this._addOrUpdateEdgeRendering(W),this._visibleGeometryChanged(W),this._highlights.objectCreated(W),this._updateMaterial(W),this._setNewNodeOpacity(W),d(this._treeDebugger)&&this._treeDebugger.update()}),i)))).catch((e=>{throw d(s.meta)&&(this._deleteComponentObject(s.meta),s.meta=null),e}))}_addNodeMeta(e,t){if(this._removeNodeStageData(e,this.elevationOffset,this._nodeId2MetaReloading),this._nodeId2Meta.has(e)){Ge.error(\"Removing duplicated node\");const t=this._nodeId2Meta.get(e);d(t)&&this._deleteComponentObject(t)}d(t)&&(t.lodCrossfadeProgress=null,this.nodeCrossfadingEnabled&&ot(t.cachedEdgeMaterials,0)),this._nodeId2Meta.set(e,t)}_safeReschedule(e,t){return m(t),this._controller.reschedule(e,t)}_materialParameters(e,t){const i=e.params.material,s=t.some((e=>\"uvRegion\"===e.name)),r=t.some((e=>\"normalCompressed\"===e.name)),o=Ye(i);return{geometryParams:this._getGeometryParameters({hasTexture:o,hasNormals:r,hasRegions:s}),material:i}}_initMaterialAndTextures(e,t,i,s){const r=this._stage.renderView,o=i.map((e=>_e(e,t,s,r)));for(const a of o)d(a)&&this._stage.add(a);return this._collection.updateMaterial(e,(e=>{me(e,t,o,i,this.view._stage.renderView.textureRepository,{rendererTextureUsage:this.rendererTextureUsage,usePBR:this._usePBR(),isIntegratedMesh:this._isIntegratedMesh,slicePlaneEnabled:this.slicePlaneEnabled,viewSpatialReference:this.view.spatialReference}),this._updateMaterialOverlay(e)})),o}_getGeometryParameters(e){return{textureCoordinates:e.hasTexture?e.hasRegions?2:1:0,colors:this._hasVertexColors,normals:e.hasNormals&&!this._isIntegratedMesh}}_addData(e,t,i){let s=this._addTasks.get(e.index);return s?s.attributeInfo=t:(s={...g(),attributeInfo:t,meta:null},this._addTasks.set(e.index,s),i().then(s.resolve,s.reject).then((()=>this._addTasks.delete(e.index))).catch((t=>{throw this._addTasks.delete(e.index),t}))),s.promise}_clearAddTasks(){this._addTasks.forEach((e=>{d(e.meta)&&(this._deleteComponentObject(e.meta),e.meta=null)})),this._addTasks.clear()}_clippingAreaChanged(){const e=P();Ne(this.view.clippingArea,e,this.view.renderSpatialReference)?this._clippingArea=e:this._clippingArea=null,this._filterChange(),this._controller&&this._controller.updateClippingArea(this.view.clippingArea)}_geometryFilterChange(){this._controller.geometryFilterChanged(this.hasGeometryFilter)}get hasGeometryFilter(){return!1}_filterChange(){this._applyFilters(!1)}_applyFilters(e){this._filters=this.getFilters(),e?this._controller&&this._controller.requestUpdate():this._nodeId2Meta.forEach((e=>{d(e)&&this._applyFiltersToNode(e)&&(this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e))}))}getFilters(){const e=[];return this._clippingArea&&e.push(((e,t)=>this._boundingboxFilter(e,t,this._clippingArea))),e}addSqlFilter(e,t,i){if(d(t)){const s=t.fieldNames;e.push(((e,r)=>this._sqlFilter(e,r,t,s,i)))}}_sqlFilter(e,t,i,s,r){const o={},a=this._createLayerGraphic(o),n=this.i3slayer.objectIdField,l=t.featureIds,h=d(t.attributeInfo)&&t.attributeInfo.attributeData;s.every((e=>null!=h[e]||e===n))&&Ce(e,l,(e=>{o[n]=l[e];for(const i of s)i!==n&&(o[i]=xe(h[i],e));try{return i.testFeature(a)}catch(t){return r(t),!1}}))}_boundingboxNodeTest(e,t){return A(e.node.mbs,this._controller.crsIndex,Xe,this.view.renderSpatialReference),Oe(t,Xe)}_boundingboxFeatureTest(e,t,i){return G(i,this._collection.getComponentAabb(e.objectHandle,t,We))}_boundingboxFilter(e,t,i){const s=this._collection,r=this._boundingboxNodeTest(t,i);if(3===r)return;if(0===r)return void(e.length=0);const o=s.getComponentCount(t.objectHandle);if(o.invisible+o.visible!==t.featureIds.length)return;const a=this._transformAABB($e,i,t.objectHandle);Ce(e,t.featureIds,(e=>this._boundingboxFeatureTest(t,e,a)))}_transformAABB(e,t,i){const s=this._collection.getObjectTransform(i),r=s.position,o=s.rotationScale;return e[0]=(t[0]-r[0])/o[0],e[1]=(t[1]-r[1])/o[4],e[2]=(t[2]-r[2])/o[8],e[3]=(t[3]-r[0])/o[0],e[4]=(t[4]-r[1])/o[4],e[5]=(t[5]-r[2])/o[8],e}_addOrUpdateEdgeRendering(e,t=!0){if(h(this._edgeView))return Promise.resolve(null);const i=e.objectHandle,s=this._edgeView.hasObject(i),{hasEdges:r,perFeatureEdgeMaterials:o}=this._getFilteredEdgeMaterials(e),a={slicePlaneEnabled:this.slicePlaneEnabled};if(r){if(s){if(this.nodeCrossfadingEnabled){ot(o,this.getNodeOpacity(e))}return this._edgeView.updateAllComponentMaterials(i,o,a,t),this._edgeView.updateObjectVisibility(i,!0),Promise.resolve(this._edgeView)}return this._collection.addEdges(i,this._edgeView,o,a).then((()=>this._edgeView))}return s&&this._edgeView.removeObject(i),Promise.resolve(null)}_removeEdgeRendering(e){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._edgeView.removeObject(e.objectHandle)}_applyFiltersToNode(e){return!!this._applyFiltersToNodeComponents(e)&&(d(this._labeler)&&this._labeler.applyFilterChange(e),!0)}_applyFiltersToNodeComponents(e){const t=this._collection,i=0===t.getComponentCount(e.objectHandle).invisible;if(t.setAllComponentVisibilities(e.objectHandle,\"all\"),0===this._filters.length)return e.filteredIds=null,!i;if(this._updateCachedFilteredIds(e),e.filteredIds===e.featureIds)return!i;const s=this._computeFilteredComponentIndices(e);return t.setAllComponentVisibilities(e.objectHandle,s),!0}_updateCachedFilteredIds(e){null!=e.filteredIds&&e.appliedFilters===this._filters||(e.filteredIds=this._computeFilteredIds(e),e.appliedFilters=this._filters)}_computeFilteredIds(e){const t=e.featureIds.slice();for(const i of this._filters)if(i(t,e),0===t.length)break;return t.length===e.featureIds.length?e.featureIds:t}_computeFilteredComponentIndices(e){const t=new Array;return e.featureIds.forEach(((i,s)=>{e.filteredIds[t.length]===i&&t.push(s)})),t}_removeAllNodeDataFromStage(e=this.elevationOffset){this._nodeId2Meta.forEach(((t,i)=>this._removeNodeStageData(i,e))),this._nodeId2MetaReloading.forEach(((t,i)=>this._removeNodeStageData(i,e,this._nodeId2MetaReloading)))}removeNode(e){const t=this.elevationOffset;this._removeNodeStageData(e,t),this._removeNodeStageData(e,t,this._nodeId2MetaReloading)}_removeNodeStageData(e,t,i=this._nodeId2Meta){const s=i.get(e);h(s)?i.delete(e):(this._collection.setObjectVisibility(s.objectHandle,0),this._visibleGeometryChanged(s),this._removeEdgeRendering(s),d(this._labeler)&&this._labeler.removeNodeMeta(s),i.delete(e),this._highlights.objectDeleted(s),i===this._nodeId2Meta?(this._cacheGPUData(s,t),this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopNodeFading(s)):this._deleteComponentObject(s),d(this._treeDebugger)&&this._treeDebugger.update())}_deleteComponentObject(e){if(d(this._edgeView)&&this._edgeView.removeObject(e.objectHandle),this.memEstimateGeometryRemoved(e.objectHandle),this._collection.destroyObject(e.objectHandle),e.textures)for(const t of e.textures)this.memEstimateTextureRemoved(t),this._stage.remove(t)}updateNodeState(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._collection.updateMaterial(i.objectHandle,(e=>e.polygonOffsetEnabled=0===t))}_invalidateAllSymbols(){this._rendererVersion=je(this._rendererVersion,1),this._controller&&this._controller.requestUpdate()}_getInvalidRendererVersion(){return je(this._rendererVersion,-1)}async _rendererChange(e){if(this._currentRenderer=e,this.notifyChange(\"rendererTextureUsage\"),this._rendererVersion=je(this._rendererVersion,1),this._rendererFields=null,this._colorVariable=null,this._opacityVariable=null,this._invalidateAllSymbols(),e&&(this._rendererFields=await e.getRequiredFields(this.i3slayer.fieldsIndex)),this._updateSymbologyFields(),!this._arcade&&e&&\"arcadeRequired\"in e&&e.arcadeRequired&&(this._arcade=await $()),e&&\"visualVariables\"in e&&e.visualVariables)for(const t of e.visualVariables)\"color\"===t.type?this._colorVariable=t:\"opacity\"===t.type?this._opacityVariable=t:Ge.warn(`Unsupported visual variable type for 3D Object Scene Services: ${t.type}`);if(e)for(const t of e.getSymbols())\"mesh-3d\"!==t.type&&Ge.error(`Symbols of type '${t.type}' are not supported for 3D Object Scene Services.`);this._controller&&this._controller.requestUpdate()}_getCachedEdgeMaterials(e){return this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e),e.cachedEdgeMaterials}_getSymbolColors(e){this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e);const t=e.cachedSymbology;return(e,i)=>{const s=5*e;D(i.externalColor,t[s+0]/255,t[s+1]/255,t[s+2]/255,t[s+3]/255),i.externalColorMixMode=15&t[s+4],i.castShadows=0!=(16&t[s+4]),i.pickable=0!=(32&t[s+4])}}_getSymbolInfo(e,t){const i=e&&e.getSymbol(t,{arcade:this._arcade});if(!(i instanceof K))return null;const s=i.id;if(this._symbolInfos.has(s))return this._symbolInfos.get(s);const r=we(i);return this._symbolInfos.set(s,r),r}_setSymbologyOverride(e,t){this._symbologyOverride!==e&&(this._symbologyOverride=e,this._symbologyOverrideFields=t,this._invalidateAllSymbols(),this._updateSymbologyFields())}_updateSymbologyFields(){this._symbologyFields=d(this._symbologyOverrideFields)&&this._symbologyOverrideFields.length>0?d(this._rendererFields)&&this._rendererFields.length>0?B(this.i3slayer.fieldsIndex,[...this._rendererFields,...this._symbologyOverrideFields]):this._symbologyOverrideFields:this._rendererFields}_updateCachedRendererData(e){if(e.cachedRendererVersion=this._rendererVersion,!this._hasSymbolColors)return;const t=this._tmpAttributeOnlyGraphic,i={};t.attributes=i;const s=this._currentRenderer,r=d(e.attributeInfo)&&e.attributeInfo.attributeData,o=null!=e.featureIds?this.i3slayer.objectIdField:null,a=null!=r&&d(this._symbologyFields)&&this._symbologyFields.length>0,n=a?[]:null,l=a?[]:null;if(a&&d(this._symbologyFields))for(const d of this._symbologyFields){const e=r[d];e&&(n.push(d),l.push(e))}e.cachedSymbology||(e.cachedSymbology=new Uint8Array(5*e.featureIds.length));const c={color:Je,castShadows:!0,pickable:!0,colorMixMode:1,edgeMaterial:null},u=this.fullOpacity,_=this.nodeCrossfadingEnabled?this.getNodeOpacity(e):u;let m=null,g=2,p=Se,f=0;for(let b=0;b<e.featureIds.length;b++){if(null!=o&&(i[o]=e.featureIds[b]),a)for(let e=0;e<n.length;e++)i[n[e]]=xe(l[e],b);const r=this._getSymbolInfo(s,t);let u=null,y=null;if(s&&\"visualVariables\"in s){if(this._colorVariable){const e=z(this._colorVariable,t,{color:Qe,arcade:this._arcade});e&&(u=Je,u[0]=e.r/255,u[1]=e.g/255,u[2]=e.b/255,this._opacityVariable||null===e.a||(y=e.a))}this._opacityVariable&&(y=W(this._opacityVariable,t,{arcade:this._arcade}))}if(r&&r.material){const e=r.material;u=h(u)||h(y)?se(u,y,e.color,e.alpha,Le,Je):se(u,y,null,null,Le,Je)}if(h(u)&&(u=Je,u[0]=1,u[1]=1,u[2]=1,u[3]=1),c.pickable=!0,c.castShadows=!r||r.castShadows,c.colorMixMode=r&&r.material?r.material.colorMixMode:1,c.edgeMaterial=r?r.edgeMaterial:null,d(this._symbologyOverride)&&(c.color=u,this._symbologyOverride(t,c),u=c.color),d(c.edgeMaterial)){const t=u[3]<=0?0:u[3]>=1&&(e.material.isOpaque||3===c.colorMixMode)?2:1;c.edgeMaterial===m&&t===g||(p={...c.edgeMaterial,opacity:_,objectTransparency:t},m=c.edgeMaterial,g=t),e.cachedEdgeMaterials[b]=p}else e.cachedEdgeMaterials[b]=Se;e.cachedSymbology[f+0]=Math.round(255*u[0]),e.cachedSymbology[f+1]=Math.round(255*u[1]),e.cachedSymbology[f+2]=Math.round(255*u[2]),e.cachedSymbology[f+3]=Math.round(255*u[3]),e.cachedSymbology[f+4]=c.colorMixMode|+c.castShadows<<4|+c.pickable<<5,f+=5}}_getFilteredEdgeMaterials(e){const t=this._getCachedEdgeMaterials(e);if(this.nodeCrossfadingEnabled||ot(t,this.fullOpacity),h(e.filteredIds)){return{hasEdges:t.some((e=>e!==Se)),perFeatureEdgeMaterials:t}}let i=0,s=!1;const r=t.map(((t,r)=>e.featureIds[r]!==e.filteredIds[i]?Se:(s=s||t!==Se,i++,t)));return{hasEdges:s,perFeatureEdgeMaterials:r}}_setObjectSymbolColors(e){if(!this._hasSymbolColors)return;const t=e.objectHandle,i=this._getSymbolColors(e);this._collection.setComponentData(t,i),this._stage.renderView.setNeedsRender()}_reloadAll(e=this.elevationOffset){this._removeAllNodeDataFromStage(e),null!=this._controller&&this._controller.restartNodeLoading()}_opacityChange(e){this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopAllNodeFading(),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>t.objectOpacity=e)),ot(t.cachedEdgeMaterials,e),this._updateEdgeRendering(t))}))}_updateMaterial(e){this._collection.updateMaterial(e.objectHandle,(e=>{e.commonMaterialParameters.slicePlaneEnabled=this.slicePlaneEnabled,e.usePBR=this._usePBR(),this._updateMaterialOverlay(e)}))}_updateMaterialOverlay(e){}_updateEngineObject(e){this._setObjectSymbolColors(e),this._applyFiltersToNode(e),this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e)}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlane=e),d(this._labeler)&&(this._labeler.slicePlaneEnabled=e),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>{t.commonMaterialParameters.slicePlaneEnabled=e})),this._updateEdgeRendering(t,!1))}))}_updatePBR(){this._nodeId2Meta.forEach((e=>{h(e)||this._collection.updateMaterial(e.objectHandle,(e=>{e.usePBR=this._usePBR()}))})),this._hasLoadedPBRTextures=!0}_usePBR(){return!this._isIntegratedMesh&&this.view.qualitySettings.physicallyBasedRenderingEnabled}_updateEdgeRendering(e,t=!0){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._addOrUpdateEdgeRendering(e,t)}_forAllNodes(e){this._nodeId2Meta.forEach(e)}_forAllFeatures(e,t,i=0){a(this._nodeId2Meta,(s=>{if(h(s))return!1;if(d(t)){switch(t(s)){case 0:return!0;case 2:return!1}}let r=1;switch(i){case 1:r=this._forAllFeaturesOfNode(s,e);break;case 0:r=this._forVisibleFeaturesOfNode(s,e);break;case 2:r=this._forAllFeaturesOfNodeInClippingArea(s,e)}return 0===r}))}_forAllFeaturesOfNode(e,t){let i=1;const s=e.featureIds;for(let r=0;r<s.length;r++)if(i=t(s[r],r,e),0===i)return i;return i}_forVisibleFeaturesOfNode(e,t){let i=1;const s=e.featureIds;return this._collection.forEachVisibleComponent(e.objectHandle,(r=>(i=t(s[r],r,e),1===i))),i}_forAllFeaturesOfNodeInClippingArea(e,t){if(null==this._clippingArea)return this._forAllFeaturesOfNode(e,t);const i=this._boundingboxNodeTest(e,this._clippingArea);if(0===i)return 1;if(3===i)return this._forAllFeaturesOfNode(e,t);const s=1,r=e.featureIds,o=e.objectHandle,a=Ee(this._clippingArea,this._collection.getObjectTransform(o));for(let n=0;n<r.length;n++){if(!this._boundingboxFeatureTest(e,n,a))continue;const i=t(r[n],n,e);if(0===i)return i}return s}_createAttributes(e,t){const i={};null!=t.featureIds&&(i[this._getObjectIdField()]=t.featureIds[e]);const s=d(t.attributeInfo)&&t.attributeInfo.attributeData;if(d(s))for(const r of Object.keys(s))i[r]=xe(s[r],e);return i}_createGraphic(e,t){return this._createLayerGraphic(this._createAttributes(e,t))}highlight(e){const t=this._highlights;if(\"number\"==typeof e||e instanceof i?e=[e]:e instanceof s&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof i){const i=e,s=this.i3slayer.fieldsIndex,r=this._getObjectIdField(),o=i.map((e=>De(s,e.attributes,r))),{set:a,handle:n}=t.acquireSet();return t.setFeatureIds(a,o),n}if(\"number\"==typeof e[0]){const i=e,{set:s,handle:r}=t.acquireSet();return t.setFeatureIds(s,i),r}}return rt}_visibleGeometryChanged(e){this._elevationProvider&&(this._elevationProvider.objectChanged(e.node),null==this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle=p((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))))}get performanceInfo(){const e={displayedNumberOfFeatures:0,maximumNumberOfFeatures:0,totalNumberOfFeatures:0,core:null,index:0,nodes:this._nodeId2Meta.size,\"Total GPU Memory Estimate\":(this.gpuMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Geometry Memory Estimate\":(this.geoMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Texture Memory Estimate\":(this.texMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Unloaded Memory Estimate\":(this.getUnloadedMemory()/1048576).toFixed(1)+\"MB\"};return d(this._memCache)&&(e.MemCache=Math.round(100*this._memCache.hitRate)+\"% hit\"),this._controller&&(this._idbCacheEnabled&&(e.IDBCache=Math.round(100*this._idbCache.getHitRate())+\"% hit\"),this._controller.updateStats(e)),e}get test(){const e=this;return{controller:this._controller,labeler:this._labeler,get visibleObjectIds(){const t=[];return e._forAllFeatures((e=>(t.push(e),1)),null,0),t.sort(((e,t)=>e-t)),t},get numNodes(){return e._nodeId2Meta.size}}}getNodeOpacityByIndex(e){const t=this._nodeId2Meta.get(e);return this.getNodeOpacity(t)}getNodeOpacity(e){return d(e)?this._collection.getMaterial(e.objectHandle).objectOpacity:0}isNodeFullyFadedIn(e){return this._crossfadeHelper.isNodeFullyFadedIn(e)}getNodeCrossfadeMetaData(e){return this._nodeId2Meta.get(e)}markNodeToRemove(e){this._controller&&this._controller.markNodeToRemove(e)}removeMarkedNodes(){this._controller&&this._controller.removeMarkedNodes()}foreachCrossfadeNode(e){this._nodeId2Meta.forEach(((t,i)=>e(i,t)))}fadeNode(e,t,i){if(!this.nodeCrossfadingEnabled)return;const s=this._nodeId2Meta.get(e);d(s)&&this._crossfadeHelper.fadeNode(e,s,t,i)}setNodeOpacityByIndex(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._setNodeOpacity(i,t)}_setNodeOpacity(e,t){this._collection.updateMaterial(e.objectHandle,(e=>e.objectOpacity=t)),this._setNodeEdgeOpacity(e,t)}_setNodeEdgeOpacity(e,t){if(!d(this._edgeView)||!e.cachedEdgeMaterials)return;ot(e.cachedEdgeMaterials,t);const i=e.objectHandle;this._edgeView.hasObject(i)&&this._edgeView.updateAllComponentOpacities(i,t)}get _hasModifications(){return this._modifications&&this._modifications.length>0}updateNodeModificationStatus(e){const t=e.length;if(!this._hasModifications||t<=0||!0!==this._i3sWasmLoaded)return;const i=this.i3slayer.uid,s=st(e);if(d(s)){const t={context:i,buffer:s.buffer};te(t);const r=new Float64Array(s.buffer);e.forAll(((e,t)=>{const i=r[t],s=ie(i);e.imModificationImpact=s,0!==s&&this._controller.invalidateGeometryVisibility(e.index)}))}}notifyUpdate(){this.notifyChange(\"updating\")}notifyLODUpdate(){this._controller.notifyLODUpdate()}isUpdating(){return!(!this._controller||!this._controller.updating)||!!this._visibleGeometryChangedSchedulerHandle||d(this._labeler)&&this._labeler.updating||this._crossfadeHelper.updating||this._i3sWasmLoaded instanceof Promise||this._asyncModuleLoading>0}};return e([v()],o.prototype,\"_hasLoadedPBRTextures\",void 0),e([v()],o.prototype,\"_asyncModuleLoading\",void 0),e([v()],o.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([v()],o.prototype,\"view\",void 0),e([v()],o.prototype,\"i3slayer\",void 0),e([v()],o.prototype,\"_controller\",void 0),e([v()],o.prototype,\"_labeler\",void 0),e([v()],o.prototype,\"updating\",void 0),e([v()],o.prototype,\"suspended\",void 0),e([v()],o.prototype,\"holeFilling\",void 0),e([v(Ae)],o.prototype,\"updatingProgress\",void 0),e([v({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],o.prototype,\"updatingProgressValue\",void 0),e([v({readOnly:!0})],o.prototype,\"hasTexturesOrVertexColors\",null),e([v({readOnly:!0})],o.prototype,\"rendererTextureUsage\",null),e([v({readOnly:!0})],o.prototype,\"elevationOffset\",null),e([v({type:Boolean})],o.prototype,\"slicePlaneEnabled\",void 0),e([v()],o.prototype,\"supportedTextureEncodings\",null),e([v()],o.prototype,\"uncompressedTextureDownsamplingEnabled\",null),e([v({type:[q]})],o.prototype,\"_modifications\",void 0),o=e([I(\"esri.views.3d.layers.I3SMeshView3D\")],o),o},We=P(),$e=P(),Ke=Te(),Je=[0,0,0,0],Qe=new t([0,0,0,0]),Xe=[0,0,0,0];function Ye(e){const t=e.metallicRoughness;return t&&t.baseColorTextureId>=0||t&&t.metallicRoughnessTextureId>=0||e.normalTextureId>=0||e.emissiveTextureId>=0||e.occlusionTextureId>=0}function Ze(e){return\"geometryData\"in e}function et(e){return d(e)&&f(e.data)}function tt(e,t){let i=1024+e.interleavedVertexData.byteLength+(e.indices?e.indices.byteLength:0)+e.positionData.data.byteLength+e.positionData.indices.byteLength;if(d(t))for(const s of t)d(s)&&f(s.data)&&(i+=s.data.byteLength);return i}function it(e,t){return t.byteSize>qe?(Ge.warn(`Node is too big to store in IndexedDB cache: ${e.id} (${t.byteSize} bytes)`),!1):t.byteSize>0}function st(e){if(0===e.length)return null;const t=10*e.length,i=new Float64Array(t);return e.forAll(((e,t)=>{let s=e.serviceObb;h(s)&&(s=Ke,E(s.center,e.mbs),s.halfSize[0]=s.halfSize[1]=s.halfSize[2]=e.mbs[3]);const r=10*t;i[r+0]=s.center[0],i[r+1]=s.center[1],i[r+2]=s.center[2],i[r+3]=s.halfSize[0],i[r+4]=s.halfSize[1],i[r+5]=s.halfSize[2],i[r+6]=s.quaternion[0],i[r+7]=s.quaternion[1],i[r+8]=s.quaternion[2],i[r+9]=s.quaternion[3]})),i}const rt={remove(){},pause(){},resume(){}};function ot(e,t){e.forEach((e=>e.opacity=t))}export{ze as I3SMeshView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"./BuildingComponentSublayer.js\";import n from\"./BuildingSublayer.js\";var a;const p={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:l}}},read:!1}};function l(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}t&&t.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t}))})))}let c=a=class extends n{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:u}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(p)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=p,r.readSublayers=l,r.forEachSublayer=e}(c||(c={}));var d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{PositionHint as r,indexOf as s}from\"../../../../core/arrayUtils.js\";import n from\"../../../../core/Logger.js\";import{isNone as i,isSome as o}from\"../../../../core/maybe.js\";import{getUnitString as a}from\"../../../../core/unitUtils.js\";import{whenOnce as c}from\"../../../../core/watchUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{t as u,b as f,s as d}from\"../../../../chunks/vec3.js\";import{WhereClause as g}from\"../../../../core/sql/WhereClause.js\";import{projectBoundingSphere as h,load as y,project as m,projectVectorToVector as j}from\"../../../../geometry/projection.js\";import{create as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{fromValues as S,expandWithNestedArray as R,expand as w}from\"../../../../geometry/support/aaBoundingRect.js\";import{project as F}from\"../../../../geometry/support/webMercatorUtils.js\";import{objectIdFilter as E,filterInPlace as I}from\"./I3SUtil.js\";import x from\"../../../layers/support/FeatureFilter.js\";import M from\"../../../../geometry/SpatialReference.js\";const _=n.getLogger(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\");let v,O=class extends t{constructor(e){super(e),this._projectionEngineLoaded=!1}initialize(){c(this,\"filter.geometry\").then((()=>this.loadAsyncModule(G().then((e=>{this.destroyed||(this._geometryEngine=e,this.applyFilters())})))))}get sortedObjectIds(){if(i(this.filter.objectIds))return null;const e=new Float64Array(this.filter.objectIds);return e.sort(),e}get parsedWhereClause(){const e=o(this.filter)?this.filter.where:null;if(i(e)||!e)return null;try{return g.create(e,this.layerFieldsIndex)}catch(t){_.error(`Failed to parse filter where clause: ${t}`)}return null}addFilters(e,t,r,s){const n=this.sortedObjectIds;o(n)&&e.push((e=>E(n,!0,e))),this.addSqlFilter(e,this.parsedWhereClause);const i=this.parsedGeometry;if(o(i)){const n=this.spatialRelationship;e.push(((e,o)=>A(e,o,s,t,r,i,n)))}}isMBSGeoemtryVisible(e,t,r){const s=this.parsedGeometry;if(o(s)){const n=this.spatialRelationship,i=s[0].spatialReference||t;if(!h(e,r,T,i))return _.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"),!0;return C(T,s,i,n)}return!0}get parsedGeometry(){if(i(this.filter))return null;if(!this._geometryEngine)return null;const{geometry:e}=this.filter;if(i(e))return null;const{distance:t,units:r}=this.filter,s=this.spatialRelationship,n=\"mesh\"===e.type?e.extent:e;if(i(t)||0===t)return L(n,s);const c=r||a(n.spatialReference);if(n.spatialReference.isWGS84){return L(this._geometryEngine.geodesicBuffer(n,t,c),s)}const l=F(n,M.WGS84);if(o(l)){return L(F(this._geometryEngine.geodesicBuffer(l,t,c),n.spatialReference),s)}if(!this._projectionEngineLoaded&&(this.loadAsyncModule(y().then((()=>this._projectionEngineLoaded=!0))),!this._projectionEngineLoaded))return null;let p=null;try{p=m(n,M.WGS84)}catch(u){}if(p)try{p=m(this._geometryEngine.geodesicBuffer(p,t,c),n.spatialReference)}catch(u){p=null}return p||_.error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${n.spatialReference.wkid}) to WGS84.`),L(p,s)}get spatialRelationship(){return o(this.filter)?this.filter.spatialRelationship:\"intersects\"}static checkSupport(e){return e.timeExtent?(_.warn(\"Filters with a timeExtent are not supported for mesh scene layers\"),!1):!!B(e.spatialRelationship)||(_.warn(`Filters with spatialRelationship other than ${W.join(\", \")} are not supported for mesh scene layers`),!1)}};function k(){return!!v}async function G(){return k()||(v=await import(\"../../../../geometry/geometryEngine.js\")),v}e([l({type:x})],O.prototype,\"filter\",void 0),e([l()],O.prototype,\"layerFieldsIndex\",void 0),e([l()],O.prototype,\"loadAsyncModule\",void 0),e([l()],O.prototype,\"applyFilters\",void 0),e([l()],O.prototype,\"addSqlFilter\",void 0),e([l({readOnly:!0})],O.prototype,\"sortedObjectIds\",null),e([l({readOnly:!0})],O.prototype,\"parsedWhereClause\",null),e([l({readOnly:!0})],O.prototype,\"parsedGeometry\",null),e([l({readOnly:!0})],O.prototype,\"spatialRelationship\",null),e([l()],O.prototype,\"_projectionEngineLoaded\",void 0),e([l()],O.prototype,\"_geometryEngine\",void 0),O=e([p(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\")],O);const W=(e=>e)([\"contains\",\"intersects\",\"disjoint\"]);function B(e){return null!=e&&W.indexOf(e)>=0}function L(e,t){if(i(e))return null;if(\"disjoint\"===t&&\"polygon\"===e.type){const t=new Array(e.rings.length);for(let r=0;r<e.rings.length;++r){const s=S(1/0,1/0,-1/0,-1/0);R(s,e.rings[r]),t[r]={type:\"polygon\",rings:[e.rings[r]],spatialReference:e.spatialReference,aabr:s}}t.sort(((e,t)=>e.aabr[0]-t.aabr[0]));const n=new Set,i=new r;for(let e=0;e<t.length;++e){const r=t[e];for(let s=e+1;s<t.length;++s){const e=t[s];if(e.aabr[0]>=r.aabr[2])break;n.add(e)}n.forEach((e=>{if(r!==e)if(e.aabr[2]<=r.aabr[0])n.delete(e);else if(v.intersects(r,e)){r.rings=r.rings.concat(e.rings),w(r.aabr,e.aabr,r.aabr),delete r._geVersion,n.delete(e);const o=s(t,e,t.length,i);t.splice(o,1)}})),n.add(r)}for(const e of t)delete e.aabr;return t}return[e]}function C(e,t,r,s){const n=U(e,r);return t.every((e=>1!==q(e,n,s)))}function A(e,t,r,s,n,i,o){const a=i[0].spatialReference||s.spatialReference;if(!h(t.node.mbs,n,T,a))return void _.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter\");const c=U(T,a),l=V(o,s,a,r,t.objectHandle);for(const p of i){if(0===e.length)return;switch(q(p,c,o)){case 1:return void(e.length=0);case 0:continue}I(e,t.featureIds,(e=>H(p,e,l)))}}const T=[0,0,0,0];function V(e,t,r,s,n){const i=t.renderSpatialReference,o=new Map,a={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:r};a.rings[0][3]=a.rings[0][0];const c={indices:null,data:null,stride:0,startIndex:0,endIndex:0};let l,p;switch(e){case\"intersects\":l=(e,t)=>v.intersects(e,t)?0:2,p=Z;break;case\"contains\":l=(e,t)=>v.contains(e,t)?2:1,p=Z;break;default:l=(e,t)=>v.disjoint(e,t)?2:1,p=$}return{collection:s,object:n,type:e,maskSR:r,renderSR:i,aabbCache:o,triangle:a,positions:c,triangleTest:l,geometryTest:p}}function U(e,t){const r={x:e[0],y:e[1],hasZ:!1,hasM:!1,type:\"point\",spatialReference:t},s=!t.isWGS84&&!t.isWebMercator?v.buffer(r,e[3],1):v.geodesicBuffer(r,e[3],1);return s.type=\"polygon\",s}function q(e,t,r){switch(r){case\"intersects\":case\"contains\":return Z(e,t);case\"disjoint\":return $(e,t)}}function Z(e,t){return v.intersects(e,t)?v.contains(e,t)?0:2:1}function $(e,t){return v.intersects(e,t)?v.contains(e,t)?1:2:0}const z=2**-32;function H(e,t,r){const{collection:s,object:n,renderSR:i,maskSR:o,geometryTest:a,aabbCache:c}=r;let l=c.get(t);if(!l){const e=s.getObjectTransform(n);s.getComponentAabb(n,t,P);const r=[[P[0],P[1],0],[P[0],P[4],0],[P[3],P[4],0],[P[3],P[1],0]];for(let t=0;t<4;++t)u(r[t],r[t],e.rotationScale),f(r[t],r[t],e.position),j(r[t],i,r[t],o);l={rings:[r],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:o},l.rings[0][4]=l.rings[0][0],c.set(t,l)}switch(a(e,l)){case 1:return!1;case 0:return!0}const{triangle:p,triangleTest:g,positions:h}=r,y=p.rings[0][0],m=p.rings[0][1],b=p.rings[0][2],S=s.getObjectTransform(n);s.getComponentPositions(n,t,h);const{indices:R,data:w,stride:F,startIndex:E,endIndex:I}=h;for(let x=E;x<I;x+=3){const t=F*R[x+0],r=F*R[x+1],s=F*R[x+2];d(y,w[t+0],w[t+1],w[t+2]),d(m,w[r+0],w[r+1],w[r+2]),d(b,w[s+0],w[s+1],w[s+2]),u(y,y,S.rotationScale),u(m,m,S.rotationScale),u(b,b,S.rotationScale),f(y,y,S.position),f(m,m,S.position),f(b,b,S.position),j(y,i,y,o),j(m,i,m,o),j(b,i,b,o);const n=m[0]-y[0],a=m[1]-y[1],c=b[0]-y[0],l=b[1]-y[1];if(!(Math.abs(n*l-a*c)<z))switch(delete p._geVersion,g(e,p)){case 1:return!1;case 0:return!0}}return\"intersects\"!==r.type}const P=b();export{O as I3SMeshViewFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Error.js\";import s from\"../../../../core/Handles.js\";import{isNone as n}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../../geometry/Extent.js\";import u from\"../../../../layers/graphics/data/QueryEngine.js\";import y from\"../../../../rest/support/FeatureSet.js\";import c from\"../../../../rest/support/Query.js\";const l=u;let p=class extends r{constructor(e){super(e),this._dataQueryEngineInstance=null,this._handles=new s}get defaultQueryJSON(){return new c({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this.ensureDataQueryEngine()}initialize(){this._handles.add(this.layerView.on(\"visible-geometry-changed\",(()=>this.spatialIndex.events.emit(\"changed\"))))}destroy(){this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null),this._handles&&(this._handles.destroy(),this._handles=null),this._set(\"layerView\",null)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:i.fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQuery(e,r){const s=this._ensureQueryJSON(e);if(s.returnGeometry)throw new t(\"feature-store:unsupported-query\",\"returnGeometry is not yet supported for mesh scene layer queries\");if(s.returnCentroid)throw new t(\"feature-store:unsupported-query\",\"returnCentroid is not yet supported for mesh scene layer queries\");const n=await this.dataQueryEngine.executeQuery(s,r),o=y.fromJSON(n);return o.features.forEach((e=>{e.geometry=null})),o}_ensureQueryJSON(e){if(n(e))return this.defaultQueryJSON;const r=e.toJSON();return r.outSpatialReference||(e.outSpatialReference=this.spatialReference),r}ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=this.layer.objectIdField||\"OBJECTID\",r=\"esriGeometryPolygon\",t=this.layer.fields.map((e=>e.toJSON())),s=this.layerView.view.resourceController.scheduler,n=this.spatialReference.toJSON(),o=this.priority,a=this.spatialIndex;return this._dataQueryEngineInstance=new l({hasZ:!0,hasM:!1,geometryType:r,fields:t,timeInfo:null,spatialReference:n,objectIdField:e,featureStore:a,scheduler:s,priority:o}),this._dataQueryEngineInstance}};e([o({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],p.prototype,\"priority\",void 0),e([o({constructOnly:!0})],p.prototype,\"spatialIndex\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.view.spatialReference\"})],p.prototype,\"spatialReference\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.i3slayer\"})],p.prototype,\"layer\",void 0),e([o({readOnly:!0})],p.prototype,\"defaultQueryJSON\",null),p=e([a(\"esri.views.3d.layers.i3s.I3SQueryEngine\")],p);var d=p;export{p as I3SQueryEngine,d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{create as e}from\"../../../../geometry/support/aaBoundingBox.js\";import{getCentroidOptimizedGeometry as r}from\"../../../../layers/graphics/centroid.js\";import o from\"../../../../layers/graphics/OptimizedGeometry.js\";import{getCachedAttributeValue as i}from\"./I3SUtil.js\";class n{constructor(t){this.objectIdField=t.objectIdField,this.getFeatureExtent=t.getFeatureExtent}getObjectId(t){return t.id}getAttributes(e){const{meta:r,index:o}=e,n={};this.objectIdField&&(n[this.objectIdField]=e.id);const s=t(r.attributeInfo)&&r.attributeInfo.attributeData;if(t(s))for(const t of Object.keys(s))n[t]=i(s[t],o);return n}getAttribute(e,r){if(r===this.objectIdField)return e.id;const{meta:o,index:n}=e,s=t(o.attributeInfo)&&o.attributeInfo.attributeData;return t(s)?i(s[r],n):null}getGeometry(t){if(t.geometry)return t.geometry;const[e,r,i,n,a]=this.getFeatureExtent(t,s);return new o([5],[e,r,i,n,r,i,n,a,i,e,a,i,e,r,i])}getCentroid(t,e){if(t.geometry)return r(new o,t.geometry,e.hasZ,e.hasM);const[i,n,a,m,u,d]=this.getFeatureExtent(t,s);return new o([0],[(i+m)/2,(n+u)/2,(a+d)/2])}cloneWithGeometry(t,e){const{id:r,index:o,meta:i}=t;return{id:r,index:o,meta:i,geometry:e}}}const s=e();export{n as I3SQueryFeatureAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec4f64.js\";import{projectBoundingSphere as a}from\"../../../../geometry/projection.js\";import{create as n,toRect as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as i,intersects as u}from\"../../../../geometry/support/aaBoundingRect.js\";let m=class extends r{constructor(e){super(e),this.events=new t}forEach(e){this.forAllFeatures((r=>(e(r),1)))}forEachBounds(e,r,t){const o=this.getFeatureExtent;for(const s of e)r(o(s,t))}forEachInBounds(e,r){this.forAllFeatures((t=>{const o=this.getFeatureExtent(t,l);return u(e,p(o,d))&&r(t),1}),(r=>{if(a(r.node.mbs,this.sourceSpatialReference,f,this.viewSpatialReference),f[0]>=e[0]&&f[2]<=e[2]&&f[1]>=e[1]&&f[3]<=e[3])return 1;const t=Math.max(e[0],Math.min(f[0],e[2])),o=Math.max(e[1],Math.min(f[1],e[3])),s=f[0]-t,c=f[1]-o;return s*s+c*c<=f[3]*f[3]?1:2}))}};e([o({constructOnly:!0})],m.prototype,\"featureAdapter\",void 0),e([o({constructOnly:!0})],m.prototype,\"forAllFeatures\",void 0),e([o({constructOnly:!0})],m.prototype,\"getFeatureExtent\",void 0),e([o({constructOnly:!0})],m.prototype,\"sourceSpatialReference\",void 0),e([o({constructOnly:!0})],m.prototype,\"viewSpatialReference\",void 0),m=e([s(\"esri.views.3d.layers.i3s.I3SQueryFeatureStore\")],m);const f=c(),l=n(),d=i();var h=m;export{m as I3SQueryFeatureStore,h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import{HandleOwnerMixin as t}from\"../../../core/HandleOwner.js\";import{IdentifiableMixin as s}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";const l=(l,n)=>{let u=class extends(i(t(s(r.EventedMixin(l))))){constructor(e){super(e),this.sublayer=null,this.parent=null,this.view=null}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!0===this.get(\"sublayer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.get(\"sublayer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.visible||!1}isUpdating(){return!1}};return e([o()],u.prototype,\"sublayer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"visible\",null),e([o()],u.prototype,\"fullOpacity\",null),u=e([p(\"esri.views.3d.layers.BuildingSublayerView3D\")],u),u};export{l as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{d as r}from\"../../../../chunks/vec4f64.js\";import{createMaterialFromEdges as o}from\"../support/edgeUtils.js\";const a=.15,t=.5*a;function l(e){switch(e.filterMode.type){case\"solid\":return{mode:0};case\"wire-frame\":return{mode:1,edgeMaterial:o(e.filterMode.edges,{})};case\"x-ray\":return{mode:2}}}function c(r,o){if(e(o))return r.color[3]=0,r.edgeMaterial=null,void(r.pickable=!1);switch(o.mode){case 0:return;case 1:return r.color[3]=0,r.edgeMaterial=o.edgeMaterial,void(r.pickable=!1);case 2:return r.color[0]=1,r.color[1]=1,r.color[2]=1,r.color[3]*=a,r.colorMixMode=3,r.castShadows=!1,r.pickable=!1,void(r.edgeMaterial=i(r.edgeMaterial))}}function i(r){return e(r)?null:(s.lastMaterial!==r&&(s.cachedMaterial=n(r),s.lastMaterial=r),s.cachedMaterial)}function n(e){const o=r(e.color);return o[3]*=t,{...e,color:o}}const s={cachedMaterial:null,lastMaterial:null};export{c as applyFilterMode,l as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";class o extends r{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(e){throw new Error(\"Not implemented\")}queryFeatures(e,r){throw new Error(\"Not implemented\")}queryObjectIds(e,r){throw new Error(\"Not implemented\")}queryFeatureCount(e,r){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,r){throw new Error(\"Not implemented\")}highlight(e){throw new Error(\"Not implemented\")}}e([t()],o.prototype,\"sublayer\",void 0),e([t()],o.prototype,\"availableFields\",null),e([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{isSome as s,isNone as l}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as a}from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{fixFields as u,unpackFieldNames as d,populateMissingFields as p}from\"../../../layers/support/fieldUtils.js\";import y from\"../../../rest/support/Query.js\";import{BuildingSublayerView3DMixin as h}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as c}from\"./I3SMeshView3D.js\";import{applyFilterMode as f}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as m}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as F}from\"./i3s/I3SMeshViewFilter.js\";import g from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as b}from\"./i3s/I3SQueryFeatureAdapter.js\";import w from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as v,getIndexCrs as E}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as _}from\"./support/DefinitionExpressionSceneLayerView.js\";import x from\"../../layers/BuildingComponentSublayerView.js\";import S from\"../../layers/support/FeatureFilter.js\";import{getRequiredFields as j,getFetchPopupTemplate as I}from\"../../layers/support/popupUtils.js\";import{TaskPriority as Q}from\"../../support/Scheduler.js\";const q=i.getLogger(\"esri.views.3d.layers.BuildingComponentSublayerView3D\");let R=class extends(_(c(h(x)))){constructor(){super(...arguments),this.type=\"building-component-sublayer-3d\",this.layerView=null,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!1,this.lodFactor=1,this.progressiveLoadFactor=1,this._queryEngine=null}get layerUid(){return this.sublayer.layer.uid}get sublayerUid(){return this.sublayer.uid}initialize(){this.updatingHandles.add(this,\"sublayer.renderer,definitionExpressionFields,filterExpressionFields\",(()=>this._updateRequiredFields())),this.updatingHandles.add(this.sublayer,\"renderer\",(e=>this._rendererChange(e)),2);for(const e of[\"parsedDefinitionExpression\",\"filter\",\"viewFilter.parsedWhereClause\",\"viewFilter.parsedGeometry\",\"viewFilter.sortedObjectIds\"])this.updatingHandles.add(this,e,(()=>this._filterChange()));this.updatingHandles.add(this,\"parsedFilterExpressions\",(()=>this._updateSymbologyOverride()),2),this.addResolvingPromise(this._updateRequiredFields())}get parsedFilterExpressions(){return\"Overview\"===this.sublayer.modelName?[]:this.layerView.filterExpressions.map((([e,r])=>{let t;try{t=a.create(e,this.sublayer.fieldsIndex)}catch(l){return q.error(\"Failed to parse filterExpression: \"+l),null}if(!t.isStandardized)return q.error(\"filterExpression is using non standard function\"),null;const i=[],s=t.fieldNames;return v(s,this.sublayer.fields,{missingFields:i}),i.length>0?(q.error(`filterExpression references unknown fields: ${i.join(\", \")}`),null):[t,r]})).filter((e=>null!=e))}get filter(){return s(this.viewFilter)?this.viewFilter.filter:null}set filter(e){!l(e)&&F.checkSupport(e)?s(this.viewFilter)?this.viewFilter.filter=e:this.viewFilter=new F({filter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),applyFilters:()=>this._applyFilters(!0),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError)}):this.viewFilter=null}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride(((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return f(t,l)}catch(i){this.logError(i)}return f(t,null)}),this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return u(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce(((e,[r])=>e.concat(r.fieldNames)),[]))}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...d(r,i),...t]}return u(r,t)}_createLayerGraphic(e){const t=new r(null,null,e);return t.layer=this.sublayer.layer,t.sourceLayer=this.sublayer,t}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);if(!s(r)||!r.clientGraphics||0===r.clientGraphics.length)return[];const i=[],l=[],o=s(this.sublayer.associatedLayer)?await this.sublayer.associatedLayer.load():this.sublayer,n=d(this.sublayer.fieldsIndex,await j(o,I(this.sublayer,r))),a=new Set;for(const s of r.clientGraphics)p(n,s,a)?l.push(s):i.push(s);return 0===l.length?Promise.resolve(i):(s(this.sublayer.associatedLayer)&&await this.sublayer.associatedLayer.load().catch((()=>q.warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))),this.whenGraphicAttributes(l,Array.from(a)).catch((()=>l)).then((e=>i.concat(e))))}async _updateRequiredFields(){const e=u(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields||[],...this.filterExpressionFields||[]]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?I(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),s(this.viewFilter)&&this.viewFilter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return s(this.filter)?this.filter.createQuery(e):new y(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),null==r?void 0:r.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),null==r?void 0:r.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),null==r?void 0:r.signal).then((e=>{if(null==e||!e.features)return e;const r=this.sublayer,t=r.layer;for(const i of e.features)i.layer=t,i.sourceLayer=r;return e}))}queryObjectIds(e,r){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),null==r?void 0:r.signal)}_ensureQueryEngine(){return l(this._queryEngine)&&(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=m(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new g({layerView:this,priority:Q.FEATURE_QUERY_ENGINE,spatialIndex:new w({featureAdapter:new b({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures(((r,t,i)=>e({id:r,index:t,meta:i})),r,2),getFeatureExtent:e,sourceSpatialReference:E(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(l(e)?this.createQuery():y.from(e))}};e([o({aliasOf:\"sublayer\"})],R.prototype,\"i3slayer\",void 0),e([o()],R.prototype,\"layerView\",void 0),e([o()],R.prototype,\"suspended\",void 0),e([o({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.3dObject.lodFactor\"})],R.prototype,\"lodFactor\",void 0),e([o({readOnly:!0})],R.prototype,\"parsedFilterExpressions\",null),e([o({type:S})],R.prototype,\"filter\",null),e([o()],R.prototype,\"viewFilter\",void 0),e([o({type:[String],readOnly:!0})],R.prototype,\"filterExpressionFields\",null),e([o({type:[String],readOnly:!0})],R.prototype,\"requiredFields\",void 0),e([o({type:[String],readOnly:!0})],R.prototype,\"availableFields\",null),R=e([n(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],R);var O=R;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";import o from\"./LayerView.js\";class s extends o{constructor(){super(...arguments),this.layer=null,this.sublayerViews=null}highlight(r){throw new Error(\"Not implemented\")}}r([e()],s.prototype,\"layer\",void 0),r([e()],s.prototype,\"sublayerViews\",void 0);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import i from\"../../../core/Accessor.js\";import s from\"../../../core/Collection.js\";import{handlesGroup as t}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{isSome as n,isNone as l}from\"../../../core/maybe.js\";import{createAbortController as a,isAbortError as u}from\"../../../core/promiseUtils.js\";import{init as p}from\"../../../core/watchUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import y from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as d}from\"./BuildingSublayerView3D.js\";import{LayerView3D as g}from\"./LayerView3D.js\";import{parseFilterMode as m}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as f}from\"./i3s/I3SUtil.js\";import{updatingProgress as b}from\"../support/updatingProperties.js\";import w from\"../../layers/BuildingSceneLayerView.js\";const V=o.getLogger(\"esri.views.3d.layers.BuildingSceneLayerView3D\"),j=d(i);let C=class extends(g(w)){constructor(){super(...arguments),this.type=\"building-scene-3d\",this.sublayerViews=new s,this._abortController=a(),this._loadingComponents=0}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null,i=null!=r?r.filterBlocks.find((e=>\"solid\"===e.filterMode.type)):null;return i?i.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null;return r&&r.filterBlocks?r.filterBlocks.toArray().map((e=>[e.filterExpression,m(e)])):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce(((e,r)=>e+r.updatingProgress),0)/r}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some((e=>e.updating))}initialize(){f(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this.initializeSubLayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach((e=>e.destroy())),this.sublayerViews=null),this._abortController.abort(),this._abortController=null}initializeSubLayerViews(e,r){const i=this,s=this.view;e.forEach((e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const i=new j({sublayer:e,view:s,parent:r});this.initializeSubLayerViews(e.sublayers,i)}else\"mesh\"===e.geometryType&&(this._loadingComponents++,e.load({signal:this._abortController.signal}).then((()=>{const t=new y({sublayer:e,layerView:i,view:s,parent:r});this.sublayerViews.push(t),this.handles.add([p(t,\"updating\",(()=>this.notifyChange(\"updating\")),!0),p(t,\"updatingProgress\",(()=>this.notifyChange(\"updatingProgressValue\")),!0)])})).catch((r=>{u(r)||V.error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r)})).then((()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})))}))}getGraphicFromIntersectorMetadata(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getGraphicFromIntersectorMetadata(e);return null}async fetchPopupFeatures(e,r){if(!n(r)||!r.clientGraphics||0===r.clientGraphics.length)return;const i=this._findComponent(r.clientGraphics[0].sourceLayer);return l(i)?void 0:i.fetchPopupFeatures(e,r)}whenGraphicBounds(e){const r=this._findComponent(e.sourceLayer);return l(r)?Promise.reject():r.whenGraphicBounds(e)}_findComponent(e){return this.sublayerViews.find((r=>e===r.sublayer))}highlight(e){e instanceof r?e=[e]:e instanceof s&&(e=e.toArray());const i=[];if(Array.isArray(e)&&e.length>0&&e[0]instanceof r){const r=e,s=new Map;for(const e of r){let r=s.get(e.sourceLayer);null==r&&(r=[],s.set(e.sourceLayer,r)),r.push(e)}this.sublayerViews.forEach((e=>{const r=s.get(e.sublayer);r&&i.push(e.highlight(r))}))}return t(i)}getUsedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUsedMemory()),0)}getUnloadedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUnloadedMemory()),0)}ignoresMemoryFactor(){return!1}};e([c()],C.prototype,\"sublayerViews\",void 0),e([c({readOnly:!0})],C.prototype,\"filterExpression\",null),e([c({readOnly:!0})],C.prototype,\"filterExpressions\",null),e([c(b)],C.prototype,\"updatingProgress\",void 0),e([c({readOnly:!0,dependsOn:[]})],C.prototype,\"updatingProgressValue\",null),C=e([h(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],C);var v=C;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";function t(){return i||(i=new Promise((e=>import(\"../../chunks/i3s.js\").then((function(e){return e.i})).then((({default:t})=>{const i=t({locateFile:n,onRuntimeInitialized:()=>e(i)});delete i.then})))).catch((e=>Promise.reject(e)))),i}function n(t){return e(`esri/libs/i3s/${t}`)}let i;export{t as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{slice as t}from\"../../../core/typedArrayUtil.js\";import{get as r}from\"../../../libs/i3s/I3SModule.js\";async function n(e){await h();const t=[e.geometryBuffer];return{result:y(e,t),transferList:t}}async function o(e){var r;await h();const n=[e.geometryBuffer],{geometryBuffer:o}=e,s=o.byteLength,f=c._malloc(s),i=new Uint8Array(c.HEAPU8.buffer,f,s);i.set(new Uint8Array(o));const a=c.dracoDecompressPointCloudData(f,i.byteLength);if(c._free(f),a.error.length>0)throw`i3s.wasm: ${a.error}`;const u=(null==(r=a.featureIds)?void 0:r.length)>0?t(a.featureIds):null,l=t(a.positions);u&&n.push(u.buffer),n.push(l.buffer);return{result:{positions:l,featureIds:u},transferList:n}}async function s(e){await h(),m(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function f(e){await h(),l(e)}async function i(e){await h(),c.setLegacySchema(e.context,e.jsonSchema)}function a(e){d(e)}let u,c;function l(e){const t=e.modifications,r=c._malloc(8*t.length),n=new Float64Array(c.HEAPU8.buffer,r,t.length);for(let o=0;o<t.length;++o)n[o]=t[o];c.setModifications(e.context,r,t.length,e.isGeodetic),c._free(r)}function y(r,n){if(!c)return null;const{context:o,localOrigin:s,globalTrafo:f,mbs:i,obb:a,elevationOffset:u,geometryBuffer:l,geometryDescriptor:y,indexToVertexProjector:b,vertexToRenderProjector:m}=r,d=c._malloc(l.byteLength),h=33,p=c._malloc(h*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(c.HEAPU8.buffer,d,l.byteLength);g.set(new Uint8Array(l));const w=new Float64Array(c.HEAPU8.buffer,p,h);E(w,s);let A=w.byteOffset+3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A);E(_,f),A+=16*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,i),A+=4*w.BYTES_PER_ELEMENT,e(a)&&(_=new Float64Array(w.buffer,A),E(_,a.center),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.halfSize),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.quaternion));const L=y,T={isDraco:!1,isLegacy:!1,color:r.layouts.some((e=>e.some((e=>\"color\"===e.name)))),normal:r.needNormals&&r.layouts.some((e=>e.some((e=>\"normalCompressed\"===e.name)))),uv0:r.layouts.some((e=>e.some((e=>\"uv0\"===e.name)))),uvRegion:r.layouts.some((e=>e.some((e=>\"uvRegion\"===e.name)))),featureIndex:L.featureIndex},I=c.process(o,!!r.obb,d,g.byteLength,L,T,p,u,b,m,r.normalReferenceFrame);if(c._free(p),c._free(d),I.error.length>0)throw`i3s.wasm: ${I.error}`;if(I.discarded)return null;const P=I.componentOffsets.length>0?t(I.componentOffsets):null,U=I.featureIds.length>0?t(I.featureIds):null,B=t(I.interleavedVertedData).buffer,F=1===I.indicesType?t(new Uint16Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/2)):t(new Uint32Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/4)),v=t(I.positions),x=1===I.positionIndicesType?t(new Uint16Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/2)):t(new Uint32Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/4)),M={layout:r.layouts[0],interleavedVertexData:B,indices:F,hasColors:I.hasColors,hasModifications:I.hasModifications,positionData:{data:v,indices:x}};return U&&n.push(U.buffer),P&&n.push(P.buffer),n.push(B),n.push(F.buffer),n.push(v.buffer),n.push(x.buffer),{componentOffsets:P,featureIds:U,transformedGeometry:M,obb:I.obb}}function b(e){return 0===e?0:1===e?1:2===e?2:3}function m(e){const{context:t,buffer:r}=e,n=c._malloc(r.byteLength),o=r.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(c.HEAPU8.buffer,n,o),f=new Float64Array(r);s.set(f),c.filterOBBs(t,n,o),f.set(s),c._free(n)}function d(e){c&&c.destroy(e)}function E(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}function h(){return c?Promise.resolve():(u||(u=r().then((e=>{c=e,u=null}))),u)}const p={transform:y,destroy:d};export{a as destroyContext,o as dracoDecompressPointCloudData,s as filterObbsForModifications,m as filterObbsForModificationsSync,h as initialize,b as interpretObbModificationResults,n as process,i as setLegacySchema,f as setModifications,l as setModificationsSync,p as test};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../../geometry.js\";import r from\"../../../TimeExtent.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{clone as o}from\"../../../core/lang.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../../core/accessorSupport/decorators/writer.js\";import{fromJSON as l}from\"../../../geometry/support/jsonUtils.js\";import c from\"../../../rest/support/Query.js\";var d;const m=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let h=d=class extends s{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.hiddenIds=new Set,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null,this.enabled=!1}writeWhere(e,t){t.where=e||\"1=1\"}enable(){this._set(\"enabled\",!0)}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:a,distance:p}=this;return new c({geometry:o(r),objectIds:o(n),spatialRelationship:i,timeExtent:o(s),where:t,units:a,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,hiddenIds:i,timeExtent:s,objectIds:n,units:a,distance:p}=this,l=new Set;return i.forEach((e=>l.add(e))),new d({geometry:o(t),hiddenIds:l,objectIds:o(n),spatialRelationship:r,timeExtent:o(s),where:e,units:a,distance:p})}};e([n({type:String})],h.prototype,\"where\",void 0),e([p(\"where\")],h.prototype,\"writeWhere\",null),e([n({types:t,json:{read:l,write:!0}})],h.prototype,\"geometry\",void 0),e([n({type:String,json:{read:{source:\"spatialRel\",reader:m.read},write:{target:\"spatialRel\",writer:m.write}}})],h.prototype,\"spatialRelationship\",void 0),e([n({json:{write:(e,t,r)=>t[r]=Array.from(e),read:e=>new Set(e)}})],h.prototype,\"hiddenIds\",void 0),e([n({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],h.prototype,\"distance\",void 0),e([n({type:[Number],json:{write:!0}})],h.prototype,\"objectIds\",void 0),e([n({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],h.prototype,\"units\",void 0),e([n({type:r,json:{write:!0}})],h.prototype,\"timeExtent\",void 0),e([n({readOnly:!0})],h.prototype,\"enabled\",void 0),h=d=e([a(\"esri.views.layers.support.FeatureFilter\")],h);var y=h;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{t as e,b as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as n}from\"../../../../geometry/projection.js\";import{create as a,set as m,expandWithBuffer as s,NEGATIVE_INFINITY as c,ZERO as f}from\"../../../../geometry/support/aaBoundingBox.js\";function i(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=4&c?m[2]:m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[3*c]=b[0],a[3*c+1]=b[1],a[3*c+2]=b[2];return a}function u(e,o,r){const a=new Float64Array(24);return u=>{let l=u.meta.featureExtents;if(t(l)){l=new Float64Array(6*u.meta.featureIds.length),u.meta.featureExtents=l;for(let t=0;t<l.length;t+=6)l[t]=Number.POSITIVE_INFINITY}const p=new Float64Array(l.buffer,6*u.index*Float64Array.BYTES_PER_ELEMENT,6);return p[0]===Number.POSITIVE_INFINITY&&(i(u.index,r,u.meta.objectHandle,a),n(a,o,0,a,e,0,8)?(m(p,c),s(p,a,0,8)):m(p,f)),p}}function l(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);a[0]=0,a[1]=0,a[2]=0;for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[0]+=b[0],a[1]+=b[1],a[2]+=b[2];return a[0]/=8,a[1]/=8,a[2]/=8,a}const p=a(),b=r();export{i as boundingBoxCornerPoints,l as boundingBoxTop,u as createGetFeatureExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{applySome as e,isSome as t}from\"../../../../../core/maybe.js\";class r{constructor(t,r){this._textureRep=t,this._textureId=r,this._textureRef=e(this._textureId,(e=>this._textureRep.acquire(e)))}dispose(){this._textureRef=e(this._textureId,(e=>{this._textureRep.release(e)}))}bind(e,r,i){if(t(this._textureRef)){const t=this._textureRef.glTexture;e.bindTexture(t,r),e.setUniform2f(i,t.descriptor.width,t.descriptor.height)}}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as t}from\"../../../../core/maybe.js\";import{RenderTexture as s}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as n}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as l}from\"../../webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{getEllipsoidMode as i}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";function u(e,a){const r=new Map,s=(e,a)=>{if(t(e))return-1;if(r.has(e.id)){const o=r.get(e.id);return o.usage|=a,o.id}const o=r.size;return r.set(e.id,{id:o,usage:a}),o},l=a.pbrMetallicRoughness,i=l&&l.baseColorFactor,c=a.emissiveFactor,u=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=u?n[0]:l?l.metallicFactor:1,p=u?n[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?33:1,f={baseColorFactor:i?[i[0],i[1],i[2],i[3]]:[1,1,1,1],baseColorTextureId:s(l&&l.baseColorTexture,h),metallicRoughnessTextureId:s(l&&l.metallicRoughnessTexture,2),metallicFactor:g,roughnessFactor:p},x={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?0:\"back\"===a.cullFace?2:\"front\"===a.cullFace?1:void 0,normalTextureId:s(a.normalTexture,4),emissiveTextureId:s(a.emissiveTexture,16),occlusionTextureId:s(a.occlusionTexture,8),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:f,wrapTextures:!1,hasParametersFromSource:u},b=[];return r.forEach((({usage:a},r)=>{const t=o(e)&&e[r]&&e[r].formats,s=t?m(t.map((({name:e,format:a})=>({name:e,encoding:d[a]})))):[];b.push({id:r,usage:a,encodings:s})})),{material:x,textures:b}}function m(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const d={ktx2:1,basis:2,dds:4,png:8,jpg:16,\"ktx-etc2\":32},g={[c.KTX2_ENCODING]:2,[c.BASIS_ENCODING]:2,[c.DDS_ENCODING]:4,\"image/png\":8,\"image/jpg\":16,\"image/jpeg\":16,\"image/ktx\":32};function p(e){const r=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,o=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,t=r&&e.materialDefinitions[r],s=o&&e.textureDefinitions[o],n=h();if(null!=t){const e=t.params;e.diffuse&&(n.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(n.doubleSided=e.doubleSided,n.cullFace=e.doubleSided?0:2),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(n.cullFace=\"none\"===e.cullFace?0:\"back\"===e.cullFace?2:1),e.transparency&&(n.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||n.metallicRoughness.baseColorFactor[3]<1)&&(n.alphaMode=\"blend\")}const l=[];if(null!=s){const e=0;!s.wrap||\"repeat\"!==s.wrap[0]&&\"repeat\"!==s.wrap[1]||(n.wrapTextures=!0);let a=1;\"rgba\"===s.channels&&(n.alphaMode=\"blend\",a|=32);const r=s.images.length-1,o=s.images[r],t=e=>e&&e.split(\"/\").pop(),i=Array.isArray(s.encoding)?m(s.encoding.map(((e,a)=>({name:t(o.href[a]),encoding:g[e]||0})))):[{name:t(o.href),encoding:g[s.encoding]||0}];l.push({id:e,usage:a,encodings:i}),n.metallicRoughness.baseColorTextureId=e}return{material:n,textures:l}}const h=()=>({alphaMode:\"opaque\",alphaCutoff:l,doubleSided:!0,cullFace:0,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function f(e,a,o,s){if(t(e)||null==e.data)return null;const n=e.data,l=!(n instanceof HTMLImageElement)||r(n.width)&&r(n.height),i=s.renderingContext.parameters.maxMaxAnisotropy,u=o&&!s.capabilities.shaderTextureLOD?1:i,m=l&&!e.downsampled&&u>1,d=o||!a.wrapTextures?x:b,g=I(e.encoding),p=1&e.usage?\"opaque\"===a.alphaMode?3:4:3;return new c(n,{mipmap:m,maxAnisotropy:u,encoding:g,wrap:d,components:p,noUnpackFlip:!0})}const x={s:33071,t:33071},b={s:10497,t:10497};function F(e,r,o,t,n,c){const u=c.rendererTextureUsage,m=e=>w(t,o,e&u),d=r.metallicRoughness.baseColorFactor,g=a(r.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[d[0],d[1],d[2],g],e.hasParametersFromSource=!!r.hasParametersFromSource,e.usePBR=c.usePBR,e.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],e.emissiveFactor=r.emissiveFactor,e.isIntegratedMesh=c.isIntegratedMesh,e.alphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:l,e.alphaDiscardMode=\"opaque\"===r.alphaMode?1:\"mask\"===r.alphaMode?2:3;const p=m(33);p&&(e.baseColorTexture=new s(n,p));const h=m(2);h&&(e.metallicRoughnessTexture=new s(n,h));const f=m(16);f&&(e.emissionTexture=new s(n,f));const x=m(8);x&&(e.occlusionTexture=new s(n,x));const b=m(4);b&&(e.normalTexture=new s(n,b)),e.commonMaterialParameters.slicePlaneEnabled=c.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=r.doubleSided,e.commonMaterialParameters.cullFace=r.cullFace,e.ellipsoidMode=i(c.viewSpatialReference)}function T(a){const r=!!a.compressedTextureS3TC,o=!!a.compressedTextureETC,t=e(\"disable-feature:i3s-basis\")?0:3;return 24|(r?4|t:0)|(o?t:0)}function C(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,r){if(t(e)||0===r)return null;for(let t=0;t<e.length;t++){const s=e[t];if(o(s)&&0!=(s.usage&r))return a[t].id}return null}function I(e){switch(e){case 1:return c.KTX2_ENCODING;case 2:return c.BASIS_ENCODING;case 4:return c.DDS_ENCODING;case 8:return\"image/png\";case 16:return\"image/jpeg\";case 32:return\"image/ktx\";default:return\"\"}}export{F as configureMaterial,f as createTexture,u as getMaterialAndTextures,p as getMaterialAndTexturesFromShared,T as getSupportedEncodings,C as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=w(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=P(s),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(d)&&!i(d)?g?j(this,u,s,d,a,l,f,e):I(d,a,l,f):f&&f.portalItem&&(r(d)||t(h(d))||n(d)||g)?U(this,u,s,d,a,l,f,e):a[l]=d}}}}function U(t,r,o,i,u,a,c,l){const m=p(),y=S(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===u(a.path)?(O(t,r,a,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,p)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n"],"sourceRoot":""}