{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/SceneModification.js","../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js","../node_modules/@arcgis/core/views/3d/layers/i3s/attributeEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js","../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerView3D.js","../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js","../node_modules/@arcgis/core/views/layers/support/FeatureFilter.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js"],"names":["l","y","e","geometry","type","r","o","s","layer","spatialReference","equals","this","c","messages","push","t","modification","context","p","n","m","toJSON","a","prototype","i","nonNullable","f","arguments","_map","Map","size","toArray","clear","emit","added","removed","get","length","Set","objectId","add","refCount","set","filter","has","delete","values","forEach","referenceCount","callbacks","runIndex","handle","registerTask","I3S_CONTROLLER","remove","needsUpdate","sort","numIndexLoading","numNodesLoading","done","priority","update","unshift","destroy","id","mbs","renderMbs","imModificationImpact","h","index","childCount","level","resources","version","lodMetric","maxError","numFeatures","failed","hasModifications","cacheState","vertexCount","memory","nodeHasLOD","isChosen","lodLevel","childOffset","visibilityCache","ref","node","useAsHole","filterImpact","g","d","u","streamDataController","viewportQueries","logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","nodesPerPage","rootIndex","lodConversion","urlPrefix","_loading","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","Number","NEGATIVE_INFINITY","_maxProcessingPrio","POSITIVE_INFINITY","_nodeTraversalState","_version","b","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","layerHasModifications","_layerHasFilter","logLayer","serviceUpdateTimeStamp","lastUpdate","_maxLodLevel","maxLodLevel","init","pageSize","M","addPage","N","rootPage","nodes","children","parents","makeRefNode","rootNode","_validateNode","addNode","request","then","catch","error","map","obb","center","halfSize","mesh","attribute","_","material","hasSharedResource","hasFeatureData","attributes","resource","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","v","updateParentsAndLevel","Array","getPage","x","pop","getNode","getChildIndex","Math","max","populateChildren","getParent","I","metricType","w","lodSelection","getNodeInternal","serviceObbInRenderSR","forAllNodes","getIndexById","getParentIndex","invalidateNodeVisibilityCacheInternal","geometryObb","traverse","isNodeVisible","P","isGeometryVisible","delta","coverage","_traverseCoverage","prune","invalidateGeometryVisibility","invalidateVisibilityCache","invalidateNodeVisibilityCache","reset","C","traverseVisible","entryPriority","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","indexOf","cancel","madeProgress","filterInPlace","_computeFeatureEstimate","data","back","updateScreenSpaceErrorBias","_updateFeatureEstimate","min","_load","_loadNode","loadPage","getLodLevel","hasLOD","requestUpdate","nodeTraversalState","isArray","sharedResource","href","warn","geometryData","attributeData","some","featureData","hasOwnProperty","featureRange","textureData","distToPOI","_traverseVisible","traverseChildren","_traverseChildren","prio","features","updateElevationInfo","sqrt","PI","layerView","_lodGlobalDirty","_index","_isNodeInScaleBounds","_removeNodes","isChosenMaxLOD","_childrenRequireLoading","requiresLODGlobalHandling","view","resourceController","memoryController","usedMemory","floor","_lodGlobalHandling","isNodeLoaded","nodeCrossfadingEnabled","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","_removeChildrenRecursive","L","isNodeReloading","defaultGeometrySchema","requiredAttributes","options","layerUrl","parsedUrl","path","geometryDefinitions","materialDefinitions","textureSetDefinitions","materialAndTextures","key","load","loadAttribute","attributeStorageInfo","value","name","loadAttributes","bufferDefinition","bufferIndex","loadGeometry","loadShared","A","textures","$","loadFeatureData","T","j","featureIds","geometries","params","featureDataPosition","U","loadTextures","S","q","D","k","loadedAttributes","attributeDataInfo","geometryBuffer","geometryDescriptor","requiredTextures","pointData","Promise","reject","fixTextureEncodings","addAbsoluteHrefTexture","usage","encoding","downsampled","width","height","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","all","encodings","textureEncodings","loadTexture","textureDefinitions","Object","keys","images","hrefConcat","substring","position","vertexRegions","vertexAttributes","region","geometryBuffers","compressedAttributes","requester","apiKey","activeRequests","busy","abort","signal","query","token","response","abortController","abortHandle","E","indexSR","_renderCoordsHelper","extent","elevationProvider","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmp1","_tmp2","_tmp3","_tmp0","screenspaceErrorBias","progressiveLoadFactor","updateCamera","engineSR","tmpPoint","_elevationContext","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","z","_computeRenderObb","R","getRenderMbs","isMBSinExtent","getVisibilityObb","_updateMinMaxDistance","MAX_VALUE","calcCameraDistanceToCenter","abs","getDistanceGlobeMode","getDistancePlanarMode","evaluateLODmetric","getDistance","screenSpaceDiameterMbs","angleDependentLoD","calcAngleDependentLoD","calcCameraDistance","O","getLogger","Q","screenSizeFactor","featureTarget","fixedFeatureTarget","updating","updatingProgress","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","profile","store","lodType","createStreamDataRequester","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","i3slayer","_defaultGeometrySchema","fields","addResolvingPromise","indexInfo","when","destroyed","_setClippingArea","clippingArea","_pointOfInterestChanged","events","on","_setCameraDirty","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","watch","state","_elevationInfoChanged","_scaleBoundsChanged","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","V","crsIndex","renderCoordsHelper","contentCamera","fixedContentCamera","isGraphics3D","_clippingArea","elevationInfo","_getProgressiveLoadFactor","lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","modifications","imModificationsChanged","_startNodeLoading","_tmpPoint","updateNodeModificationStatus","forAll","_nodeLoader","H","hide","availableFields","objectIdField","field","_getRequiredAttributes","renderSpatialReference","setPointOfInterest","K","distancePenalty","distCameraToPOI","updateExtent","notifyChange","setLodGlobalDirty","_evaluateUpdating","invalidateBoundingVolumeCache","areScaleBoundsActive","basemapTerrain","_scaleUpdateHandler","_updateScaleInBoundingRect","scale","F","minScale","maxScale","suspended","getUnloadedMemoryEstimate","lodDropFactor","maxLevel","visible","_processLogError","getPriority","_process","_removeInvisibleNodes","isIntegratedMesh","enabled","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","process","_prefetchIndex","getIndexLoading","lodGlobalHandling","dirty","pushArray","updates","featureEstimate","isLoading","_get","_set","prefetch","baseLOD","getIndexMissing","checkFeatureTarget","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","dataStreamController","pointsOfInterest","focus","renderLocation","memoryFactor","lodFactor","minQuality","invalidateVisibilityObbs","shouldLoadNode","_shouldDropNode","supportedTextureEncodings","rendererTextureUsage","isMeshPyramid","startNodeLoading","isNodeLoading","cancelAll","_cancelAllNodes","getLoadedNodeIndices","nodeFadeoutEnabled","getLoadedAttributes","resolve","getAttributeData","schedule","updateAttributes","_loadAndAddNode","_loadUncached","_loadCached","useNodeAsHole","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","loadCachedNodeData","addCachedNodeData","reschedule","loadNodeData","resetFailedNodes","getScale","_getScale","detail","target","updateStats","disableUpdates","layerFilterChanged","readOnly","constructOnly","dependsOn","every","toLowerCase","factorIM","factor3dObject","J","clone","capabilities","supportsMaxRecordCountFactor","maxRecordCountFactor","supportsPagination","start","num","source","queryFeaturesJSON","concat","exceededTransferLimit","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","getMemCache","uid","pendingFetchChangedObjectIds","fetchChangedObjectIds","rollback","commit","updateValue","getOverridesFromCache","objectIds","fieldNames","queryOverridesFromAssociatedLayer","processOverridesFromAssociatedLayer","cacheValue","put","getCacheKey","memCacheValueSize","fromCache","from","fromInteractiveEditingSession","logMaximumObjectsExceededWarning","associatedLayer","createQuery","where","returnGeometry","outFields","cacheHint","reduce","ok","portalItem","loaded","portal","url","title","operations","supportsChangeTracking","getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","JSON","stringify","serverGen","timeout","edits","serverGens","minServerGen","maximumNumberOfEditOVerrides","isActive","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","definitionExpression","create","fieldsIndex","isStandardized","missingFields","join","parsedDefinitionExpression","testFeature","popupEnabled","_validateFetchPopupFeatures","clientGraphics","prepareFetchPopupFeatures","whenGraphicAttributes","_limit","_all","_active","_pending","_handle","_handleChanges","find","addMany","removeManyByObjectId","removeMany","sample","addAndRemove","percentage","last","_parent","loadedGraphics","slicePlaneEnabled","_renderingInfo","symbol","_graphicsByNode","_scaleVisibility","_graphicsCore","owner","preferredUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","hasZ","hasM","layerScaleEnabled","setup","spatialIndex","queryGraphicUIDsInExtent","labeler","addGraphicsOwner","emptySymbolLabelSupported","elevationInfoOverride","mode","offset","disablePlacement","logEntityDescription","deconflictor","scaleVisibility","startCreateGraphics","updateLabelingInfo","filteredIds","collection","objectHandle","fromRenderCoords","generateUID","graphic","property","oldValue","newValue","graphicUpdateHandler","effectiveUpdatePolicy","unprocessedMemoryEstimate","graphicsCore","aliasOf","hasInitialize","isGeodetic","isGeographic","broadcast","jsonSchema","rings","Float64Array","getItemAt","ids","paused","forAllFeatures","forAllFeaturesOfNode","highlights","releaseSet","pause","resume","initializeSet","addComponentHighlight","removeComponentHighlight","clearHighlights","lodCrossfadeSignedDuration","_preRenderFrameTaskHandle","_currentFrameStartTime","_numFadingNodes","lodCrossfadeProgress","notifyLODUpdate","notifyUpdate","preRender","_updateAllNodeFading","foreachCrossfadeNode","fullOpacity","deltaTime","stopNodeFading","markNodeToRemove","setNodeOpacityByIndex","removeMarkedNodes","Date","now","lodCrossfadeinDuration","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","getNodeOpacityByIndex","_startNodeFading","getNodeCrossfadeMetaData","tmpEvent","intersector","viewingMode","fullExtent","zmin","zmax","intersectionHandler","isGround","toRenderCoords","elevationOffset","setAltitude","intersect","results","getIntersectionPoint","getAltitude","computeLayerExtent","computeObjectExtent","_expandExtent","getVisibleNodes","quaternion","EventedMixin","layerUid","sublayerUid","traverseNodeHierarchy","slicePlane","ray","direction","tolerance","verticalOffset","applyToMbs","applyToObb","metadata","nodeIndex","componentIndex","dist","normal","triangleNr","ground","isFiltered","_db","_quotaReductionPromise","_gcCounter","_hit","_miss","_destroyed","gcFrequency","maxByteSize","quotaReductionFactor","_dbName","_storeName","indexedDB","open","onupgradeneeded","result","transaction","objectStoreNames","contains","objectStore","createObjectStore","indexNames","createIndex","unique","oldVersion","close","_put","_getCacheSize","_removeLeastRecentlyAccessed","byteSize","date","openCursor","onsuccess","primaryKey","continue","openKeyCursor","oncomplete","onerror","onabort","readyState","Ge","Le","Be","cachedRendererVersion","cachedEdgeMaterials","cachedSymbology","ne","ze","_elevationProvider","_intersectionHandler","_nodeId2Meta","_nodeId2MetaReloading","_i3sWasmLoaded","_hasLoadedPBRTextures","_asyncModuleLoading","_addTasks","_rendererVersion","_colorVariable","_opacityVariable","_rendererFields","_symbologyFields","_symbologyOverride","_symbologyOverrideFields","_symbolInfos","_idbCache","Fe","_hasColors","_hasTextures","_hasData","_modifications","_layerUrl","_cacheKeySuffix","_arcade","_tmpAttributeOnlyGraphic","_crossfadeHelper","ae","fe","_currentRenderer","_usePBR","unit","ce","_stage","renderView","qualitySettings","sceneService","preLoadBasis","attributeOverrides","oe","_worker","X","promise","setLegacySchema","be","ye","_controller","gpuMemoryEstimate","texMemoryEstimate","geoMemoryEstimate","_collection","componentObjectCollection","_highlights","re","_forAllFeatures","_forAllFeaturesOfNode","_isIntegratedMesh","_hasSymbolColors","featureAttributes","faceRange","_hasVertexColors","color","cachedDrawingInfo","_edgeView","ensureEdgeView","_memCache","_deleteComponentObject","he","le","updatingHandles","_clippingAreaChanged","_opacityChange","_slicePlaneEnabledChange","_reloadAll","_filterChange","_updatePBR","clearMemCache","_suspendedChange","_labelingChanged","_modificationsChanged","handles","Re","_treeDebugger","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","_showModifications","ve","_clearAddTasks","layerChanged","unregister","sceneIntersectionHelper","removeIntersectionHandler","destroyContext","_removeAllNodeDataFromStage","_labeler","_visibleGeometryChangedSchedulerHandle","estimatedTexMemRequired","getObjectGPUMemoryUsage","unloadedMemoryEstimate","_supportsLabeling","_addMetaToLabeler","_hasModifications","Z","setModifications","Y","ee","modificationsChanged","_modificationGraphics","graphics","I3S_SHOW_MODIFICATIONS","clip","mask","replace","outline","addNodeMeta","_createAttributes","register","addIntersectionHandler","_attributeValuesChanged","apply","_getInvalidRendererVersion","setNodeMetaAttributes","_updateEngineObject","formats","format","Ue","hasTexture","Ye","hasNormals","hasRegions","uvRegion","Pe","He","_getGeometryParameters","De","_getObjectIdField","_findGraphicNodeAndIndex","de","boundingBox","screenSpaceObjects","Ie","_createGraphic","_getMemCacheKey","indexDepth","ue","_idbCacheEnabled","_getCacheKey","nodeVersion","loadMissingTextures","initialized","tt","transformedGeometry","et","it","Ze","_addData","_transformNode","_safeReschedule","_addCachedNodeData","componentOffsets","ge","Te","extents","orientation","slice","call","globalTrafo","Me","_getVertexBufferLayout","crsVertex","pe","layouts","localOrigin","needNormals","normalReferenceFrame","indexToVertexProjector","vertexToRenderProjector","invoke","hasShadowsEnabled","supportsNodeCrossFading","_setNodeOpacity","Ve","getComponentObb","_addNodeMeta","setObjectVisibility","_updateMaterial","_setNewNodeOpacity","objectCreated","_cacheGPUData","_removeNodeStageData","layout","indices","interleavedVertexData","positionData","hasColors","_materialParameters","Uint32Array","byteLength","stride","vertices","count","layoutParameters","geometryParams","positions","transformation","G","errorOnce","createObject","toMapSpace","transform","rotationScale","B","textureCoordinates","_initMaterialAndTextures","memEstimateGeometryAdded","memEstimateTextureAdded","hasParametersFromSource","alphaMode","metallicRoughness","baseColorFactor","W","isOpaque","meta","_addOrUpdateEdgeRendering","updateObjectVisibility","_setObjectSymbolColors","_applyFiltersToNode","_visibleGeometryChanged","ot","_e","updateMaterial","me","textureRepository","usePBR","viewSpatialReference","_updateMaterialOverlay","colors","normals","Ne","updateClippingArea","geometryFilterChanged","hasGeometryFilter","_applyFilters","_filters","getFilters","_boundingboxFilter","_sqlFilter","_createLayerGraphic","Ce","xe","Xe","Oe","getComponentAabb","We","_boundingboxNodeTest","getComponentCount","invisible","_transformAABB","$e","_boundingboxFeatureTest","getObjectTransform","hasObject","_getFilteredEdgeMaterials","hasEdges","perFeatureEdgeMaterials","getNodeOpacity","updateAllComponentMaterials","addEdges","removeObject","_applyFiltersToNodeComponents","applyFilterChange","setAllComponentVisibilities","_updateCachedFilteredIds","_computeFilteredComponentIndices","appliedFilters","_computeFilteredIds","_removeEdgeRendering","removeNodeMeta","objectDeleted","memEstimateGeometryRemoved","destroyObject","memEstimateTextureRemoved","polygonOffsetEnabled","je","_invalidateAllSymbols","getRequiredFields","_updateSymbologyFields","arcadeRequired","visualVariables","getSymbols","_updateCachedRendererData","externalColor","externalColorMixMode","castShadows","pickable","getSymbol","arcade","we","Uint8Array","Je","colorMixMode","edgeMaterial","Se","_getSymbolInfo","Qe","se","alpha","opacity","objectTransparency","round","_getCachedEdgeMaterials","_getSymbolColors","setComponentData","setNeedsRender","stopAllNodeFading","objectOpacity","_updateEdgeRendering","commonMaterialParameters","physicallyBasedRenderingEnabled","_forVisibleFeaturesOfNode","_forAllFeaturesOfNodeInClippingArea","forEachVisibleComponent","Ee","acquireSet","setFeatureIds","rt","objectChanged","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","toFixed","getUnloadedMemory","MemCache","hitRate","IDBCache","getHitRate","controller","visibleObjectIds","numNodes","getMaterial","_setNodeEdgeOpacity","updateAllComponentOpacities","Ke","st","buffer","te","ie","Ae","Boolean","baseColorTextureId","metallicRoughnessTextureId","normalTextureId","emissiveTextureId","occlusionTextureId","_projectionEngineLoaded","loadAsyncModule","_geometryEngine","applyFilters","layerFieldsIndex","sortedObjectIds","addSqlFilter","parsedWhereClause","parsedGeometry","spatialRelationship","warnOnce","startIndex","endIndex","intersects","disjoint","object","maskSR","renderSR","aabbCache","triangle","triangleTest","geometryTest","getComponentPositions","_geVersion","distance","units","isWGS84","geodesicBuffer","WGS84","wkid","timeExtent","aabr","splice","isWebMercator","_dataQueryEngineInstance","outSpatialReference","ensureDataQueryEngine","dataQueryEngine","executeQueryForCount","_ensureQueryJSON","executeQueryForExtent","fromJSON","executeQueryForIds","returnCentroid","executeQuery","defaultQueryJSON","geometryType","timeInfo","featureStore","getFeatureExtent","sourceSpatialReference","setAttribute","sessions","createInteractiveEditSession","findIndex","forEachNode","setAttributeData","updateFeatures","updatedFeatures","normalizeFieldName","featureIndex","featureId","requiredFields","String","Error","asyncUpdateState","updateAsync","startAsyncUpdate","declaredClass","endAsyncUpdate","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","autoUpdateAsync","renderer","collectRequiredFields","labelsVisible","_interactiveEditingSessions","_queryEngine","viewFilter","checkSupport","_loadAsyncModule","fieldsHelper","_rangeInfosChanged","addPromise","_rendererChange","_geometryFilterChange","_handleEdits","_ensureQueryEngine","_ensureQuery","sourceLayer","_createQueryEngine","FEATURE_QUERY_ENGINE","featureAdapter","queryObjectIds","attributeEditingContext","rootNodeVisible","floorFilterClause","addFilters","_addDefinitionExpressionToQuery","_forAllNodes","isMBSGeoemtryVisible","transferList","_malloc","HEAPU8","dracoDecompressPointCloudData","_free","BYTES_PER_ELEMENT","byteOffset","isDraco","isLegacy","uv0","discarded","interleavedVertedData","indicesType","Uint16Array","positionIndicesType","positionIndices","filterOBBs","default","locateFile","onRuntimeInitialized","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","hiddenIds","types","json","read","write","reader","writer","overridePolicy","popupTemplate","lastEditInfoEnabled","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","featureExtents","_textureRep","_textureId","_textureRef","acquire","release","glTexture","bindTexture","setUniform2f","descriptor","pbrMetallicRoughness","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","baseColorTexture","alphaCutoff","doubleSided","cullFace","wrapTextures","ktx2","basis","dds","png","jpg","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","diffuse","transparency","useVertexColorAlpha","wrap","channels","split","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","shaderTextureLOD","mipmap","maxAnisotropy","components","noUnpackFlip","baseColor","mrrFactors","alphaDiscardMode","emissionTexture","ellipsoidMode","compressedTextureS3TC","compressedTextureETC","Blob","jpeg","bmp","gif","txt","xml","svg","zip","pbf","gz","origins","verifyItemRelativeUrls","writtenUrls","rootPath","origin","originIdOf","resourceFromPath","toUpdate","toKeep","pendingOperations","itemRelativeUrl","toAdd","content","finish","responseType"],"mappings":"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","file":"static/js/63.de369acd.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import t from\"../../core/Warning.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import{canProjectWithoutEngine as c,projectPolygon as m}from\"../../geometry/projection.js\";import n from\"../../geometry/Polygon.js\";var l;let y=l=class extends r{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!c(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new n;m(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new l({geometry:o(this.geometry),type:this.type})}};e([s({type:n}),a()],y.prototype,\"geometry\",void 0),e([i([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([s({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),a()],y.prototype,\"type\",void 0),y=l=e([p(\"esri.layers.support.SceneModification\")],y);var f=y;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this.sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this.sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this.sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{b as s}from\"../../../../chunks/vec4f64.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=s([0,0,0,-1]),this.imModificationImpact=4}}class i extends t{constructor(s,t,i,e,h,o,r,c,n,a){super(s,i),this.index=t,this.childCount=e,this.level=h,this.resources=o,this.version=r,this.lodMetric=c,this.maxError=n,this.numFeatures=a,this.failed=!1,this.hasModifications=!1,this.cacheState=0,this.vertexCount=0,this.memory=0}}class e{constructor(s,t,i,e){this.nodeHasLOD=s,this.isChosen=t,this.lodLevel=i,this.version=e}}export{i as Node,t as NodeBase,e as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{l as n}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{NodeBase as a,Node as d,NodeTraversalState as l}from\"./I3SNode.js\";import{addWraparound as h}from\"./I3SUtil.js\";import{clone as u}from\"../../support/orientedBoundingBox.js\";class c{constructor(e,t,i,s,r){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=r,this.useAsHole=0,this.filterImpact=2}}class g{constructor(e,t,i,r,n,o,a,d,l,h,u,c,g,m){this.streamDataController=i,this.viewportQueries=r,this.logger=n,this.holeFilling=o,this._isLoaded=a,this._isReloading=d,this._isSelected=l,this._enable=h,this._needsUpdate=u,this._canRequest=c,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=0,this.lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=b(0),this._visibilityCacheVersion=b(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new f,this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this.init(t)}init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=1;break;case\"maxScreenThresholdSQ\":this.lodMetric=1,this.lodConversion=M}this.addPage(N(this.rootIndex,this.nodesPerPage),e.rootPage)}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this.makeRefNode(new a(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this.addNode(t,0)}}loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._loading.delete(e),this.addPage(e,t)})).catch((t=>{this._loading.delete(e),r(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}addPage(e,t){for(let n=this._nodePages.length;n<e;n++)this._nodePages[n]=null;const i=[],s=[],r=t.nodes.map(((t,r)=>{const a=i.length,l=t.children?t.children.length:0;s.push(-1);for(let e=0;e<l;e++)i.push(t.children[e]);const h=`${t.index}`,g=u(t.obb),m=o([g.center[0],g.center[1],g.center[2],n(g.halfSize)]),f=t.mesh&&t.mesh.attribute,_=t.mesh&&t.mesh.geometry,b=t.mesh&&t.mesh.material,p={hasSharedResource:!1,hasFeatureData:!!_,attributes:f&&null!=f.resource?`${f.resource}`:null,geometry:_&&null!=_.resource?`${_.resource}`:null,texture:b&&null!=b.resource?`${b.resource}`:null,geometryDefinition:_?_.definition:-1,materialDefinition:b?b.definition:-1},y=new d(h,e*this.nodesPerPage+r,m,l,0,p,this.lastUpdate,this.lodMetric,this.lodConversion(t.lodThreshold),_?_.featureCount:null);return y.serviceObb=g,y.visibilityObb=this._computeVisibilityObb(y),y.vertexCount=_?_.vertexCount:0,new c(a,l,v(this._visibilityCacheVersion),null,y)}));this._nodePages[e]={nodes:r,children:i,parents:s},this.nodeCount+=r.length,this.updateParentsAndLevel()}updateParentsAndLevel(){const t=new Array,i=(i,s,r)=>{const n=this.getPage(i);if(e(n)){const o=x(i,this.nodesPerPage);n.parents[o]=s;const a=n.nodes[o].node;e(a)&&(a.level=r,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),r=this.getNode(s);if(e(r))for(let e=0;e<r.childCount;e++){i(this.getChildIndex(r,e),s,r.level+1),this._maxLevel=Math.max(this._maxLevel,r.level+1)}}}getPage(e){return this._nodePages[N(e,this.nodesPerPage)]}getNodeInternal(e){const i=this.getPage(e);return t(i)?null:i.nodes[x(e,this.nodesPerPage)]}addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const r=this.getParent(s),n=e(r)?r.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?n+1:n);const{lodMetric:a,maxError:l}=w(t.lodSelection),h=i(this.getNodeInternal(s));return h.node=new d(t.id,s,o(t.mbs),h.childCount,n,t.resources,t.version,a,l,t.numFeatures),t.obb&&(h.node.serviceObb=u(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}makeRefNode(t,i){const s=this._nodePages[0],r=s.nodes.length;return s.nodes.push(new c(0,0,v(this._visibilityCacheVersion),t,null)),this.nodeCount++,s.parents.push(i),t.renderMbs[3]=-1,e(t.serviceObbInRenderSR)&&(t.serviceObbInRenderSR.halfSize[0]=-1),r}populateChildren(e,t){const s=i(this.getNodeInternal(e)),r=i(this.getPage(e));s.childOffset=r.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this.makeRefNode(t[i],e);r.children.push(s)}}getNode(t){const i=this.getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this.forAllNodes(((s,r)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=r)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this.getPage(e.index);if(t(s))return-1;const r=s.nodes[x(e.index,this.nodesPerPage)];return s.children[r.childOffset+i]}getParentIndex(t){const i=this.getPage(t);return e(i)?i.parents[x(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this.getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}invalidateVisibilityCache(){this._visibilityCacheVersion=b(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this.getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=v(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this.getNodeInternal(t);e(i)&&(_(i),this.invalidateNodeVisibilityCacheInternal(i))}invalidateGeometryVisibility(t){const i=this.getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,i.node.renderMbs[3]=-1,e(i.node.serviceObbInRenderSR)&&(i.node.serviceObbInRenderSR.halfSize[0]=-1))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}isNodeVisible(i){const s=this.getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(!y(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,r=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&2===s.filterImpact){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):0}const n=e(i)&&1===s.filterImpact,o=!(e(i)&&2===i.imModificationImpact)&&(!r||this.viewportQueries.isNodeVisible(r))&&!n;return s.visibilityCache=p(o,this._visibilityCacheVersion),o}return P(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this.getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||4!==i.node.imModificationImpact))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,r,n,o,a){const d=this.getPage(s);if(t(d)||0===r.childCount)return;const l=r.childOffset+r.childCount,h=new Array;for(let t=r.childOffset;t<l;++t){const i=d.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,n),a.coverage+=o):this._traverseCoverage(t,e,n+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this.getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(y(i.useAsHole,this._version))return P(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const r=s.delta*s.coverage<=.5;return i.useAsHole=p(r,this._version),r}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=b(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this.forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=4,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this.forAllNodes((t=>{if(e(t)){t.filterImpact=2;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,r,n){if(!this._dirty)return;this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s,this._missing),m.clear();let o=!0;const a=new C,d=new C,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,c,g)=>{if(t(c)){let e=this.entryPriority(u);e===1/0&&(e=this.entryPriority(g));const t=N(u,this.nodesPerPage);return m.set(t,Math.max(e,m.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=c.node;if(this._updateNodeFeatureEstimate(f,d),t(f)){const e=this.entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),m.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=i(this.getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<c.childCount;t++){const i=_.children[c.childOffset+t],s=this.getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(m.set(i,this.entryPriority(i)),this._prefetch.push(i))}if(f.failed||!f.resources.hasFeatureData)return;if(h.add(f.id),this._isLoaded(u)){if(a.known+=f.memory,++a.knownNodes,this._isSelected(f)?c.childCount>0&&(o=!1):(a.unremoved+=f.memory,o=!1),this._needsUpdate(f)){const e=this.entryPriority(u);m.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(f.memory&&(a.known+=f.memory,++a.knownNodes),!this._isSelected(f))return void(this._isReloading(u)&&this._updates.remove.push(u));if(c.childCount>0&&(o=!1),f.memory?(a.missing+=f.memory,a.known+=f.memory,++a.knownNodes):++a.missingNodes,s.indexOf(f.index)>=0)return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this.entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==f.index)));if(!r.done&&this._enable(f))return void r.madeProgress();const v=this.entryPriority(u);m.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&n&&e(f)&&4===f.imModificationImpact&&l.push(u)};this.traverseVisible(u);const c=this._updates.add;c.length>0&&this.layerHasModifications&&(l.length>0&&n(l),c.filterInPlace((e=>{const i=this.getNodeInternal(e),s=t(i)||t(i.node)||2!==i.node.imModificationImpact;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>m.get(e)-m.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=m.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>m.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>m.get(e)-m.get(t))),this._updates.update.sort(((e,t)=>m.get(e)-m.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,m.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,r=t,n=i,o=10;for(;o--;){const i=new C;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;n=s,s=.5*(s+r)}else r=s,s=.5*(s+n)}return this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>m.get(e)-m.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this.loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&y(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),r=this.viewportQueries.hasLOD(e);let n=!0;if(r){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);n=e&&s>e.lodLevel}else n=s>0}else n=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=n,i.version=p(!0,this._version),i):(i=new l(r,n,s,p(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this.getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const n=s.id,o=this.urlPrefix+n,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(n,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this.addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),r(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,r=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,r=new a(`${t.id}`,t.mbs);return r.serviceObb=s,r.visibilityObb=this._computeVisibilityObb(r),r},n=Array.isArray(t.children)?t.children.map(r).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:n,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this.forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}entryPriority(i){const s=this.getNodeInternal(i),r=this.getParentIndex(i);if(t(s)||r<0&&null==s.node)return r<0?1/0:this.entryPriority(r);let n=0;if(s.node&&r>=0){const e=this._nodeTraversalState.get(r);null!=e&&(n=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-n*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this.getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,r,n){if(r.node&&0===r.childCount)return void(this.isGeometryVisible(t)&&n(t,r,s));if(!this.isNodeVisible(t))return;if(n(t,r,s),null==r.node)return;const o=this.nodeTraversalState(r.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this.getPage(t));for(let i=0;i<r.childCount;i++){const s=a.children[r.childOffset+i],o=this.getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,n):n(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,r=this.getNodeInternal(s);e(r)&&this._traverseChildren(s,r,i)}_traverseChildren(i,s,r){const n=this.getPage(i);if(t(n))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=n.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&r(s.node)&&this._traverseChildren(i,s,r)}}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(e){this.forAllNodes(_),this.viewportQueries.updateElevationInfo(e)}forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this.addNode(e,t)}}}const m=new Map;class f{constructor(){this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e,t){this.add.clear(),this.update.clear(),this.cancel=e,this.missing=t}}function _(t){e(t.node)&&(t.node.renderMbs[3]=-1,e(t.node.serviceObbInRenderSR)&&(t.node.serviceObbInRenderSR.halfSize[0]=-1)),e(t.ref)&&(t.ref.renderMbs[3]=-1,e(t.ref.serviceObbInRenderSR)&&(t.ref.serviceObbInRenderSR.halfSize[0]=-1))}function v(e){return h(e,-2)}function b(e){return h(e,2)}function p(e,t){return t+(e?1:0)}function y(e,t){return(-2&e)===t}function P(e){return 1==(1&e)}function N(e,t){return 0===t?0:e/t|0}function x(e,t){return 0===t?e:e%t}const I=[[\"maxScreenThreshold\",1],[\"screenSpaceRelative\",2],[\"removedFeatureDiameter\",3],[\"distanceRangeFromDefaultCamera\",4]];function w(e){if(e)for(let t=0;t<e.length;t++)for(const i of I)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:0,maxError:0}}class C{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function M(e){return Math.sqrt(e*(4/Math.PI))}export{g as I3SIndex,w as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";class o{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,s,o){this._maxLodLevel=o.maxLodLevel,this._index=s,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const s=this._index.nodeTraversalState(i);return!!this.isChosenMaxLOD(s)||!!s.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,s=Math.max(0,Math.floor(10*(i-1)));t.clear(),this._lodGlobalHandling(this._index.rootNode,s,!1);const o=t.length;this._removeNodes(t,e);const d=t.length<o;return 0!==t.length&&(this._lodGlobalDirty=!0),t.clear(),d}_lodGlobalHandling(s,o,d){if(e(s))return!1;const l=s.index,n=this._index,r=this.layerView,a=n.nodeTraversalState(s),h=this.isChosenMaxLOD(a),u=r.isNodeLoaded(l),c=r.nodeCrossfadingEnabled;if(c&&u&&h){const e=!d&&this.hasNoVisibleChildren(s);r.fadeNode(l,0,!e)}const x=u&&(!r.isNodeFullyFadedIn||r.isNodeFullyFadedIn(l));if(u&&(r.updateNodeState(l,h?1:0),h))return x&&this._removeChildrenRecursive(s),x;const _=s.childCount>0;let L=_;if(_)for(let e=0;e<s.childCount;e++){const t=n.getChildIndex(s,e),l=n.getNode(t);if(i(l)){!(!n.isGeometryVisible(t)||this._lodGlobalHandling(l,o,d||x))&&this._isNodeInScaleBounds(l)&&(L=!1)}else n.isNodeVisible(t)&&(L=!1)}const N=u&&!h&&(L||t.length<o);N&&t.push(l),!c||N||!u||d||L||r.fadeNode(l,0,!1);const b=!s.resources.hasFeatureData;return L||x&&!N||b}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&t.push(e.index),!0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(!this.layerView.isNodeLoaded(e.index)||(i=!1,!1)))),i}_childrenRequireLoading(e){let i=!1,s=!0;return this._index.traverseChildren(e,(e=>{if(!s||!this._index.isNodeVisible(e.index))return!1;const o=this._index.nodeTraversalState(e);return this.isChosenMaxLOD(o)&&this._index.isGeometryVisible(e.index)&&(i=!0),!this.layerView.isNodeLoaded(e.index)||(s=!1,!1)})),s&&i}isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const t=new s({deallocator:null});export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}load(e,t,r){return this.streamDataController.request(e,t,r)}loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this.load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this.loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=p(this.geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this.loadGeometry(r.resources.geometry,u,i)):null,m=r.resources.hasSharedResource?await this.loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,x=h&&h.material,A=h&&h.textures,$=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this.loadFeatureData($,i):null,j=w?y(T):g(x),I=o(j)&&b(T),U=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let S=null,q=null;if(d){S=t(await d);const e=D(this.defaultGeometrySchema,m);q=f(a,e)}const v=U?t(await U):null,P=s?t(await s):{},k=P?{attributeData:P,loadedAttributes:this.requiredAttributes}:null;return n(j)?{geometryData:j,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:n(I)?{pointData:I,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:Promise.reject()}static addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this.load(r,\"json\",t).then((e=>(h.fixTextureEncodings(e),h.addAbsoluteHrefTexture(e,r),e)))}loadTexture(e,t,r,i,o,n){let s=!1;return 4===o||1===o||2===o?this.load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this.load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this.loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this.load(r,\"json\",t)}loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this.load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function y(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function D(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function p(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{createAbortController as e,onAbortOrThrow as t,always as r}from\"../../../../core/promiseUtils.js\";class s{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(s,l,a){const o=e(),n=t(a,(()=>o.abort())),u={signal:o.signal,query:{token:this.apiKey}},i=this.requester.request(s,l,u),c={response:i,abortController:o,abortHandle:n};return this.activeRequests.add(c),r(i,(()=>{var e;c.abortController=null,null==(e=c.abortHandle)||e.remove(),c.abortHandle=null,this.activeRequests.delete(c)})),i}cancelAll(){this.activeRequests.forEach((e=>{var t,r;null==(t=e.abortController)||t.abort(),e.abortController=null,null==(r=e.abortHandle)||r.remove()})),this.activeRequests.clear()}}export{s as I3SStreamDataController,s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{h as s,i,l as r,a as n,d as a,p as o,f as h,b as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as _,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as M}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as v,extractExpressionInfo as D}from\"../graphics/featureExpressionInfoUtils.js\";import{transformObb as C,intersectBoundingBoxWithMbs as P}from\"./I3SUtil.js\";import{create as R,isVisible as S}from\"../../support/orientedBoundingBox.js\";const E=1e5;class L{constructor(t,e,s,i,r,n,a,o={}){this.indexSR=t,this._renderCoordsHelper=e,this.extent=r,this.elevationProvider=n,this.options=o,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this.screenspaceErrorBias=o.screenspaceErrorBias||1,this.progressiveLoadFactor=o.progressiveLoadFactor||1,this.updateCamera(s,i),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this.tmpPoint=f(0,0,0,t)}updateElevationInfo(t){null!=t?(this._elevationContext=M.fromElevationInfo(t),this._elevationContext.updateFeatureExpressionInfoContext(v(D(t,!1)))):this._elevationContext=null}updateCamera(t,e){this._useFrustumCulling=e,e&&_(t.viewMatrix,t.projectionMatrix,this._frustum),this._screenSizeFactor=1/(t.perScreenPixelRatio/2),this._camPos=t.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(t){this._poi=t}updateScreenSpaceErrorBias(t){const e=this.screenspaceErrorBias;return this.screenspaceErrorBias=t,e}updateExtent(t){this.extent=t}getRenderMbs(t){const e=t.renderMbs;return e[3]<0&&(u(e,t.mbs),this._elevationContext&&e[3]<E&&(this.tmpPoint.x=e[0],this.tmpPoint.y=e[1],this.tmpPoint.z=e[2],e[2]=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)),p(e,this.indexSR,e,this.engineSR)),e}getVisibilityObb(s){if(t(s.visibilityObb))return s.visibilityObb;const i=s.serviceObb;return e(i)||i.halfSize[0]<0?void 0:(s.serviceObbInRenderSR=this._computeRenderObb(i,s.serviceObbInRenderSR,s.mbs[3]),s.serviceObbInRenderSR)}_computeRenderObb(t,s,i){if(e(s)&&(s=R()),s.halfSize[0]<0){let e=0;this._elevationContext&&i<E&&(this.tmpPoint.x=t.center[0],this.tmpPoint.y=t.center[1],this.tmpPoint.z=t.center[2],e=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)-t.center[2]),C(t,this.indexSR,s,this.engineSR,e)}return s}isNodeVisible(e){const s=this.getRenderMbs(e);if(!this.isMBSinExtent(s))return!1;if(!this._useFrustumCulling)return!0;const i=this.getVisibilityObb(e);return t(i)?S(i,this._frustum):b(this._frustum,x(s))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const s=e.geometryObb;return t(s)?S(s,this._frustum):this.isNodeVisible(e)}isMBSinExtent(t){return!this.extent||0!==P(this.extent,t)}screenSpaceDiameterMbs(t,e){const i=this.getRenderMbs(t),r=Math.sqrt(s(i,this._camPos)),n=r-i[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:e/n*this._screenSizeFactor}calcCameraDistance(t){return this.calcCameraDistanceToCenter(t)-this.getRenderMbs(t)[3]}calcCameraDistanceToCenter(t){const e=this.getRenderMbs(t),s=i(e,this._camPos);return this._updateMinMaxDistance(s),s}calcAngleDependentLoD(t){const e=this.getRenderMbs(t),s=e[3],n=(Math.abs(e[0]*(e[0]-this._camPos[0])+e[1]*(e[1]-this._camPos[1])+e[2]*(e[2]-this._camPos[2]))/r(e)+s)/i(e,this._camPos);return Math.min(1,n)}hasLOD(t){return 0!==t.lodMetric}getDistancePlanarMode(t,e){const s=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],n=s*s+i*i,a=e[3];if(n<=a*a)return Math.abs(r);const o=Math.sqrt(n)-a;return Math.sqrt(r*r+o*o)}getDistanceGlobeMode(t,e){const m=r(e),u=r(t)-m;n(this._tmp0,t,a(t,e)/o(t));const p=s(e,this._tmp0),l=e[3];if(p<=l*l)return Math.abs(u);{const s=n(this._tmp0,e,1/m),o=m,p=l*l/2/o,d=n(this._tmp1,s,o-p),_=t,b=h(this._tmp2,_,d),x=h(this._tmp2,b,n(this._tmp3,s,a(s,b))),f=c(this._tmp2,d,n(this._tmp2,x,l/r(x)));let g=i(_,f);if(u>=2e5){const t=h(this._tmp1,_,f);let e=a(t,s)/r(t);e<.08&&(e=1e-4),g/=e}return g}}getDistance(t,e){return this.engineSR===l(this.engineSR)?this.getDistanceGlobeMode(t,e):this.getDistancePlanarMode(t,e)}_updateMinMaxDistance(t){t>0?(this.minDistance=Math.min(this.minDistance,t),this.maxDistance=Math.max(this.maxDistance,t)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-t))}getLodLevel(t){if(0===t.lodMetric||!t.resources.hasFeatureData)return 0;if(0===t.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this.progressiveLoadFactor<1){const e=this.progressiveLoadFactor*this.screenspaceErrorBias,s=this.screenspaceErrorBias;return this.evaluateLODmetric(t,e)?this.evaluateLODmetric(t,s)?2:1:0}return this.evaluateLODmetric(t,this.screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(t,e){switch(t.lodMetric){case 2:{const s=this.getRenderMbs(t),i=this.getDistance(this._camPos,s),r=2*i/this._screenSizeFactor,n=i+s[3];return this._updateMinMaxDistance(n),t.maxError*e<=r}case 1:{let s=this.screenSpaceDiameterMbs(t,t.mbs[3]*e);return this.options.angleDependentLoD&&(s*=this.calcAngleDependentLoD(t)),s<t.maxError}case 3:return this.screenSpaceDiameterMbs(t,t.maxError)*e<10;case 4:return this.calcCameraDistance(t)>t.maxError*e}return!1}distToPOI(t){const e=this.getRenderMbs(t);return i(e,this._poi)-e[3]}distCameraToPOI(){return i(this._camPos,this._poi)}}export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import a from\"../../../core/Logger.js\";import{isSome as r,isNone as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{createAbortController as h,isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as m,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import f from\"../../support/PromiseQueue.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as w}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import N from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import v from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as C}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as D,getIndexCrs as L,findIntersectingNodes as S}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import V from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{projectToBoundingBox as I}from\"../../../views/3d/support/extentUtils.js\";import{maxDownloadSlots as A}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as F,scaleBoundsPredicate as P}from\"../../../views/support/layerViewUtils.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";const O=a.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),M=100,q=2,G=1e4,Q=1e-4,j=1.2,T=500,B=1.5;let E=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(2);return new C(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(3);return new C(e,this.layer.apiKey)}get crsVertex(){return D(this.layer)}get crsIndex(){return L(this.layer)}get rootNodeVisible(){if(r(this._index)){const e=this._index.rootNode;if(r(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}get index(){return this._index}initialize(){this._disableMemCache=!this.layerView.loadCachedGPUData||!this.layerView.addCachedGPUData,this._lodHandling=new N(this.layerView);const e=this.layerView.i3slayer;this.layer=e,this._defaultGeometrySchema=e.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in e&&(this._fields=e.fields,this._attributeStorageInfo=e.attributeStorageInfo),this.addResolvingPromise(Promise.all([this.layer.indexInfo,this.layer.when(),this.layerView.when()]).then((([t])=>{var i;if(this.destroyed||!this.layerView||this.layerView.destroyed)return;const s=this.layerView.view;this._setClippingArea(s.clippingArea);const a=this.layerView.view.resourceController;this._handles.add([u(s,\"pointsOfInterest.focus.renderLocation\",(e=>this._pointOfInterestChanged(e))),a.memoryController.events.on(\"quality-changed\",(()=>this._setCameraDirty())),u(this.layerView,\"suspended\",(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=a.scheduler.registerIdleStateCallbacks(t,i)})),b(this.layerView.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),this.watch(\"uncompressedTextureDownsamplingEnabled\",(()=>this.restartNodeLoading())),this.watch([\"featureTarget\",\"fixedFeatureTarget\"],(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),s.state.watch(\"contentCamera\",(()=>this._setCameraDirty())),this.layer.watch(\"elevationInfo\",(()=>this._elevationInfoChanged())),this.layer.watch([\"minScale\",\"maxScale\"],(()=>this._scaleBoundsChanged())),this.layerView.watch(\"lodFactor\",(()=>this._setCameraDirty())),this.layerView.watch(\"availableFields?\",(()=>this._requiredFieldsChange())),this.layerView.watch(\"holeFilling\",(e=>r(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new V(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,s.elevationProvider,this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new w(e,t,this.indexStreamController,this._viewportQueries,O,this.layerView.holeFilling,(e=>this.layerView.isNodeLoaded(e)),(e=>this.layerView.isNodeReloading(e)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,1)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(e=>this.layerView.computeVisibilityObb?this.layerView.computeVisibilityObb(e):null),null!=(i=this.layerView)&&i.computeNodeFiltering?e=>this.layerView.computeNodeFiltering(e):void 0);const d=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(d),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;r(t)&&i&&i.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);r(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,H.prune(),r(k)&&(k.hide(),k=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=z(e,i),a=z(t,i);return s>=0&&a>=0?{index:s,name:t[a].name,field:t[a],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();R(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();I(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){r(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),r(this._index)&&(this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),r(this._viewportQueries)&&r(this._index)&&(this._viewportQueries.updateExtent(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this.notifyChange(\"rootNodeVisible\"),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(d(i))return;const s=i.rootNode;if(d(s))return;const a=this._elevationUpdateNodes;a.clear(),S(e,t,s,this.crsIndex,i,(e=>a.push(e.index))),a.forAll((e=>{i.invalidateBoundingVolumeCache(e),e===s.index&&this.notifyChange(\"rootNodeVisible\")})),a.length&&this.restartNodeLoading()}getParentIndex(e){return r(this._index)&&this._index.getParentIndex(e)}_elevationInfoChanged(){r(this._index)&&this._index.updateElevationInfo(this.layer.elevationInfo),this._setCameraDirty()}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.scale,e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t,i){const s=this._index;if(d(s))return;const a=s.rootNode;!d(a)&&p(t,i,$,this.crsIndex)&&this._loadedNodeScales.forEach(((t,i)=>{const a=s.getNode(i);r(a)&&m($,a.mbs)&&this._loadedNodeScales.set(i,e)}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=F(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return d(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return r(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||d(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?O.error(\"Error during processing: \"+i):50===this._errorCount&&O.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){if(this._restartNodeLoading&&this._startNodeLoading(),null!=this._nodeLoader&&!d(this._index)){for(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t)));!e.done&&this._idleQueue.process();)e.madeProgress();e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating()}}_processIndex(e){if(d(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update([...this._loadingNodes.keys()],e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(d(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.isGraphics3D||d(this._index)||d(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>T){if(this._featureLOD<=Q)return;this._featureLOD/=B,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=G||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,a=this._index.checkFeatureTarget(t,s);a!==s&&(this._featureLOD=a/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*j||e&&i.estimate>t))return;if(this._featureLOD<=Q)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(G,Math.max(Q,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(d(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);r(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,0)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(d(this._index))return!1;let i=(this._isIdle?M:q)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());r(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(d(a)||2!==a.cacheState&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=q)&&(this._downloadingCount<A&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(r(this._index)?this._index.getIndexMissing():0)+3*(r(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.length>0||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||d(this._index)||d(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return r(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){r(this._index)&&this._index.invalidateNodeVisibilityCache(e)}updateBoundingVolume(e){r(this._index)&&this._index.invalidateBoundingVolumeCache(e)}invalidateGeometryVisibility(e){r(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){r(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){if(r(this._index)){const e=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(e)}this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e)||!this._isNodeInScaleBounds(e))&&(!!r(this._index)&&this._index.isGeometryVisible(e.index))}_shouldDropNode(e){if(d(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||d(e)||d(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:!this.isMeshPyramid};this._nodeLoader=new v(this.layer,this.dataStreamController,O,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,1)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(d(t)||d(this._viewportQueries))return!1;H.clear(),this.layerView.getLoadedNodeIndices(H);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return H.filterInPlace((e=>{const i=t.getNode(e);return d(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),H.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(H,e,0),!(i&&this.lodDropFactor<1)&&(0===H.length||(H.clear(),!1))}markNodeToRemove(e){H.push(e)}removeMarkedNodes(){this._removeNodes(H,U,0)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(r(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),a=this._index;1===i&&this.layerView.nodeFadeoutEnabled&&r(a)&&a.isGeometryVisible(s)?this.layerView.fadeNode(s,1,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=h();this._updatingNodes.set(e.index,t);(R(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!l(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void O.error(\"already loading node \"+e.index);const t=h();this._loadingNodes.set(e.index,t);const i=()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()};this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then(i).catch((e=>{if(i(),!l(e))throw e}))}_loadAndAddNode(e,t){return 1===e.cacheState?this._loadUncached(e,t):this._loadCached(e,t).then((t=>{t||(e.cacheState=1,r(this._index)&&this._index.updates.add.push(e.index))})).catch((t=>{if(!l(t))throw e.cacheState=1,t}))}_enableFromGPUCache(e,t){if(this._disableMemCache||d(this._index))return!1;if(0===t&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return r(t)&&r(t.attributeInfo)&&R(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){r(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}_loadCached(e,t){if(this._enableFromGPUCache(e,1))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(d(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=2})).catch((t=>{if(!l(t))throw O.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,r(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&r(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=this.layerView.view.basemapTerrain.getScale(this._tmpPoint);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=F(this.layer);return P(t,i,s)}updateStats(e){e.index=r(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),r(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){r(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),r(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;r(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([_({readOnly:!0})],E.prototype,\"isMeshPyramid\",null),e([_({readOnly:!0})],E.prototype,\"isGraphics3D\",null),e([_({readOnly:!0})],E.prototype,\"indexStreamController\",null),e([_({readOnly:!0})],E.prototype,\"dataStreamController\",null),e([_({readOnly:!0})],E.prototype,\"crsVertex\",null),e([_({readOnly:!0})],E.prototype,\"crsIndex\",null),e([_()],E.prototype,\"screenSizeFactor\",void 0),e([_()],E.prototype,\"featureTarget\",void 0),e([_()],E.prototype,\"fixedFeatureTarget\",void 0),e([_()],E.prototype,\"layerView\",void 0),e([_()],E.prototype,\"layer\",void 0),e([_({})],E.prototype,\"updating\",void 0),e([_({})],E.prototype,\"updatingProgress\",void 0),e([_({readOnly:!0})],E.prototype,\"leavesReached\",void 0),e([_({constructOnly:!0})],E.prototype,\"scaleVisibilityEnabled\",void 0),e([_({readOnly:!0,dependsOn:[]})],E.prototype,\"rootNodeVisible\",null),E=e([c(\"esri.layers.graphics.controllers.I3SOnDemandController\")],E);const H=new o({deallocator:null});let k;function R(e,t){return r(e)&&e.length===t.length&&e.every((e=>z(t,e.name)>=0))}function z(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const K={factorIM:.2,factor3dObject:.05,distancePenalty:10},$=y();var J=E;export{J as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{splitIntoChunks as t,remove as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{createAbortController as m,whenOrAbort as u}from\"../../../../core/promiseUtils.js\";import{formatNumber as g}from\"../../../../intl/number.js\";import{getMaximumQuerySize as b,queryAllJSON as p}from\"../../../../layers/support/featureQueryAll.js\";const f=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class y{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=m(),this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=v,this.memCache=t.getMemCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this.fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const t=this.interactiveEditingSessions,i=new O(e,{rollback:()=>{s(t,i),0===t.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return t.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await u(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this.getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this.queryOverridesFromAssociatedLayer(o,d,s);c(h)||this.processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this.cacheValue(e,t,s)}cacheValue(e,t,s){this.memCache.put(this.getCacheKey(e,t),s,this.memCacheValueSize(s))}getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this.fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}fromCache(e,t){const s=this.fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this.getCacheKey(e,t);return this.memCache.get(i)}fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}getCacheKey(e,t){return`${e}-${t}`}async queryOverridesFromAssociatedLayer(e,s,r){if(0===e.length||0===s.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this.logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...s],n.cacheHint=!0,n.objectIds=e;const o=b(a),c=e.length>o?t(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(p(a,t,{signal:r}))})):[i(p(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${g(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,f.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this.cacheValue(e,i,a)}}}memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async fetchChangedObjectIds(t){var s,i,a;const n=this.layer;if(await n.load({signal:t}),this.changedObjectIds.clear(),c(n.associatedLayer)||null==(s=n.associatedLayer.capabilities)||null==(i=s.operations)||!i.supportsChangeTracking)return;const o=this.getFetchChangedObjectIdsServerGen();if(c(o))return null;const d=n.associatedLayer.layerId,m=await r(e(`${n.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${d}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:d,serverGen:o}])},timeout:j,signal:t})),u=m.ok&&null!=(a=m.value.data)&&a.edits?h(m.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(u)){const e=Math.min(this._maximumNumberOfEditOVerrides,u.length);e<u.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=u.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class O{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=0}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=2,this.options.rollback())}commit(){this.isActive&&(this.state=1,this.options.commit(this.updates),this.updates.clear())}get isActive(){return 0===this.state}}const j=1e4,v=5e4;export{y as I3SAttributeOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=e.getLogger(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\"),p=e=>{let p=class extends e{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&t.error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&t.error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return t.error(\"definitionExpression is using non standard function\"),null;const e=[],i=r.fieldNames;return n(i,this.i3slayer.fields,{missingFields:e}),e.length>0?(t.error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return t.error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{p as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as s}from\"../../../../core/maybe.js\";import\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as p}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)return new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:s});return a(s,e)?void 0:new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);const c=s(r)?r.clientGraphics:null;if(!c||0===c.length)return Promise.resolve([]);const u=[],n=[],l=\"scene\"===this.layer.type&&s(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,h=o(this.layer.fieldsIndex,await i(l,a(this.layer,r)));await this.prepareFetchPopupFeatures(h);const y=new Set;for(const s of c)p(h,s,y)?n.push(s):u.push(s);return 0===n.length?Promise.resolve(u):this.whenGraphicAttributes(n,[...y]).catch((()=>n)).then((e=>u.concat(e)))}};return u=e([t(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{GraphicsMap as s}from\"./GraphicsMap.js\";class i extends e{constructor(e){super(),this._limit=e,this._all=new s,this._active=new a(this),this._pending=new Map,this._handle=this._all.on(\"change\",(e=>this._handleChanges(e)))}destroy(){this._handle.remove()}get length(){return this._active.length}toArray(){return this._active.toArray()}find(e){return this._active.find(e)}forEach(e){this._active.forEach(e)}addMany(e){this._all.addMany(e)}removeManyByObjectId(e){this._all.removeManyByObjectId(e)}_handleChanges(e){let t=e.removed;if(this._pending.size>0){t=new Array;for(const s of e.removed)this._pending.delete(s.objectId)||t.push(s)}let s=this._limit-this._active.length+t.length;s<e.added.length&&(this._active.removeMany(t),t=[],h.reset(1-this._limit/(this._active.length+e.added.length)),this._active.forEach((e=>{h.sample()&&(t.push(e),this._pending.set(e.objectId,e))})),s=this._limit-this._active.length+t.length);let i=e.added;if(s<e.added.length){i=new Array,h.reset(s/e.added.length);for(const t of e.added)h.sample()?i.push(t):this._pending.set(t.objectId,t)}const n=s-i.length;n>0&&this._pending.size>0&&(h.reset(n/this._pending.size),this._pending.forEach((e=>{h.sample()&&(i.push(e),this._pending.delete(e.objectId))}))),this._active.addAndRemove(i,t)}}class n{constructor(){this.percentage=1,this.last=-1,this.index=0}reset(e){this.percentage=e,this.last=-1}sample(){const e=Math.floor(this.index*this.percentage);return++this.index,e!==this.last&&(this.last=e,!0)}}const h=new n;class a{constructor(e){this._parent=e,this._map=new Map}get length(){return this._map.size}forEach(e){this._map.forEach((t=>e(t)))}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}toArray(){return[...this._map.values()]}addAndRemove(e,t){for(const s of e)this._map.set(s.objectId,s);for(const s of t)this._map.delete(s.objectId);(e.length>0||t.length>0)&&this._parent.emit(\"change\",{added:e,removed:t})}removeMany(e){for(const t of e)this._map.delete(t.objectId);e.length>0&&this._parent.emit(\"change\",{added:[],removed:e})}}export{i as LimitGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import\"../../../symbols.js\";import s from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as l}from\"../../../core/accessorSupport/diffUtils.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{makeDehydratedPoint as c}from\"../../../layers/graphics/dehydratedFeatures.js\";import{Graphics3DCore as h}from\"./graphics/Graphics3DCore.js\";import n from\"./graphics/Graphics3DScaleVisibility.js\";import{boundingBoxTop as d}from\"./i3s/I3SGeometryUtil.js\";import{LimitGraphicsMap as y}from\"../support/LimitGraphicsMap.js\";import g from\"../../../symbols/PointSymbol3D.js\";let u=class extends s{constructor(e){super(e),this.loadedGraphics=new y(5e4),this.slicePlaneEnabled=!1,this._renderingInfo={symbol:new g},this._handles=new r,this._graphicsByNode=new Map,this._scaleVisibility=null}initialize(){this._graphicsCore=new h({owner:this,layer:this.layer,preferredUpdatePolicy:0,elevationFeatureExpressionEnabled:!1,graphicSymbolSupported:!1,getRenderingInfoWithoutRenderer:!0,hasZ:!0,hasM:!1});const e=this.view.basemapTerrain;this._scaleVisibility=new n({layerScaleEnabled:!1}),this._scaleVisibility.setup(this,this.layer,((e,i,s)=>this._graphicsCore.spatialIndex.queryGraphicUIDsInExtent(e,i,s)),this._graphicsCore,e);const i=this.view.labeler.addGraphicsOwner(this._graphicsCore,this._scaleVisibility,{emptySymbolLabelSupported:!0,elevationInfoOverride:{mode:\"absolute-height\",offset:0},disablePlacement:{logEntityDescription:\"3D Object Scene Layer features\"}}),s=this.view.deconflictor.addGraphicsOwner(this._graphicsCore);this._graphicsCore.setup({labeler:i,deconflictor:s,scaleVisibility:this._scaleVisibility}).then((()=>{this._graphicsCore.startCreateGraphics()})).catch((()=>{})),this._handles.add([this.layer.watch(\"labelingInfo\",((e,i)=>{l(e,i)&&this._graphicsCore.updateLabelingInfo()}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null),null!=this._scaleVisibility&&(this._scaleVisibility.destroy(),this._scaleVisibility=null),null!=this._graphicsCore&&(this._graphicsCore.destroy(),this._graphicsCore=null),this.loadedGraphics.destroy(),this.view=null}addNodeMeta(e,s){let r=0;const o=e.filteredIds,a=e.featureIds.map(((a,l)=>{d(l,this.collection,e.objectHandle,f);const p=c(0,0,0,this.view.spatialReference);this.view.renderCoordsHelper.fromRenderCoords(f,p);const h=s(l,e);let n=!1;return t(o)?n=!0:r<o.length&&a===o[r]&&(n=!0,r++),{objectId:a,uid:i.generateUID(),attributes:h,visible:n,geometry:p}}));this.loadedGraphics.addMany(a),this._graphicsByNode.set(e.node.index,a)}setNodeMetaAttributes(e,i){const s=this._graphicsByNode.get(e.node.index),r=new Array(s.length);for(let t=0;t<s.length;t++){const o=s[t];o.attributes=i(t,e),r[t]=o.uid}this._graphicsCore.updateLabelingInfo(r)}applyFilterChange(e){const i=this._graphicsByNode.get(e.node.index);if(i)if(t(e.filteredIds))for(const s of i)s.visible||(s.visible=!0,m.graphic=s,m.property=\"visible\",m.oldValue=!1,m.newValue=!0,this._graphicsCore.graphicUpdateHandler(m));else{let s=0;for(const r of i){const i=r.visible;s<e.filteredIds.length&&r.objectId===e.filteredIds[s]?(r.visible=!0,s++):r.visible=!1,i!==r.visible&&(m.graphic=r,m.property=\"visible\",m.oldValue=i,m.newValue=r.visible,this._graphicsCore.graphicUpdateHandler(m))}}}removeNodeMeta(e){this.loadedGraphics.removeManyByObjectId(e.featureIds)}getRenderingInfo(){return this._renderingInfo}notifyGraphicGeometryChanged(){}notifyGraphicVisibilityChanged(){}get updatePolicy(){return this._graphicsCore.effectiveUpdatePolicy}get usedMemory(){return this._graphicsCore.usedMemory}get unloadedMemoryEstimate(){return this._graphicsCore.unprocessedMemoryEstimate}get test(){return{graphicsCore:this._graphicsCore}}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"collection\",void 0),e([o()],u.prototype,\"loadedGraphics\",void 0),e([o({aliasOf:\"_graphicsCore.updating\"})],u.prototype,\"updating\",void 0),e([o()],u.prototype,\"slicePlaneEnabled\",void 0),e([o()],u.prototype,\"_graphicsCore\",void 0),u=e([a(\"esri.views.3d.layers.I3SMeshViewLabeler\")],u);const m={graphic:null,property:null,oldValue:null,newValue:null},f=p();var b=u;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import t from\"../../../core/PooledArray.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r,projectVectorToVector as s}from\"../../../geometry/projection.js\";const n=e.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\");class i extends o{constructor(e){super(\"SceneLayerWorker\",\"process\",e,{hasInitialize:!0})}getTransferList(e){return[e.geometryBuffer]}setModifications(e,t,o){const r={context:e,modifications:f(t,o),isGeodetic:o.isGeographic};this.broadcast(r,\"setModifications\")}setLegacySchema(e,t){const o=JSON.stringify(t);this.broadcast({context:e,jsonSchema:o},\"setLegacySchema\")}destroyContext(e){return this.broadcast(e,\"destroyContext\")}}const c=new t({deallocator:null}),a=[0,0,0];function f(e,t){c.clear();for(const i of e){const e=\"clip\"===i.type?2:\"mask\"===i.type?1:0,o=i.geometry;let f=e=>e;if(o.spatialReference){if(!r(o.spatialReference,t)){n.warn(\"Can't project modification polygon into layer spatial reference, ignoring modification\");continue}f=e=>(s(e,o.spatialReference,a,t),a)}else o.hasZ||(a[2]=0,f=e=>(a[0]=e[0],a[1]=e[1],a));c.push(e),c.push(o.rings.length);for(const t of o.rings){c.push(t.length);for(const e of t){const t=f(e);c.push(t[0]),c.push(t[1]),c.push(t[2])}}}c.push(3);const o=new Float64Array(c.length);for(let r=0;r<c.length;++r)o[r]=c.getItemAt(r);return o}export{i as I3SMeshWorkerHandle,f as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";class t{constructor(){this.ids=new Set,this.paused=!1}}class s{constructor({collection:e,forAllFeatures:t,forAllFeaturesOfNode:s}){this.highlights=[],this.collection=e,this.forAllFeatures=t,this.forAllFeaturesOfNode=s}destroy(){this.highlights.forEach((e=>this.releaseSet(e))),this.highlights=null}acquireSet(){const s=new t;this.highlights.push(s);const i={remove:()=>{this.releaseSet(s),e(this.highlights,s)},pause:()=>{this.releaseSet(s),s.paused=!0},resume:()=>{s.paused=!1,this.initializeSet(s)}};return{set:s,handle:i}}setFeatureIds(e,t){t.forEach((t=>e.ids.add(t))),this.initializeSet(e)}initializeSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.addComponentHighlight(i.objectHandle,s),1)))}releaseSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.removeComponentHighlight(i.objectHandle,s),1)))}objectCreated(e){this.highlights.forEach((t=>{t.paused||this.forAllFeaturesOfNode(e,((s,i)=>(t.ids.has(s)&&this.collection.addComponentHighlight(e.objectHandle,i),1)))}))}objectDeleted(e){this.collection.clearHighlights(e.objectHandle)}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e,isSome as s}from\"../../../../core/maybe.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";class d{constructor(){this.lodCrossfadeSignedDuration=0}}class i{constructor(e){this.view=e,this._preRenderFrameTaskHandle=null,this._currentFrameStartTime=null,this._numFadingNodes=0}get updating(){return this._numFadingNodes>0}stopNodeFading(s){null!=s.lodCrossfadeProgress&&(this._numFadingNodes--,s.lodCrossfadeProgress=null,0===this._numFadingNodes&&(null!=this._preRenderFrameTaskHandle&&(this._preRenderFrameTaskHandle=e(this._preRenderFrameTaskHandle)),this.view.notifyLODUpdate(),this.view.notifyUpdate()))}_startNodeFading(e,s,d){0===this._numFadingNodes&&(this._preRenderFrameTaskHandle=o({preRender:e=>this._updateAllNodeFading(e)}),this.view.notifyLODUpdate()),null==e.lodCrossfadeProgress&&(this._numFadingNodes++,this.view.notifyUpdate()),e.lodCrossfadeSignedDuration=d,e.lodCrossfadeProgress=s}_updateAllNodeFading(e){const o=this.view.nodeCrossfadingEnabled;this.view.foreachCrossfadeNode(((d,i)=>{if(s(i)&&s(i.lodCrossfadeProgress)){const s=i.lodCrossfadeSignedDuration,t=s>0?this.view.fullOpacity:0,a=e.deltaTime/s,r=i.lodCrossfadeProgress+Math.abs(a),n=!o||r>=1||0===s,l=t-(n?0:s>0?1:-1)*(1-r);n?(this.stopNodeFading(i),s<0&&this.view.markNodeToRemove(d)):i.lodCrossfadeProgress=r,this.view.setNodeOpacityByIndex(d,l)}})),this.view.removeMarkedNodes()}stopAllNodeFading(){this.view.foreachCrossfadeNode(((e,o)=>{if(s(o)&&s(o.lodCrossfadeProgress)){this.stopNodeFading(o);const s=o.lodCrossfadeSignedDuration;s<0&&this.view.markNodeToRemove(e);const d=s>0?this.view.fullOpacity:0;this.view.setNodeOpacityByIndex(e,d)}})),this.view.removeMarkedNodes()}fadeNode(e,s,o,d){null==this._currentFrameStartTime&&(this._currentFrameStartTime=Date.now());const i=this.view,a=i.nodeCrossfadingEnabled,r=0===o?i.fullOpacity:0,n=a?d?0===o?i.lodCrossfadeinDuration:i.lodCrossfadeoutDuration:i.lodCrossfadeUncoveredDuration:0,l=this.view.getNodeOpacityByIndex(e);if(a&&l!==r&&n>0){const e=1-Math.abs(r-l);this._startNodeFading(s,e,t(o)*n)}else this.stopNodeFading(s),this.view.setNodeOpacityByIndex(e,r),1===o&&this.view.removeNode(e)}isNodeFullyFadedIn(e){const o=this.view.getNodeCrossfadeMetaData(e);return s(o)&&null==o.lodCrossfadeProgress&&this.view.getNodeOpacityByIndex(e)===this.view.fullOpacity}}function t(e){return 0===e?1:-1}export{i as I3SCrossfadeHelper,d as NodeCrossfadeMetaData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{x as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{m as l,g as p}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{empty as d,expand as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{Intersector as f}from\"../../webgl-engine/lib/Intersector.js\";const u=d(),v=c(),x=h(),y=h(),E=h(),g=s.getLogger(\"esri.views.3d.layers.i3s.I3SElevationProvider\");let j=class extends(r.EventedMixin(t)){constructor(e){super(e),this.tmpEvent={spatialReference:null,extent:u,context:\"scene\"}}initialize(){this.view=this.layerView.view,this.renderCoordsHelper=this.view.renderCoordsHelper,this.intersector=new f(this.view.state.viewingMode),this.intersector.options.store=0;const e=this.layerView.i3slayer.fullExtent;this.zmin=e.zmin,this.zmax=e.zmax,this.tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}getElevation(e,t,r,s){if(x[0]=e,x[1]=t,x[2]=r,!this.renderCoordsHelper.toRenderCoords(x,s,x))return g.error(\"could not project point to compute elevation\"),null;const i=this.layerView.elevationOffset,o=this.zmin+i,n=this.zmax+i;return this.renderCoordsHelper.setAltitude(y,n,x),this.renderCoordsHelper.setAltitude(E,o,x),this.intersector.reset(y,E),this.intersectionHandler.intersect(this.intersector,null,y,E),this.intersector.results.min.getIntersectionPoint(x)?this.renderCoordsHelper.getAltitude(x):null}layerChanged(){this.spatialReference&&(this.tmpEvent.extent=this.computeLayerExtent(),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}objectChanged(e){this.spatialReference&&(this.tmpEvent.extent=this.computeObjectExtent(e),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}computeObjectExtent(e){return d(u),this._expandExtent(e,u),u}computeLayerExtent(){d(u);for(const e of this.layerView.getVisibleNodes())this._expandExtent(e,u);return u}_expandExtent(e,t){const r=e.visibilityObb||e.serviceObbInRenderSR;if(i(r)){a(v,r.quaternion),v[12]=r.center[0],v[13]=r.center[1],v[14]=r.center[2];for(let e=0;e<8;++e)x[0]=1&e?r.halfSize[0]:-r.halfSize[0],x[1]=2&e?r.halfSize[1]:-r.halfSize[1],x[2]=4&e?r.halfSize[2]:-r.halfSize[2],l(x,x,v),this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}else{const r=e.renderMbs[3],s=p(y,e.renderMbs);s[0]-=r,s[1]-=r,s[2]-=r;const i=p(E,e.renderMbs);i[0]+=r,i[1]+=r,i[2]+=r;for(let e=0;e<8;++e)x[0]=1&e?s[0]:i[0],x[1]=2&e?s[1]:i[1],x[2]=4&e?s[2]:i[2],this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}}};e([o({constructOnly:!0})],j.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],j.prototype,\"intersectionHandler\",void 0),e([o()],j.prototype,\"view\",void 0),e([o({readOnly:!0,aliasOf:\"view.elevationProvider.spatialReference\"})],j.prototype,\"spatialReference\",void 0),j=e([n(\"esri.views.3d.layers.i3s.I3SElevationProvider\")],j);var b=j;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{g as t}from\"../../../../chunks/vec3.js\";import{intersectLine as r}from\"../../support/orientedBoundingBox.js\";import{IntersectorResult as i}from\"../../webgl-engine/lib/intersectorUtils.js\";import{getVerticalOffsetI3S as s}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";class n{constructor(e){this.type=\"I3S\",this.layerUid=e.layerUid,this.sublayerUid=e.sublayerUid,this.collection=e.collection,this.traverseNodeHierarchy=e.traverseNodeHierarchy,this.slicePlane=e.slicePlaneEnabled,this.isGround=e.isGround}intersect(n,l,d,a){const c=n.results,u=2===n.options.store,b=n.ray.direction,m=n.tolerance;let y=e=>e,h=e=>e;const p=s(n.verticalOffset);e(p)&&(y=e=>p.applyToMbs(e),h=e=>p.applyToObb(e)),this.traverseNodeHierarchy(((s,f)=>!(e(s.serviceObbInRenderSR)&&!r(h(s.serviceObbInRenderSR),d,b,m))&&(!f||e(s.geometryObb)&&!r(h(s.geometryObb),d,b,m)||!e(s.serviceObbInRenderSR)&&!o(y(s.renderMbs),d,b,m)||this.collection.intersect(f,d,a,m,p,((e,r,o,b)=>{if(r>=0){if(null!=l&&!l(d,a,r))return;const m=i=>{i.intersector=this.type,i.target={type:\"external\",metadata:{layerUid:this.layerUid,sublayerUid:this.sublayerUid,nodeIndex:s.index,componentIndex:e}},i.dist=r,t(i.normal,o),i.triangleNr=b};if(this.isGround&&(null==c.ground.dist||r<c.ground.dist)&&m(c.ground),n.options.isFiltered)return;if((null==c.min.dist||r<c.min.dist)&&m(c.min),(null==c.max.dist||r>c.max.dist)&&m(c.max),u){const e=new i(n.ray);m(e),n.results.all.push(e)}}})),!0)))}get intersectionHandlerId(){return this.layerUid}}function o(e,t,r,i=0){const s=e[3]+i,n=t[0]-e[0],o=t[1]-e[1],l=t[2]-e[2],d=r[0],a=r[1],c=r[2],u=d*n+a*o+c*l;return u*u-(d*d+a*a+c*c)*(n*n+o*o+l*l-s*s)>=0}export{n as I3SIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{onAbort as s,throwIfAborted as r}from\"../../../../core/promiseUtils.js\";const i=14;class o{constructor(e,t,s=i){this._version=s,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=1073741824,this.quotaReductionFactor=.2,this._dbName=e,this._storeName=t}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,i=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),o=s.objectStoreNames.contains(\"last_access\")?r.objectStore(\"last_access\"):s.createObjectStore(\"last_access\");o.indexNames.contains(\"date\")||o.createIndex(\"date\",\"date\",{unique:!1}),o.indexNames.contains(\"byteSize\")||o.createIndex(\"byteSize\",\"byteSize\",{unique:!1}),t.oldVersion<this._version&&(i.clear(),o.clear())},c(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(t,s){if(null==this._db)return Promise.reject(new e(\"indexedb:not-initialized\",\"IndexedDB Cache is not initialized\"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(t,s))).catch((e=>{if(e&&\"QuotaExceededError\"===e.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(t,s)));throw e})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,i){if(null==this._db)return Promise.resolve(null);let o=null;return Promise.resolve().then((()=>{const t=this._db.transaction(this._storeName,\"readonly\");o=s(i,(()=>{t.abort()}));return c(t.objectStore(this._storeName).get(e))})).then((s=>{if(null==s)++this._miss;else if(this._db){++this._hit;this._db.transaction(\"last_access\",\"readwrite\").objectStore(\"last_access\").put({date:Date.now(),byteSize:s.byteSize},e)}return t(o)&&o.remove(),s})).catch((()=>(++this._miss,r(i),t(o)&&o.remove(),null)))}remove(e){return null==this._db?Promise.resolve():Promise.resolve().then((async()=>{const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\"),i=s.delete(e),o=r.delete(e);await Promise.all([c(i),c(o),n(t)])}))}_put(e,t){const s=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),r=s.objectStore(this._storeName),i=s.objectStore(\"last_access\"),o=r.put(t,e),a=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([c(o),c(a),n(s)])}_removeLeastRecentlyAccessed(e){if(e<=0)return;const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\");let i=0;const o=r.index(\"date\").openCursor(null,\"next\");return o.onsuccess=()=>{const t=o.result;null!=t&&(null!=t.value.byteSize&&(i+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),i<e&&t.continue())},n(t)}_getCacheSize(){const e=this._db.transaction(\"last_access\"),t=e.objectStore(\"last_access\");let s=0;const r=t.index(\"byteSize\").openKeyCursor();return r.onsuccess=()=>{const e=r.result;if(!e)return;const t=e.key;null!=t&&(s+=t),e.continue()},n(e).then((()=>s))}}function n(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function c(e){return new Promise(((t,s)=>{\"done\"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}export{o as IDBCache,c as whenRequest,n as whenTransaction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../Graphic.js\";import s from\"../../../core/Collection.js\";import r from\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{someMap as a}from\"../../../core/MapUtils.js\";import{unwrapOr as n,destroyMaybe as l,isSome as d,isNone as h,applySome as c,unwrap as u}from\"../../../core/maybe.js\";import _ from\"../../../core/PooledArray.js\";import{throwIfAborted as m,createResolver as g}from\"../../../core/promiseUtils.js\";import{schedule as p}from\"../../../core/scheduling.js\";import{isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as b}from\"../../../core/unitUtils.js\";import{init as y}from\"../../../core/watchUtils.js\";import{property as v}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as I}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as M}from\"../../../chunks/mat3.js\";import{c as C}from\"../../../chunks/mat3f32.js\";import{m as x,v as O}from\"../../../chunks/mat4.js\";import{b as j,c as w}from\"../../../chunks/mat4f64.js\";import{m as S,g as E}from\"../../../chunks/vec3.js\";import{c as F}from\"../../../chunks/vec3f64.js\";import{s as D}from\"../../../chunks/vec4.js\";import{projectBuffer as R,getProjectorName as N,localLinearScaleFactors as T,projectVectorToVector as V,projectBoundingSphere as A}from\"../../../geometry/projection.js\";import{create as P,empty as H,expandWithBuffer as U,intersects as G}from\"../../../geometry/support/aaBoundingBox.js\";import L from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{fixFields as B}from\"../../../layers/support/fieldUtils.js\";import{areLabelsVisible as k}from\"../../../layers/support/layerUtils.js\";import q from\"../../../layers/support/SceneModification.js\";import{getColor as z,getOpacity as W}from\"../../../renderers/visualVariables/support/visualVariableUtils.js\";import{loadArcade as $}from\"../../../support/arcadeOnDemand.js\";import K from\"../../../symbols/Symbol3D.js\";import{getMetersPerUnit as J}from\"../../../symbols/support/unitConversionUtils.js\";import Q from\"./I3SMeshViewLabeler.js\";import{I3SMeshWorkerHandle as X,toWasmModification as Y}from\"./I3SMeshWorkerHandle.js\";import{initialize as Z,setModificationsSync as ee,filterObbsForModificationsSync as te,interpretObbModificationResults as ie}from\"./SceneLayerWorker.js\";import{overrideColor as se}from\"./graphics/graphicUtils.js\";import re from\"./i3s/Highlights.js\";import{I3SAttributeOverrides as oe}from\"./i3s/I3SAttributeOverrides.js\";import{I3SCrossfadeHelper as ae,NodeCrossfadeMetaData as ne}from\"./i3s/I3SCrossfadeHelper.js\";import le from\"./i3s/I3SElevationProvider.js\";import{boundingBoxCornerPoints as de}from\"./i3s/I3SGeometryUtil.js\";import{I3SIntersectionHandler as he}from\"./i3s/I3SIntersectionHandler.js\";import{getSupportedEncodings as ce,selectEncoding as ue,createTexture as _e,configureMaterial as me}from\"./i3s/I3SMaterialUtil.js\";import{computeGlobalTransformation as ge,getLocalOrigin as pe}from\"./i3s/I3SProjectionUtil.js\";import{rendererNeedsTextures as fe,checkSceneLayerValid as be,checkSceneLayerCompatibleWithView as ye,getCacheKeySuffix as ve,whenGraphicAttributes as Ie,computeVisibilityObb as Me,filterInPlace as Ce,getCachedAttributeValue as xe,intersectBoundingBoxWithMbs as Oe,addWraparound as je,getSymbolInfo as we,transparentEdgeMaterial as Se,getClipAABB as Ee}from\"./i3s/I3SUtil.js\";import{IDBCache as Fe}from\"./i3s/IDBCache.js\";import{attributeLookup as De}from\"./support/attributeUtils.js\";import Re from\"../support/debugFlags.js\";import{projectToBoundingBox as Ne}from\"../support/extentUtils.js\";import{create as Te,clone as Ve}from\"../support/orientedBoundingBox.js\";import{updatingProgress as Ae}from\"../support/updatingProperties.js\";import{glLayout as Pe}from\"../support/buffer/glUtil.js\";import{createVertexBufferLayout as He}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{loadBasis as Ue}from\"../webgl-engine/lib/BasisUtil.js\";const Ge=o.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),Le=[1,1,1,1];class Be extends ne{constructor(e,t,i,s,r,o,a){super(),this.node=e,this.featureIds=t,this.objectHandle=i,this.cachedRendererVersion=s,this.attributeInfo=r,this.material=o,this.textures=a,this.cachedEdgeMaterials=new Array,this.cachedSymbology=null}}const ke=19,qe=104857600,ze=t=>{let o=class extends t{constructor(...e){super(e),this._elevationProvider=null,this._intersectionHandler=null,this._nodeId2Meta=new Map,this._nodeId2MetaReloading=new Map,this._i3sWasmLoaded=!1,this._hasLoadedPBRTextures=!1,this._asyncModuleLoading=0,this._addTasks=new Map,this._rendererVersion=0,this._colorVariable=null,this._opacityVariable=null,this._rendererFields=null,this._symbologyFields=null,this._symbologyOverride=null,this._symbologyOverrideFields=null,this._symbolInfos=new Map,this._idbCache=new Fe(\"esri-scenelayer-cache\",\"geometries\"),this.holeFilling=\"auto\",this._hasColors=!1,this._hasTextures=!1,this._hasData=!1,this.slicePlaneEnabled=!1,this._modifications=new Array,this._layerUrl=\"\",this._cacheKeySuffix=null,this._arcade=null,this._tmpAttributeOnlyGraphic=new i(null,null,{}),this._crossfadeHelper=new ae(this)}get lodCrossfadeoutDuration(){return 0}get lodCrossfadeinDuration(){return 0}get lodCrossfadeUncoveredDuration(){return 0}get layerUid(){return this.i3slayer&&this.i3slayer.uid}get sublayerUid(){return null}get hasTexturesOrVertexColors(){return this._hasData?this._hasTextures||this._hasColors?\"yes\":\"probably-not\":\"unknown\"}get rendererTextureUsage(){return fe(this._currentRenderer)?this._usePBR()||this._hasLoadedPBRTextures?63:37:this._usePBR()||this._hasLoadedPBRTextures?44:36}get elevationOffset(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null!=e&&\"absolute-height\"===e.mode){const t=b(this.i3slayer.spatialReference),i=J(e.unit);return n(e.offset,0)*i/t}return 0}get supportedTextureEncodings(){return ce(this.view._stage.renderView.capabilities)}get uncompressedTextureDownsamplingEnabled(){var e;const t=null==(e=this.view)?void 0:e.qualitySettings.sceneService.uncompressedTextureDownsamplingEnabled,i=0==(4&this.supportedTextureEncodings);return t&&i}initialize(){this.preLoadBasis(),this.addResolvingPromise(this.i3slayer.indexInfo);const e=this.view.resourceController;if(this.attributeOverrides=new oe(this.i3slayer,e.memoryController),this._worker=new X((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._worker.setLegacySchema(this.layerUid,this.i3slayer.store.defaultGeometrySchema),be(this.i3slayer),ye(this.i3slayer,this.view),this._layerUrl=this.i3slayer.parsedUrl.path,this._controller=new L({layerView:this}),this.gpuMemoryEstimate=0,this.texMemoryEstimate=0,this.geoMemoryEstimate=0,this._stage=this.view._stage,this._collection=this._stage.renderView.componentObjectCollection,this._highlights=new re({collection:this._collection,forAllFeatures:e=>this._forAllFeatures(e,null,1),forAllFeaturesOfNode:(e,t)=>this._forAllFeaturesOfNode(e,t)}),this._isIntegratedMesh||!this.i3slayer.store.defaultGeometrySchema)this._hasSymbolColors=!1;else{const e=this.i3slayer.store.defaultGeometrySchema.featureAttributes;this._hasSymbolColors=!!(e&&e.faceRange&&e.id)}this._hasVertexColors=null!=this.i3slayer.store.defaultGeometrySchema.vertexAttributes.color&&(null==this.i3slayer.cachedDrawingInfo||!this.i3slayer.cachedDrawingInfo.color),this._isIntegratedMesh||(this._edgeView=this._stage.renderView.ensureEdgeView()),this._memCache=this.view.resourceController.memoryController.getMemCache(this.i3slayer.uid,(e=>this._deleteComponentObject(e)));const t=e=>d(this._controller.index)&&d(this._controller.index.rootNode)?this._controller.index.traverse(this._controller.index.rootNode,(t=>{const i=t.index,s=this._nodeId2Meta.get(i)||this._nodeId2MetaReloading.get(i);return e(t,d(s)?s.objectHandle:null)})):()=>{};this._intersectionHandler=new he({layerUid:this.layerUid,sublayerUid:this.sublayerUid,collection:this._collection,slicePlaneEnabled:this.slicePlaneEnabled,isGround:this._isIntegratedMesh,traverseNodeHierarchy:t}),this._elevationProvider=new le({layerView:this,intersectionHandler:this._intersectionHandler}),this._hasLoadedPBRTextures=this._usePBR(),this.updatingHandles.add(this,\"view.clippingArea\",(()=>this._clippingAreaChanged()),2),this.updatingHandles.add(this,\"fullOpacity\",(e=>this._opacityChange(e))),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._slicePlaneEnabledChange(e))),this.updatingHandles.add(this,\"elevationOffset\",((e,t)=>{this._reloadAll(t),this._controller.invalidateVisibilityObbs()})),this.updatingHandles.add(this,\"filter\",(()=>this._filterChange()),2),this.updatingHandles.add(this,\"view.qualitySettings.physicallyBasedRenderingEnabled\",(()=>this._updatePBR()));const i=()=>{this._reloadAll(),this.clearMemCache()};this.updatingHandles.add(this,\"rendererTextureUsage\",i),this.updatingHandles.add(this,\"uncompressedTextureDownsamplingEnabled\",i),this.updatingHandles.add(this,\"suspended\",(e=>this._suspendedChange(e)),2),this.updatingHandles.add(this.i3slayer,\"labelsVisible\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this.i3slayer,\"labelingInfo\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this,\"_modifications\",(()=>this._modificationsChanged()),2),this.handles.add([y(Re,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Re.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||Re.I3S_TREE_SHOW_TILES||(this._treeDebugger=l(this._treeDebugger))})),y(Re,\"I3S_SHOW_MODIFICATIONS\",(()=>this._showModifications()))]),this._cacheKeySuffix=ve(this.i3slayer.spatialReference,this.view.renderSpatialReference),this._idbCache.init().catch((e=>Ge.warn(`Failed to initialize IndexedDB cache: ${e}`)))}destroy(){this._clearAddTasks(),this.attributeOverrides=l(this.attributeOverrides),this._elevationProvider&&(this._elevationProvider.layerChanged(),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this._intersectionHandler&&(this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null);const e=this._worker;e&&(e.destroyContext(this.i3slayer.uid).then((()=>e.destroy())),this._worker=null),this._removeAllNodeDataFromStage(),this._memCache=l(this._memCache),this._collection=null,this._stage=null,this._edgeView=null,this._labeler=l(this._labeler),this._treeDebugger=l(this._treeDebugger),this._controller=l(this._controller),this._highlights.destroy(),this._nodeId2Meta.clear(),this._nodeId2MetaReloading.clear(),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}memEstimateTextureAdded(e){const t=e.estimatedTexMemRequired;return this.gpuMemoryEstimate+=t,this.texMemoryEstimate+=t,t}memEstimateTextureRemoved(e){const t=e.estimatedTexMemRequired;this.gpuMemoryEstimate-=t,this.texMemoryEstimate-=t}memEstimateGeometryAdded(e){const t=this._collection.getObjectGPUMemoryUsage(e);return this.gpuMemoryEstimate+=t,this.geoMemoryEstimate+=t,t}memEstimateGeometryRemoved(e){const t=this._collection.getObjectGPUMemoryUsage(e);this.gpuMemoryEstimate-=t,this.geoMemoryEstimate-=t}isNodeLoaded(e){return this._nodeId2Meta.has(e)}isNodeReloading(e){return this._nodeId2MetaReloading.has(e)}getUsedMemory(){let e=d(this._labeler)?this._labeler.usedMemory:0;return this._nodeId2Meta.forEach((t=>e+=d(t)?t.node.memory:0)),this._nodeId2MetaReloading.forEach((t=>e+=d(t)?t.node.memory:0)),e}getUnloadedMemory(){return(d(this._controller)?this._controller.unloadedMemoryEstimate:0)+(d(this._labeler)?this._labeler.unloadedMemoryEstimate:0)}ignoresMemoryFactor(){return!1}_labelingChanged(){if(!(k(this.i3slayer)&&this._supportsLabeling))return void(d(this._labeler)&&(this._labeler.destroy(),this._labeler=null));if(d(this._labeler))return;const e=new Q({view:this.view,layer:this.i3slayer,collection:this._collection});this._nodeId2Meta.forEach((t=>d(t)&&this._addMetaToLabeler(e,t))),this._labeler=e}_loadAsyncModule(e){return++this._asyncModuleLoading,e.then((e=>(--this._asyncModuleLoading,e)),(e=>{throw--this._asyncModuleLoading,e}))}_modificationsChanged(){if(!this._i3sWasmLoaded&&this._hasModifications)return this._i3sWasmLoaded=Z().then((()=>{this._i3sWasmLoaded=!0,this._modificationsChanged(),this.notifyUpdate()})),void this.notifyUpdate();if(!0!==this._i3sWasmLoaded)return;const e=this.i3slayer.uid,t=this.i3slayer.spatialReference;this._worker.setModifications(e,this._modifications,t);const i=Y(this._modifications,t);ee({context:e,modifications:i,isGeodetic:t.isGeographic}),this._controller.modificationsChanged();const s=this._hasModifications?new _:null;this._nodeId2Meta.forEach(((e,t)=>{h(e)?this._nodeId2Meta.delete(t):e.node.hasModifications?(this._nodeId2Meta.delete(t),this._nodeId2MetaReloading.set(t,e)):d(s)&&s.push(e.node)})),d(s)&&this._nodeId2MetaReloading.forEach((e=>s.push(e.node))),d(s)&&s.length>0&&(this.updateNodeModificationStatus(s),s.forAll((e=>{if(2!==e.imModificationImpact){const t=this._nodeId2Meta.get(e.index);this._controller.invalidateGeometryVisibility(e.index),this._nodeId2Meta.delete(e.index),d(t)&&this._nodeId2MetaReloading.set(e.index,t)}}))),this.clearMemCache(),this._controller.restartNodeLoading(),this._showModifications()}_showModifications(){if(d(this._modificationGraphics)&&(this.view.graphics.removeMany(this._modificationGraphics),this._modificationGraphics=null),!Re.I3S_SHOW_MODIFICATIONS||0===this._modifications.length)return;const e={clip:[227,227,79,.8],mask:[227,139,79,.8],replace:[139,227,79,.8]},t={type:\"simple-fill\",outline:{color:[255,255,255],width:1}};this._modificationGraphics=new Array;for(const s of this._modifications){s.geometry.spatialReference=this.i3slayer.spatialReference;const r={...t,color:e[s.type]};this._modificationGraphics.push(new i({geometry:s.geometry,symbol:r}))}this.view.graphics.addMany(this._modificationGraphics)}_addMetaToLabeler(e,t){e.addNodeMeta(t,((e,t)=>this._createAttributes(e,t)))}_suspendedChange(e){e?(this._removeAllNodeDataFromStage(),this.view.elevationProvider&&this.view.elevationProvider.unregister(this._elevationProvider),this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler)):(this.view.elevationProvider.register(this._elevationContext,this._elevationProvider),this._stage.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler))}getLoadedAttributes(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const i=this._nodeId2Meta.get(e);d(i)&&d(i.attributeInfo)&&(i.attributeInfo.attributeData=t,this._attributeValuesChanged(i))}async updateAttributes(e,t,i){const s=this._nodeId2Meta.get(e);d(s)&&(await this.attributeOverrides.apply(s.featureIds,t,i),s.attributeInfo=t,this._attributeValuesChanged(s))}_attributeValuesChanged(e){e.cachedRendererVersion=this._getInvalidRendererVersion(),e.filteredIds=null,d(this._labeler)&&this._labeler.setNodeMetaAttributes(e,((e,t)=>this._createAttributes(e,t))),this._updateEngineObject(e)}clearMemCache(){d(this._memCache)&&this._memCache.clear()}getVisibleNodes(){const e=new Array;return this._nodeId2Meta.forEach((t=>d(t)&&e.push(t.node))),e}getLoadedNodeIndices(e){this._nodeId2Meta.forEach(((t,i)=>e.push(i))),this._nodeId2MetaReloading.forEach(((t,i)=>e.push(i)))}preLoadBasis(){!r(\"disable-feature:i3s-basis\")&&0!=(2&this.supportedTextureEncodings)&&c(this.i3slayer.textureSetDefinitions,(e=>e.some((e=>e.formats.some((e=>\"basis\"===e.format||\"ktx2\"===e.format))))))&&Ue()}_getVertexBufferLayout(e,t){const i={hasTexture:Ye(e.params.material),hasNormals:t.normal,hasRegions:t.uvRegion};return Pe(He(this._getGeometryParameters(i)))}_getObjectIdField(){return this.i3slayer.objectIdField||\"OBJECTID\"}_findGraphicNodeAndIndex(e){const t=De(this.i3slayer.fieldsIndex,e.attributes,this._getObjectIdField());let i=null;return a(this._nodeId2Meta,(e=>{if(h(e))return!1;const s=e.featureIds.indexOf(t);return-1!==s&&(i={node:e.node,index:s},!0)})),i}_getGraphicIndices(e,t){const i=this._nodeId2Meta.get(e.index);if(h(i))return[];const s=[],r=this._getObjectIdField(),o=this.i3slayer.fieldsIndex;for(const a of t){const e=De(o,a.attributes,r),t=i.featureIds.indexOf(e);-1!==t&&s.push(t)}return s}whenGraphicBounds(e){const t=this._findGraphicNodeAndIndex(e);if(!t)return Promise.reject();const i=this._nodeId2Meta.get(t.node.index);if(h(i))return Promise.reject();const s=i.objectHandle,r=de(t.index,this._collection,s,new Float64Array(24)),o=this.view.renderSpatialReference,a=this.view.spatialReference;if(R(r,o,0,r,a,0,8)){const e=H();return U(e,r,0,8),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}}whenGraphicAttributes(e,t){return Ie(this.i3slayer,e,this._getObjectIdField(),t,(()=>[...this._nodeId2Meta.values()].filter(d)))}getGraphicFromIntersectorMetadata(e){if(null==e.nodeIndex||null==e.componentIndex)return null;const t=this._nodeId2Meta.get(e.nodeIndex);return h(t)||null==t.featureIds||e.componentIndex>=t.featureIds.length?null:this._createGraphic(e.componentIndex,t)}_getCacheKey(e){return`${this._layerUrl}/v${ke}/${e.id}${this._cacheKeySuffix}`}_getMemCacheKey(e,t=this.elevationOffset){return e+\"#\"+t}get _idbCacheEnabled(){return!this._controller.disableIDBCache&&0===this._modifications.length&&0===this.elevationOffset&&null!=this._cacheKeySuffix}loadCachedGPUData(e){return d(this._memCache)?this._memCache.pop(this._getMemCacheKey(e.index)):null}deleteCachedGPUData(e){d(e)&&this._deleteComponentObject(e)}_cacheGPUData(e,t=this.elevationOffset){if(h(this._memCache))return void this._deleteComponentObject(e);const i=this._controller.indexDepth-e.node.level;this._memCache.put(this._getMemCacheKey(e.node.index,t),e,e.node.memory,i)}loadMissingTextures(e,t,i,s){const r=e.filter(((e,i)=>{if(0==(e.usage&this.rendererTextureUsage))return!1;if(h(t))return!0;const s=ue(e.encodings,this.supportedTextureEncodings),r=t[i];return!!(h(r)||null==r.data||s&&r.encoding!==s.encoding)}));return 0===r.length?Promise.resolve(!1):i(r,s).then((i=>{let s=0;for(let r=0;r<e.length;r++)s<i.length&&i[s].id===e[r].id&&(t[r]=i[s],s++);return!0}))}loadCachedNodeData(e,t,i){return this._idbCacheEnabled?this._idbCache.get(this._getCacheKey(e),t).then((s=>null==s?null:s.nodeVersion!==e.version?(this._idbCache.remove(this._getCacheKey(e)),null):(e.geometryObb=s.geometryObb,this.loadMissingTextures(s.requiredTextures,s.textureData,i,t).then((i=>(i&&this._idbCache.initialized&&d(s.textureData)&&(s.byteSize=tt(s.transformedGeometry,s.textureData),s.textureData.every(et)&&it(e,s)&&this._idbCache.put(this._getCacheKey(e),s).catch((t=>Ge.warn(`Failed to update node with textures in IndexedDB cache: ${e.id}: ${t}`)))),m(t),s)))))):Promise.resolve(null)}addNode(e,t,i){return Ze(t)?this._addData(e,t.attributeDataInfo,(()=>this._transformNode(e,t,i).then((s=>this._safeReschedule((()=>{if(h(s))return e.hasModifications=!1,this._addCachedNodeData(e,null,i);e.hasModifications=s.transformedGeometry.hasModifications;const{obb:r,componentOffsets:o,featureIds:a,transformedGeometry:n}=s,l=this._controller.crsIndex,c=this.view.renderSpatialReference,u=ge(e.mbs,this.elevationOffset,l,c);e.geometryObb=Te([r.center.x,r.center.y,r.center.z],[r.extents.x,r.extents.y,r.extents.z],[r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w]),S(e.geometryObb.center,e.geometryObb.center,u),t.geometryData.componentOffsets=o,a&&(t.geometryData.featureIds=Array.prototype.slice.call(a));const _={nodeVersion:e.version,geometryData:t.geometryData,requiredTextures:t.requiredTextures,textureData:t.textureData,transformedGeometry:n,globalTrafo:u,geometryObb:e.geometryObb,byteSize:tt(n,t.textureData)};if(this._idbCacheEnabled&&this._idbCache.initialized&&it(e,_)){const t=d(_.textureData)?_.textureData.map((e=>et(e)?e:null)):null;this._idbCache.put(this._getCacheKey(e),{..._,textureData:t}).catch((t=>Ge.warn(`Failed to store node in IndexedDB cache: ${e.id}: ${t}`)))}return this._addCachedNodeData(e,_,i)}),i))))):Promise.reject()}computeVisibilityObb(e){return Me(e,this.view.renderSpatialReference,this._controller.crsIndex,this.i3slayer.spatialReference,this.elevationOffset,this._modifications)}_transformNode(e,t,i){const s=t.geometryData.geometries,r=new Array(s.length);for(let h=0;h<s.length;++h)r[h]=this._getVertexBufferLayout(s[h],t.geometryDescriptor);const o=e.mbs,a=this.elevationOffset,n=this._controller.crsIndex,l=this._controller.crsVertex,d=this.view.renderSpatialReference,c=pe(o,a,n),u=ge(o,a,n,d),_=N(n,l),m=N(l,d);if(h(_)||h(m))return Promise.resolve(null);const g={context:this.i3slayer.uid,geometryBuffer:t.geometryBuffer,geometryData:t.geometryData,geometryDescriptor:t.geometryDescriptor,layouts:r,localOrigin:c,globalTrafo:u,mbs:o,obb:e.serviceObb,elevationOffset:a,needNormals:!this._isIntegratedMesh&&this._controller.isMeshPyramid,normalReferenceFrame:this.i3slayer.normalReferenceFrame||\"none\",indexToVertexProjector:_,vertexToRenderProjector:m};return this._worker.invoke(g,i)}get supportsNodeCrossFading(){var e,t;return!(null!=(e=this.view)&&null!=(t=e._stage)&&t.renderView.hasShadowsEnabled)}get nodeCrossfadingEnabled(){return this.supportsNodeCrossFading&&(this.lodCrossfadeinDuration>0||this.lodCrossfadeoutDuration>0||this.lodCrossfadeUncoveredDuration>0)}get nodeFadeoutEnabled(){return this.supportsNodeCrossFading&&this.lodCrossfadeoutDuration>0}_setNewNodeOpacity(e){const t=this.nodeCrossfadingEnabled?0:this.fullOpacity;this._setNodeOpacity(e,t)}addCachedGPUData(e,t,i){if(e.geometryObb=Ve(this._collection.getComponentObb(t.objectHandle)),!this._controller.isGeometryVisible(e))return void this._cacheGPUData(t);d(this._labeler)&&this._addMetaToLabeler(this._labeler,t);const s=e.index;this._addNodeMeta(s,t),this.updateNodeState(s,i),this._collection.setObjectVisibility(t.objectHandle,1),this._updateMaterial(t),this._setNewNodeOpacity(t),this._updateEngineObject(t),this._highlights.objectCreated(t),d(this._treeDebugger)&&this._treeDebugger.update()}addCachedNodeData(e,t,i,s){return this._addData(e,i,(()=>this._addCachedNodeData(e,t,s)))}async _addCachedNodeData(e,t,i){if(this.suspended||!this._controller.isGeometryVisible(e))return void this._removeNodeStageData(e.index,this.elevationOffset,this._nodeId2MetaReloading);if(h(t))return void this._addNodeMeta(e.index,null);const s=this._addTasks.get(e.index),{geometryData:o,transformedGeometry:a,globalTrafo:n}=t;await this.attributeOverrides.apply(o.featureIds,s.attributeInfo,i);const l=d(t.textureData)?t.textureData.filter((e=>d(e)&&0!=(e.usage&this.rendererTextureUsage))):[];!r(\"disable-feature:i3s-basis\")&&l.some((e=>d(e)&&(2===e.encoding||1===e.encoding)))&&await Ue(),e.memory=0;const{componentOffsets:c,geometries:_,featureIds:m}=o,g=this._collection,p=_[0],{layout:f,indices:b,interleavedVertexData:y,positionData:v,hasColors:I}=a,S=this._materialParameters(p,f),E=c||new Uint32Array([0,b?b.length:y.byteLength/f[0].stride]),D={vertices:{data:y,count:y.byteLength/f[0].stride,layoutParameters:S.geometryParams},positionData:{positions:v.data,indices:v.indices},indices:b,componentOffsets:E},R=p.transformation?j(p.transformation):w();x(R,n,R);const N=O(F(),R),A=M(C(),R),P=this.view.renderSpatialReference,H=this.view.basemapTerrain.spatialReference,U=F(),G=[1,1,1];T(N,P,G,H)||Ge.errorOnce(\"Unsupported coordinate system for IM overlay\"),V(N,P,U,H);const L=g.createObject({toMapSpace:[U[0],U[1],G[0],G[1]],geometry:D,obb:u(e.geometryObb),transform:{position:N,rotationScale:A}}),B=2===S.geometryParams.textureCoordinates,k=this._initMaterialAndTextures(L,S.material,l,B);e.memory+=this.memEstimateGeometryAdded(L),e.memory+=k.reduce(((e,t)=>e+(d(t)?this.memEstimateTextureAdded(t):0)),0);const q=!!S.material.hasParametersFromSource,z=\"blend\"!==S.material.alphaMode&&S.material.metallicRoughness.baseColorFactor[3]>=1,W=new Be(e,m,L,this._getInvalidRendererVersion(),s.attributeInfo,{hasParametersFromSource:q,isOpaque:z},k);s.meta=W,!this._hasTextures&&t.requiredTextures.some((({usage:e})=>0!=(19&e)))&&(this._hasTextures=!0),this._hasData=!0,this._hasColors=this._hasColors||I,this._hasTextures=this._hasTextures||!!e.resources.texture,this.notifyChange(\"hasTexturesOrVertexColors\");const $=this.slicePlaneEnabled;return this._addOrUpdateEdgeRendering(W).then((t=>(d(t)&&t.updateObjectVisibility(W.objectHandle,!1),this._safeReschedule((()=>{const i=this._addTasks.get(e.index);if(!i)return;if(d(this._labeler)&&this._addMetaToLabeler(this._labeler,W),this._addNodeMeta(e.index,W),i.meta=null,this.suspended)return void this._removeNodeStageData(e.index,this.elevationOffset);g.setObjectVisibility(L,1),d(t)&&t.updateObjectVisibility(W.objectHandle,!0),W.attributeInfo=i.attributeInfo;const s=W.cachedRendererVersion!==this._rendererVersion,r=$!==this.slicePlaneEnabled;this._setObjectSymbolColors(W);const o=this._applyFiltersToNode(W);(s||d(t)&&(r||o))&&this._addOrUpdateEdgeRendering(W),this._visibleGeometryChanged(W),this._highlights.objectCreated(W),this._updateMaterial(W),this._setNewNodeOpacity(W),d(this._treeDebugger)&&this._treeDebugger.update()}),i)))).catch((e=>{throw d(s.meta)&&(this._deleteComponentObject(s.meta),s.meta=null),e}))}_addNodeMeta(e,t){if(this._removeNodeStageData(e,this.elevationOffset,this._nodeId2MetaReloading),this._nodeId2Meta.has(e)){Ge.error(\"Removing duplicated node\");const t=this._nodeId2Meta.get(e);d(t)&&this._deleteComponentObject(t)}d(t)&&(t.lodCrossfadeProgress=null,this.nodeCrossfadingEnabled&&ot(t.cachedEdgeMaterials,0)),this._nodeId2Meta.set(e,t)}_safeReschedule(e,t){return m(t),this._controller.reschedule(e,t)}_materialParameters(e,t){const i=e.params.material,s=t.some((e=>\"uvRegion\"===e.name)),r=t.some((e=>\"normalCompressed\"===e.name)),o=Ye(i);return{geometryParams:this._getGeometryParameters({hasTexture:o,hasNormals:r,hasRegions:s}),material:i}}_initMaterialAndTextures(e,t,i,s){const r=this._stage.renderView,o=i.map((e=>_e(e,t,s,r)));for(const a of o)d(a)&&this._stage.add(a);return this._collection.updateMaterial(e,(e=>{me(e,t,o,i,this.view._stage.renderView.textureRepository,{rendererTextureUsage:this.rendererTextureUsage,usePBR:this._usePBR(),isIntegratedMesh:this._isIntegratedMesh,slicePlaneEnabled:this.slicePlaneEnabled,viewSpatialReference:this.view.spatialReference}),this._updateMaterialOverlay(e)})),o}_getGeometryParameters(e){return{textureCoordinates:e.hasTexture?e.hasRegions?2:1:0,colors:this._hasVertexColors,normals:e.hasNormals&&!this._isIntegratedMesh}}_addData(e,t,i){let s=this._addTasks.get(e.index);return s?s.attributeInfo=t:(s={...g(),attributeInfo:t,meta:null},this._addTasks.set(e.index,s),i().then(s.resolve,s.reject).then((()=>this._addTasks.delete(e.index))).catch((t=>{throw this._addTasks.delete(e.index),t}))),s.promise}_clearAddTasks(){this._addTasks.forEach((e=>{d(e.meta)&&(this._deleteComponentObject(e.meta),e.meta=null)})),this._addTasks.clear()}_clippingAreaChanged(){const e=P();Ne(this.view.clippingArea,e,this.view.renderSpatialReference)?this._clippingArea=e:this._clippingArea=null,this._filterChange(),this._controller&&this._controller.updateClippingArea(this.view.clippingArea)}_geometryFilterChange(){this._controller.geometryFilterChanged(this.hasGeometryFilter)}get hasGeometryFilter(){return!1}_filterChange(){this._applyFilters(!1)}_applyFilters(e){this._filters=this.getFilters(),e?this._controller&&this._controller.requestUpdate():this._nodeId2Meta.forEach((e=>{d(e)&&this._applyFiltersToNode(e)&&(this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e))}))}getFilters(){const e=[];return this._clippingArea&&e.push(((e,t)=>this._boundingboxFilter(e,t,this._clippingArea))),e}addSqlFilter(e,t,i){if(d(t)){const s=t.fieldNames;e.push(((e,r)=>this._sqlFilter(e,r,t,s,i)))}}_sqlFilter(e,t,i,s,r){const o={},a=this._createLayerGraphic(o),n=this.i3slayer.objectIdField,l=t.featureIds,h=d(t.attributeInfo)&&t.attributeInfo.attributeData;s.every((e=>null!=h[e]||e===n))&&Ce(e,l,(e=>{o[n]=l[e];for(const i of s)i!==n&&(o[i]=xe(h[i],e));try{return i.testFeature(a)}catch(t){return r(t),!1}}))}_boundingboxNodeTest(e,t){return A(e.node.mbs,this._controller.crsIndex,Xe,this.view.renderSpatialReference),Oe(t,Xe)}_boundingboxFeatureTest(e,t,i){return G(i,this._collection.getComponentAabb(e.objectHandle,t,We))}_boundingboxFilter(e,t,i){const s=this._collection,r=this._boundingboxNodeTest(t,i);if(3===r)return;if(0===r)return void(e.length=0);const o=s.getComponentCount(t.objectHandle);if(o.invisible+o.visible!==t.featureIds.length)return;const a=this._transformAABB($e,i,t.objectHandle);Ce(e,t.featureIds,(e=>this._boundingboxFeatureTest(t,e,a)))}_transformAABB(e,t,i){const s=this._collection.getObjectTransform(i),r=s.position,o=s.rotationScale;return e[0]=(t[0]-r[0])/o[0],e[1]=(t[1]-r[1])/o[4],e[2]=(t[2]-r[2])/o[8],e[3]=(t[3]-r[0])/o[0],e[4]=(t[4]-r[1])/o[4],e[5]=(t[5]-r[2])/o[8],e}_addOrUpdateEdgeRendering(e,t=!0){if(h(this._edgeView))return Promise.resolve(null);const i=e.objectHandle,s=this._edgeView.hasObject(i),{hasEdges:r,perFeatureEdgeMaterials:o}=this._getFilteredEdgeMaterials(e),a={slicePlaneEnabled:this.slicePlaneEnabled};if(r){if(s){if(this.nodeCrossfadingEnabled){ot(o,this.getNodeOpacity(e))}return this._edgeView.updateAllComponentMaterials(i,o,a,t),this._edgeView.updateObjectVisibility(i,!0),Promise.resolve(this._edgeView)}return this._collection.addEdges(i,this._edgeView,o,a).then((()=>this._edgeView))}return s&&this._edgeView.removeObject(i),Promise.resolve(null)}_removeEdgeRendering(e){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._edgeView.removeObject(e.objectHandle)}_applyFiltersToNode(e){return!!this._applyFiltersToNodeComponents(e)&&(d(this._labeler)&&this._labeler.applyFilterChange(e),!0)}_applyFiltersToNodeComponents(e){const t=this._collection,i=0===t.getComponentCount(e.objectHandle).invisible;if(t.setAllComponentVisibilities(e.objectHandle,\"all\"),0===this._filters.length)return e.filteredIds=null,!i;if(this._updateCachedFilteredIds(e),e.filteredIds===e.featureIds)return!i;const s=this._computeFilteredComponentIndices(e);return t.setAllComponentVisibilities(e.objectHandle,s),!0}_updateCachedFilteredIds(e){null!=e.filteredIds&&e.appliedFilters===this._filters||(e.filteredIds=this._computeFilteredIds(e),e.appliedFilters=this._filters)}_computeFilteredIds(e){const t=e.featureIds.slice();for(const i of this._filters)if(i(t,e),0===t.length)break;return t.length===e.featureIds.length?e.featureIds:t}_computeFilteredComponentIndices(e){const t=new Array;return e.featureIds.forEach(((i,s)=>{e.filteredIds[t.length]===i&&t.push(s)})),t}_removeAllNodeDataFromStage(e=this.elevationOffset){this._nodeId2Meta.forEach(((t,i)=>this._removeNodeStageData(i,e))),this._nodeId2MetaReloading.forEach(((t,i)=>this._removeNodeStageData(i,e,this._nodeId2MetaReloading)))}removeNode(e){const t=this.elevationOffset;this._removeNodeStageData(e,t),this._removeNodeStageData(e,t,this._nodeId2MetaReloading)}_removeNodeStageData(e,t,i=this._nodeId2Meta){const s=i.get(e);h(s)?i.delete(e):(this._collection.setObjectVisibility(s.objectHandle,0),this._visibleGeometryChanged(s),this._removeEdgeRendering(s),d(this._labeler)&&this._labeler.removeNodeMeta(s),i.delete(e),this._highlights.objectDeleted(s),i===this._nodeId2Meta?(this._cacheGPUData(s,t),this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopNodeFading(s)):this._deleteComponentObject(s),d(this._treeDebugger)&&this._treeDebugger.update())}_deleteComponentObject(e){if(d(this._edgeView)&&this._edgeView.removeObject(e.objectHandle),this.memEstimateGeometryRemoved(e.objectHandle),this._collection.destroyObject(e.objectHandle),e.textures)for(const t of e.textures)this.memEstimateTextureRemoved(t),this._stage.remove(t)}updateNodeState(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._collection.updateMaterial(i.objectHandle,(e=>e.polygonOffsetEnabled=0===t))}_invalidateAllSymbols(){this._rendererVersion=je(this._rendererVersion,1),this._controller&&this._controller.requestUpdate()}_getInvalidRendererVersion(){return je(this._rendererVersion,-1)}async _rendererChange(e){if(this._currentRenderer=e,this.notifyChange(\"rendererTextureUsage\"),this._rendererVersion=je(this._rendererVersion,1),this._rendererFields=null,this._colorVariable=null,this._opacityVariable=null,this._invalidateAllSymbols(),e&&(this._rendererFields=await e.getRequiredFields(this.i3slayer.fieldsIndex)),this._updateSymbologyFields(),!this._arcade&&e&&\"arcadeRequired\"in e&&e.arcadeRequired&&(this._arcade=await $()),e&&\"visualVariables\"in e&&e.visualVariables)for(const t of e.visualVariables)\"color\"===t.type?this._colorVariable=t:\"opacity\"===t.type?this._opacityVariable=t:Ge.warn(`Unsupported visual variable type for 3D Object Scene Services: ${t.type}`);if(e)for(const t of e.getSymbols())\"mesh-3d\"!==t.type&&Ge.error(`Symbols of type '${t.type}' are not supported for 3D Object Scene Services.`);this._controller&&this._controller.requestUpdate()}_getCachedEdgeMaterials(e){return this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e),e.cachedEdgeMaterials}_getSymbolColors(e){this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e);const t=e.cachedSymbology;return(e,i)=>{const s=5*e;D(i.externalColor,t[s+0]/255,t[s+1]/255,t[s+2]/255,t[s+3]/255),i.externalColorMixMode=15&t[s+4],i.castShadows=0!=(16&t[s+4]),i.pickable=0!=(32&t[s+4])}}_getSymbolInfo(e,t){const i=e&&e.getSymbol(t,{arcade:this._arcade});if(!(i instanceof K))return null;const s=i.id;if(this._symbolInfos.has(s))return this._symbolInfos.get(s);const r=we(i);return this._symbolInfos.set(s,r),r}_setSymbologyOverride(e,t){this._symbologyOverride!==e&&(this._symbologyOverride=e,this._symbologyOverrideFields=t,this._invalidateAllSymbols(),this._updateSymbologyFields())}_updateSymbologyFields(){this._symbologyFields=d(this._symbologyOverrideFields)&&this._symbologyOverrideFields.length>0?d(this._rendererFields)&&this._rendererFields.length>0?B(this.i3slayer.fieldsIndex,[...this._rendererFields,...this._symbologyOverrideFields]):this._symbologyOverrideFields:this._rendererFields}_updateCachedRendererData(e){if(e.cachedRendererVersion=this._rendererVersion,!this._hasSymbolColors)return;const t=this._tmpAttributeOnlyGraphic,i={};t.attributes=i;const s=this._currentRenderer,r=d(e.attributeInfo)&&e.attributeInfo.attributeData,o=null!=e.featureIds?this.i3slayer.objectIdField:null,a=null!=r&&d(this._symbologyFields)&&this._symbologyFields.length>0,n=a?[]:null,l=a?[]:null;if(a&&d(this._symbologyFields))for(const d of this._symbologyFields){const e=r[d];e&&(n.push(d),l.push(e))}e.cachedSymbology||(e.cachedSymbology=new Uint8Array(5*e.featureIds.length));const c={color:Je,castShadows:!0,pickable:!0,colorMixMode:1,edgeMaterial:null},u=this.fullOpacity,_=this.nodeCrossfadingEnabled?this.getNodeOpacity(e):u;let m=null,g=2,p=Se,f=0;for(let b=0;b<e.featureIds.length;b++){if(null!=o&&(i[o]=e.featureIds[b]),a)for(let e=0;e<n.length;e++)i[n[e]]=xe(l[e],b);const r=this._getSymbolInfo(s,t);let u=null,y=null;if(s&&\"visualVariables\"in s){if(this._colorVariable){const e=z(this._colorVariable,t,{color:Qe,arcade:this._arcade});e&&(u=Je,u[0]=e.r/255,u[1]=e.g/255,u[2]=e.b/255,this._opacityVariable||null===e.a||(y=e.a))}this._opacityVariable&&(y=W(this._opacityVariable,t,{arcade:this._arcade}))}if(r&&r.material){const e=r.material;u=h(u)||h(y)?se(u,y,e.color,e.alpha,Le,Je):se(u,y,null,null,Le,Je)}if(h(u)&&(u=Je,u[0]=1,u[1]=1,u[2]=1,u[3]=1),c.pickable=!0,c.castShadows=!r||r.castShadows,c.colorMixMode=r&&r.material?r.material.colorMixMode:1,c.edgeMaterial=r?r.edgeMaterial:null,d(this._symbologyOverride)&&(c.color=u,this._symbologyOverride(t,c),u=c.color),d(c.edgeMaterial)){const t=u[3]<=0?0:u[3]>=1&&(e.material.isOpaque||3===c.colorMixMode)?2:1;c.edgeMaterial===m&&t===g||(p={...c.edgeMaterial,opacity:_,objectTransparency:t},m=c.edgeMaterial,g=t),e.cachedEdgeMaterials[b]=p}else e.cachedEdgeMaterials[b]=Se;e.cachedSymbology[f+0]=Math.round(255*u[0]),e.cachedSymbology[f+1]=Math.round(255*u[1]),e.cachedSymbology[f+2]=Math.round(255*u[2]),e.cachedSymbology[f+3]=Math.round(255*u[3]),e.cachedSymbology[f+4]=c.colorMixMode|+c.castShadows<<4|+c.pickable<<5,f+=5}}_getFilteredEdgeMaterials(e){const t=this._getCachedEdgeMaterials(e);if(this.nodeCrossfadingEnabled||ot(t,this.fullOpacity),h(e.filteredIds)){return{hasEdges:t.some((e=>e!==Se)),perFeatureEdgeMaterials:t}}let i=0,s=!1;const r=t.map(((t,r)=>e.featureIds[r]!==e.filteredIds[i]?Se:(s=s||t!==Se,i++,t)));return{hasEdges:s,perFeatureEdgeMaterials:r}}_setObjectSymbolColors(e){if(!this._hasSymbolColors)return;const t=e.objectHandle,i=this._getSymbolColors(e);this._collection.setComponentData(t,i),this._stage.renderView.setNeedsRender()}_reloadAll(e=this.elevationOffset){this._removeAllNodeDataFromStage(e),null!=this._controller&&this._controller.restartNodeLoading()}_opacityChange(e){this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopAllNodeFading(),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>t.objectOpacity=e)),ot(t.cachedEdgeMaterials,e),this._updateEdgeRendering(t))}))}_updateMaterial(e){this._collection.updateMaterial(e.objectHandle,(e=>{e.commonMaterialParameters.slicePlaneEnabled=this.slicePlaneEnabled,e.usePBR=this._usePBR(),this._updateMaterialOverlay(e)}))}_updateMaterialOverlay(e){}_updateEngineObject(e){this._setObjectSymbolColors(e),this._applyFiltersToNode(e),this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e)}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlane=e),d(this._labeler)&&(this._labeler.slicePlaneEnabled=e),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>{t.commonMaterialParameters.slicePlaneEnabled=e})),this._updateEdgeRendering(t,!1))}))}_updatePBR(){this._nodeId2Meta.forEach((e=>{h(e)||this._collection.updateMaterial(e.objectHandle,(e=>{e.usePBR=this._usePBR()}))})),this._hasLoadedPBRTextures=!0}_usePBR(){return!this._isIntegratedMesh&&this.view.qualitySettings.physicallyBasedRenderingEnabled}_updateEdgeRendering(e,t=!0){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._addOrUpdateEdgeRendering(e,t)}_forAllNodes(e){this._nodeId2Meta.forEach(e)}_forAllFeatures(e,t,i=0){a(this._nodeId2Meta,(s=>{if(h(s))return!1;if(d(t)){switch(t(s)){case 0:return!0;case 2:return!1}}let r=1;switch(i){case 1:r=this._forAllFeaturesOfNode(s,e);break;case 0:r=this._forVisibleFeaturesOfNode(s,e);break;case 2:r=this._forAllFeaturesOfNodeInClippingArea(s,e)}return 0===r}))}_forAllFeaturesOfNode(e,t){let i=1;const s=e.featureIds;for(let r=0;r<s.length;r++)if(i=t(s[r],r,e),0===i)return i;return i}_forVisibleFeaturesOfNode(e,t){let i=1;const s=e.featureIds;return this._collection.forEachVisibleComponent(e.objectHandle,(r=>(i=t(s[r],r,e),1===i))),i}_forAllFeaturesOfNodeInClippingArea(e,t){if(null==this._clippingArea)return this._forAllFeaturesOfNode(e,t);const i=this._boundingboxNodeTest(e,this._clippingArea);if(0===i)return 1;if(3===i)return this._forAllFeaturesOfNode(e,t);const s=1,r=e.featureIds,o=e.objectHandle,a=Ee(this._clippingArea,this._collection.getObjectTransform(o));for(let n=0;n<r.length;n++){if(!this._boundingboxFeatureTest(e,n,a))continue;const i=t(r[n],n,e);if(0===i)return i}return s}_createAttributes(e,t){const i={};null!=t.featureIds&&(i[this._getObjectIdField()]=t.featureIds[e]);const s=d(t.attributeInfo)&&t.attributeInfo.attributeData;if(d(s))for(const r of Object.keys(s))i[r]=xe(s[r],e);return i}_createGraphic(e,t){return this._createLayerGraphic(this._createAttributes(e,t))}highlight(e){const t=this._highlights;if(\"number\"==typeof e||e instanceof i?e=[e]:e instanceof s&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof i){const i=e,s=this.i3slayer.fieldsIndex,r=this._getObjectIdField(),o=i.map((e=>De(s,e.attributes,r))),{set:a,handle:n}=t.acquireSet();return t.setFeatureIds(a,o),n}if(\"number\"==typeof e[0]){const i=e,{set:s,handle:r}=t.acquireSet();return t.setFeatureIds(s,i),r}}return rt}_visibleGeometryChanged(e){this._elevationProvider&&(this._elevationProvider.objectChanged(e.node),null==this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle=p((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))))}get performanceInfo(){const e={displayedNumberOfFeatures:0,maximumNumberOfFeatures:0,totalNumberOfFeatures:0,core:null,index:0,nodes:this._nodeId2Meta.size,\"Total GPU Memory Estimate\":(this.gpuMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Geometry Memory Estimate\":(this.geoMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Texture Memory Estimate\":(this.texMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Unloaded Memory Estimate\":(this.getUnloadedMemory()/1048576).toFixed(1)+\"MB\"};return d(this._memCache)&&(e.MemCache=Math.round(100*this._memCache.hitRate)+\"% hit\"),this._controller&&(this._idbCacheEnabled&&(e.IDBCache=Math.round(100*this._idbCache.getHitRate())+\"% hit\"),this._controller.updateStats(e)),e}get test(){const e=this;return{controller:this._controller,labeler:this._labeler,get visibleObjectIds(){const t=[];return e._forAllFeatures((e=>(t.push(e),1)),null,0),t.sort(((e,t)=>e-t)),t},get numNodes(){return e._nodeId2Meta.size}}}getNodeOpacityByIndex(e){const t=this._nodeId2Meta.get(e);return this.getNodeOpacity(t)}getNodeOpacity(e){return d(e)?this._collection.getMaterial(e.objectHandle).objectOpacity:0}isNodeFullyFadedIn(e){return this._crossfadeHelper.isNodeFullyFadedIn(e)}getNodeCrossfadeMetaData(e){return this._nodeId2Meta.get(e)}markNodeToRemove(e){this._controller&&this._controller.markNodeToRemove(e)}removeMarkedNodes(){this._controller&&this._controller.removeMarkedNodes()}foreachCrossfadeNode(e){this._nodeId2Meta.forEach(((t,i)=>e(i,t)))}fadeNode(e,t,i){if(!this.nodeCrossfadingEnabled)return;const s=this._nodeId2Meta.get(e);d(s)&&this._crossfadeHelper.fadeNode(e,s,t,i)}setNodeOpacityByIndex(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._setNodeOpacity(i,t)}_setNodeOpacity(e,t){this._collection.updateMaterial(e.objectHandle,(e=>e.objectOpacity=t)),this._setNodeEdgeOpacity(e,t)}_setNodeEdgeOpacity(e,t){if(!d(this._edgeView)||!e.cachedEdgeMaterials)return;ot(e.cachedEdgeMaterials,t);const i=e.objectHandle;this._edgeView.hasObject(i)&&this._edgeView.updateAllComponentOpacities(i,t)}get _hasModifications(){return this._modifications&&this._modifications.length>0}updateNodeModificationStatus(e){const t=e.length;if(!this._hasModifications||t<=0||!0!==this._i3sWasmLoaded)return;const i=this.i3slayer.uid,s=st(e);if(d(s)){const t={context:i,buffer:s.buffer};te(t);const r=new Float64Array(s.buffer);e.forAll(((e,t)=>{const i=r[t],s=ie(i);e.imModificationImpact=s,0!==s&&this._controller.invalidateGeometryVisibility(e.index)}))}}notifyUpdate(){this.notifyChange(\"updating\")}notifyLODUpdate(){this._controller.notifyLODUpdate()}isUpdating(){return!(!this._controller||!this._controller.updating)||!!this._visibleGeometryChangedSchedulerHandle||d(this._labeler)&&this._labeler.updating||this._crossfadeHelper.updating||this._i3sWasmLoaded instanceof Promise||this._asyncModuleLoading>0}};return e([v()],o.prototype,\"_hasLoadedPBRTextures\",void 0),e([v()],o.prototype,\"_asyncModuleLoading\",void 0),e([v()],o.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([v()],o.prototype,\"view\",void 0),e([v()],o.prototype,\"i3slayer\",void 0),e([v()],o.prototype,\"_controller\",void 0),e([v()],o.prototype,\"_labeler\",void 0),e([v()],o.prototype,\"updating\",void 0),e([v()],o.prototype,\"suspended\",void 0),e([v()],o.prototype,\"holeFilling\",void 0),e([v(Ae)],o.prototype,\"updatingProgress\",void 0),e([v({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],o.prototype,\"updatingProgressValue\",void 0),e([v({readOnly:!0})],o.prototype,\"hasTexturesOrVertexColors\",null),e([v({readOnly:!0})],o.prototype,\"rendererTextureUsage\",null),e([v({readOnly:!0})],o.prototype,\"elevationOffset\",null),e([v({type:Boolean})],o.prototype,\"slicePlaneEnabled\",void 0),e([v()],o.prototype,\"supportedTextureEncodings\",null),e([v()],o.prototype,\"uncompressedTextureDownsamplingEnabled\",null),e([v({type:[q]})],o.prototype,\"_modifications\",void 0),o=e([I(\"esri.views.3d.layers.I3SMeshView3D\")],o),o},We=P(),$e=P(),Ke=Te(),Je=[0,0,0,0],Qe=new t([0,0,0,0]),Xe=[0,0,0,0];function Ye(e){const t=e.metallicRoughness;return t&&t.baseColorTextureId>=0||t&&t.metallicRoughnessTextureId>=0||e.normalTextureId>=0||e.emissiveTextureId>=0||e.occlusionTextureId>=0}function Ze(e){return\"geometryData\"in e}function et(e){return d(e)&&f(e.data)}function tt(e,t){let i=1024+e.interleavedVertexData.byteLength+(e.indices?e.indices.byteLength:0)+e.positionData.data.byteLength+e.positionData.indices.byteLength;if(d(t))for(const s of t)d(s)&&f(s.data)&&(i+=s.data.byteLength);return i}function it(e,t){return t.byteSize>qe?(Ge.warn(`Node is too big to store in IndexedDB cache: ${e.id} (${t.byteSize} bytes)`),!1):t.byteSize>0}function st(e){if(0===e.length)return null;const t=10*e.length,i=new Float64Array(t);return e.forAll(((e,t)=>{let s=e.serviceObb;h(s)&&(s=Ke,E(s.center,e.mbs),s.halfSize[0]=s.halfSize[1]=s.halfSize[2]=e.mbs[3]);const r=10*t;i[r+0]=s.center[0],i[r+1]=s.center[1],i[r+2]=s.center[2],i[r+3]=s.halfSize[0],i[r+4]=s.halfSize[1],i[r+5]=s.halfSize[2],i[r+6]=s.quaternion[0],i[r+7]=s.quaternion[1],i[r+8]=s.quaternion[2],i[r+9]=s.quaternion[3]})),i}const rt={remove(){},pause(){},resume(){}};function ot(e,t){e.forEach((e=>e.opacity=t))}export{ze as I3SMeshView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{PositionHint as r,indexOf as s}from\"../../../../core/arrayUtils.js\";import n from\"../../../../core/Logger.js\";import{isNone as i,isSome as o}from\"../../../../core/maybe.js\";import{getUnitString as a}from\"../../../../core/unitUtils.js\";import{whenOnce as c}from\"../../../../core/watchUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{t as u,b as f,s as d}from\"../../../../chunks/vec3.js\";import{WhereClause as g}from\"../../../../core/sql/WhereClause.js\";import{projectBoundingSphere as h,load as y,project as m,projectVectorToVector as j}from\"../../../../geometry/projection.js\";import{create as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{fromValues as S,expandWithNestedArray as R,expand as w}from\"../../../../geometry/support/aaBoundingRect.js\";import{project as F}from\"../../../../geometry/support/webMercatorUtils.js\";import{objectIdFilter as E,filterInPlace as I}from\"./I3SUtil.js\";import x from\"../../../layers/support/FeatureFilter.js\";import M from\"../../../../geometry/SpatialReference.js\";const _=n.getLogger(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\");let v,O=class extends t{constructor(e){super(e),this._projectionEngineLoaded=!1}initialize(){c(this,\"filter.geometry\").then((()=>this.loadAsyncModule(G().then((e=>{this.destroyed||(this._geometryEngine=e,this.applyFilters())})))))}get sortedObjectIds(){if(i(this.filter.objectIds))return null;const e=new Float64Array(this.filter.objectIds);return e.sort(),e}get parsedWhereClause(){const e=o(this.filter)?this.filter.where:null;if(i(e)||!e)return null;try{return g.create(e,this.layerFieldsIndex)}catch(t){_.error(`Failed to parse filter where clause: ${t}`)}return null}addFilters(e,t,r,s){const n=this.sortedObjectIds;o(n)&&e.push((e=>E(n,!0,e))),this.addSqlFilter(e,this.parsedWhereClause);const i=this.parsedGeometry;if(o(i)){const n=this.spatialRelationship;e.push(((e,o)=>A(e,o,s,t,r,i,n)))}}isMBSGeoemtryVisible(e,t,r){const s=this.parsedGeometry;if(o(s)){const n=this.spatialRelationship,i=s[0].spatialReference||t;if(!h(e,r,T,i))return _.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"),!0;return C(T,s,i,n)}return!0}get parsedGeometry(){if(i(this.filter))return null;if(!this._geometryEngine)return null;const{geometry:e}=this.filter;if(i(e))return null;const{distance:t,units:r}=this.filter,s=this.spatialRelationship,n=\"mesh\"===e.type?e.extent:e;if(i(t)||0===t)return L(n,s);const c=r||a(n.spatialReference);if(n.spatialReference.isWGS84){return L(this._geometryEngine.geodesicBuffer(n,t,c),s)}const l=F(n,M.WGS84);if(o(l)){return L(F(this._geometryEngine.geodesicBuffer(l,t,c),n.spatialReference),s)}if(!this._projectionEngineLoaded&&(this.loadAsyncModule(y().then((()=>this._projectionEngineLoaded=!0))),!this._projectionEngineLoaded))return null;let p=null;try{p=m(n,M.WGS84)}catch(u){}if(p)try{p=m(this._geometryEngine.geodesicBuffer(p,t,c),n.spatialReference)}catch(u){p=null}return p||_.error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${n.spatialReference.wkid}) to WGS84.`),L(p,s)}get spatialRelationship(){return o(this.filter)?this.filter.spatialRelationship:\"intersects\"}static checkSupport(e){return e.timeExtent?(_.warn(\"Filters with a timeExtent are not supported for mesh scene layers\"),!1):!!B(e.spatialRelationship)||(_.warn(`Filters with spatialRelationship other than ${W.join(\", \")} are not supported for mesh scene layers`),!1)}};function k(){return!!v}async function G(){return k()||(v=await import(\"../../../../geometry/geometryEngine.js\")),v}e([l({type:x})],O.prototype,\"filter\",void 0),e([l()],O.prototype,\"layerFieldsIndex\",void 0),e([l()],O.prototype,\"loadAsyncModule\",void 0),e([l()],O.prototype,\"applyFilters\",void 0),e([l()],O.prototype,\"addSqlFilter\",void 0),e([l({readOnly:!0})],O.prototype,\"sortedObjectIds\",null),e([l({readOnly:!0})],O.prototype,\"parsedWhereClause\",null),e([l({readOnly:!0})],O.prototype,\"parsedGeometry\",null),e([l({readOnly:!0})],O.prototype,\"spatialRelationship\",null),e([l()],O.prototype,\"_projectionEngineLoaded\",void 0),e([l()],O.prototype,\"_geometryEngine\",void 0),O=e([p(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\")],O);const W=(e=>e)([\"contains\",\"intersects\",\"disjoint\"]);function B(e){return null!=e&&W.indexOf(e)>=0}function L(e,t){if(i(e))return null;if(\"disjoint\"===t&&\"polygon\"===e.type){const t=new Array(e.rings.length);for(let r=0;r<e.rings.length;++r){const s=S(1/0,1/0,-1/0,-1/0);R(s,e.rings[r]),t[r]={type:\"polygon\",rings:[e.rings[r]],spatialReference:e.spatialReference,aabr:s}}t.sort(((e,t)=>e.aabr[0]-t.aabr[0]));const n=new Set,i=new r;for(let e=0;e<t.length;++e){const r=t[e];for(let s=e+1;s<t.length;++s){const e=t[s];if(e.aabr[0]>=r.aabr[2])break;n.add(e)}n.forEach((e=>{if(r!==e)if(e.aabr[2]<=r.aabr[0])n.delete(e);else if(v.intersects(r,e)){r.rings=r.rings.concat(e.rings),w(r.aabr,e.aabr,r.aabr),delete r._geVersion,n.delete(e);const o=s(t,e,t.length,i);t.splice(o,1)}})),n.add(r)}for(const e of t)delete e.aabr;return t}return[e]}function C(e,t,r,s){const n=U(e,r);return t.every((e=>1!==q(e,n,s)))}function A(e,t,r,s,n,i,o){const a=i[0].spatialReference||s.spatialReference;if(!h(t.node.mbs,n,T,a))return void _.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter\");const c=U(T,a),l=V(o,s,a,r,t.objectHandle);for(const p of i){if(0===e.length)return;switch(q(p,c,o)){case 1:return void(e.length=0);case 0:continue}I(e,t.featureIds,(e=>H(p,e,l)))}}const T=[0,0,0,0];function V(e,t,r,s,n){const i=t.renderSpatialReference,o=new Map,a={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:r};a.rings[0][3]=a.rings[0][0];const c={indices:null,data:null,stride:0,startIndex:0,endIndex:0};let l,p;switch(e){case\"intersects\":l=(e,t)=>v.intersects(e,t)?0:2,p=Z;break;case\"contains\":l=(e,t)=>v.contains(e,t)?2:1,p=Z;break;default:l=(e,t)=>v.disjoint(e,t)?2:1,p=$}return{collection:s,object:n,type:e,maskSR:r,renderSR:i,aabbCache:o,triangle:a,positions:c,triangleTest:l,geometryTest:p}}function U(e,t){const r={x:e[0],y:e[1],hasZ:!1,hasM:!1,type:\"point\",spatialReference:t},s=!t.isWGS84&&!t.isWebMercator?v.buffer(r,e[3],1):v.geodesicBuffer(r,e[3],1);return s.type=\"polygon\",s}function q(e,t,r){switch(r){case\"intersects\":case\"contains\":return Z(e,t);case\"disjoint\":return $(e,t)}}function Z(e,t){return v.intersects(e,t)?v.contains(e,t)?0:2:1}function $(e,t){return v.intersects(e,t)?v.contains(e,t)?1:2:0}const z=2**-32;function H(e,t,r){const{collection:s,object:n,renderSR:i,maskSR:o,geometryTest:a,aabbCache:c}=r;let l=c.get(t);if(!l){const e=s.getObjectTransform(n);s.getComponentAabb(n,t,P);const r=[[P[0],P[1],0],[P[0],P[4],0],[P[3],P[4],0],[P[3],P[1],0]];for(let t=0;t<4;++t)u(r[t],r[t],e.rotationScale),f(r[t],r[t],e.position),j(r[t],i,r[t],o);l={rings:[r],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:o},l.rings[0][4]=l.rings[0][0],c.set(t,l)}switch(a(e,l)){case 1:return!1;case 0:return!0}const{triangle:p,triangleTest:g,positions:h}=r,y=p.rings[0][0],m=p.rings[0][1],b=p.rings[0][2],S=s.getObjectTransform(n);s.getComponentPositions(n,t,h);const{indices:R,data:w,stride:F,startIndex:E,endIndex:I}=h;for(let x=E;x<I;x+=3){const t=F*R[x+0],r=F*R[x+1],s=F*R[x+2];d(y,w[t+0],w[t+1],w[t+2]),d(m,w[r+0],w[r+1],w[r+2]),d(b,w[s+0],w[s+1],w[s+2]),u(y,y,S.rotationScale),u(m,m,S.rotationScale),u(b,b,S.rotationScale),f(y,y,S.position),f(m,m,S.position),f(b,b,S.position),j(y,i,y,o),j(m,i,m,o),j(b,i,b,o);const n=m[0]-y[0],a=m[1]-y[1],c=b[0]-y[0],l=b[1]-y[1];if(!(Math.abs(n*l-a*c)<z))switch(delete p._geVersion,g(e,p)){case 1:return!1;case 0:return!0}}return\"intersects\"!==r.type}const P=b();export{O as I3SMeshViewFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Error.js\";import s from\"../../../../core/Handles.js\";import{isNone as n}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../../geometry/Extent.js\";import u from\"../../../../layers/graphics/data/QueryEngine.js\";import y from\"../../../../rest/support/FeatureSet.js\";import c from\"../../../../rest/support/Query.js\";const l=u;let p=class extends r{constructor(e){super(e),this._dataQueryEngineInstance=null,this._handles=new s}get defaultQueryJSON(){return new c({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this.ensureDataQueryEngine()}initialize(){this._handles.add(this.layerView.on(\"visible-geometry-changed\",(()=>this.spatialIndex.events.emit(\"changed\"))))}destroy(){this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null),this._handles&&(this._handles.destroy(),this._handles=null),this._set(\"layerView\",null)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:i.fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQuery(e,r){const s=this._ensureQueryJSON(e);if(s.returnGeometry)throw new t(\"feature-store:unsupported-query\",\"returnGeometry is not yet supported for mesh scene layer queries\");if(s.returnCentroid)throw new t(\"feature-store:unsupported-query\",\"returnCentroid is not yet supported for mesh scene layer queries\");const n=await this.dataQueryEngine.executeQuery(s,r),o=y.fromJSON(n);return o.features.forEach((e=>{e.geometry=null})),o}_ensureQueryJSON(e){if(n(e))return this.defaultQueryJSON;const r=e.toJSON();return r.outSpatialReference||(e.outSpatialReference=this.spatialReference),r}ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=this.layer.objectIdField||\"OBJECTID\",r=\"esriGeometryPolygon\",t=this.layer.fields.map((e=>e.toJSON())),s=this.layerView.view.resourceController.scheduler,n=this.spatialReference.toJSON(),o=this.priority,a=this.spatialIndex;return this._dataQueryEngineInstance=new l({hasZ:!0,hasM:!1,geometryType:r,fields:t,timeInfo:null,spatialReference:n,objectIdField:e,featureStore:a,scheduler:s,priority:o}),this._dataQueryEngineInstance}};e([o({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],p.prototype,\"priority\",void 0),e([o({constructOnly:!0})],p.prototype,\"spatialIndex\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.view.spatialReference\"})],p.prototype,\"spatialReference\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.i3slayer\"})],p.prototype,\"layer\",void 0),e([o({readOnly:!0})],p.prototype,\"defaultQueryJSON\",null),p=e([a(\"esri.views.3d.layers.i3s.I3SQueryEngine\")],p);var d=p;export{p as I3SQueryEngine,d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{create as e}from\"../../../../geometry/support/aaBoundingBox.js\";import{getCentroidOptimizedGeometry as r}from\"../../../../layers/graphics/centroid.js\";import o from\"../../../../layers/graphics/OptimizedGeometry.js\";import{getCachedAttributeValue as i}from\"./I3SUtil.js\";class n{constructor(t){this.objectIdField=t.objectIdField,this.getFeatureExtent=t.getFeatureExtent}getObjectId(t){return t.id}getAttributes(e){const{meta:r,index:o}=e,n={};this.objectIdField&&(n[this.objectIdField]=e.id);const s=t(r.attributeInfo)&&r.attributeInfo.attributeData;if(t(s))for(const t of Object.keys(s))n[t]=i(s[t],o);return n}getAttribute(e,r){if(r===this.objectIdField)return e.id;const{meta:o,index:n}=e,s=t(o.attributeInfo)&&o.attributeInfo.attributeData;return t(s)?i(s[r],n):null}getGeometry(t){if(t.geometry)return t.geometry;const[e,r,i,n,a]=this.getFeatureExtent(t,s);return new o([5],[e,r,i,n,r,i,n,a,i,e,a,i,e,r,i])}getCentroid(t,e){if(t.geometry)return r(new o,t.geometry,e.hasZ,e.hasM);const[i,n,a,m,u,d]=this.getFeatureExtent(t,s);return new o([0],[(i+m)/2,(n+u)/2,(a+d)/2])}cloneWithGeometry(t,e){const{id:r,index:o,meta:i}=t;return{id:r,index:o,meta:i,geometry:e}}}const s=e();export{n as I3SQueryFeatureAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec4f64.js\";import{projectBoundingSphere as a}from\"../../../../geometry/projection.js\";import{create as n,toRect as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as i,intersects as u}from\"../../../../geometry/support/aaBoundingRect.js\";let m=class extends r{constructor(e){super(e),this.events=new t}forEach(e){this.forAllFeatures((r=>(e(r),1)))}forEachBounds(e,r,t){const o=this.getFeatureExtent;for(const s of e)r(o(s,t))}forEachInBounds(e,r){this.forAllFeatures((t=>{const o=this.getFeatureExtent(t,l);return u(e,p(o,d))&&r(t),1}),(r=>{if(a(r.node.mbs,this.sourceSpatialReference,f,this.viewSpatialReference),f[0]>=e[0]&&f[2]<=e[2]&&f[1]>=e[1]&&f[3]<=e[3])return 1;const t=Math.max(e[0],Math.min(f[0],e[2])),o=Math.max(e[1],Math.min(f[1],e[3])),s=f[0]-t,c=f[1]-o;return s*s+c*c<=f[3]*f[3]?1:2}))}};e([o({constructOnly:!0})],m.prototype,\"featureAdapter\",void 0),e([o({constructOnly:!0})],m.prototype,\"forAllFeatures\",void 0),e([o({constructOnly:!0})],m.prototype,\"getFeatureExtent\",void 0),e([o({constructOnly:!0})],m.prototype,\"sourceSpatialReference\",void 0),e([o({constructOnly:!0})],m.prototype,\"viewSpatialReference\",void 0),m=e([s(\"esri.views.3d.layers.i3s.I3SQueryFeatureStore\")],m);const f=c(),l=n(),d=i();var h=m;export{m as I3SQueryFeatureStore,h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../core/lang.js\";import{isSome as e,isNone as n}from\"../../../../core/maybe.js\";import{attributeLookup as r}from\"../support/attributeUtils.js\";const o={setAttribute(){},rollback(){},commit(){}};function s(e,r){const s=r.attributes[e.objectIdField],i=e.sessions.get(s);if(i)return i;const a=t(r.attributes),u=new Set;if(null==s)return o;const c=e.attributeOverrides.createInteractiveEditSession(s),f=new Map,l=(t,e)=>{const n=f.get(t);if(null==n){const n=e.indexOf(s);return f.set(t,n),n}return n};let d=0;const b={setAttribute(t,o){if(0!==d)return;const s=e.fieldsIndex.get(t);if(n(s))return;const i=e.attributeStorageInfo.findIndex((t=>t.name===s.name));if(i<0)return;c.set(i,o);const a=e.attributeStorageInfo[i];let f=!1;u.add(t),e.forEachNode(((t,n)=>{const s=l(t,n);if(-1===s)return;const i=e.getAttributeData(t.index);if(i){const n=i[a.name];n&&(n[s]=o,e.setAttributeData(t.index,i,r),f=!0)}})),f&&e.clearMemCache()},rollback(){if(0===d){for(const t of u)this.setAttribute(t,a[t]);c.rollback(),d=1,e.sessions.delete(s)}},commit(){0===d&&(c.commit(),d=2,e.sessions.delete(s))}};return e.sessions.set(s,b),b}function i(t,n){const r=a(t,n);if(0===r.size)return;const o=new Map;for(let e=0;e<t.attributeStorageInfo.length;e++)o.set(t.attributeStorageInfo[e].name,e);let s=!1;r.forEach(((n,r)=>{const i=t.getAttributeData(r);let a=!1;n.forEach(((n,r)=>{const u=e(i)?i[r]:null,c=o.get(r);for(const{featureIndex:e,value:o,featureId:i}of n)u&&(u[e]=o,a=!0,s=!0),t.attributeOverrides.updateValue(i,c,o)})),a&&t.setAttributeData(r,i,null)})),s&&t.clearMemCache()}function a(t,e){const n=e.edits.updateFeatures;if(!n||0===n.length)return new d;const o=f(e),s=new d,i=new Map;for(let r=0;r<t.attributeStorageInfo.length;r++)i.set(t.attributeStorageInfo[r].name,r);const a=t.fieldsIndex,c=t.objectIdField,l=n.filter((t=>{const e=r(a,t.attributes,c);return o.has(e)}));return t.forEachNode(((e,n)=>{const o=new Set(n);for(const i of l){const f=r(a,i.attributes,c);if(!o.has(f))continue;const l=n.indexOf(f);for(const n in i.attributes){const r=t.fieldsIndex.normalizeFieldName(n),o=u(s,e.index,r),a=i.attributes[n];o.push({featureIndex:l,featureId:f,value:a})}}})),s}function u(t,e,n){const r=c(t,e),o=r.get(n);if(o)return o;const s=new Array;return r.set(n,s),s}function c(t,e){const n=t.get(e);if(n)return n;const r=new l;return t.set(e,r),r}function f(t){const e=new Set;if(!t.updatedFeatures)return e;for(const n of t.updatedFeatures)null!=n.objectId&&null==n.error&&e.add(n.objectId);return e}const l=Map,d=Map;export{s as createInteractiveEditSession,i as processAttributeEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";import t from\"./LayerView.js\";class o extends t{constructor(){super(...arguments),this.layer=null,this.filter=null}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,r){throw new Error(\"Not implemented\")}queryObjectIds(e,r){throw new Error(\"Not implemented\")}queryFeatureCount(e,r){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,r){throw new Error(\"Not implemented\")}}e([r()],o.prototype,\"layer\",void 0),e([r()],o.prototype,\"availableFields\",null),e([r()],o.prototype,\"maximumNumberOfFeatures\",null),e([r({readOnly:!0})],o.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([r()],o.prototype,\"filter\",void 0);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import s from\"./Accessor.js\";import e from\"./Logger.js\";import{runTracked as a}from\"./accessorSupport/tracking.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";import{SimpleTrackingTarget as n}from\"./accessorSupport/tracking/SimpleTrackingTarget.js\";const c=s=>{let a=class extends s{constructor(){super(...arguments),this.asyncUpdateState=new Map}autoUpdateAsync(t,s){return o((s=>this.updateAsync(t,s)),s)}async updateAsync(t,s){if(!this.startAsyncUpdate(t)){try{const e=await s();this._set(t,e)}catch(a){e.getLogger(this.declaredClass).warn(`Async update of \"${t}\" failed. Async update functions should not throw exceptions.`)}this.endAsyncUpdate(t)&&this.updateAsync(t,s)}}startAsyncUpdate(t){var s;const e=null!=(s=this.asyncUpdateState.get(t))?s:0;return 1&e?(this.asyncUpdateState.set(t,2|e),!0):(this.asyncUpdateState.set(t,1|e),!1)}endAsyncUpdate(t){var s;const e=-2&(null!=(s=this.asyncUpdateState.get(t))?s:0);return 2&e?(this.asyncUpdateState.set(t,-3&e),!0):(this.asyncUpdateState.set(t,e),!1)}};return a=t([r(\"esri.core.AsyncUpdate\")],a),a};function o(t,s){const e=()=>{o&&!p&&t(r)},r=()=>{if(!o||p)return s();o.clear(),p=!0;const t=a(o,s);return p=!1,t},c=()=>{o&&(o.destroy(),o=null)};let o=new n(e),p=!1;return t(r),{remove:c}}let p=class extends(c(s)){};p=t([r(\"esri.core.AsyncUpdate\")],p);export{p as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{AsyncUpdateMixin as r}from\"../../../../core/AsyncUpdate.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as d,collectLabelingFields as n,collectFilterFields as a}from\"../../../../layers/support/fieldUtils.js\";const p=t.getLogger(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\");let c=class extends(r(s)){constructor(e){super(e)}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:o}=this;return d(e,[...i(r,[]),...i(s,[]),...i(t,[]),...i(o,[])])}initialize(){const e=this.layerView.layer;this.layer=e,this.handles.add([this.autoUpdateAsync(\"rendererFields\",(()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?y((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(()=>{const{layer:e}=this;return e.labelsVisible?y((r=>n(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,filter:r}=this.layerView;return y((s=>a(s,e,r)))}))])}};async function y(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return p.error(s),null}}e([o()],c.prototype,\"layerView\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o()],c.prototype,\"requiredFields\",null),e([o()],c.prototype,\"rendererFields\",void 0),e([o()],c.prototype,\"labelingFields\",void 0),e([o()],c.prototype,\"viewFilterFields\",void 0),c=e([l(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],c);export{c as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{isSome as i,isNone as s,destroyMaybe as o}from\"../../../core/maybe.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as a}from\"../../../core/sql/WhereClause.js\";import u from\"../../../rest/support/Query.js\";import{I3SMeshView3D as d}from\"./I3SMeshView3D.js\";import{LayerView3D as h}from\"./LayerView3D.js\";import{createInteractiveEditSession as p,processAttributeEdits as c}from\"./i3s/attributeEditing.js\";import{createGetFeatureExtent as y}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as f}from\"./i3s/I3SMeshViewFilter.js\";import g from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as m}from\"./i3s/I3SQueryFeatureAdapter.js\";import F from\"./i3s/I3SQueryFeatureStore.js\";import{getIndexCrs as v}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as w}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as _}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as S}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as j}from\"./support/SceneLayerViewRequiredFields.js\";import{updatingProgress as E}from\"../support/updatingProperties.js\";import I from\"../../layers/SceneLayerView.js\";import b from\"../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as x}from\"../../support/floorFilterUtils.js\";import{TaskPriority as C}from\"../../support/Scheduler.js\";const Q=r.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),q=_();let D=class extends(d(w(S(h(I))))){constructor(){super(...arguments),this.type=\"scene-layer-3d\",this.lodFactor=1,this.progressiveLoadFactor=1,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!0,this._interactiveEditingSessions=new Map,this._queryEngine=null}get filter(){return i(this.viewFilter)?this.viewFilter.filter:null}set filter(e){!s(e)&&f.checkSupport(e)?i(this.viewFilter)?this.viewFilter.filter=e:this.viewFilter=new f({filter:e,layerFieldsIndex:this.layer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),applyFilters:()=>this._applyFilters(!0),addSqlFilter:(e,t)=>this.addSqlFilter(e,t,this.logError)}):this.viewFilter=null}get requiredFields(){var e,t;return null!=(e=null==(t=this.fieldsHelper)?void 0:t.requiredFields)?e:[]}get floorFilterClause(){const e=x(this);return i(e)?a.create(e,this.layer.fieldsIndex):null}get lodCrossfadeinDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeinDuration)?e:0}get lodCrossfadeoutDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeoutDuration)?e:0}get lodCrossfadeUncoveredDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeUncoveredDuration)?e:0}initialize(){this.fieldsHelper=new j({layerView:this}),this.updatingHandles.add(this.layer,\"rangeInfos\",(e=>this._rangeInfosChanged(e)),2),this.updatingHandles.add(this.layer,\"renderer\",(e=>this.updatingHandles.addPromise(this._rendererChange(e))),2);for(const e of[\"parsedDefinitionExpression\",\"filter\",\"viewFilter.parsedWhereClause\",\"viewFilter.parsedGeometry\",\"viewFilter.sortedObjectIds\",\"floorFilterClause\"])this.updatingHandles.add(this,e,(()=>this._filterChange()));for(const e of[\"filter\",\"viewFilter.parsedGeometry\"])this.updatingHandles.add(this,e,(()=>this._geometryFilterChange()));this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e))))}destroy(){this.fieldsHelper=o(this.fieldsHelper)}_rangeInfosChanged(e){null!=e&&e.length>0&&Q.warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return i(this.filter)?this.filter.createQuery(e):new u(e)}queryExtent(e,t){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatureCount(e,t){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatures(e,t){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),null==t?void 0:t.signal).then((e=>{if(null==e||!e.features)return e;const t=this.layer;for(const r of e.features)r.layer=t,r.sourceLayer=t;return e}))}queryObjectIds(e,t){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),null==t?void 0:t.signal)}_ensureQueryEngine(){return this._queryEngine||(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=y(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new g({layerView:this,priority:C.FEATURE_QUERY_ENGINE,spatialIndex:new F({featureAdapter:new m({objectIdField:this.layer.objectIdField,attributeStorageInfo:this.layer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,t)=>this._forAllFeatures(((t,r,i)=>e({id:t,index:r,meta:i})),t,2),getFeatureExtent:e,sourceSpatialReference:v(this.layer),viewSpatialReference:this.view.spatialReference})})}highlight(e){const t=this._highlights;if(e instanceof u){const{set:r,handle:i}=t.acquireSet();return this.queryObjectIds(e).then((e=>t.setFeatureIds(r,e))),i}return super.highlight(e)}createInteractiveEditSession(e){return p(this.attributeEditingContext,e)}_createLayerGraphic(e){const r=new t(null,null,e);return r.layer=this.layer,r.sourceLayer=this.layer,r}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}getFilters(){const e=super.getFilters();return this.floorFilterClause&&this.addSqlFilter(e,this.floorFilterClause,this.logError),this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),i(this.viewFilter)&&this.viewFilter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}_ensureQuery(e){return this._addDefinitionExpressionToQuery(s(e)?this.createQuery():u.from(e))}get attributeEditingContext(){return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:this._getObjectIdField(),forEachNode:e=>this._forAllNodes((t=>i(t)?e(t.node,t.featureIds):null)),attributeStorageInfo:this.i3slayer.attributeStorageInfo,attributeOverrides:this.attributeOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(e,t)=>this.setAttributeData(e,t),clearMemCache:()=>this.clearMemCache()}}_handleEdits(e){c(this.attributeEditingContext,e)}get hasGeometryFilter(){const e=this.viewFilter;return i(e)&&i(e.parsedGeometry)}computeNodeFiltering(e){const t=this.viewFilter;return s(t)||t.isMBSGeoemtryVisible(e,this.view.spatialReference,this._controller.crsIndex)?0:1}};e([n({aliasOf:\"layer\"})],D.prototype,\"i3slayer\",void 0),e([n()],D.prototype,\"suspended\",void 0),e([n(E)],D.prototype,\"updatingProgress\",void 0),e([n({type:b})],D.prototype,\"filter\",null),e([n()],D.prototype,\"viewFilter\",void 0),e([n(q.requiredFields)],D.prototype,\"requiredFields\",null),e([n(q.availableFields)],D.prototype,\"availableFields\",void 0),e([n()],D.prototype,\"fieldsHelper\",void 0),e([n()],D.prototype,\"floorFilterClause\",null),e([n({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.3dObject.lodFactor\"})],D.prototype,\"lodFactor\",void 0),e([n({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],D.prototype,\"updatingProgressValue\",void 0),D=e([l(\"esri.views.3d.layers.SceneLayerView3D\")],D);var O=D;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";function t(){return i||(i=new Promise((e=>import(\"../../chunks/i3s.js\").then((function(e){return e.i})).then((({default:t})=>{const i=t({locateFile:n,onRuntimeInitialized:()=>e(i)});delete i.then})))).catch((e=>Promise.reject(e)))),i}function n(t){return e(`esri/libs/i3s/${t}`)}let i;export{t as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{slice as t}from\"../../../core/typedArrayUtil.js\";import{get as r}from\"../../../libs/i3s/I3SModule.js\";async function n(e){await h();const t=[e.geometryBuffer];return{result:y(e,t),transferList:t}}async function o(e){var r;await h();const n=[e.geometryBuffer],{geometryBuffer:o}=e,s=o.byteLength,f=c._malloc(s),i=new Uint8Array(c.HEAPU8.buffer,f,s);i.set(new Uint8Array(o));const a=c.dracoDecompressPointCloudData(f,i.byteLength);if(c._free(f),a.error.length>0)throw`i3s.wasm: ${a.error}`;const u=(null==(r=a.featureIds)?void 0:r.length)>0?t(a.featureIds):null,l=t(a.positions);u&&n.push(u.buffer),n.push(l.buffer);return{result:{positions:l,featureIds:u},transferList:n}}async function s(e){await h(),m(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function f(e){await h(),l(e)}async function i(e){await h(),c.setLegacySchema(e.context,e.jsonSchema)}function a(e){d(e)}let u,c;function l(e){const t=e.modifications,r=c._malloc(8*t.length),n=new Float64Array(c.HEAPU8.buffer,r,t.length);for(let o=0;o<t.length;++o)n[o]=t[o];c.setModifications(e.context,r,t.length,e.isGeodetic),c._free(r)}function y(r,n){if(!c)return null;const{context:o,localOrigin:s,globalTrafo:f,mbs:i,obb:a,elevationOffset:u,geometryBuffer:l,geometryDescriptor:y,indexToVertexProjector:b,vertexToRenderProjector:m}=r,d=c._malloc(l.byteLength),h=33,p=c._malloc(h*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(c.HEAPU8.buffer,d,l.byteLength);g.set(new Uint8Array(l));const w=new Float64Array(c.HEAPU8.buffer,p,h);E(w,s);let A=w.byteOffset+3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A);E(_,f),A+=16*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,i),A+=4*w.BYTES_PER_ELEMENT,e(a)&&(_=new Float64Array(w.buffer,A),E(_,a.center),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.halfSize),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.quaternion));const L=y,T={isDraco:!1,isLegacy:!1,color:r.layouts.some((e=>e.some((e=>\"color\"===e.name)))),normal:r.needNormals&&r.layouts.some((e=>e.some((e=>\"normalCompressed\"===e.name)))),uv0:r.layouts.some((e=>e.some((e=>\"uv0\"===e.name)))),uvRegion:r.layouts.some((e=>e.some((e=>\"uvRegion\"===e.name)))),featureIndex:L.featureIndex},I=c.process(o,!!r.obb,d,g.byteLength,L,T,p,u,b,m,r.normalReferenceFrame);if(c._free(p),c._free(d),I.error.length>0)throw`i3s.wasm: ${I.error}`;if(I.discarded)return null;const P=I.componentOffsets.length>0?t(I.componentOffsets):null,U=I.featureIds.length>0?t(I.featureIds):null,B=t(I.interleavedVertedData).buffer,F=1===I.indicesType?t(new Uint16Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/2)):t(new Uint32Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/4)),v=t(I.positions),x=1===I.positionIndicesType?t(new Uint16Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/2)):t(new Uint32Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/4)),M={layout:r.layouts[0],interleavedVertexData:B,indices:F,hasColors:I.hasColors,hasModifications:I.hasModifications,positionData:{data:v,indices:x}};return U&&n.push(U.buffer),P&&n.push(P.buffer),n.push(B),n.push(F.buffer),n.push(v.buffer),n.push(x.buffer),{componentOffsets:P,featureIds:U,transformedGeometry:M,obb:I.obb}}function b(e){return 0===e?0:1===e?1:2===e?2:3}function m(e){const{context:t,buffer:r}=e,n=c._malloc(r.byteLength),o=r.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(c.HEAPU8.buffer,n,o),f=new Float64Array(r);s.set(f),c.filterOBBs(t,n,o),f.set(s),c._free(n)}function d(e){c&&c.destroy(e)}function E(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}function h(){return c?Promise.resolve():(u||(u=r().then((e=>{c=e,u=null}))),u)}const p={transform:y,destroy:d};export{a as destroyContext,o as dracoDecompressPointCloudData,s as filterObbsForModifications,m as filterObbsForModificationsSync,h as initialize,b as interpretObbModificationResults,n as process,i as setLegacySchema,f as setModifications,l as setModificationsSync,p as test};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../../geometry.js\";import r from\"../../../TimeExtent.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{clone as o}from\"../../../core/lang.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../../core/accessorSupport/decorators/writer.js\";import{fromJSON as l}from\"../../../geometry/support/jsonUtils.js\";import c from\"../../../rest/support/Query.js\";var d;const m=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let h=d=class extends s{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.hiddenIds=new Set,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null,this.enabled=!1}writeWhere(e,t){t.where=e||\"1=1\"}enable(){this._set(\"enabled\",!0)}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:a,distance:p}=this;return new c({geometry:o(r),objectIds:o(n),spatialRelationship:i,timeExtent:o(s),where:t,units:a,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,hiddenIds:i,timeExtent:s,objectIds:n,units:a,distance:p}=this,l=new Set;return i.forEach((e=>l.add(e))),new d({geometry:o(t),hiddenIds:l,objectIds:o(n),spatialRelationship:r,timeExtent:o(s),where:e,units:a,distance:p})}};e([n({type:String})],h.prototype,\"where\",void 0),e([p(\"where\")],h.prototype,\"writeWhere\",null),e([n({types:t,json:{read:l,write:!0}})],h.prototype,\"geometry\",void 0),e([n({type:String,json:{read:{source:\"spatialRel\",reader:m.read},write:{target:\"spatialRel\",writer:m.write}}})],h.prototype,\"spatialRelationship\",void 0),e([n({json:{write:(e,t,r)=>t[r]=Array.from(e),read:e=>new Set(e)}})],h.prototype,\"hiddenIds\",void 0),e([n({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],h.prototype,\"distance\",void 0),e([n({type:[Number],json:{write:!0}})],h.prototype,\"objectIds\",void 0),e([n({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],h.prototype,\"units\",void 0),e([n({type:r,json:{write:!0}})],h.prototype,\"timeExtent\",void 0),e([n({readOnly:!0})],h.prototype,\"enabled\",void 0),h=d=e([a(\"esri.views.layers.support.FeatureFilter\")],h);var y=h;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{t as e,b as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as n}from\"../../../../geometry/projection.js\";import{create as a,set as m,expandWithBuffer as s,NEGATIVE_INFINITY as c,ZERO as f}from\"../../../../geometry/support/aaBoundingBox.js\";function i(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=4&c?m[2]:m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[3*c]=b[0],a[3*c+1]=b[1],a[3*c+2]=b[2];return a}function u(e,o,r){const a=new Float64Array(24);return u=>{let l=u.meta.featureExtents;if(t(l)){l=new Float64Array(6*u.meta.featureIds.length),u.meta.featureExtents=l;for(let t=0;t<l.length;t+=6)l[t]=Number.POSITIVE_INFINITY}const p=new Float64Array(l.buffer,6*u.index*Float64Array.BYTES_PER_ELEMENT,6);return p[0]===Number.POSITIVE_INFINITY&&(i(u.index,r,u.meta.objectHandle,a),n(a,o,0,a,e,0,8)?(m(p,c),s(p,a,0,8)):m(p,f)),p}}function l(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);a[0]=0,a[1]=0,a[2]=0;for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[0]+=b[0],a[1]+=b[1],a[2]+=b[2];return a[0]/=8,a[1]/=8,a[2]/=8,a}const p=a(),b=r();export{i as boundingBoxCornerPoints,l as boundingBoxTop,u as createGetFeatureExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{applySome as e,isSome as t}from\"../../../../../core/maybe.js\";class r{constructor(t,r){this._textureRep=t,this._textureId=r,this._textureRef=e(this._textureId,(e=>this._textureRep.acquire(e)))}dispose(){this._textureRef=e(this._textureId,(e=>{this._textureRep.release(e)}))}bind(e,r,i){if(t(this._textureRef)){const t=this._textureRef.glTexture;e.bindTexture(t,r),e.setUniform2f(i,t.descriptor.width,t.descriptor.height)}}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as t}from\"../../../../core/maybe.js\";import{RenderTexture as s}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as n}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as l}from\"../../webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{getEllipsoidMode as i}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";function u(e,a){const r=new Map,s=(e,a)=>{if(t(e))return-1;if(r.has(e.id)){const o=r.get(e.id);return o.usage|=a,o.id}const o=r.size;return r.set(e.id,{id:o,usage:a}),o},l=a.pbrMetallicRoughness,i=l&&l.baseColorFactor,c=a.emissiveFactor,u=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=u?n[0]:l?l.metallicFactor:1,p=u?n[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?33:1,f={baseColorFactor:i?[i[0],i[1],i[2],i[3]]:[1,1,1,1],baseColorTextureId:s(l&&l.baseColorTexture,h),metallicRoughnessTextureId:s(l&&l.metallicRoughnessTexture,2),metallicFactor:g,roughnessFactor:p},x={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?0:\"back\"===a.cullFace?2:\"front\"===a.cullFace?1:void 0,normalTextureId:s(a.normalTexture,4),emissiveTextureId:s(a.emissiveTexture,16),occlusionTextureId:s(a.occlusionTexture,8),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:f,wrapTextures:!1,hasParametersFromSource:u},b=[];return r.forEach((({usage:a},r)=>{const t=o(e)&&e[r]&&e[r].formats,s=t?m(t.map((({name:e,format:a})=>({name:e,encoding:d[a]})))):[];b.push({id:r,usage:a,encodings:s})})),{material:x,textures:b}}function m(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const d={ktx2:1,basis:2,dds:4,png:8,jpg:16,\"ktx-etc2\":32},g={[c.KTX2_ENCODING]:2,[c.BASIS_ENCODING]:2,[c.DDS_ENCODING]:4,\"image/png\":8,\"image/jpg\":16,\"image/jpeg\":16,\"image/ktx\":32};function p(e){const r=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,o=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,t=r&&e.materialDefinitions[r],s=o&&e.textureDefinitions[o],n=h();if(null!=t){const e=t.params;e.diffuse&&(n.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(n.doubleSided=e.doubleSided,n.cullFace=e.doubleSided?0:2),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(n.cullFace=\"none\"===e.cullFace?0:\"back\"===e.cullFace?2:1),e.transparency&&(n.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||n.metallicRoughness.baseColorFactor[3]<1)&&(n.alphaMode=\"blend\")}const l=[];if(null!=s){const e=0;!s.wrap||\"repeat\"!==s.wrap[0]&&\"repeat\"!==s.wrap[1]||(n.wrapTextures=!0);let a=1;\"rgba\"===s.channels&&(n.alphaMode=\"blend\",a|=32);const r=s.images.length-1,o=s.images[r],t=e=>e&&e.split(\"/\").pop(),i=Array.isArray(s.encoding)?m(s.encoding.map(((e,a)=>({name:t(o.href[a]),encoding:g[e]||0})))):[{name:t(o.href),encoding:g[s.encoding]||0}];l.push({id:e,usage:a,encodings:i}),n.metallicRoughness.baseColorTextureId=e}return{material:n,textures:l}}const h=()=>({alphaMode:\"opaque\",alphaCutoff:l,doubleSided:!0,cullFace:0,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function f(e,a,o,s){if(t(e)||null==e.data)return null;const n=e.data,l=!(n instanceof HTMLImageElement)||r(n.width)&&r(n.height),i=s.renderingContext.parameters.maxMaxAnisotropy,u=o&&!s.capabilities.shaderTextureLOD?1:i,m=l&&!e.downsampled&&u>1,d=o||!a.wrapTextures?x:b,g=I(e.encoding),p=1&e.usage?\"opaque\"===a.alphaMode?3:4:3;return new c(n,{mipmap:m,maxAnisotropy:u,encoding:g,wrap:d,components:p,noUnpackFlip:!0})}const x={s:33071,t:33071},b={s:10497,t:10497};function F(e,r,o,t,n,c){const u=c.rendererTextureUsage,m=e=>w(t,o,e&u),d=r.metallicRoughness.baseColorFactor,g=a(r.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[d[0],d[1],d[2],g],e.hasParametersFromSource=!!r.hasParametersFromSource,e.usePBR=c.usePBR,e.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],e.emissiveFactor=r.emissiveFactor,e.isIntegratedMesh=c.isIntegratedMesh,e.alphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:l,e.alphaDiscardMode=\"opaque\"===r.alphaMode?1:\"mask\"===r.alphaMode?2:3;const p=m(33);p&&(e.baseColorTexture=new s(n,p));const h=m(2);h&&(e.metallicRoughnessTexture=new s(n,h));const f=m(16);f&&(e.emissionTexture=new s(n,f));const x=m(8);x&&(e.occlusionTexture=new s(n,x));const b=m(4);b&&(e.normalTexture=new s(n,b)),e.commonMaterialParameters.slicePlaneEnabled=c.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=r.doubleSided,e.commonMaterialParameters.cullFace=r.cullFace,e.ellipsoidMode=i(c.viewSpatialReference)}function T(a){const r=!!a.compressedTextureS3TC,o=!!a.compressedTextureETC,t=e(\"disable-feature:i3s-basis\")?0:3;return 24|(r?4|t:0)|(o?t:0)}function C(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,r){if(t(e)||0===r)return null;for(let t=0;t<e.length;t++){const s=e[t];if(o(s)&&0!=(s.usage&r))return a[t].id}return null}function I(e){switch(e){case 1:return c.KTX2_ENCODING;case 2:return c.BASIS_ENCODING;case 4:return c.DDS_ENCODING;case 8:return\"image/png\";case 16:return\"image/jpeg\";case 32:return\"image/ktx\";default:return\"\"}}export{F as configureMaterial,f as createTexture,u as getMaterialAndTextures,p as getMaterialAndTexturesFromShared,T as getSupportedEncodings,C as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=w(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=P(s),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(d)&&!i(d)?g?j(this,u,s,d,a,l,f,e):I(d,a,l,f):f&&f.portalItem&&(r(d)||t(h(d))||n(d)||g)?U(this,u,s,d,a,l,f,e):a[l]=d}}}}function U(t,r,o,i,u,a,c,l){const m=p(),y=S(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===u(a.path)?(O(t,r,a,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,p)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n"],"sourceRoot":""}