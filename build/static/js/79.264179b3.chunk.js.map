{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js","../node_modules/@arcgis/core/layers/graphics/objectIdUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/support/MemorySourceWorker.js","../node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","../node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js"],"names":["m","e","this","geometryInfo","_boundsStore","h","_featuresById","Map","_markedIds","Set","events","t","featureAdapter","u","geometryType","hasM","hasZ","size","numFeatures","a","d","forEach","r","get","objectId","Math","min","max","s","geometry","coords","length","featureCount","vertexCount","_add","_emitChanged","clear","_remove","invalidateIndex","i","has","forEachInBounds","emit","add","displayId","delete","onFeatureAdd","o","set","n","getLogger","error","feature","onFeatureRemove","code","description","l","globalId","success","uniqueId","c","p","f","push","name","message","details","field","originalValue","sanitizedValue","editable","parseFloat","String","TypeError","simplify","g","y","attributes","isFinite","q","R","xmin","ymin","xmax","ymax","spatialReference","D","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","O","z","w","S","_queryEngine","_nextObjectId","destroy","_requiredFields","_fieldsIndex","_createDefaultAttributes","features","_inferLayerProperties","fields","I","b","F","_","objectIdField","j","timeInfo","some","type","nullable","unshift","alias","x","jsonValues","indexOf","T","E","startTimeField","endTimeField","trackIdField","warnings","featureErrors","layerDefinition","drawingInfo","templates","extent","assignedObjectIds","featureStore","cacheSpatialQueries","_loadInitialFeatures","Promise","all","adds","updates","_applyEdits","executeQuery","signal","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","toLowerCase","uid","_assignObjectId","addMany","fullExtent","timeExtent","start","end","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","removeManyById","featureEditResults","getFeature","compareMinX","compareMinY","toBBox","_maxEntries","_minEntries","ceil","_initFormat","M","prune","X","Y","B","_all","data","children","leaf","pop","insert","_build","slice","height","_splitRoot","_insert","indexHint","splice","_condense","pushArray","log","sqrt","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","console","_allDistMargin","sort","Function","join","minX","minY","maxX","maxY","deallocator","arguments","renderer","symbol","JSON","stringify","prototype","attachment","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","query","queryRelated","supportsCount","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","getObjectId","getAttributes","getAttribute","cloneWithGeometry","getGeometry","getCentroid","centroid","_indexInvalid","_boundsToLoad","_boundsById","_idByBounds","_index","_loadIndex","Array","load","filter","remove","search"],"mappings":"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","file":"static/js/79.264179b3.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Evented.js\";import r from\"../../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import{fromRect as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as a,NEGATIVE_INFINITY as d}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as n}from\"../featureConversionUtils.js\";import{BoundsStore as h}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as u}from\"./optimizedFeatureQueryEngineAdapter.js\";class m{constructor(e){this.geometryInfo=e,this._boundsStore=new h,this._featuresById=new Map,this._markedIds=new Set,this.events=new t,this.featureAdapter=u}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=a(d);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{s(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(i(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(t){if(!t)return;const i=t.objectId;if(null==i)return void r.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new e(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:t}));const d=this._featuresById.get(i);let h;if(this._markedIds.add(i),d?(t.displayId=d.displayId,h=this._boundsStore.get(i),this._boundsStore.delete(i)):s(this.onFeatureAdd)&&this.onFeatureAdd(t),o(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,t);h=n(s(h)?h:a(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),s(h)&&this._boundsStore.set(i,h),this._featuresById.set(i,t)}_remove(e){return s(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isValid as t}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{sanitizeNullFieldValue as e,validateFieldValue as n,validationErrorToString as i,isNumericField as r,isStringField as s}from\"../../../support/fieldUtils.js\";class o{constructor(){this.code=null,this.description=null}}class l{constructor(t){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function u(t){return new l(t)}class a{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new a(t)}const f=new Set;function d(t,e,r,s,o=!1,l){f.clear();for(const a in r){const s=t.get(a);if(!s)continue;const c=r[a],d=m(s,c);if(d!==c&&l&&l.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:s,originalValue:c,sanitizedValue:d}}),f.add(s.name),s&&(o||s.editable)){const t=n(s,d);if(t)return u(i(t,s,d));e[s.name]=d}}if(s)for(const n of s)if(!f.has(n.name))return u(`missing required field \"${n.name}\"`);return null}function m(t,n){let i=n;return\"string\"==typeof n&&r(t)?i=parseFloat(n):null!=n&&s(t)&&\"string\"!=typeof n&&(i=String(n)),e(i)}let p;function h(e,n){if(!e||!t(n))return e;if(\"rings\"in e||\"paths\"in e){if(!p)throw new TypeError(\"geometry engine not loaded\");return p.simplify(n,e)}return e}async function g(){return p||(p=await import(\"../../../../geometry/geometryEngineJSON.js\"),p)}async function y(e,n){!t(e)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await g()}export{u as createFeatureEditErrorResult,c as createFeatureEditSuccessResult,g as loadGeometryEngine,y as loadGeometryEngineForSimplify,d as mixAttributes,h as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst t=1;function n(t,n){let o=0;for(const r of n){var e;const n=null==(e=r.attributes)?void 0:e[t];\"number\"==typeof n&&isFinite(n)&&(o=Math.max(o,n))}return o}export{n as findLastObjectIdFromFeatures,t as initialObjectId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isNone as t,isSome as i}from\"../../../../core/maybe.js\";import{getJsonType as s,isPoint as r}from\"../../../../geometry/support/jsonUtils.js\";import{WGS84 as n}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{convertFromFeatures as a,convertToFeature as l,convertFromFeature as o}from\"../../featureConversionUtils.js\";import{initialObjectId as d,findLastObjectIdFromFeatures as u}from\"../../objectIdUtils.js\";import p from\"../../data/FeatureStore.js\";import{checkProjectionSupport as f,project as y}from\"../../data/projectionSupport.js\";import c from\"../../data/QueryEngine.js\";import{createDefaultAttributesFunction as m,createDrawingInfo as h,createDefaultTemplate as g}from\"./clientSideDefaults.js\";import{loadGeometryEngineForSimplify as I,createFeatureEditErrorResult as b,mixAttributes as F,createFeatureEditSuccessResult as _,simplify as j}from\"./sourceUtils.js\";import E from\"../../../support/FieldsIndex.js\";import{kebabDict as x}from\"../../../support/fieldType.js\";import{getFieldDefaultValue as T}from\"../../../support/fieldUtils.js\";const q=n,R={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:n},D={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};function O(e){return r(e)?null!=e.z:!!e.hasZ}function w(e){return r(e)?null!=e.m:!!e.hasM}class S{constructor(){this._queryEngine=null,this._nextObjectId=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null}async load(t){const i=[],{features:s}=t,r=this._inferLayerProperties(s,t.fields),n=t.fields||[],a=null!=t.hasM?t.hasM:r.hasM,l=null!=t.hasZ?t.hasZ:r.hasZ,o=!t.spatialReference&&!r.spatialReference,y=o?q:t.spatialReference||r.spatialReference,I=o?R:null,b=t.geometryType||r.geometryType,F=!b;let _=t.objectIdField||r.objectIdField,j=t.timeInfo;if(!F&&(o&&i.push({name:\"feature-layer:spatial-reference-not-found\",message:\"Spatial reference not provided or found in features. Defaults to WGS84\"}),!b))throw new e(\"feature-layer:missing-property\",\"geometryType not set and couldn't be inferred from the provided features\");if(!_)throw new e(\"feature-layer:missing-property\",\"objectIdField not set and couldn't be found in the provided fields\");if(r.objectIdField&&_!==r.objectIdField&&(i.push({name:\"feature-layer:duplicated-oid-field\",message:`Provided objectIdField \"${_}\" doesn't match the field name \"${r.objectIdField}\", found in the provided fields`}),_=r.objectIdField),_&&!r.objectIdField){let e=null;n.some((t=>t.name===_&&(e=t,!0)))?(e.type=\"esriFieldTypeOID\",e.editable=!1,e.nullable=!1):n.unshift({alias:_,name:_,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}for(const d of n){if(null==d.name&&(d.name=d.alias),null==d.alias&&(d.alias=d.name),!d.name)throw new e(\"feature-layer:invalid-field-name\",\"field name is missing\",{field:d});if(d.name===_&&(d.type=\"esriFieldTypeOID\"),-1===x.jsonValues.indexOf(d.type))throw new e(\"feature-layer:invalid-field-type\",`invalid type for field \"${d.name}\"`,{field:d})}const O={};this._requiredFields=[];for(const e of n)if(\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type){e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable;const t=T(e);e.nullable||void 0!==t?O[e.name]=t:this._requiredFields.push(e)}if(this._fieldsIndex=new E(n),this._createDefaultAttributes=m(O,_),j){if(j.startTimeField){const e=this._fieldsIndex.get(j.startTimeField);e?(j.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):j.startTimeField=null}if(j.endTimeField){const e=this._fieldsIndex.get(j.endTimeField);e?(j.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):j.endTimeField=null}if(j.trackIdField){const e=this._fieldsIndex.get(j.trackIdField);e?j.trackIdField=e.name:(j.trackIdField=null,i.push({name:\"feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:j}}))}j.startTimeField||j.endTimeField||(i.push({name:\"feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing or invalid\",details:{timeInfo:j}}),j=null)}const w={warnings:i,featureErrors:[],layerDefinition:{...D,drawingInfo:h(b),templates:g(O),extent:I,geometryType:b,objectIdField:_,fields:n,hasZ:!!l,hasM:!!a,timeInfo:j},assignedObjectIds:{}};if(this._queryEngine=new c({fields:n,geometryType:b,hasM:a,hasZ:l,objectIdField:_,spatialReference:y,featureStore:new p({geometryType:b,hasM:a,hasZ:l}),timeInfo:j,cacheSpatialQueries:!0}),!s||!s.length)return this._nextObjectId=d,w;const S=u(_,s);return this._nextObjectId=S+1,await f(s,y),this._loadInitialFeatures(w,s)}async applyEdits(e){const{spatialReference:t,geometryType:i}=this._queryEngine;return await Promise.all([I(t,i),f(e.adds,t),f(e.updates,t)]),this._applyEdits(e)}queryFeatures(e,t={}){return this._queryEngine.executeQuery(e,t.signal)}queryFeatureCount(e,t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}queryObjectIds(e,t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}queryExtent(e,t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}querySnapping(e,t={}){return this._queryEngine.executeQueryForSnapping(e,t.signal)}_inferLayerProperties(e,i){let r,n,a=null,l=null,o=null;for(const d of e){const e=d.geometry;if(!t(e)&&(a||(a=s(e)),l||(l=e.spatialReference),null==r&&(r=O(e)),null==n&&(n=w(e)),a&&l&&null!=r&&null!=n))break}if(i&&i.length){let e=null;i.some((t=>{const i=\"esriFieldTypeOID\"===t.type,s=!t.type&&t.name&&\"objectid\"===t.name.toLowerCase();return e=t,i||s}))&&(o=e.name)}return{geometryType:a,spatialReference:l,objectIdField:o,hasM:n,hasZ:r}}_loadInitialFeatures(e,t){const{geometryType:r,hasM:n,hasZ:l,objectIdField:o,spatialReference:d,featureStore:u}=this._queryEngine,p=[];for(const a of t){if(null!=a.uid&&(e.assignedObjectIds[a.uid]=-1),a.geometry&&r!==s(a.geometry)){e.featureErrors.push(b(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),n=F(this._fieldsIndex,t,a.attributes,this._requiredFields,!0,e.warnings);n?e.featureErrors.push(n):(this._assignObjectId(t,a.attributes,!0),a.attributes=t,null!=a.uid&&(e.assignedObjectIds[a.uid]=a.attributes[o]),i(a.geometry)&&(a.geometry=y(a.geometry,a.geometry.spatialReference,d)),p.push(a))}if(u.addMany(a([],p,r,l,n,o)),e.layerDefinition.extent=this._queryEngine.fullExtent,e.layerDefinition.timeInfo){const{start:t,end:i}=this._queryEngine.timeExtent;e.layerDefinition.timeInfo.timeExtent=[t,i]}return e}_applyEdits(e){const{adds:t,updates:i,deletes:s}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),i&&i.length&&this._applyUpdateEdits(r,i),s&&s.length){for(const e of s)r.deleteResults.push(_(e));this._queryEngine.featureStore.removeManyById(s)}return{fullExtent:this._queryEngine.fullExtent,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:r}=e,{geometryType:n,hasM:l,hasZ:o,objectIdField:d,spatialReference:u,featureStore:p}=this._queryEngine,f=[];for(const a of t){if(a.geometry&&n!==s(a.geometry)){r.push(b(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),l=F(this._fieldsIndex,t,a.attributes,this._requiredFields);if(l)r.push(l);else{if(this._assignObjectId(t,a.attributes),a.attributes=t,null!=a.uid){const t=a.attributes[d];e.uidToObjectId[a.uid]=t}i(a.geometry)&&(a.geometry=y(j(a.geometry,u),a.geometry.spatialReference,u)),f.push(a),r.push(_(a.attributes[d]))}}p.addMany(a([],f,n,o,l,d))}_applyUpdateEdits({updateResults:e},t){const{geometryType:r,hasM:n,hasZ:a,objectIdField:d,spatialReference:u,featureStore:p}=this._queryEngine;for(const f of t){const{attributes:t,geometry:c}=f,m=t&&t[d];if(null==m){e.push(b(`Identifier field ${d} missing`));continue}if(!p.has(m)){e.push(b(`Feature with object id ${m} missing`));continue}const h=l(p.getFeature(m),r,a,n);if(i(c)){if(r!==s(c)){e.push(b(\"Incorrect geometry type.\"));continue}h.geometry=y(j(c,u),c.spatialReference,u)}if(t){const i=F(this._fieldsIndex,h.attributes,t,this._requiredFields);if(i){e.push(i);continue}}p.add(o(h,r,a,n,d)),e.push(_(m))}}_assignObjectId(e,t,i=!1){const s=this._queryEngine.objectIdField;i&&t&&isFinite(t[s])?e[s]=t[s]:e[s]=this._nextObjectId++}}export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{assumeNonNull as n}from\"../../maybe.js\";import e from\"../../PooledArray.js\";import{q as s}from\"../../../chunks/quickselect.js\";class h{constructor(t=9,i){this.compareMinX=l,this.compareMinY=c,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this.toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),M.prune(),X.prune(),Y.prune(),B.prune()}all(t){this._all(this.data,t)}search(t,i){let n=this.data;const e=this.toBBox;if(p(t,n))for(M.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;p(t,a)&&(n.leaf?i(h):x(t,a)?this._all(h,i):M.push(h))}n=M.pop()}}collides(t){let i=this.data;const n=this.toBBox;if(!p(t,i))return!1;for(M.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(p(t,h)){if(i.leaf||x(t,h))return!0;M.push(s)}}i=M.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const t=this.data;this.data=i,i=t}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(i){if(!i)return this;let e,s=this.data,h=null,a=0,r=!1;const o=this.toBBox(i);for(Y.clear(),B.clear();s||Y.length>0;){var l;if(!s)s=n(Y.pop()),h=Y.data[Y.length-1],a=null!=(l=B.pop())?l:0,r=!0;if(s.leaf&&(e=t(s.children,i,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),Y.push(s),this._condense(Y),this;r||s.leaf||!x(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(Y.push(s),B.push(a),a=0,h=s,s=s.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){let n=t;for(X.clear();n;){var e;if(!0===n.leaf)for(const t of n.children)i(t);else X.pushArray(n.children);n=null!=(e=X.pop())?e:null}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this.toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));g(t,i,n,l,this.compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);g(t,a,i,o,this.compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1))}}return a(r,this.toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=d(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}_insert(t,i,n){const e=this.toBBox,s=n?t:e(t);Y.clear();const h=this._chooseSubtree(s,this.data,i,Y);for(h.children.push(t),o(h,s);i>=0&&Y.data[i].children.length>this._maxEntries;)this._split(Y,i),i--;this._adjustParentBBoxes(s,Y,i)}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log(\"  Error: assertion failed at PooledRBush._split: no valid split index\");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this.toBBox),a(o,this.toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,i){this.data=new j([t,i]),this.data.height=t.height+1,a(this.data,this.toBBox)}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this.toBBox),o=r(t,a,n,this.toBBox),l=f(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a)}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this.toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=u(h)+u(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=u(h)}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=u(a)}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t)}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const s=i.data[n-1],h=s.children;h.splice(t(h,e,h.length,s.indexHint),1)}else this.clear();else a(e,this.toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i){r(t,0,t.children.length,i,t)}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function f(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function x(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function g(t,i,e,h,a){const r=[i,e];for(;r.length;){const i=n(r.pop()),e=n(r.pop());if(i-e<=h)continue;const o=e+Math.ceil((i-e)/h/2)*h;s(t,o,e,i,a),r.push(e,o,o,i)}}const M=new e,X=new e,Y=new e,B=new e({deallocator:void 0});class _{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends _{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1}}export{_ as BBox,h as PooledRBush,h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as s}from\"../../../../core/lang.js\";import{queryCapabilities as e}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as p,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function u(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?p:o}}}function n(s,e){if(t(\"csp-restrictions\"))return()=>({[e]:null,...s});try{let t=`this.${e} = null;`;for(const e in s){t+=`this${e.indexOf(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(s[e])};`}const r=new Function(t);return()=>new r}catch(r){return()=>({[e]:null,...s})}}function i(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:s(t)}}]}function a(t,s){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:s,supportsDelete:s,supportsEditing:s,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:s,supportsExceedsLimitStatistics:!0},query:e,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:s,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{a as createCapabilities,n as createDefaultAttributesFunction,i as createDefaultTemplate,u as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getCentroidOptimizedGeometry as t}from\"../centroid.js\";import e from\"../OptimizedFeature.js\";import r from\"../OptimizedGeometry.js\";const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,r)=>new e(r,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(e,o)=>(e.centroid||(e.centroid=t(new r,e.geometry,o.hasZ,o.hasM)),e.centroid)};export{o as default,o as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport i from\"../../../core/has.js\";import{PooledRBush as s}from\"../../../core/libs/rbush/PooledRBush.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i,s,d){n.minX=s[0],n.minY=s[1],n.maxX=s[2],n.maxY=s[3],i.search(n,d)}class e{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s(9,i(\"csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),t(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{e as BoundsStore};\n"],"sourceRoot":""}