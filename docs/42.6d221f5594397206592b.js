(function(){var e={"esri/widgets/smartMapping/support/utils":1619,"esri/widgets/smartMapping/SmartMappingSliderBase":1714,"esri/widgets/Slider/SliderViewModel":1715,"esri/widgets/smartMapping/SmartMappingSliderViewModel":1716,"esri/smartMapping/statistics/histogram":1805,"esri/smartMapping/statistics/summaryStatistics":1806,"esri/widgets/smartMapping/ColorSlider":1807,"esri/widgets/Histogram":1808,"esri/widgets/Histogram/HistogramViewModel":1809,"esri/widgets/Slider":1810,"esri/widgets/smartMapping/ColorSlider/ColorSliderViewModel":1812,"esri/widgets/smartMapping/SizeSlider":1813,"esri/widgets/smartMapping/SizeSlider/SizeSliderViewModel":1814},t=this||window,i=t.webpackJsonp=t.webpackJsonp||[];i.registerAbsMids?i.registerAbsMids(e):(i.absMidsWaiting=i.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1619:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(20),i(2),i(192),i(321),i(430)],void 0===(o=function(e,t,i,n,o,r,a){Object.defineProperty(t,"__esModule",{value:!0}),t.formatDateLabel=function(e){return o.formatDate(new Date(e),r.timelineDateFormatOptions)},t.getDeviationValues=function(e,t,i){if(!n.isSome(t)||!n.isSome(e))return[];for(var o=[],r=-1*i;r<=i;r++)0!==r&&o.push(t+r*e);return o},t.getPathForSizeStops=function(e){var t=e.bottomValue,i=e.bottomWidth,n=e.max,o=e.min,r=e.pathHeight,a=e.pathWidth,s=e.topValue,l=e.topWidth*a,u=i*a,d=n-o,p=Math.round(r-(t-o)/d*r);return"M"+l+" 0 L"+l+" "+Math.round(r-(s-o)/d*r)+" L"+u+" "+p+" L"+u+" "+r+" L0 "+r+" L0 0 Z"},t.getSizesFromVariable=function(e){var t=e.maxSize,i=e.minSize;return t instanceof a&&(t=t.stops[0].size),i instanceof a&&(i=i.stops[0].size),[t,i]},t.getStopChanges=function(e,t,i){for(var n=i.length-1,o=i[0],r=i[n]-o,a=t-e,s=[],l=1;l<n;l++){var u=(i[l]-o)/r*a+e;s.push({index:l,value:u})}return s.unshift({index:0,value:e}),s.push({index:n,value:t}),s},t.getFillFromColor=function(e){return e instanceof i?e.toCss(!0):i.fromString(e).toCss(!0)}}.apply(null,n))||(e.exports=o)},1714:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(20),i(2),i(13),i(1),i(1808),i(1810),i(68),i(1619),i(60)],void 0===(o=function(e,t,i,n,o,r,a,s,l,u,d,p){Object.defineProperty(t,"__esModule",{value:!0});var h="zoom-cap",c="zoom-cap--line",m="zoom-cap--mask",_="zoom-cap--underline",v=function(e){function t(t,n){var o=e.call(this,t,n)||this;o.hasTimeData=null,o.histogram=new s({layout:"vertical"}),o.histogramConfig=null,o.inputFormatFunction=null,o.inputParseFunction=null,o.labelFormatFunction=null,o.precision=4,o.slider=new l({layout:"vertical",visibleElements:{labels:!0,rangeLabels:!0},labelInputsEnabled:!0,rangeLabelInputsEnabled:!0}),o.state=null,o.viewModel=null,o.zoomOptions=null;var a=o.slider;return o.own(a.on("max-change",(function(e){return o.emit("max-change",e)})),a.on("min-change",(function(e){return o.emit("min-change",e)})),a.on("thumb-change",(function(e){return o.emit("thumb-change",e)})),a.on("thumb-drag",(function(e){return o.emit("thumb-drag",e)})),r.watch(o,["histogramConfig","max","min","zoomOptions"],(function(){var e=o,t=e.histogram,n=e.histogramConfig,r=e.viewModel,a=r.max,s=r.min,l=o.getParamsFromHistogramConfig(n);t.set(i.__assign(i.__assign({},l),{max:a,min:s}))})),r.watch(o,"labelFormatFunction",(function(){var e=o,t=e.histogram,i=e.labelFormatFunction;t.set({labelFormatFunction:i})}))),o._onMaxZoomCapPointerDown=o._onMaxZoomCapPointerDown.bind(o),o._onMinZoomCapPointerDown=o._onMinZoomCapPointerDown.bind(o),o}return i.__extends(t,e),t.prototype.initialize=function(){var e=this,t=this.histogramConfig,n=void 0===t?{}:t,o=this.viewModel,a=o.labelFormatFunction,s=o.max,l=o.min,u=this.getParamsFromHistogramConfig(n);this.own(r.watch(o,"max",(function(){return e.notifyChange("max")})),r.watch(o,"min",(function(){return e.notifyChange("min")}))),this.histogram.set(i.__assign(i.__assign({labelFormatFunction:a},u),{max:s,min:l})),this.slider.set({viewModel:o})},Object.defineProperty(t.prototype,"max",{get:function(){return this.viewModel?this.viewModel.getUnzoomedMax():null},set:function(e){this.viewModel.max=e,this._set("max",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.viewModel?this.viewModel.getUnzoomedMin():null},set:function(e){this.viewModel.min=e,this._set("min",e)},enumerable:!0,configurable:!0}),t.prototype.renderContent=function(e,t,i){return this.slider.extraNodes=[e,this.renderHistogram(i)],p.tsx("div",{class:t},this.slider.render())},t.prototype.renderHistogram=function(e){return this.histogramConfig?p.tsx("div",{class:e||null},this.histogram.render()):null},t.prototype.renderBackgroundFillDefinition=function(e){return p.tsx("pattern",{id:e,patternUnits:"userSpaceOnUse",x:"0",y:"0",width:"15",height:"15"},p.tsx("image",{x:"0",y:"0",width:"15",height:"15",href:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgaGVpZ2h0PSIxNiIgd2lkdGg9IjE2Ij48cGF0aCBkPSJNMCAwIEw4IDAgTDggOCBMMCA4IFoiIGZpbGw9IiNjY2MiIC8+PHBhdGggZD0iTTAgMCBMOCAwIEw4IDggTDAgOCBaIiBmaWxsPSIjZmZmIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDgpIiAvPjxwYXRoIGQ9Ik0wIDAgTDggMCBMOCA4IEwwIDggWiIgZmlsbD0iI2NjYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCw4KSIgLz48cGF0aCBkPSJNMCAwIEw4IDAgTDggOCBMMCA4IFoiIGZpbGw9IiNmZmYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgsMCkiIC8+PC9zdmc+"}))},t.prototype.renderRampFillDefinition=function(e,t){return p.tsx("linearGradient",{id:e,x1:"0",x2:"0",y1:"0",y2:"1"},this.renderRampFillStops(t))},t.prototype.renderRampFillStops=function(e){var t=this;return e.reverse().map((function(e,i){return t.renderStop(e,i)}))},t.prototype.renderStop=function(e,t){var i=this.getPropsForStop(e),n=i.color,o=i.offset,r=i.opacity;return p.tsx("stop",{key:t+"-stop",offset:o,"stop-color":n,"stop-opacity":r})},t.prototype.renderZoomCaps=function(){return[this.renderMaxZoomCap(),this.renderMinZoomCap()]},t.prototype.renderMinZoomCap=function(){if(this.zoomOptions&&o.isSome(this.zoomOptions.min))return p.tsx("svg",{key:"bottom",class:this.classes(h,"zoom-cap--min"),viewBox:"0 0 30 11",xmlns:"http://www.w3.org/2000/svg",onpointerdown:this._onMinZoomCapPointerDown},p.tsx("polygon",{class:m,key:"mask",fill:"#1B8617",points:"0 11.3846154 30 11.3846154 30 1 25 5.38461538 20 1 15 5.38461538 10 1 5 5.38461538 0 1"}),p.tsx("polygon",{class:_,key:"underline",fill:"#69DCFF",points:"0 0 5 4.38461538 10 0 15 4.38461538 20 0 25 4.38461538 30 0 30 4.61538462 25 9 20 4.61538462 15 9 10 4.61538462 5 9 0 4.61538462"}),p.tsx("polygon",{class:c,key:"line",fill:"#DA5656",points:"0 1 5 5.38461538 10 1 15 5.38461538 20 1 25 5.38461538 30 1 30 5.61538462 25 10 20 5.61538462 15 10 10 5.61538462 5 10 0 5.61538462"}))},t.prototype.renderMaxZoomCap=function(){if(this.zoomOptions&&o.isSome(this.zoomOptions.max))return p.tsx("svg",{key:"top",class:this.classes(h,"zoom-cap--max"),viewBox:"0 0 30 11",xmlns:"http://www.w3.org/2000/svg",onpointerdown:this._onMaxZoomCapPointerDown},p.tsx("polygon",{class:m,key:"mask",points:"0 -1.81994377e-12 30 -1.81994377e-12 30 8.23076923 25 3.61538462 20 8.23076923 15 3.61538462 10 8.23076923 5 3.61538462 0 8.23076923"}),p.tsx("polygon",{class:_,key:"underline",points:"0 5.61538462 5 1 10 5.61538462 15 1 20 5.61538462 25 1 30 5.61538462 30 10.2307692 25 5.61538462 20 10.2307692 15 5.61538462 10 10.2307692 5 5.61538462 0 10.2307692"}),p.tsx("polygon",{class:c,key:"line",points:"0 4.61538462 5 -1.87329639e-12 10 4.61538462 15 -1.87329639e-12 20 4.61538462 25 -1.87329639e-12 30 4.61538462 30 9.23076923 25 4.61538462 20 9.23076923 15 4.61538462 10 9.23076923 5 4.61538462 0 9.23076923"}))},t.prototype.getPropsForStop=function(e){var t=e.color,i=e.offset;return{color:t instanceof n?t.toCss(!0):n.fromString(t).toCss(!0),offset:(100*i).toFixed(2)+"%",opacity:t instanceof n?t.toRgba()[3]:null}},t.prototype.getParamsFromHistogramConfig=function(e){return e?{average:e.average,barCreatedFunction:e.barCreatedFunction,bins:e.bins,dataLineCreatedFunction:e.dataLineCreatedFunction,dataLines:this._getDataLines(e)}:null},t.prototype._onMaxZoomCapPointerDown=function(){var e=this.zoomOptions;if(e&&o.isSome(e.max)){var t=e.min;this.zoomOptions=o.isSome(t)?{min:t}:null}},t.prototype._onMinZoomCapPointerDown=function(){var e=this.zoomOptions;if(e&&o.isSome(e.min)){var t=e.max;this.zoomOptions=o.isSome(t)?{max:t}:null}},t.prototype._getDataLines=function(e){var t=e.average,n=e.standardDeviation,o=e.standardDeviationCount;return i.__spreadArrays(this._getStandardDeviationDataLines(n,t,o||1),e.dataLines||[])},t.prototype._getStandardDeviationDataLines=function(e,t,i){return d.getDeviationValues(e,t,i).map((function(e){return{value:e}}))},i.__decorate([a.aliasOf("viewModel.hasTimeData")],t.prototype,"hasTimeData",void 0),i.__decorate([a.property()],t.prototype,"histogram",void 0),i.__decorate([a.property()],t.prototype,"histogramConfig",void 0),i.__decorate([a.aliasOf("viewModel.inputFormatFunction")],t.prototype,"inputFormatFunction",void 0),i.__decorate([a.aliasOf("viewModel.inputParseFunction")],t.prototype,"inputParseFunction",void 0),i.__decorate([a.aliasOf("viewModel.labelFormatFunction")],t.prototype,"labelFormatFunction",void 0),i.__decorate([a.property({dependsOn:["viewModel.max","viewModel.zoomOptions"]})],t.prototype,"max",null),i.__decorate([a.property({dependsOn:["viewModel.min","viewModel.zoomOptions"]})],t.prototype,"min",null),i.__decorate([a.aliasOf("viewModel.precision")],t.prototype,"precision",void 0),i.__decorate([a.property()],t.prototype,"slider",void 0),i.__decorate([a.aliasOf("viewModel.state")],t.prototype,"state",void 0),i.__decorate([a.aliasOf("viewModel.values")],t.prototype,"values",void 0),i.__decorate([a.property()],t.prototype,"viewModel",void 0),i.__decorate([a.aliasOf("viewModel.zoomOptions")],t.prototype,"zoomOptions",void 0),i.__decorate([a.subclass("esri.widgets.smartMapping.SmartMappingSliderBase")],t)}(u);t.SmartMappingSliderBase=v}.apply(null,n))||(e.exports=o)},1715:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(9),i(11),i(5),i(2),i(1)],void 0===(o=function(e,t,i,n,o,r,a,s){var l=r.getLogger("esri.widgets.Slider.SliderViewModel");return function(e){function t(t){var i=e.call(this,t)||this;return i.precision=4,i.thumbsConstrained=!0,i}return i.__extends(t,e),Object.defineProperty(t.prototype,"labelFormatFunction",{set:function(e){this._set("labelFormatFunction",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputFormatFunction",{set:function(e){this._set("inputFormatFunction",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputParseFunction",{set:function(e){this._set("inputParseFunction",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){var e=this,t=this.max,i=this.min,n=this.values,o=n&&n.length?n.map((function(t,i){return e.getLabelForValue(t,"value",i)})):[];return{max:this.getLabelForValue(t,"max"),min:this.getLabelForValue(i,"min"),values:o}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{set:function(e){this.setMax(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{set:function(e){this.setMin(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){var e=this.max,t=this.min;return a.isSome(e)&&a.isSome(t)?"ready":"disabled"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{set:function(e){var t=this.max,i=this.min,n=this.values;n&&e&&n.length===e.length&&n.every((function(t,i){return t===e[i]}))||(this._set("values",null),e&&e.length&&(a.isSome(i)&&e.some((function(e){return e<i}))&&(this.min=Math.min.apply(Math,e)),a.isSome(t)&&e.some((function(e){return e>t}))&&(this.max=Math.max.apply(Math,e))),this._set("values",e))},enumerable:!0,configurable:!0}),t.prototype.toPrecision=function(e){return parseFloat(e.toFixed(this.precision))},t.prototype.defaultLabelFormatFunction=function(e){var t=this.max,i=this.min,n=this.precision,o=t-i>10?2:n;return parseFloat(e.toFixed(o)).toString()},t.prototype.defaultInputFormatFunction=function(e){return e.toString()},t.prototype.defaultInputParseFunction=function(e){return parseFloat(e)},t.prototype.getBoundsForValueAtIndex=function(e){var t=this.thumbsConstrained,i=this.max,n=this.min,o=this.values;if(t){var r=e-1,s=e+1;return{min:a.isSome(o[r])?o[r]:n,max:a.isSome(o[s])?o[s]:i}}return{min:n,max:i}},t.prototype.getLabelForValue=function(e,t,i){return a.isSome(e)?this.labelFormatFunction?this.labelFormatFunction(e,t,i):this.defaultLabelFormatFunction(e):null},t.prototype.setMax=function(e){var t=this.max,i=this.values;if(isNaN(e))this._logError("slider:invalid-value","Property 'max' must of type 'number'.");else if(null!==e){var n=this.toPrecision(e);if(t!==n&&(this._set("max",n),i&&i.length))for(var o=0;o<i.length;o++)n<i[o]&&this.setValue(o,n)}else this._set("max",null)},t.prototype.setMin=function(e){var t=this.min,i=this.values;if(isNaN(e))this._logError("slider:invalid-value","Property 'min' must of type 'number'.");else if(null!==e){var n=this.toPrecision(e);if(t!==n&&(this._set("min",n),i&&i.length))for(var o=0;o<i.length;o++)n>i[o]&&this.setValue(o,n)}else this._set("min",null)},t.prototype.setValue=function(e,t){if(isNaN(t))this._logError("slider:invalid-value","Members of property 'values' must of type 'number'.");else{var n=this.values,o=n[e],r=this.toPrecision(t);if(o!==r){var a=i.__spreadArrays(n);a[e]=r,this._set("values",a),this.notifyChange("labels")}}},t.prototype._logError=function(e,t,i){l.error(new o(e,t,i))},i.__decorate([s.property()],t.prototype,"labelFormatFunction",null),i.__decorate([s.property()],t.prototype,"inputFormatFunction",null),i.__decorate([s.property()],t.prototype,"inputParseFunction",null),i.__decorate([s.property({dependsOn:["labelFormatFunction","max","min","values"],readOnly:!0})],t.prototype,"labels",null),i.__decorate([s.property()],t.prototype,"max",null),i.__decorate([s.property()],t.prototype,"min",null),i.__decorate([s.property()],t.prototype,"precision",void 0),i.__decorate([s.property({dependsOn:["max","min"],readOnly:!0})],t.prototype,"state",null),i.__decorate([s.property()],t.prototype,"thumbsConstrained",void 0),i.__decorate([s.property()],t.prototype,"values",null),i.__decorate([s.subclass("esri.widgets.Slider.SliderViewModel")],t)}(n)}.apply(null,n))||(e.exports=o)},1716:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(2),i(1),i(1715),i(1619)],void 0===(o=function(e,t,i,n,o,r,a){return function(e){function t(t){var i=e.call(this,t)||this;return i._max=null,i._min=null,i.hasTimeData=!1,i.inputFormatFunction=function(e,t){return"max"===t?i.getUnzoomedMax().toString():"min"===t?i.getUnzoomedMin().toString():e.toString()},i.inputParseFunction=null,i.labelFormatFunction=function(e){return i.hasTimeData?a.formatDateLabel(e):i.defaultLabelFormatFunction(e)},i.zoomingEnabled=!0,i}return i.__extends(t,e),Object.defineProperty(t.prototype,"labels",{get:function(){var e=this,t=this.values,i=t&&t.length?t.map((function(t,i){return e.getLabelForValue(t,"value",i)})):[],n=this.getUnzoomedMax(),o=this.getUnzoomedMin();return{max:this.getLabelForValue(n,"max"),min:this.getLabelForValue(o,"min"),values:i}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{set:function(e){var t=this.zoomOptions;if(t&&n.isSome(t.max)){var i=this.values,o=t.max;if(e<o&&(o=e,t.max=e),i&&i.length)for(var r=0;r<i.length;r++)e<i[r]&&this.setValue(r,e);this._storeZoomMax(o,e)}else this.setMax(e);this.notifyChange("labels")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{set:function(e){var t=this.zoomOptions;if(t&&n.isSome(t.min)){var i=this.values,o=t.min;if(e>o&&(o=e,t.min=e),i&&i.length)for(var r=0;r<i.length;r++)e>i[r]&&this.setValue(r,e);this._storeZoomMin(o,e)}else this.setMin(e);this.notifyChange("labels")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){var e=this.max,t=this.min,i=this.values;return n.isSome(e)&&n.isSome(t)&&i.length>0?"ready":"disabled"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomOptions",{set:function(e){var t=this.zoomingEnabled,i=this.zoomOptions;if(t){if(i){var o=n.isSome(this._max)?this._max:this.max,r=n.isSome(this._min)?this._min:this.min;if(e){var a=e.max,s=e.min,l=n.isSome(a),u=n.isSome(s),d=u?e.min:r,p=u?r:null,h=l?e.max:o,c=l?o:null;this._storeZoomMin(d,p),this._storeZoomMax(h,c)}else this.setMax(o),this.setMin(r),this._min=null,this._max=null}else if(e){var m=e.max,_=e.min;n.isSome(_)&&this._storeZoomMin(e.min,this.min),n.isSome(m)&&this._storeZoomMax(e.max,this.max)}this._set("zoomOptions",e),this.notifyChange("max"),this.notifyChange("min")}},enumerable:!0,configurable:!0}),t.prototype.getUnzoomedMax=function(){return this.zoomOptions&&n.isSome(this._max)?this._max:this.max},t.prototype.getUnzoomedMin=function(){return this.zoomOptions&&n.isSome(this._min)?this._min:this.min},t.prototype._storeZoomMax=function(e,t){this._max=t,this.setMax(e)},t.prototype._storeZoomMin=function(e,t){this._min=t,this.setMin(e)},i.__decorate([o.property()],t.prototype,"hasTimeData",void 0),i.__decorate([o.property()],t.prototype,"inputFormatFunction",void 0),i.__decorate([o.property()],t.prototype,"inputParseFunction",void 0),i.__decorate([o.property()],t.prototype,"labelFormatFunction",void 0),i.__decorate([o.property({dependsOn:["labelFormatFunction","max","min","values"],readOnly:!0})],t.prototype,"labels",null),i.__decorate([o.property()],t.prototype,"max",null),i.__decorate([o.property()],t.prototype,"min",null),i.__decorate([o.property({dependsOn:["max","min","values"],readOnly:!0})],t.prototype,"state",null),i.__decorate([o.property()],t.prototype,"zoomingEnabled",void 0),i.__decorate([o.property()],t.prototype,"zoomOptions",null),i.__decorate([o.subclass("esri.widgets.smartMapping.SmartMappingSliderViewModel")],t)}(r)}.apply(null,n))||(e.exports=o)},1805:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(11),i(2),i(66),i(328),i(179)],void 0===(o=function(e,t,i,n,o,r,a,s){var l=i.__spreadArrays(["date"],r.numericTypes);function u(e){return i.__awaiter(this,void 0,void 0,(function(){var t,u,d,p,h,c,m,_,v,f,g,y,b;return i.__generator(this,(function(x){switch(x.label){case 0:if(!(e&&e.layer&&(e.field||e.valueExpression||e.sqlExpression)))throw new n("histogram:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new n("histogram:missing-parameters","View is required when 'valueExpression' is specified");if(t=[0,2,1,3,4],u=e.layer,d=i.__rest(e,["layer"]),p=s.createLayerAdapter(u,t),(h=i.__assign({layerAdapter:p},d)).normalizationType=s.getNormalizationType(h),!p)throw new n("histogram:invalid-parameters","'layer' must be one of these types: "+s.getLayerTypeLabels(t).join(", "));return c=o.isSome(h.signal)?{signal:h.signal}:null,[4,p.load(c)];case 1:return x.sent(),m=h.valueExpression||h.sqlExpression,_=h.field,v=_?p.getField(_):null,f=!h.classificationMethod||"equal-interval"===h.classificationMethod,[4,s.getFieldsList({field:_,normalizationField:h.normalizationField,valueExpression:h.valueExpression})];case 2:if(g=x.sent(),y=a.verifyBasicFieldValidity(p,g,"histogram:invalid-parameters"))throw y;if(v){if(b=a.verifyFieldType(p,v,"histogram:invalid-parameters",l))throw b;if(r.isDateField(v)){if(h.normalizationType)throw new n("histogram:invalid-parameters","Normalization is not allowed for date fields");if(!f)throw new n("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed for date fields")}}else if(m){if(h.normalizationType)throw new n("histogram:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");if(!f)throw new n("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed when 'valueExpression' or 'sqlExpression' is specified")}return[2,h]}}))}))}return function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,o;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,u(e)];case 1:return t=r.sent(),n=t.layerAdapter,o=i.__rest(t,["layerAdapter"]),[2,n.histogram(o)]}}))}))}}.apply(null,n))||(e.exports=o)},1806:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(11),i(2),i(66),i(328),i(179)],void 0===(o=function(e,t,i,n,o,r,a,s){var l=i.__spreadArrays(r.numericTypes,["date"]);function u(e){return i.__awaiter(this,void 0,void 0,(function(){var t,u,d,p,h,c,m,_,v,f,g,y,b;return i.__generator(this,(function(x){switch(x.label){case 0:if(!(e&&e.layer&&(e.field||e.valueExpression||e.sqlExpression)))throw new n("summary-statistics:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new n("summary-statistics:missing-parameters","View is required when 'valueExpression' is specified");if(t=[0,2,1,3,4],u=e.layer,d=i.__rest(e,["layer"]),p=s.createLayerAdapter(u,t),(h=i.__assign({layerAdapter:p},d)).normalizationType=s.getNormalizationType(h),!p)throw new n("summary-statistics:invalid-parameters","'layer' must be one of these types: "+s.getLayerTypeLabels(t).join(", "));return c=o.isSome(h.signal)?{signal:h.signal}:null,[4,p.load(c)];case 1:return x.sent(),m=h.field,_=h.normalizationType,v=h.valueExpression||h.sqlExpression,f=m?p.getField(m):null,[4,s.getFieldsList({field:h.field,normalizationField:h.normalizationField,valueExpression:h.valueExpression})];case 2:if(g=x.sent(),y=a.verifyBasicFieldValidity(p,g,"summary-statistics:invalid-parameters"))throw y;if(f){if(b=a.verifyFieldType(p,f,"summary-statistics:invalid-parameters",l))throw b;if(r.isDateField(f)&&_)throw new n("summary-statistics:invalid-parameters","Normalization is not allowed for date fields")}else if(v&&_)throw new n("summary-statistics:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");return[2,h]}}))}))}return function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,o;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,u(e)];case 1:return t=r.sent(),n=t.layerAdapter,o=i.__rest(t,["layerAdapter"]),[2,n.summaryStatistics(o)]}}))}))}}.apply(null,n))||(e.exports=o)},1807:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(1),i(1714),i(1812),i(60)],void 0===(o=function(e,t,i,n,o,r,a){return function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._bgFillId=null,n._rampFillId=null,n.handlesSyncedToPrimary=null,n.label=void 0,n.messages=null,n.primaryHandleEnabled=null,n.stops=null,n.viewModel=new r,n.zoomOptions=null,n.viewModel&&n.viewModel.set("thumbsConstrained",!1),n._bgFillId=n.id+"-bg-fill",n._rampFillId=n.id+"-linear-gradient",n}var o;return i.__extends(t,e),o=t,t.fromRendererResult=function(e,t){var i=e.visualVariable.stops,n=e.statistics,r=n.avg,a=n.stddev,s=e.renderer.authoringInfo.visualVariables.filter((function(e){return"color"===e.type}))[0],l=s.minSliderValue,u=s.maxSliderValue;return new o({max:u,min:l,stops:i,histogramConfig:{average:r,standardDeviation:a,bins:t?t.bins:[]},primaryHandleEnabled:"high-to-low"!==s.theme})},t.prototype.updateFromRendererResult=function(e,t){var i=e.visualVariable.stops,n=e.statistics,o=n.avg,r=n.stddev,a=e.renderer.authoringInfo.visualVariables.filter((function(e){return"color"===e.type}))[0],s=a.minSliderValue,l=a.maxSliderValue;this.set({max:l,min:s,stops:i,histogramConfig:{average:o,standardDeviation:r,bins:t?t.bins:[]},primaryHandleEnabled:"high-to-low"!==a.theme})},t.prototype.render=function(){var e,t=this.state,i=this.label,n="disabled"===t,o=this.classes("esri-color-slider","esri-widget","esri-widget--panel",((e={})["esri-disabled"]=n,e));return a.tsx("div",{"aria-label":i,class:o},n?null:this.renderContent(this.renderRamp(),"esri-color-slider__slider-container","esri-color-slider__histogram-container"))},t.prototype.renderRamp=function(){var e=this._bgFillId,t=this._rampFillId,i=this.viewModel,n=this.zoomOptions,o=i.getStopInfo();return a.tsx("div",{class:"esri-color-slider__ramp"},a.tsx("svg",{xmlns:"http://www.w3.org/2000/svg"},a.tsx("defs",null,this.renderRampFillDefinition(t,o),this.renderBackgroundFillDefinition(e)),a.tsx("rect",{x:"0",y:"0",fill:"url(#"+e+")",height:"100%",width:"100%"}),a.tsx("rect",{x:"0",y:"0",fill:"url(#"+t+")",height:"100%",width:"100%"})),n?this.renderZoomCaps():null)},i.__decorate([n.aliasOf("viewModel.handlesSyncedToPrimary")],t.prototype,"handlesSyncedToPrimary",void 0),i.__decorate([n.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),i.__decorate([n.property(),a.renderable(),a.messageBundle("esri/widgets/smartMapping/ColorSlider/t9n/ColorSlider")],t.prototype,"messages",void 0),i.__decorate([n.aliasOf("viewModel.primaryHandleEnabled")],t.prototype,"primaryHandleEnabled",void 0),i.__decorate([n.aliasOf("viewModel.stops")],t.prototype,"stops",void 0),i.__decorate([n.property(),a.renderable(["viewModel.handlesSyncedToPrimary","viewModel.hasTimeData","viewModel.inputFormatFunction","viewModel.inputParseFunction","viewModel.labelFormatFunction","viewModel.max","viewModel.min","viewModel.primaryHandleEnabled","viewModel.stops","viewModel.values","viewModel.zoomOptions"])],t.prototype,"viewModel",void 0),i.__decorate([n.aliasOf("viewModel.zoomOptions")],t.prototype,"zoomOptions",void 0),o=i.__decorate([n.subclass("esri.widgets.smartMapping.ColorSlider")],t)}(o.SmartMappingSliderBase)}.apply(null,n))||(e.exports=o)},1808:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(147),i(2),i(1),i(68),i(1809),i(60)],void 0===(o=function(e,t,i,n,o,r,a,s,l){var u="esri-histogram__data-lines-subgroup";return function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._containerNode=null,n._defaultBarColor="#d8d8d8",n.average=null,n.barCreatedFunction=null,n.bins=null,n.dataLines=null,n.dataLineCreatedFunction=null,n.label=void 0,n.labelFormatFunction=null,n.max=null,n.messages=null,n.min=null,n.state=null,n.viewModel=new s,n}var a;return i.__extends(t,e),a=t,Object.defineProperty(t.prototype,"layout",{set:function(e){"vertical"!==e&&(e="horizontal"),this._set("layout",e)},enumerable:!0,configurable:!0}),t.fromHistogramResult=function(e){var t=e.bins,i=e.maxValue,n=e.minValue;return new a({bins:t,max:i,min:n})},t.prototype.render=function(){var e=this.label,t=this.layout,i=this.state,n=this.classes("esri-histogram","esri-widget","horizontal"===t?"esri-histogram--horizontal":"esri-histogram--vertical","disabled"===i?"esri-disabled":null);return l.tsx("div",{"aria-label":e,afterCreate:l.storeNode,bind:this,class:n,"data-node-ref":"_containerNode"},"ready"===i?this.renderContent():null)},t.prototype.renderContent=function(){if(this._containerNode)return l.tsx("div",{class:"esri-histogram__content"},l.tsx("svg",{class:"esri-histogram__svg",xmlns:"http://www.w3.org/2000/svg"},this.renderBarsGroup(),this.renderLinesGroup()))},t.prototype.renderBarsGroup=function(){return l.tsx("g",{class:this.classes("esri-histogram__bars")},this.renderBars())},t.prototype.renderBars=function(){var e=this,t=this.layout,i=this.viewModel,n=i.binRange,o=i.range;if(n&&o){var r=n/o,a=this._getContainerDimensions(),s=a[0],l=a[1];if(0!==s||0!==l){if(0!==s||0===l){var u="vertical"===t?[s*r,l]:[s,l*r],d=u[0],p=u[1];return this._getBarDimensions(d,p).map((function(t,i){var n=t[0],o=t[1];return e.renderBar(i,n,o)}))}this.scheduleRender()}}},t.prototype.renderBar=function(e,t,i){var o=this,r=o.bins,a=o.layout,s=o.max,u=o.messages,d=o.viewModel.range,p=this._getContainerDimensions(),h=p[0],c=p[1],m=r.slice()[e],_=m.count,v=m.maxValue,f=m.minValue,g=s-v,y="vertical"===a?[0,g*(h/d)]:[c-i-g*(c/d),h-t],b=y[0],x=y[1],w=n.substitute(u.barLabel,{count:_,maxValue:v,minValue:f});return l.tsx("rect",{"aria-label":w,afterCreate:this._afterBarCreate,bind:this,class:"esri-histogram__bar","data-index":e,fill:this._defaultBarColor,height:t,role:"img","shape-rendering":"crispEdges","stroke-width":"0",width:i,x:b,y:x})},t.prototype.renderLinesGroup=function(){return l.tsx("g",{class:this.classes("esri-histogram__data-lines")},this.renderAverageLine(),this.renderCustomLines())},t.prototype.renderAverageLine=function(){var e=this.average;if(o.isSome(e)){var t=[l.tsx("tspan",{class:this.classes("esri-histogram__average-symbol")},"x̄ "),l.tsx("tspan",{class:this.classes("esri-histogram__average-label")},this.labelFormatFunction?this.labelFormatFunction(e,"average"):e)];return l.tsx("g",{afterCreate:this._afterLinesSubgroupCreate,bind:this,class:this.classes(u)},this.renderLine(e,this.classes("esri-histogram__average-data-line")),this.renderLabel(e,t))}},t.prototype.renderCustomLines=function(){var e=this;if(this.dataLines&&this.dataLines.length)return this.dataLines.map((function(t,i){var n=t.value,o=t.label;return e.renderLineSubgroup(i,n,o)}))},t.prototype.renderLineSubgroup=function(e,t,i){return l.tsx("g",{afterCreate:this._afterLinesSubgroupCreate,bind:this,class:this.classes(u),"data-index":e},this.renderLine(t),this.renderLabel(t,i))},t.prototype.renderLine=function(e,t){var i=this._getLinePosition(e),n=i[0],o=i[1],r=i[2],a=i[3];return l.tsx("line",{class:this.classes("esri-histogram__data-line",t),x1:n,x2:o,y1:r,y2:a,"shape-rendering":"crispEdges"})},t.prototype.renderLabel=function(e,t,i){var n=this._getLabelPosition(e),o=n[0],r=n[1];return l.tsx("text",{class:this.classes("esri-histogram__label",i),"text-anchor":"end",transform:"horizontal"===this.layout?"rotate(270)":null,x:o,y:r-2},t)},t.prototype._afterBarCreate=function(e){if(this.barCreatedFunction){var t=e.dataset?parseInt(e.dataset.index,10):e.getAttribute("data-index")?parseInt(e.getAttribute("data-index"),10):null;this.barCreatedFunction(isNaN(t)?null:t,e)}},t.prototype._afterLinesSubgroupCreate=function(e){if(this.dataLineCreatedFunction){var t=e.dataset?parseInt(e.dataset.index,10):e.getAttribute("data-index")?parseInt(e.getAttribute("data-index"),10):null,i=e.childNodes[0],n=e.childNodes[1]?e.childNodes[1]:null;this.dataLineCreatedFunction(i,n,isNaN(t)?null:t)}},t.prototype._getContainerDimensions=function(){var e=this._containerNode;return e?[e.offsetHeight,e.offsetWidth]:[0,0]},t.prototype._getBarDimensions=function(e,t){var i=this.bins,n=this.layout,o=i?i.map((function(e){return e.count})):[],r=Math.max.apply(Math,o);return o.map((function(i){return"vertical"===n?[e/o.length,0!==r?i/r*t:0]:[0!==r?i/r*e:0,t/o.length]}))},t.prototype._getLinePosition=function(e){var t=this.layout,i=(e-this.min)/this.viewModel.range,n=this._getContainerDimensions(),o=n[0],r=[i*n[1],o-i*o],a=r[0],s=r[1];return"vertical"===t?[0,"100%",s,s]:[a,a,"100%",0]},t.prototype._getLabelPosition=function(e){var t=this.layout,i=(e-this.min)/this.viewModel.range,n=this._getContainerDimensions(),o=n[0],r=n[1];return"vertical"===t?[r,o-i*o]:[0,i*r]},i.__decorate([r.aliasOf("viewModel.average")],t.prototype,"average",void 0),i.__decorate([r.property(),l.renderable()],t.prototype,"barCreatedFunction",void 0),i.__decorate([r.aliasOf("viewModel.bins")],t.prototype,"bins",void 0),i.__decorate([r.property(),l.renderable()],t.prototype,"dataLines",void 0),i.__decorate([r.property(),l.renderable()],t.prototype,"dataLineCreatedFunction",void 0),i.__decorate([r.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),i.__decorate([r.aliasOf("viewModel.labelFormatFunction")],t.prototype,"labelFormatFunction",void 0),i.__decorate([r.property({value:"horizontal"})],t.prototype,"layout",null),i.__decorate([r.aliasOf("viewModel.max")],t.prototype,"max",void 0),i.__decorate([r.property(),l.renderable(),l.messageBundle("esri/widgets/Histogram/t9n/Histogram")],t.prototype,"messages",void 0),i.__decorate([r.aliasOf("viewModel.min")],t.prototype,"min",void 0),i.__decorate([r.aliasOf("viewModel.state")],t.prototype,"state",void 0),i.__decorate([r.property(),l.renderable(["viewModel.average","viewModel.bins","viewModel.labelFormatFunction","viewModel.max","viewModel.min","viewModel.state"])],t.prototype,"viewModel",void 0),a=i.__decorate([r.subclass("esri.widgets.Histogram")],t)}(a)}.apply(null,n))||(e.exports=o)},1809:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(9),i(2),i(1)],void 0===(o=function(e,t,i,n,o,r){return function(e){function t(t){var i=e.call(this,t)||this;return i.average=null,i.bins=null,i.max=null,i.min=null,i}return i.__extends(t,e),Object.defineProperty(t.prototype,"binRange",{get:function(){var e=this.bins;return e&&e.length>1?e[e.length-1].maxValue-e[0].minValue:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelFormatFunction",{set:function(e){this._set("labelFormatFunction",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){var e=this.max,t=this.min;return o.isSome(e)&&o.isSome(t)?e-t:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){var e=this.bins;return this.range>0&&e&&e.length?"ready":"disabled"},enumerable:!0,configurable:!0}),i.__decorate([r.property()],t.prototype,"average",void 0),i.__decorate([r.property()],t.prototype,"bins",void 0),i.__decorate([r.property({dependsOn:["bins"],readOnly:!0})],t.prototype,"binRange",null),i.__decorate([r.property()],t.prototype,"labelFormatFunction",null),i.__decorate([r.property()],t.prototype,"max",void 0),i.__decorate([r.property()],t.prototype,"min",void 0),i.__decorate([r.property({dependsOn:["max","min"],readOnly:!0})],t.prototype,"range",null),i.__decorate([r.property({dependsOn:["max","min","bins"],readOnly:!0})],t.prototype,"state",null),i.__decorate([r.subclass("esri.widgets.Histogram.HistogramViewModel")],t)}(n)}.apply(null,n))||(e.exports=o)},1810:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(147),i(151),i(131),i(5),i(2),i(1),i(753),i(1811),i(68),i(1715),i(60)],void 0===(o=function(e,t,i,n,o,r,a,s,l,u,d,p,h,c){var m="esri-slider__range-input",_="esri-hidden",v="Enter",f="ArrowUp",g="ArrowRight",y="Home",b=a.getLogger("esri.widgets.Slider"),x={labels:!1,rangeLabels:!1};return function(e){function t(t,n){var o=e.call(this,t,n)||this;return o._activeLabelInputIndex=null,o._anchorElements=[],o._baseNode=null,o._dragged=!1,o._dragStartInfo=null,o._focusedAnchorIndex=null,o._isMinInputActive=!1,o._isMaxInputActive=!1,o._labelElements=[],o._lastMovedHandleIndex=null,o._observer=null,o._positionPrecision=5,o._segmentDragStartInfo=null,o._segmentElements=[],o._thumbElements=[],o._tickElements=[],o._trackHeight=null,o._trackWidth=null,o._zIndices=null,o._zIndexOffset=3,o.disabled=!1,o.extraNodes=[],o.draggableSegmentsEnabled=!0,o.inputCreatedFunction=null,o.inputFormatFunction=null,o.inputParseFunction=null,o.label=void 0,o.labelInputsEnabled=!1,o.labelFormatFunction=null,o.labels=null,o.max=null,o.messages=null,o.min=null,o.precision=4,o.rangeLabelInputsEnabled=!1,o.snapOnClickEnabled=!0,o.steps=null,o.thumbsConstrained=!0,o.thumbCreatedFunction=null,o.tickConfigs=null,o.trackElement=null,o.values=null,o.viewModel=new h,o.visibleElements=i.__assign({},x),o._observer=new d((function(){return o.scheduleRender()})),o._onAnchorPointerDown=o._onAnchorPointerDown.bind(o),o._onAnchorPointerMove=o._onAnchorPointerMove.bind(o),o._onAnchorPointerUp=o._onAnchorPointerUp.bind(o),o._onLabelPointerDown=o._onLabelPointerDown.bind(o),o._onLabelPointerUp=o._onLabelPointerUp.bind(o),o._onSegmentPointerDown=o._onSegmentPointerDown.bind(o),o._onSegmentPointerMove=o._onSegmentPointerMove.bind(o),o._onSegmentPointerUp=o._onSegmentPointerUp.bind(o),o._onTrackPointerDown=o._onTrackPointerDown.bind(o),o}return i.__extends(t,e),t.prototype.destroy=function(){document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove),document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove)},Object.defineProperty(t.prototype,"labelsVisible",{set:function(e){o.deprecatedProperty(b,"labelsVisible",{replacement:"visibleElements.labels",version:"4.15"}),this.visibleElements=i.__assign(i.__assign({},this.visibleElements),{labels:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layout",{set:function(e){-1===["vertical","vertical-reversed","horizontal","horizontal-reversed"].indexOf(e)&&(e="horizontal"),this._set("layout",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeLabelsVisible",{set:function(e){o.deprecatedProperty(b,"rangeLabelsVisible",{replacement:"visibleElements.rangeLabels",version:"4.15"}),this.visibleElements=i.__assign(i.__assign({},this.visibleElements),{rangeLabels:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){var e=this,t=e._activeLabelInputIndex,i=e._isMaxInputActive,n=e._isMinInputActive,o=e._dragStartInfo,r=e._segmentDragStartInfo,a=e.viewModel,l=s.isSome(o)||s.isSome(r);return null!==t||i||n?"editing":l?"dragging":a.state},enumerable:!0,configurable:!0}),t.prototype.castVisibleElements=function(e){return i.__assign(i.__assign({},x),e)},t.prototype.render=function(){var e=this.label,t=this.classes("esri-slider","esri-widget",this._isHorizontalLayout()?"esri-slider--horizontal":"esri-slider--vertical",this._isReversedLayout()?"esri-slider--reversed":null,this._isDisabled()?"esri-disabled":null);return this._storeTrackDimensions(),c.tsx("div",{afterCreate:this._afterBaseNodeCreate,bind:this,"aria-label":e,class:t,"touch-action":"none"},this.renderContent())},t.prototype.toNextStep=function(e){this._toStep(e,1)},t.prototype.toPreviousStep=function(e){this._toStep(e,-1)},t.prototype.renderContent=function(){var e=this.max,t=this.min;if(s.isSome(t)&&s.isSome(e)&&!(t>e))return[this.renderMin(),this.renderSliderContainer(),this.renderMax()]},t.prototype.renderSliderContainer=function(){return c.tsx("div",{key:"slider-container",bind:this,class:"esri-slider__content"},this.renderTrackElement(),this.renderTicksContainer(),this.renderExtraContentElements())},t.prototype.renderTrackElement=function(){return c.tsx("div",{afterCreate:this._afterTrackCreate,bind:this,class:"esri-slider__track","data-node-ref":"trackElement","touch-action":"none"},this.renderSegmentElements(),this.renderAnchorElements())},t.prototype.renderSegmentElements=function(){if(this.trackElement&&this.values&&this.values.length){for(var e=this.values.length+1,t=[],i=0;i<e;i++)t.push(this.renderSegmentElement(i));return t}},t.prototype.renderSegmentElement=function(e){var t,n,o=this,r=o._trackHeight,a=o._trackWidth,l=o.draggableSegmentsEnabled,u=o.id,d=o.state,p=o.values,h=this._isHorizontalLayout(),m=h?a:r,_=e===p.length?null:e,v=0===e?null:e-1,f=s.isSome(_),g=s.isSome(v),y=i.__spreadArrays(p).sort((function(e,t){return e-t}));this._isReversedLayout()?(t=g?this._positionFromValue(y[v]):h?m:0,n=f?this._positionFromValue(y[_]):h?0:m):(t=f?this._positionFromValue(y[_]):h?m:0,n=g?this._positionFromValue(y[v]):h?0:m);var b=this._applyPrecisionToPosition(100*n/m),x=(t-n)/m,w=h?"transform: translate("+b+"%, 0px) scale("+x+", 1);":"transform: translate(0px, "+b+"%) scale(1, "+x+");",M=this.classes("esri-slider__segment","esri-slider__segment-"+e,l&&f&&g&&"disabled"!==d?"esri-slider__segment--interactive":null);return c.tsx("div",{afterCreate:this._afterSegmentCreate,afterRemoved:this._afterSegmentRemoved,bind:this,class:M,"data-max-thumb-index":_,"data-min-thumb-index":v,"data-segment-index":e,key:u+"-segment-"+e,style:w,"touch-action":"none"})},t.prototype.renderAnchorElements=function(){var e=this,t=this.trackElement,i=this.values;if(i&&i.length)return this._zIndices=i.map((function(t,n){var o=e._positionFromValue(t),r=e._positionToPercent(o),a=(e._isHorizontalLayout()?r>50:r<50)?-1:1;return e._zIndexOffset+(i.length+a*n)})),t&&i&&i.length?i.map((function(t,i){return e.renderAnchorElement(t,i)})):null},t.prototype.renderAnchorElement=function(e,t){var i=this._positionFromValue(e),o=this._valueFromPosition(i);if(s.isSome(o)&&!isNaN(o)){var r=this,a=r._dragStartInfo,l=r._lastMovedHandleIndex,u=r.id,d=r.layout,p=r.values,h=r.visibleElements.labels,m=a&&a.index===t,_=l===t,v=this.classes("esri-slider__anchor","esri-slider__anchor-"+t,m?"esri-slider__anchor--moving":null,_?"esri-slider__anchor--moved":null),f=this.labels.values[t],g=this._getStyleForAnchor(e,t,m||_),y=this.viewModel.getBoundsForValueAtIndex(t),b=y.min,x=y.max,w=this.messages,M=2===p.length?0===t?n.substitute(w.rangeMinimum,{value:e}):n.substitute(w.rangeMaximum,{value:e}):f,S=1===p.length?null:0===t?u+"-handle-"+(t+1):t===p.length-1?u+"-handle-"+(t-1):u+"-handle-"+(t-1)+" "+u+"-handle-"+(t+1);return c.tsx("div",{afterCreate:this._afterAnchorCreate,afterUpdate:this._afterAnchorUpdate,afterRemoved:this._afterAnchorRemoved,"aria-controls":S,"aria-label":w.sliderValue,"aria-labelledby":h?u+"-label-"+t:null,"aria-orientation":d,"aria-valuemax":x.toString(),"aria-valuemin":b.toString(),"aria-valuenow":e.toString(),"aria-valuetext":M,bind:this,class:v,"data-thumb-index":t,"data-value":e,id:u+"-handle-"+t,key:u+"-handle-"+t,onkeydown:this._onAnchorKeyDown,"touch-action":"none",role:"slider",style:g,tabIndex:0},c.tsx("span",{afterCreate:this._afterThumbCreate,afterRemoved:this._afterThumbRemoved,bind:this,class:"esri-slider__thumb","data-thumb-index":t,"touch-action":"none"}),this.renderThumbLabel(t))}},t.prototype.renderThumbLabel=function(e){var t=this.id,i=this.labels,n=this.labelInputsEnabled,o=this.state,r=this.visibleElements.labels,a=i.values[e],s=this.classes("esri-slider__label",r?null:_,n&&"disabled"!==o?"esri-slider__label--interactive":null);return c.tsx("span",{afterCreate:this._afterLabelCreate,afterRemoved:this._afterLabelRemoved,"aria-hidden":!r,bind:this,class:s,"data-thumb-index":e,key:t+"-label-"+e,id:t+"-label-"+e,role:n?"button":null,"touch-action":"none"},this._activeLabelInputIndex===e?this.renderValueInput(e):a)},t.prototype.renderValueInput=function(e){var t=this.values[e];return c.tsx("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.sliderValue,bind:this,class:"esri-slider__label-input","data-input-type":"thumb","data-input-index":e,required:!0,tabIndex:0,type:"text",value:this._formatInputValue(t,"value",e),onblur:this._onLabelInputBlur,onkeydown:this._onInputKeyDown})},t.prototype.renderMax=function(){var e=this._isMaxInputActive,t=this.labels,i=this.rangeLabelInputsEnabled,n=this.state,o=this.visibleElements.rangeLabels,r=this.classes("esri-slider__max",o?null:_,i&&"disabled"!==n?"esri-slider__max--interactive":null);return c.tsx("div",{"aria-hidden":!o,bind:this,class:r,onclick:this._onMaxLabelClick,onkeydown:this._onMaxLabelKeyDown,role:i?"button":null,tabIndex:i?0:null},e?this.renderMaxInput():t.max)},t.prototype.renderMin=function(){var e=this._isMinInputActive,t=this.labels,i=this.rangeLabelInputsEnabled,n=this.state,o=this.visibleElements.rangeLabels,r=this.classes("esri-slider__min",o?null:_,i&&"disabled"!==n?"esri-slider__min--interactive":null);return c.tsx("div",{"aria-hidden":!o,bind:this,class:r,onclick:this._onMinLabelClick,onkeydown:this._onMinLabelKeyDown,role:i?"button":null,tabIndex:i?0:null},e?this.renderMinInput():t.min)},t.prototype.renderMaxInput=function(){return c.tsx("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.maximumValue,bind:this,class:m,"data-input-type":"max",required:!0,tabIndex:0,type:"text",value:this._formatInputValue(this.max,"max"),onblur:this._onMaxInputBlur,onkeydown:this._onInputKeyDown})},t.prototype.renderMinInput=function(){return c.tsx("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.minimumValue,bind:this,class:m,"data-input-type":"min",required:!0,tabIndex:0,type:"text",value:this._formatInputValue(this.min,"min"),onblur:this._onMinInputBlur,onkeydown:this._onInputKeyDown})},t.prototype.renderExtraContentElements=function(){return c.tsx("div",{bind:this,class:"esri-slider__extra-content"},this.extraNodes)},t.prototype.renderTicksContainer=function(){var e=this;if(this.tickConfigs&&this.trackElement&&(0!==this._trackHeight||0!==this._trackWidth))return this.tickConfigs.map((function(t,i){return c.tsx("div",{key:"ticks-container",class:e.classes("esri-slider__ticks")},e.renderTicks(t,i))}))},t.prototype.renderTicks=function(e,t){var i=this,n=e.mode,o=e.values;if(this._tickElements[t]=[],"position"===n){var r=Array.isArray(o)?o:[o];return this._calculateTickPositions(r).map((function(n,o){return i.renderTickGroup(e,o,t,n)}))}if("percent"===n&&Array.isArray(o)){var a=this.max,s=this.min,l=a-s,u=o.map((function(e){return i._applyPrecisionToPosition(e/100*l+s)}));return this._calculateTickPositions(u).map((function(n,o){return i.renderTickGroup(e,o,t,n)}))}var d=Array.isArray(o)&&o.length?o[0]:isNaN(o)?null:o,p=this._getTickCounts(d,e);return this._calculateEquidistantTickPositions(p).map((function(n,o){return i.renderTickGroup(e,o,t,n)}))},t.prototype.renderTickGroup=function(e,t,i,n){var o="position"===e.mode?Array.isArray(e.values)?e.values[t]:e.values:this._valueFromPosition(n);if(s.isSome(o)&&!isNaN(o))return c.tsx("div",{afterCreate:this._afterTickGroupCreate,bind:this,"data-config":e,"data-position":n,"data-tick-config-index":i,"data-tick-group-index":t,"data-value":o,key:"tick-group-"+t},this.renderTickLine(e,t,i,o),e.labelsVisible?this.renderTickLabel(e,t,i,o):null)},t.prototype.renderTickLine=function(e,t,i,n){return c.tsx("div",{afterCreate:this._afterTickLineCreate,"aria-valuenow":n.toString(),bind:this,class:"esri-slider__tick","data-tick-config-index":i,"data-tick-group-index":t,"data-value":n,key:"tick-label-"+t,style:this._getPositionStyleForElement(n)})},t.prototype.renderTickLabel=function(e,t,i,n){var o=e.labelFormatFunction?e.labelFormatFunction(n,"tick",t):this.viewModel.getLabelForValue(n,"tick",t);return c.tsx("div",{afterCreate:this._afterTickLabelCreate,"aria-label":o,"aria-valuenow":n.toString(),"aria-valuetext":o,bind:this,class:"esri-slider__tick-label","data-tick-config-index":i,"data-tick-group-index":t,"data-value":n,key:"tick-label-"+t,style:"transform: translate(-50%); "+this._getPositionStyleForElement(n)},o)},t.prototype._afterBaseNodeCreate=function(e){this._baseNode&&this._observer.unobserve(this._baseNode),this._baseNode=e,this._observer.observe(this._baseNode)},t.prototype._afterTrackCreate=function(e){c.storeNode.call(this,e),u.applyLocal(e),e.addEventListener("pointerdown",this._onTrackPointerDown),this.scheduleRender()},t.prototype._afterSegmentCreate=function(e){this._segmentElements.push(e),u.applyLocal(e),e.addEventListener("pointerdown",this._onSegmentPointerDown)},t.prototype._afterSegmentRemoved=function(e){var t=this._segmentElements.indexOf(e,0);t>-1&&this._segmentElements.splice(t,1),e.removeEventListener("pointerdown",this._onSegmentPointerDown)},t.prototype._afterAnchorCreate=function(e){if(this._anchorElements.push(e),u.applyLocal(e),e.addEventListener("pointerdown",this._onAnchorPointerDown),this.thumbCreatedFunction){var t=e["data-thumb-index"],i=e["data-value"],n=this._thumbElements[t]||null,o=this._labelElements[t]||null;this.thumbCreatedFunction(t,i,n,o)}},t.prototype._afterAnchorUpdate=function(e){s.isSome(this._focusedAnchorIndex)&&e["data-thumb-index"]===this._focusedAnchorIndex&&(e.focus(),this._focusedAnchorIndex=null)},t.prototype._afterAnchorRemoved=function(e){var t=this._anchorElements.indexOf(e,0);t>-1&&this._anchorElements.splice(t,1),e.removeEventListener("pointerdown",this._onAnchorPointerDown)},t.prototype._afterThumbCreate=function(e){this._thumbElements.push(e)},t.prototype._afterThumbRemoved=function(e){var t=this._thumbElements.indexOf(e,0);t>-1&&this._thumbElements.splice(t,1)},t.prototype._afterLabelCreate=function(e){this._labelElements.push(e),u.applyLocal(e),e.addEventListener("pointerdown",this._onLabelPointerDown),e.addEventListener("pointerup",this._onLabelPointerUp)},t.prototype._afterLabelRemoved=function(e){var t=this._labelElements.indexOf(e,0);t>-1&&this._labelElements.splice(t,1),e.removeEventListener("pointerdown",this._onLabelPointerDown),e.removeEventListener("pointerup",this._onLabelPointerUp)},t.prototype._afterInputCreate=function(e){if(e.focus(),e.select(),this.inputCreatedFunction){var t=e.getAttribute("data-input-type"),i="thumb"===t?e["data-input-index"]:null;this.inputCreatedFunction(e,t,i)}},t.prototype._afterTickLineCreate=function(e){var t=e["data-tick-config-index"],i=e["data-tick-group-index"],n=this._tickElements[t];n[i]?n[i].line=e:n[i]={line:e,label:null}},t.prototype._afterTickLabelCreate=function(e){var t=e["data-tick-config-index"],i=e["data-tick-group-index"],n=this._tickElements[t];n[i]?n[i].label=e:n[i]={label:e,line:null}},t.prototype._afterTickGroupCreate=function(e){var t=e["data-config"];if(t&&t.tickCreatedFunction){var i=e["data-tick-config-index"],n=e["data-tick-group-index"],o=e["data-value"],r=this._tickElements[i][n];if(r){var a=r.line||null,s=r.label||null;t.tickCreatedFunction(o,a,s)}}},t.prototype._onAnchorKeyDown=function(e){if(!this._isDisabled()&&"editing"!==this.state){var t=e.target,i=r.eventKey(e),n=this._anchorElements,o=this.values,a=t["data-thumb-index"],l=n[a],u=o[a],d=this._isHorizontalLayout(),p=[f,"ArrowDown","ArrowLeft",g];if(i===v&&this.labelInputsEnabled)this._activeLabelInputIndex=a,this.notifyChange("state");else if(p.indexOf(i)>-1){e.preventDefault();var h=this.steps,c=i===f||i===g?1:-1;if(s.isSome(h))this._toStep(a,this._isReversedLayout()?-1*c:c);else{var m=this._getPositionOfElement(l),_=this._isHorizontalLayout()?c:-1*c,b=m+_,x=0===this.precision?this._positionFromValue(this._valueFromPosition(b)+_):b;this._toPosition(a,x)}u!==(w=this.values[a])&&this._emitThumbChangeEvent({index:a,oldValue:u,value:w})}else if("End"===i||i===y){e.preventDefault();var w,M=this._getAnchorBoundsInPixels(a),S=M.min,F=M.max;b=d?"End"===i?F:S:i===y?F:S,this._toPosition(a,b),u!==(w=this.values[a])&&this._emitThumbChangeEvent({index:a,oldValue:u,value:w})}}},t.prototype._onAnchorPointerDown=function(e){if(!this._isDisabled()){var t=e.target,i=e.clientX,n=e.clientY,o=t["data-thumb-index"];void 0!==o&&(e.preventDefault(),this._anchorElements[o]&&this._anchorElements[o].focus(),this._storeTrackDimensions(),this._dragStartInfo={clientX:i,clientY:n,index:o,position:this._getPositionOfElement(this._anchorElements[o])},this.notifyChange("state"),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))}},t.prototype._onAnchorPointerMove=function(e){if("editing"!==this.state&&this._dragStartInfo){e.preventDefault();var t=this,i=t.values,n=t._anchorElements,o=t._dragged,r=t._dragStartInfo,a=t._dragStartInfo,s=a.index,l=a.position,u=e.clientX,d=e.clientY,p=o?"drag":"start",h=n[s],c=this._getPositionOfElement(h),m=this._applyPrecisionToPosition(this._isHorizontalLayout()?l+u-r.clientX:l+d-r.clientY);if(c!==m){var _=i[s];this._dragged=!0,this._toPosition(s,m);var v=this.values[s];o?_!==v&&this._emitThumbDragEvent({index:s,state:p,value:v}):this._emitThumbDragEvent({index:s,state:p,value:_})}}},t.prototype._onAnchorPointerUp=function(e){if(document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove),this._dragStartInfo){e.preventDefault();var t=this._dragStartInfo.index,i=this._dragged;this._dragged=!1,this._dragStartInfo=null,this._lastMovedHandleIndex=t,i?(this.notifyChange("state"),this._emitThumbDragEvent({index:t,state:"stop",value:this.values[t]})):this.scheduleRender()}},t.prototype._onTrackPointerDown=function(e){var t=this._dragStartInfo,i=this.snapOnClickEnabled,n=this.state,o=this.values;if(!this._isDisabled()&&"editing"!==n&&!t&&i&&o.length){var r=this.steps,a=e.clientX,l=e.clientY,u=this._getCursorPositionFromEvent(e),d=this._valueFromPosition(u),p=this._getIndexOfNearestValue(d);if(s.isSome(p)){var h=o[p],c=s.isSome(r)?this._calculateNearestStepPosition(u):u;this._toPosition(p,c),this._dragged=!0,this._dragStartInfo={clientX:a,clientY:l,index:p,position:c},this._focusedAnchorIndex=p,this.notifyChange("state"),this._emitThumbDragEvent({index:p,state:"start",value:h});var m=this.values[p];h!==m&&this._emitThumbDragEvent({index:p,state:"drag",value:m}),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove)}}},t.prototype._onSegmentPointerDown=function(e){e.preventDefault();var t=this.draggableSegmentsEnabled,i=e.target,n=i["data-segment-index"],o=i["data-min-thumb-index"],r=i["data-max-thumb-index"];!this._isDisabled()&&t&&s.isSome(o)&&s.isSome(r)&&(e.stopPropagation(),this._storeTrackDimensions(),this._segmentDragStartInfo={cursorPosition:this._getCursorPositionFromEvent(e),index:n,details:this._normalizeSegmentDetails({min:this._getAnchorDetails(o),max:this._getAnchorDetails(r)})},this.notifyChange("state"),this._emitSegmentDragEvent({index:n,state:"start",thumbIndices:[o,r]}),document.addEventListener("pointerup",this._onSegmentPointerUp),document.addEventListener("pointermove",this._onSegmentPointerMove))},t.prototype._onSegmentPointerMove=function(e){if(this._segmentDragStartInfo){e.preventDefault();var t=this._trackHeight,i=this._trackWidth,n=this._segmentDragStartInfo,o=n.index,r=n.cursorPosition,a=n.details,s=a.min,l=a.max,u=s.index,d=s.position,p=s.value,h=l.index,c=l.position,m=l.value;this._dragged=!0;var _=this._getCursorPositionFromEvent(e);if(_!==r){var v=this._positionToPercent(r),f=this._positionToPercent(_)-v,g=this._positionToPercent(d)+f,y=this._positionToPercent(c)+f,b=this._getAnchorBoundsAsPercents(u).min,x=this._getAnchorBoundsAsPercents(h).max,w=!1,M=!1;if(g<b?w=!0:y>x&&(M=!0),w){var S=this.viewModel.getBoundsForValueAtIndex(u),F=S.min,E=S.max,P=I=this._isPositionInverted()?E:F,C=m+(I-p);this._updateAnchorValues([u,h],[P,C])}else if(M){var I,L=this.viewModel.getBoundsForValueAtIndex(h);F=L.min,E=L.max,C=I=this._isPositionInverted()?F:E,P=p+(I-m),this._updateAnchorValues([u,h],[P,C])}else{var O=this._isHorizontalLayout()?i:t,A=y/100*O,D=g/100*O,V=this.values,k=[V[u],V[h]],z=this._getValueForAnchorAtPosition(u,D),T=this._getValueForAnchorAtPosition(h,A);this._updateAnchorValues([u,h],[z,T]),[this.values[u],this.values[h]].every((function(e,t){return e===k[t]}))||this._emitSegmentDragEvent({index:o,state:"drag",thumbIndices:[u,h]})}}}},t.prototype._onSegmentPointerUp=function(e){if(e.preventDefault(),document.removeEventListener("pointerup",this._onSegmentPointerUp),document.removeEventListener("pointermove",this._onSegmentPointerMove),this._segmentDragStartInfo){var t=this.max,i=this.min,n=this.values,o=this._segmentDragStartInfo,r=o.index,a=o.details,s=a.min.index,l=a.max.index,u=t-i,d=n[s],p=n[l];this._lastMovedHandleIndex=d===p?d>u/2?s:l:null,this._dragged=!1,this._segmentDragStartInfo=null,this.notifyChange("state"),this._emitSegmentDragEvent({index:r,state:"stop",thumbIndices:[s,l]})}},t.prototype._storeTrackDimensions=function(){if(this.trackElement){var e=this._getDimensions(this.trackElement);this._trackHeight=e.height,this._trackWidth=e.width}},t.prototype._onLabelPointerDown=function(){this._isDisabled()||(this._dragged=!1,document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))},t.prototype._onLabelPointerMove=function(){this._isDisabled()||(this._dragged=!0)},t.prototype._onLabelPointerUp=function(e){if(!this._isDisabled()){var t=e.target["data-thumb-index"];this.labelInputsEnabled&&!this._dragged&&s.isSome(t)&&(this._activeLabelInputIndex=t),this._dragged=!1,this.notifyChange("state"),document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove)}},t.prototype._onLabelInputBlur=function(e){var t=this._activeLabelInputIndex,i=this.values,n=this.viewModel,o=e.target.value;if(this._activeLabelInputIndex=null,this.notifyChange("state"),o){var r=this._parseInputValue(o,"value",t),a=i[t],s=this.viewModel.getBoundsForValueAtIndex(t),l=s.min,u=s.max;if(!(r<l||r>u)){n.setValue(t,r);var d=this.values[t];a!==d&&this._emitThumbChangeEvent({index:t,oldValue:a,value:d})}}},t.prototype._onInputKeyDown=function(e){if(!this._isDisabled()){var t=e.target,i=r.eventKey(e),n=this._activeLabelInputIndex,o=this._anchorElements,a=t;if("Enter"===i||"Escape"===i||"Tab"===i){e.stopPropagation();var l=n;a.blur(),s.isSome(l)?o[l].focus():a.parentElement.focus()}}},t.prototype._onMaxLabelClick=function(){!this._isDisabled()&&this.rangeLabelInputsEnabled&&(this._isMaxInputActive=!0,this.notifyChange("state"))},t.prototype._onMaxLabelKeyDown=function(e){this._isDisabled()||r.eventKey(e)!==v||(this._isMaxInputActive=!0,this.notifyChange("state"))},t.prototype._onMaxInputBlur=function(e){var t=e.target.value;if(this._isMaxInputActive=!1,this.notifyChange("state"),t){var i=this.max,n=this._parseInputValue(t,"max");n<=this.min||(this.viewModel.set("max",n),this.max!==i&&this._emitMaxChangeEvent({oldValue:i,value:this.max}))}},t.prototype._onMinLabelClick=function(){!this._isDisabled()&&this.rangeLabelInputsEnabled&&(this._isMinInputActive=!0,this.notifyChange("state"))},t.prototype._onMinLabelKeyDown=function(e){this._isDisabled()||r.eventKey(e)!==v||(this._isMinInputActive=!0,this.notifyChange("state"))},t.prototype._onMinInputBlur=function(){var e=event.target.value;if(this._isMinInputActive=!1,this.notifyChange("state"),e){var t=this.min,i=this._parseInputValue(e,"min");i>=this.max||(this.viewModel.set("min",i),this.min!==t&&this._emitMinChangeEvent({oldValue:t,value:this.min}))}},t.prototype._isDisabled=function(){return this.disabled||"disabled"===this.state},t.prototype._positionFromValue=function(e){var t=this.max,i=this.min,n=t-i;if(0===n)return 0;var o=this._trackHeight,r=this._trackWidth,a=this._isHorizontalLayout(),s=a?parseFloat((r*(e-i)/n).toFixed(2)):parseFloat((o*(t-e)/n).toFixed(2));return this._isReversedLayout()&&(s=a?r-s:o-s),s},t.prototype._valueFromPosition=function(e){var t=this,i=t._trackHeight,n=t._trackWidth,o=t.max,r=t.min,a=t.precision,s=o-r,l=this._isHorizontalLayout()?e*s/n+r:s*(1e3-e/i*1e3)/1e3+r;return this._isReversedLayout()&&(l=o+r-l),parseFloat(l.toFixed(a))},t.prototype._positionToPercent=function(e){var t=this._trackHeight,i=this._trackWidth,n=100*e/(this._isHorizontalLayout()?i:t);return this._applyPrecisionToPosition(n)},t.prototype._applyPrecisionToPosition=function(e){return parseFloat(e.toFixed(this._positionPrecision))},t.prototype._isPositionInverted=function(){var e=this.layout;return"horizontal-reversed"===e||"vertical"===e},t.prototype._isHorizontalLayout=function(){return this.layout.indexOf("horizontal")>-1},t.prototype._isReversedLayout=function(){return this.layout.indexOf("reversed")>-1},t.prototype._normalizeSegmentDetails=function(e){if(this._isPositionInverted()){var t=e.min;return{min:e.max,max:t}}return e},t.prototype._parseInputValue=function(e,t,i){return this.inputParseFunction?this.inputParseFunction(e,t,i):this.viewModel.defaultInputParseFunction(e)},t.prototype._formatInputValue=function(e,t,i){return this.inputFormatFunction?this.inputFormatFunction(e,t,i):this.viewModel.defaultInputFormatFunction(e)},t.prototype._getAnchorDetails=function(e){return{index:e,position:this._getPositionOfElement(this._anchorElements[e]),value:this.values[e]}},t.prototype._updateAnchorStyle=function(e,t){var i=this._anchorElements[e];i&&(this._isHorizontalLayout()?i.style.left=""+t:i.style.top=""+t)},t.prototype._getStyleForAnchor=function(e,t,i){var n=this._getPositionStyleForElement(e);if(1===this.values.length)return""+n;var o=this._zIndices[t];return n+"; z-index: "+(i?this._zIndexOffset+o:o)},t.prototype._getPositionStyleForElement=function(e){var t=this._positionFromValue(e),i=this._positionToPercent(t);return(this._isHorizontalLayout()?"left":"top")+": "+i+"%"},t.prototype._getPositionOfElement=function(e){var t=this._getDimensions(e.offsetParent),i=this._getDimensions(e);return this._isHorizontalLayout()?this._applyPrecisionToPosition(i.left-t.left):this._applyPrecisionToPosition(i.top-t.top)},t.prototype._updateAnchorValues=function(e,t){var i=this;e.forEach((function(e,n){return i._toValue(e,t[n])}))},t.prototype._toValue=function(e,t){s.isSome(this.steps)&&(t=this._getStepValues()[this._getIndexOfNearestStepValue(t)]),this._updateAnchorStyle(e,this._getPositionStyleForElement(t)),this.viewModel.setValue(e,t)},t.prototype._toPosition=function(e,t){var i=s.isSome(this.steps)?this._getStepValueForAnchorAtPosition(e,t):this._getValueForAnchorAtPosition(e,t);this._updateAnchorStyle(e,this._getPositionStyleForElement(i)),this.viewModel.setValue(e,i)},t.prototype._getValueForAnchorAtPosition=function(e,t){var i,n,o=this._getAnchorBoundsInPixels(e),r=o.min,a=o.max,s=this.viewModel.getBoundsForValueAtIndex(e),l=s.min,u=s.max,d=null;return this._isPositionInverted()?(i=l,n=u):(i=u,n=l),(d=t>a?i:t<r?n:this._valueFromPosition(t))>u?d=u:d<l&&(d=l),d},t.prototype._getStepValueForAnchorAtPosition=function(e,t){var i=this._getStepValues(),n=this._calculateNearestStepPosition(t),o=this._getValueForAnchorAtPosition(e,n);return i[this._getIndexOfNearestStepValue(o)]},t.prototype._getAnchorBoundsAsPercents=function(e){var t=this._getAnchorBoundsInPixels(e),i=t.min,n=t.max;return{min:this._positionToPercent(i),max:this._positionToPercent(n)}},t.prototype._getAnchorBoundsInPixels=function(e){var t=this._anchorElements,i=this._trackHeight,n=this._trackWidth,o=this.thumbsConstrained,r=t[e-1],a=t[e+1],s=this._isHorizontalLayout()?n:i;return o?this._isPositionInverted()?{max:r?this._getPositionOfElement(r):s,min:a?this._getPositionOfElement(a):0}:{max:a?this._getPositionOfElement(a):s,min:r?this._getPositionOfElement(r):0}:{max:s,min:0}},t.prototype._getIndexOfNearestValue=function(e){return this.values.indexOf(this.values.reduce((function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t})))},t.prototype._getCursorPositionFromEvent=function(e){var t=this._getDimensions(this.trackElement);return this._isHorizontalLayout()?e.clientX-t.left:e.clientY-t.top},t.prototype._getStepValues=function(){var e=this.steps;if(Array.isArray(e))return e;for(var t=this.max,i=this.min,n=Math.ceil((t-i)/e),o=[],r=0;r<=n;r++){var a=i+e*r;o.push(a>t?t:a)}return o},t.prototype._toStep=function(e,t){var i=this.values,n=this.viewModel,o=i[e],r=this._getStepValues(),a=r.indexOf(o),s=null;if(a>-1){var l=r[a+t],u=this._positionFromValue(l);s=this._getStepValueForAnchorAtPosition(e,u)}else s=r[this._getIndexOfNearestStepValue(o)+t];n.setValue(e,s)},t.prototype._getIndexOfNearestStepValue=function(e){var t=this.steps;if(!s.isSome(t))return null;var i=this._getStepValues(),n=i.reduce((function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t}));return i.indexOf(n)},t.prototype._calculateNearestStepPosition=function(e){var t=this._valueFromPosition(e),i=this._getIndexOfNearestStepValue(t),n=this._getStepValues();return this._positionFromValue(n[i])},t.prototype._getTickCounts=function(e,t){var i=t.mode;return"count"===i||"position"===i?e||0:"percent"===i&&100/e||0},t.prototype._calculateTickPositions=function(e){var t=this;return e.map((function(e){return t._positionFromValue(e)}))},t.prototype._calculateEquidistantTickPositions=function(e){var t=this._trackWidth,i=this._trackHeight,n=this._isHorizontalLayout()?t:i,o=n/(e-1),r=[];if(1===e)return[n/2];for(var a=0;a<e;a++){var s=a*o;s<=n&&r.push(s)}return r},t.prototype._getDimensions=function(e){try{return e.getBoundingClientRect()}catch(e){if("object"==typeof e&&null!==e)return{top:0,bottom:0,left:0,width:0,height:0,right:0};throw e}},t.prototype._emitMaxChangeEvent=function(e){this.emit("max-change",i.__assign(i.__assign({},e),{type:"max-change"}))},t.prototype._emitMinChangeEvent=function(e){this.emit("min-change",i.__assign(i.__assign({},e),{type:"min-change"}))},t.prototype._emitThumbChangeEvent=function(e){this.emit("thumb-change",i.__assign(i.__assign({},e),{type:"thumb-change"}))},t.prototype._emitThumbDragEvent=function(e){this.emit("thumb-drag",i.__assign(i.__assign({},e),{type:"thumb-drag"}))},t.prototype._emitSegmentDragEvent=function(e){this.emit("segment-drag",i.__assign(i.__assign({},e),{type:"segment-drag"}))},i.__decorate([l.property(),c.renderable()],t.prototype,"disabled",void 0),i.__decorate([l.property()],t.prototype,"extraNodes",void 0),i.__decorate([l.property(),c.renderable()],t.prototype,"draggableSegmentsEnabled",void 0),i.__decorate([l.property()],t.prototype,"inputCreatedFunction",void 0),i.__decorate([l.aliasOf("viewModel.inputFormatFunction")],t.prototype,"inputFormatFunction",void 0),i.__decorate([l.aliasOf("viewModel.inputParseFunction")],t.prototype,"inputParseFunction",void 0),i.__decorate([l.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),i.__decorate([l.property()],t.prototype,"labelInputsEnabled",void 0),i.__decorate([l.aliasOf("viewModel.labelFormatFunction")],t.prototype,"labelFormatFunction",void 0),i.__decorate([l.aliasOf("viewModel.labels")],t.prototype,"labels",void 0),i.__decorate([l.property(),c.renderable()],t.prototype,"labelsVisible",null),i.__decorate([l.property({value:"horizontal"}),c.renderable()],t.prototype,"layout",null),i.__decorate([l.aliasOf("viewModel.max")],t.prototype,"max",void 0),i.__decorate([l.property(),c.renderable(),c.messageBundle("esri/widgets/Slider/t9n/Slider")],t.prototype,"messages",void 0),i.__decorate([l.aliasOf("viewModel.min")],t.prototype,"min",void 0),i.__decorate([l.aliasOf("viewModel.precision")],t.prototype,"precision",void 0),i.__decorate([l.property()],t.prototype,"rangeLabelInputsEnabled",void 0),i.__decorate([l.property(),c.renderable()],t.prototype,"rangeLabelsVisible",null),i.__decorate([l.property()],t.prototype,"snapOnClickEnabled",void 0),i.__decorate([l.property({dependsOn:["viewModel.state"],readOnly:!0}),c.renderable()],t.prototype,"state",null),i.__decorate([l.property(),c.renderable()],t.prototype,"steps",void 0),i.__decorate([l.aliasOf("viewModel.thumbsConstrained")],t.prototype,"thumbsConstrained",void 0),i.__decorate([l.property()],t.prototype,"thumbCreatedFunction",void 0),i.__decorate([l.property(),c.renderable()],t.prototype,"tickConfigs",void 0),i.__decorate([l.property()],t.prototype,"trackElement",void 0),i.__decorate([l.aliasOf("viewModel.values")],t.prototype,"values",void 0),i.__decorate([l.property(),c.renderable(["viewModel.thumbsConstrained","viewModel.max","viewModel.min","viewModel.precision","viewModel.labelFormatFunction","viewModel.labels","viewModel.values"])],t.prototype,"viewModel",void 0),i.__decorate([l.property(),c.renderable()],t.prototype,"visibleElements",void 0),i.__decorate([l.cast("visibleElements")],t.prototype,"castVisibleElements",null),i.__decorate([l.subclass("esri.widgets.Slider")],t)}(p)}.apply(null,n))||(e.exports=o)},1811:function(e,t,i){e.exports=function(){"use strict";var e=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var i=-1;return e.some((function(e,n){return e[0]===t&&(i=n,!0)})),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i++){var o=n[i];e.call(t,o[1],o[0])}},t}()}(),t="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),n="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},o=["top","right","bottom","left","width","height","size","weight"],r="undefined"!=typeof MutationObserver,a=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,o=!1,r=0;function a(){i&&(i=!1,e()),o&&l()}function s(){n(a)}function l(){var e=Date.now();if(i){if(e-r<2)return;o=!0}else i=!0,o=!1,setTimeout(s,20);r=e}return l}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){t&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),r?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){t&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;o.some((function(e){return!!~i.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),s=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var o=n[i];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},u=m(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce((function(t,i){return t+d(e["border-"+i+"-width"])}),0)}var h="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function c(e){return t?h(e)?function(e){var t=e.getBBox();return m(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return u;var n=l(e).getComputedStyle(e),o=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var o=n[i],r=e["padding-"+o];t[o]=d(r)}return t}(n),r=o.left+o.right,a=o.top+o.bottom,s=d(n.width),h=d(n.height);if("border-box"===n.boxSizing&&(Math.round(s+r)!==t&&(s-=p(n,"left","right")+r),Math.round(h+a)!==i&&(h-=p(n,"top","bottom")+a)),!function(e){return e===l(e).document.documentElement}(e)){var c=Math.round(s+r)-t,_=Math.round(h+a)-i;1!==Math.abs(c)&&(s-=c),1!==Math.abs(_)&&(h-=_)}return m(o.left,o.top,s,h)}(e):u}function m(e,t,i,n){return{x:e,y:t,width:i,height:n}}var _=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=c(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var i,n,o,r,a,l,u,d=(n=(i=t).x,o=i.y,r=i.width,a=i.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(l.prototype),s(u,{x:n,y:o,width:r,height:a,top:o,right:n+r,bottom:a+o,left:n}),u);s(this,{target:e,contentRect:d})},f=function(){function t(t,i,n){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=i,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new v(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),g="undefined"!=typeof WeakMap?new WeakMap:new e,y=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=a.getInstance(),n=new f(t,i,this);g.set(this,n)};return["observe","unobserve","disconnect"].forEach((function(e){y.prototype[e]=function(){var t;return(t=g.get(this))[e].apply(t,arguments)}})),void 0!==i.ResizeObserver?i.ResizeObserver:y}()},1812:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(2),i(1),i(1716)],void 0===(o=function(e,t,i,n,o,r){return function(e){function t(t){var i=e.call(this,t)||this;return i.handlesSyncedToPrimary=!0,i}return i.__extends(t,e),Object.defineProperty(t.prototype,"primaryHandleEnabled",{get:function(){var e=this.stops;if(!e||!e.length)return!1;var t=e.length;return(3===t||5===t)&&this._get("primaryHandleEnabled")},set:function(e){this._set("primaryHandleEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stops",{set:function(e){if(e&&e.length){var t=e.map((function(e){return e.value})),o=this.max,r=this.min,a={};n.isSome(r)&&t.some((function(e){return e<r}))&&(a.min=Math.min.apply(Math,t)),n.isSome(o)&&t.some((function(e){return e>o}))&&(a.max=Math.max.apply(Math,t)),this.set(i.__assign({},a))}this._set("stops",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){var e=this.primaryHandleEnabled,t=this.stops;if(!t||!t.length||t.length<2)return[];var i=t.map((function(e){return e.value}));return e?3===i.length?[i[0],i[1],i[2]]:[i[0],i[2],i[4]]:[i[0],i[i.length-1]]},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var i=this.values;if(i[e]!==(t=this.toPrecision(t))){var n=this.max,o=this.min;if(!(t>n||t<o)){if(this.primaryHandleEnabled){var r=i[1];(0===e&&t>r||2===e&&t<r)&&(t=r)}var a=this._getColorStopChanges(e,t);this._updateColorStops(a),this.notifyChange("values"),this.notifyChange("labels")}}},t.prototype.getStopInfo=function(){var e=this.min,t=this.max,i=this.stops;return i&&i.length?i.map((function(i){return{color:i.color,offset:(t-i.value)/(t-e)}})):[]},t.prototype._getStopIndexFromValueIndex=function(e){var t=this.primaryHandleEnabled,i=this.stops;return 0===e?0:t&&1===e?2:i.length-1},t.prototype._getColorStopChanges=function(e,t){return this.primaryHandleEnabled?1===e?this._getColorStopChangesAfterPrimaryHandleMove(e,t):this._getColorStopChangesAfterSecondaryHandleMove(e,t):this._getColorStopChangesAfterHandleMove(e,t)},t.prototype._getColorStopChangesAfterPrimaryHandleMove=function(e,t){var i=this.handlesSyncedToPrimary,n=this.stops,o=this.values,r=this._getStopIndexFromValueIndex(e);if(i){var a=this.max,s=this.min,l=t-o[e],u=Math.max(Math.min(o[0]+l,a),s),d=Math.max(Math.min(o[2]+l,a),s);return 5===n.length?[{index:0,value:this.toPrecision(u)},{index:1,value:this.toPrecision((t+u)/2)},{index:2,value:t},{index:3,value:this.toPrecision((t+d)/2)},{index:4,value:this.toPrecision(d)}]:[{index:0,value:u},{index:1,value:t},{index:2,value:d}]}return 5===n.length?[{index:1,value:this.toPrecision((o[1]+o[0])/2)},{index:2,value:t},{index:3,value:this.toPrecision((o[1]+o[2])/2)}]:[{index:r,value:t}]},t.prototype._getColorStopChangesAfterSecondaryHandleMove=function(e,t){var i=this.stops,n=this.values,o=this._getStopIndexFromValueIndex(e);return 5===i.length?[{index:o,value:t},{index:0===o?1:3,value:this.toPrecision((t+n[1])/2)}]:[{index:o,value:t}]},t.prototype._getColorStopChangesAfterHandleMove=function(e,t){var i=this,n=this.max,o=this.min,r=this.stops,a=this.values,s=this._getStopIndexFromValueIndex(e),l=0===e?o:a[e-1],u=e===a.length-1?n:a[e+1],d=r.map((function(e){return e.value}));d[s]=Math.max(Math.min(t,u),l);var p=d[d.length-1]-d[0],h=r.length-1;return d.map((function(e,t){return{index:t,value:i.toPrecision(d[0]+t*p/h)}}))},t.prototype._updateColorStops=function(e){for(var t=this.stops,i=t.map((function(e){return e.value})),n=0,o=e;n<o.length;n++){var r=o[n];i[r.index]=r.value}t.forEach((function(e,t){return e.value=i[t]}))},i.__decorate([o.property()],t.prototype,"handlesSyncedToPrimary",void 0),i.__decorate([o.property({dependsOn:["stops"]})],t.prototype,"primaryHandleEnabled",null),i.__decorate([o.property()],t.prototype,"stops",null),i.__decorate([o.property({dependsOn:["primaryHandleEnabled","stops"],readOnly:!0})],t.prototype,"values",null),i.__decorate([o.subclass("esri.widgets.smartMapping.ColorSlider.ColorSliderViewModel")],t)}(r)}.apply(null,n))||(e.exports=o)},1813:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(20),i(2),i(1),i(430),i(738),i(1714),i(1814),i(1619),i(60)],void 0===(o=function(e,t,i,n,o,r,a,s,l,u,d,p){var h={trackFillColor:new n([149,149,149]),trackBackgroundColor:new n([224,224,224])};return function(e){function t(t,n){var o=e.call(this,t,n)||this;return o._maxRampFillWidth=1,o._minRampFillWidth=.2,o._rampNode=null,o.label=void 0,o.messages=null,o.stops=null,o.style=i.__assign({},h),o.viewModel=new u,o.zoomOptions=null,o}var n;return i.__extends(t,e),n=t,t.prototype.castStyle=function(e){return i.__assign(i.__assign({},h),e)},t.fromRendererResult=function(e,t){var i=e.visualVariables,o=e.statistics,r=o.avg,a=o.stddev,s=i[0],l=d.getSizesFromVariable(s),u=l[0],p=l[1],h=e.renderer.authoringInfo.visualVariables[0],c=h.minSliderValue,m=h.maxSliderValue;return new n({max:m,min:c,stops:[{value:s.minDataValue,size:p},{value:s.maxDataValue,size:u}],histogramConfig:{average:r,standardDeviation:a,bins:t?t.bins:[]}})},t.prototype.updateFromRendererResult=function(e,t){var i=e.visualVariables,n=e.statistics,o=n.avg,r=n.stddev,a=i[0],s=d.getSizesFromVariable(a),l=s[0],u=s[1],p=e.renderer.authoringInfo.visualVariables[0],h=p.minSliderValue,c=p.maxSliderValue;this.set({max:c,min:h,stops:[{value:a.minDataValue,size:u},{value:a.maxDataValue,size:l}],histogramConfig:{average:o,standardDeviation:r,bins:t?t.bins:[]}})},t.prototype.updateVisualVariable=function(e){var t=e.clone(),i=this.stops;if(!e||!i)return null;if(t.stops)return t.stops=i,t;var n=i[0],o=i[i.length-1],r=t.maxSize,s=t.minSize;if(r instanceof a){var l=r.stops,u=o.size/l[0].size,d=l.map((function(e){return e.size*=u,e}));r.stops=d}else r=o.size;if(s instanceof a){var p=s.stops,h=n.size/p[0].size;d=p.map((function(e){return e.size*=h,e})),s.stops=d}else s=n.size;return t.set({maxDataValue:o.value,minDataValue:n.value,maxSize:r,minSize:s}),t},t.prototype.updateFromVisualVariable=function(e){if(e){var t=e.maxDataValue,i=e.minDataValue,n=e.stops;if(n)this.stops=n;else{var o=d.getSizesFromVariable(e),r=o[0],a=o[1];this.stops=[new s({value:i,size:a}),new s({value:t,size:r})]}}},t.prototype.render=function(){var e,t=this.state,i=this.label,n="disabled"===t,o=this.classes("esri-size-slider","esri-widget","esri-widget--panel",((e={})["esri-disabled"]=n,e));return p.tsx("div",{"aria-label":i,class:o},n?null:this.renderContent(this.renderRamp(),"esri-size-slider__slider-container","esri-size-slider__histogram-container"))},t.prototype.renderRamp=function(){var e=this.style.trackBackgroundColor,t=this.zoomOptions;return p.tsx("div",{afterCreate:p.storeNode,bind:this,class:"esri-size-slider__ramp","data-node-ref":"_rampNode"},p.tsx("svg",{key:"ramp-svg",xmlns:"http://www.w3.org/2000/svg"},p.tsx("rect",{x:"0",y:"0",fill:d.getFillFromColor(e),height:"100%",width:"100%"}),this.renderPath()),t?this.renderZoomCaps():null)},t.prototype.renderPath=function(){if(this._rampNode){var e=this._rampNode,t=e.offsetHeight,i=void 0===t?0:t,n=e.offsetWidth,r=void 0===n?0:n;if(o.isSome(i)&&o.isSome(r)){var a=this,s=a.stops,l=a.style.trackFillColor,u=a.values,h=a.viewModel,c=h.max,m=h.min,_=[a._maxRampFillWidth,a._minRampFillWidth];s[0].size<s[s.length-1].size&&_.reverse();var v=_[0],f=_[1],g=u[0],y=u[1],b=d.getPathForSizeStops({bottomValue:g,bottomWidth:v,max:c,min:m,pathHeight:i,pathWidth:r,topValue:y,topWidth:f});return p.tsx("path",{d:b,fill:d.getFillFromColor(l)})}}},i.__decorate([r.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),i.__decorate([r.property(),p.renderable(),p.messageBundle("esri/widgets/smartMapping/SizeSlider/t9n/SizeSlider")],t.prototype,"messages",void 0),i.__decorate([r.aliasOf("viewModel.stops")],t.prototype,"stops",void 0),i.__decorate([r.property(),p.renderable()],t.prototype,"style",void 0),i.__decorate([r.cast("style")],t.prototype,"castStyle",null),i.__decorate([r.property(),p.renderable(["viewModel.hasTimeData","viewModel.inputFormatFunction","viewModel.inputParseFunction","viewModel.labelFormatFunction","viewModel.max","viewModel.min","viewModel.stops","viewModel.values","viewModel.zoomOptions"])],t.prototype,"viewModel",void 0),i.__decorate([r.aliasOf("viewModel.zoomOptions")],t.prototype,"zoomOptions",void 0),n=i.__decorate([r.subclass("esri.widgets.smartMapping.SizeSlider")],t)}(l.SmartMappingSliderBase)}.apply(null,n))||(e.exports=o)},1814:function(e,t,i){var n,o;n=[i.dj.c(e.i),t,i(0),i(2),i(1),i(717),i(1716)],void 0===(o=function(e,t,i,n,o,r,a){return function(e){function t(t){return e.call(this,t)||this}return i.__extends(t,e),Object.defineProperty(t.prototype,"stops",{set:function(e){if(e&&e.length){var t=e.map((function(e){return e.value})),o=this.max,r=this.min,a={};n.isSome(r)&&t.some((function(e){return e<r}))&&(a.min=Math.min.apply(Math,t)),n.isSome(o)&&t.some((function(e){return e>o}))&&(a.max=Math.max.apply(Math,t)),this.set(i.__assign({},a))}this._set("stops",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){var e=this.stops;if(!e||!e.length||e.length<2)return[];var t=e.map((function(e){return e.value}));return[t[0],t[t.length-1]]},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var i=this.max,n=this.min,o=this.stops;t>i||t<n||t!==o[e].value&&(o[0===e?0:o.length-1].value=t,this._updateSizeStops(),this.notifyChange("values"),this.notifyChange("labels"))},t.prototype._updateSizeStops=function(){for(var e=this.stops,t=e[0].value,i=e[e.length-1].value-t,n=e.length-1,o=e.slice(0),a=1;a<e.length-1;a++)o[a].value=t+a*i/n;var s=o.map((function(e){return e.value})),l=r.round(s);for(a=1;a<e.length-1;a++)e[a].value=l[a]},i.__decorate([o.property()],t.prototype,"stops",null),i.__decorate([o.property({dependsOn:["stops"],readOnly:!0})],t.prototype,"values",null),i.__decorate([o.subclass("esri.widgets.smartMapping.SizeSlider.SizeSliderViewModel")],t)}(a)}.apply(null,n))||(e.exports=o)}}]);