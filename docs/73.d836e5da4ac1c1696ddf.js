(function(){var e={"esri/tasks/ServiceAreaTask":1334,"esri/tasks/support/GPMessage":1454,"esri/core/queryUtils":1506,"esri/tasks/mixins/NAServiceDescription":1507,"esri/tasks/support/NAMessage":1508,"esri/tasks/support/ServiceAreaSolveResult":1834},r=this||window,t=r.webpackJsonp=r.webpackJsonp||[];t.registerAbsMids?t.registerAbsMids(e):(t.absMidsWaiting=t.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{1334:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(0),t(33),t(4),t(1506),t(1),t(685),t(241),t(1507),t(1834)],void 0===(s=function(e,r,t,o,s,i,n,a,l,u,p){var c=i.createQueryParamsHelper({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});return function(e){function r(r){var t=e.call(this,r)||this;return t.url=null,t}return t.__extends(r,e),r.prototype.solve=function(e,r){var i=this,n=[],l=[],u={},d={};return e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,l,"facilities.features",u),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,l,"pointBarriers.features",u),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,l,"polylineBarriers.features",u),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,l,"polygonBarriers.features",u),a.normalizeCentralMeridian(l).then((function(e){for(var r in u){var t=u[r];n.push(r),d[r]=e.slice(t[0],t[1])}return i._isInputGeometryZAware(d,n)?i.getServiceDescription():s.resolve({dontCheck:!0})})).then((function(s){("dontCheck"in s?s.dontCheck:s.hasZ)||i._dropZValuesOffInputGeometry(d,n);var a=function(r){d[r].forEach((function(t,o){e.get(r)[o].geometry=t}))};for(var l in d)a(l);var u={query:t.__assign(t.__assign(t.__assign({},i.parsedUrl.query),{f:"json"}),c.toQueryParams(e))};return(i.requestOptions||r)&&(u=t.__assign(t.__assign(t.__assign({},i.requestOptions),r),u)),o(i.parsedUrl.path+"/solveServiceArea",u)})).then((function(e){return p.fromJSON(e.data)}))},r.prototype._collectGeometries=function(e,r,t,o){o[t]=[r.length,r.length+e.length],e.forEach((function(e){r.push(e.geometry)}))},t.__decorate([n.property()],r.prototype,"url",void 0),t.__decorate([n.subclass("esri.tasks.ServiceAreaTask")],r)}(u.NAServiceDescriptionMixin(l))}.apply(null,o))||(e.exports=s)},1454:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(0),t(22),t(7),t(1)],void 0===(s=function(e,r,t,o,s,i){var n=new o.default({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});return function(e){function r(r){var t=e.call(this,r)||this;return t.description=null,t.type=null,t}return t.__extends(r,e),t.__decorate([i.property({type:String,json:{write:!0}})],r.prototype,"description",void 0),t.__decorate([i.property({type:String,json:{read:n.read,write:n.write}})],r.prototype,"type",void 0),t.__decorate([i.subclass("esri.tasks.support.GPMessage")],r)}(s.JSONSupport)}.apply(null,o))||(e.exports=s)},1506:function(e,r,t){var o,s;o=[t.dj.c(e.i),r],void 0===(s=function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function e(e){void 0===e&&(e={}),this._options=e}return e.prototype.toQueryParams=function(e){var r=this;if(!e)return null;var t=e.toJSON(),o={};return Object.keys(t).forEach((function(e){var s=r._options[e];if(s){var i="boolean"!=typeof s&&s.name?s.name:e,n="boolean"!=typeof s&&s.getter?s.getter(t):t[e];null!=n&&(o[i]=function(e){if(!Array.isArray(e))return!1;var r=e[0];return"number"==typeof r||"string"==typeof r}(n)?n.join(","):"object"==typeof n?JSON.stringify(n):n)}else o[e]=t[e]}),this),o},e}();r.createQueryParamsHelper=function(e){return new t(e)}}.apply(null,o))||(e.exports=s)},1507:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(0),t(33),t(11),t(2),t(85),t(26),t(1),t(241)],void 0===(s=function(e,r,t,o,s,i,n,a,l,u){Object.defineProperty(r,"__esModule",{value:!0}),r.NAServiceDescriptionMixin=function(e){return function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(r,e),r.prototype.getServiceDescription=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(e){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),[2,this._serviceDescriptionPromise]}))}))},r.prototype._fetchServiceDescription=function(){return t.__awaiter(this,void 0,void 0,(function(){var e,r,i,l,u,p;return t.__generator(this,(function(c){switch(c.label){case 0:if(!this.url||!this.parsedUrl)throw new s("network-service:missing-url","Url to Network service is missing");return e=this.url,[4,o(e,{query:{f:"json"}})];case 1:for((r=c.sent().data).supportedTravelModes||(r.supportedTravelModes=[]),i=0;i<r.supportedTravelModes.length;i++)r.supportedTravelModes[i].id||(r.supportedTravelModes[i].id=r.supportedTravelModes[i].itemId);return[4,r.currentVersion>=10.4?function(e){return t.__awaiter(this,void 0,void 0,(function(){var r,i,n,a;return t.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o(e+("/"===e[e.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json"}})];case 1:return r=t.sent().data,i=r.supportedTravelModes,n=r.defaultTravelMode,[2,{supportedTravelModes:i,defaultTravelMode:n}];case 2:throw a=t.sent(),new s("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:a});case 3:return[2]}}))}))}(e):function(e){return t.__awaiter(this,void 0,void 0,(function(){var r,s,i,l,u,p,c,d,f,y,v,_,g,h,m,M;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,o(e.substring(0,e.indexOf("/rest/")+6)+"info",{query:{f:"json"}})];case 1:return(r=t.sent().data)&&r.owningSystemUrl?(e=r.owningSystemUrl,[4,o(e+("/"===e[e.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json"}})]):[2,{supportedTravelModes:[],defaultTravelMode:null}];case 2:return s=t.sent().data,(i=n.getDeepValue("helperServices.routingUtilities.url",s))?(l=a.urlToObject(e),u=/\/solveClosestFacility$/.test(l.path)?"Route":/\/solveClosestFacility$/.test(l.path)?"ClosestFacility":"ServiceAreas",[4,o(i+("/"===i[i.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:u}})]):[2,{supportedTravelModes:[],defaultTravelMode:null}];case 3:if(p=t.sent(),c=[],d=null,p&&p.data&&p.data.results&&p.data.results.length)for(f=p.data.results,y=0,v=f;y<v.length;y++)if("supportedTravelModes"===(_=v[y]).paramName){if(_.value&&_.value.features)for(g=0,h=_.value.features;g<h.length;g++)(m=h[g].attributes)&&(M=JSON.parse(m.TravelMode),c.push(M))}else"defaultTravelMode"===_.paramName&&(d=_.value);return[2,{supportedTravelModes:c,defaultTravelMode:d}]}}))}))}(e)];case 2:return l=c.sent(),u=l.defaultTravelMode,p=l.supportedTravelModes,r.defaultTravelMode=u,r.supportedTravelModes=p,[2,r]}}))}))},r.prototype._isInputGeometryZAware=function(e,r){for(var t=0;t<r.length;t++){var o=e[r[t]];if(o&&o.length)for(var s=0,n=o;s<n.length;s++){var a=n[s];if(i.isSome(a)&&a.hasZ)return!0}}return!1},r.prototype._dropZValuesOffInputGeometry=function(e,r){for(var t=0;t<r.length;t++){var o=e[r[t]];if(o&&o.length)for(var s=0,i=o;s<i.length;s++)i[s].z=void 0}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")},t.__decorate([l.subclass("esri.tasks.mixins.NAServiceDescription")],r)}(e)};var p=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(r,e),t.__decorate([l.subclass("esri.tasks.mixins.NAServiceDescription")],r)}(r.NAServiceDescriptionMixin(u));r.NAServiceDescription=p}.apply(null,o))||(e.exports=s)},1508:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(0),t(22),t(1),t(1454)],void 0===(s=function(e,r,t,o,s,i){var n=new o.default({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});return function(e){function r(r){var t=e.call(this,r)||this;return t.type=null,t}return t.__extends(r,e),t.__decorate([s.property({type:String,json:{read:n.read,write:n.write}})],r.prototype,"type",void 0),t.__decorate([s.subclass("esri.tasks.support.NAMessage")],r)}(i)}.apply(null,o))||(e.exports=s)},1834:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(0),t(28),t(91),t(7),t(2),t(1),t(40),t(1508)],void 0===(s=function(e,r,t,o,s,i,n,a,l,u){function p(e){return e.features.map((function(r){var t=l.fromJSON(e.spatialReference),o=s.fromJSON(r);return n.unwrap(o.geometry).spatialReference=t,o}))}function c(e){return e.features.map((function(r){return r.geometry.spatialReference=e.spatialReference,o.fromJSON(r.geometry)}))}return function(e){function r(r){var t=e.call(this,r)||this;return t.facilities=null,t.messages=null,t.pointBarriers=null,t.polylineBarriers=null,t.polygonBarriers=null,t.serviceAreaPolylines=null,t.serviceAreaPolygons=null,t}return t.__extends(r,e),r.prototype.readFacilities=function(e){return c(e)},r.prototype.readPointBarriers=function(e,r){return c(r.barriers)},r.prototype.readPolylineBarriers=function(e){return c(e)},r.prototype.readPolygonBarriers=function(e){return c(e)},r.prototype.readIncidents=function(e,r){return p(r.saPolylines)},r.prototype.readServiceAreaPolygons=function(e,r){return p(r.saPolygons)},t.__decorate([a.property({type:[o.Point]})],r.prototype,"facilities",void 0),t.__decorate([a.reader("facilities")],r.prototype,"readFacilities",null),t.__decorate([a.property({type:[u]})],r.prototype,"messages",void 0),t.__decorate([a.property({type:[o.Point]})],r.prototype,"pointBarriers",void 0),t.__decorate([a.reader("pointBarriers",["barriers"])],r.prototype,"readPointBarriers",null),t.__decorate([a.property({type:[o.Polyline]})],r.prototype,"polylineBarriers",void 0),t.__decorate([a.reader("polylineBarriers")],r.prototype,"readPolylineBarriers",null),t.__decorate([a.property({type:[o.Polygon]})],r.prototype,"polygonBarriers",void 0),t.__decorate([a.reader("polygonBarriers")],r.prototype,"readPolygonBarriers",null),t.__decorate([a.property({type:[s]})],r.prototype,"serviceAreaPolylines",void 0),t.__decorate([a.reader("serviceAreaPolylines",["saPolylines"])],r.prototype,"readIncidents",null),t.__decorate([a.property({type:[s]})],r.prototype,"serviceAreaPolygons",void 0),t.__decorate([a.reader("serviceAreaPolygons",["saPolygons"])],r.prototype,"readServiceAreaPolygons",null),t.__decorate([a.subclass("esri.tasks.support.ServiceAreaSolveResult")],r)}(i.JSONSupport)}.apply(null,o))||(e.exports=s)}}]);