{"version":3,"file":"static/js/5755.3d75f3af.chunk.js","mappings":"4NAIkb,MAAMA,EAAEA,IAAI,IAAIC,EAAE,eAAcC,EAAAA,EAAAA,GAAEF,IAAIG,cAAcC,SAASC,WAAWC,KAAKC,OAAO,KAASC,eAAW,OAAM,EAAOC,cAAU,MAAMC,IAAGC,EAAAA,EAAAA,IAAEL,KAAKC,SAASD,KAAKC,OAAOE,UAAUH,KAAKC,OAAOK,UAAU,OAAON,KAAKO,SAASJ,SAASC,IAAI,OAAOA,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAMd,EAAEe,UAAU,YAAO,IAAQN,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,IAAE,CAACG,eAAc,KAAMhB,EAAEe,UAAU,gBAAW,IAAQN,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,IAAE,CAACG,eAAc,KAAMhB,EAAEe,UAAU,cAAS,IAAQN,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,IAAE,CAACG,eAAc,KAAMhB,EAAEe,UAAU,YAAO,IAAQN,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAMd,EAAEe,UAAU,WAAW,OAAMN,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,IAAE,CAACC,UAAS,KAAMd,EAAEe,UAAU,UAAU,MAAMf,GAAES,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,GAAE,0CAA0CjB,GAAGA,I,2MCAnmB,IAAIC,EAAE,cAAcQ,EAAAA,EAAEP,YAAYW,GAAGV,MAAMU,GAAGR,KAAKa,WAAW,EAAEb,KAAKc,WAAW,EAAEd,KAAKe,kBAAkB,IAAIH,EAAAA,EAAE,CAAC,EAAE,IAAI,IAAI,IAAIZ,KAAKgB,kBAAkB,IAAIJ,EAAAA,EAAE,CAAC,EAAE,IAAI,IAAI,MAAMZ,KAAKiB,mBAAmB,IAAIL,EAAAA,EAAE,CAAC,IAAI,EAAE,GAAG,IAAIZ,KAAKkB,mBAAmB,IAAIN,EAAAA,EAAE,CAAC,IAAI,EAAE,GAAG,KAAKZ,KAAKmB,oBAAoB,IAAIP,EAAAA,EAAE,CAAC,IAAI,IAAI,IAAI,IAAIZ,KAAKoB,oBAAoB,IAAIR,EAAAA,EAAE,CAAC,IAAI,IAAI,IAAI,QAAOJ,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACgB,KAAKC,UAAU1B,EAAEc,UAAU,kBAAa,IAAQF,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACgB,KAAKC,UAAU1B,EAAEc,UAAU,kBAAa,IAAQF,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACgB,KAAKT,EAAAA,KAAKhB,EAAEc,UAAU,yBAAoB,IAAQF,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACgB,KAAKT,EAAAA,KAAKhB,EAAEc,UAAU,yBAAoB,IAAQF,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACgB,KAAKT,EAAAA,KAAKhB,EAAEc,UAAU,0BAAqB,IAAQF,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACgB,KAAKT,EAAAA,KAAKhB,EAAEc,UAAU,0BAAqB,IAAQF,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACgB,KAAKT,EAAAA,KAAKhB,EAAEc,UAAU,2BAAsB,IAAQF,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,IAAE,CAACgB,KAAKT,EAAAA,KAAKhB,EAAEc,UAAU,2BAAsB,GAAQd,GAAEY,EAAAA,EAAAA,GAAE,EAACb,EAAAA,EAAAA,GAAE,gEAAgEC,G,8GCA16B,IAAIA,EAAE,cAAcS,EAAAA,EAAER,YAAYW,GAAGV,MAAMU,GAAGR,KAAKuB,OAAO,KAAKvB,KAAKwB,mBAAmB,KAAKxB,KAAKyB,oBAAoB,KAAKzB,KAAK0B,+BAA+B,QAAOlB,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKhB,EAAEc,UAAU,cAAS,IAAQF,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKhB,EAAEc,UAAU,0BAAqB,IAAQF,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKhB,EAAEc,UAAU,2BAAsB,IAAQF,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKhB,EAAEc,UAAU,sCAAiC,IAAQF,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKhB,EAAEc,UAAU,eAAU,GAAQd,GAAEY,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,GAAE,qDAAqDR,GCArY,IAAID,EAAE,cAAca,EAAAA,EAAEX,YAAYQ,GAAGP,MAAMO,GAAGL,KAAK0B,+BAA+B,KAAK1B,KAAK2B,YAAY,CAACC,SAAQ,EAAGC,UAASjC,EAAAA,EAAAA,KAAIkC,sBAAsB,KAAKP,QAAO3B,EAAAA,EAAAA,KAAImC,oBAAoB,KAAKC,kBAAiBpC,EAAAA,EAAAA,KAAIqC,gBAAerC,EAAAA,EAAAA,MAAKI,KAAKkC,kBAAkB,CAACC,OAAMvC,EAAAA,EAAAA,KAAIwC,KAAIxC,EAAAA,EAAAA,KAAIyC,cAAazC,EAAAA,EAAAA,KAAIgC,SAAQ,EAAGU,iBAAgB,GAAItC,KAAKuC,OAAO,KAAKC,sBAAsBxC,KAAKyC,aAAa,qBAAqBC,2BAA2B1C,KAAKyC,aAAa,kBAAiBpC,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,OAAKjB,EAAEe,UAAU,cAAS,IAAQL,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,OAAKjB,EAAEe,UAAU,sCAAiC,IAAQL,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,OAAKjB,EAAEe,UAAU,mBAAc,IAAQL,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,OAAKjB,EAAEe,UAAU,yBAAoB,IAAQL,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,OAAKjB,EAAEe,UAAU,cAAS,GAAQf,GAAEU,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,GAAE,8DAA8DT,G,ICA5oBgD,E,4CAAE,IAAIC,EAAED,EAAE,cAAcnC,EAAAA,EAAEX,YAAYO,GAAGN,MAAMM,GAAGyC,QAAQ,OAAO,IAAIF,EAAE,CAACtB,KAAKrB,KAAKqB,KAAKyB,IAAGlD,EAAAA,EAAAA,IAAEI,KAAK8C,IAAIC,OAAMnD,EAAAA,EAAAA,IAAEI,KAAK+C,OAAOC,QAAOpD,EAAAA,EAAAA,IAAEI,KAAKgD,QAAQC,KAAIrD,EAAAA,EAAAA,IAAEI,KAAKiD,OAAOC,OAAO9C,GAAG,OAAOJ,KAAKqB,OAAOjB,EAAEiB,MAAMrB,KAAK8C,KAAK1C,EAAE0C,KAAIlC,EAAAA,EAAAA,IAAEZ,KAAK+C,MAAM3C,EAAE2C,SAAQ1C,EAAAA,EAAAA,IAAEL,KAAKgD,OAAO5C,EAAE4C,UAASG,EAAAA,EAAAA,IAAEnD,KAAKiD,IAAI7C,EAAE6C,QAAO7C,EAAAA,EAAAA,GAAE,EAACT,EAAAA,EAAAA,OAAKiD,EAAElC,UAAU,YAAO,IAAQN,EAAAA,EAAAA,GAAE,EAACT,EAAAA,EAAAA,IAAE,CAACgB,eAAc,KAAMiC,EAAElC,UAAU,UAAK,IAAQN,EAAAA,EAAAA,GAAE,EAACT,EAAAA,EAAAA,IAAE,CAACgB,eAAc,KAAMiC,EAAElC,UAAU,aAAQ,IAAQN,EAAAA,EAAAA,GAAE,EAACT,EAAAA,EAAAA,IAAE,CAACgB,eAAc,KAAMiC,EAAElC,UAAU,cAAS,IAAQN,EAAAA,EAAAA,GAAE,EAACT,EAAAA,EAAAA,IAAE,CAACgB,eAAc,KAAMiC,EAAElC,UAAU,WAAM,GAAQkC,EAAED,GAAEvC,EAAAA,EAAAA,GAAE,EAACV,EAAAA,EAAAA,GAAE,qEAAqEkD,G,iFCAmV,IAAIQ,EAAE,cAAc/C,EAAAA,EAAER,YAAYe,GAAGd,MAAMc,GAAGyC,aAAarD,KAAKsD,aAAYC,EAAAA,EAAAA,IAAEvD,KAAKwD,KAAKC,MAAMC,aAAa1D,KAAKsD,YAAYK,QAAQC,KAAI,EAAG5D,KAAKsD,YAAYK,QAAQE,MAAMC,EAAAA,GAAAA,IAAMC,2BAA2BnD,GAAG,MAAMP,GAAEG,EAAAA,EAAAA,IAAEI,EAAEoD,EAAAA,GAAAA,OAAS5D,GAAE6D,EAAAA,EAAAA,IAAEjE,KAAKwD,KAAKC,MAAMS,OAAO7D,EAAE8D,GAAG,OAAOnE,KAAKoE,oBAAoBhE,GAAGgE,oBAAoBxD,GAAG,IAAGR,EAAAA,EAAAA,IAAEQ,GAAG,OAAO,KAAKZ,KAAKwD,KAAKa,wBAAwBC,4BAA4B1D,EAAEZ,KAAKsD,aAAa,MAAMjD,EAAEL,KAAKsD,YAAYiB,QAAQC,IAAI,IAAInE,EAAEoE,qBAAqBC,GAAG,OAAO,KAAK,MAAMlE,EAAER,KAAKwD,KAAKmB,mBAAmBC,iBAAiBF,EAAE1E,KAAKwD,KAAKqB,kBAAkBlF,GAAEmF,EAAAA,EAAAA,GAAEzE,EAAE2C,QAAQL,GAAEQ,EAAAA,EAAAA,GAAExD,EAAEiB,EAAEmE,WAAW,GAAG,EAAE,EAAE,IAAGnC,EAAAA,EAAAA,GAAEjD,EAAEA,EAAEgD,IAAGqC,EAAAA,EAAAA,GAAE3E,GAAG,OAAO,IAAI4E,EAAE,CAAC5D,KAAK6D,EAAAA,GAAAA,OAASpC,GAAI,GAAEzC,EAAEkB,OAAO4D,YAAY9E,EAAEkB,OAAO6D,aAAa/E,EAAEkB,OAAO8D,iBAAiBtC,MAAMvC,EAAEwC,OAAOrD,EAAEsD,KAAIqC,EAAAA,EAAAA,IAAE1E,KAAK,IAAG2E,EAAAA,EAAAA,GAAElF,GAAG,OAAO,IAAI4E,EAAE,CAAC5D,KAAK6D,EAAAA,GAAAA,QAAUpC,GAAGzC,EAAEkB,OAAOiE,IAAIC,QAAQ1C,MAAMvC,EAAEwC,OAAOrD,EAAEsD,KAAIqC,EAAAA,EAAAA,IAAE1E,KAAK,MAAMlB,GAAEgG,EAAAA,EAAAA,GAAErF,EAAEL,KAAKwD,MAAM,IAAG5D,EAAAA,EAAAA,IAAEF,GAAG,CAAC,MAAMW,EAAEX,EAAEiG,MAAMvF,EAAEV,EAAEkG,YAAY,IAAIhG,EAA4E,OAAjDA,EAAtBQ,GAAK,UAAUA,EAAEiB,MAAOwE,EAAAA,EAAAA,IAAEnG,EAAEU,EAAE0F,eAAmCpG,EAAEqG,IAAW,IAAId,EAAE,CAAC5D,KAAK6D,EAAAA,GAAAA,OAASpC,GAAI,GAAEzC,EAAE0F,OAAOnG,IAAImD,MAAMvC,EAAEwC,OAAOrD,EAAEsD,KAAIqC,EAAAA,EAAAA,IAAE1E,KAAK,OAAO,KAAKoF,iCAAiCpF,EAAEP,GAAG,IAAGD,EAAAA,EAAAA,IAAEQ,KAAKP,GAAGO,EAAES,OAAOhB,EAAEgB,KAAK,OAAM,EAAG,OAAOT,EAAES,MAAM,KAAK6D,EAAAA,GAAAA,QAAU,CAAC,MAAM9E,EAAEQ,EAAEkC,GAAGlD,EAAES,EAAEyC,GAAG,OAAO1C,EAAE,KAAKR,EAAE,IAAIQ,EAAE,KAAKR,EAAE,IAAIQ,EAAE,KAAKR,EAAE,KAAIqG,EAAAA,EAAAA,IAAE7F,EAAER,GAAG,KAAKsF,EAAAA,GAAAA,OAAS,KAAKA,EAAAA,GAAAA,IAAM,OAAOtE,EAAEkC,KAAKzC,EAAEyC,IAAIoD,6BAA6BtF,GAAG,IAAIP,EAAE,GAAGO,EAAES,OAAO6D,EAAAA,GAAAA,UAAWtF,EAAAA,EAAAA,IAAEgB,EAAEmC,OAAO,CAAC,MAAM3C,EAAEsE,EAAE9E,EAAEuG,EAAE3F,EAAE4F,EAAEpG,KAAKwD,KAAKmB,mBAAmB0B,eAAezF,EAAEmC,MAAMnD,GAAGI,KAAKwD,KAAKmB,mBAAmB2B,kBAAkB1G,EAAEY,GAAG,MAAMb,EAAEK,KAAKwD,KAAK+C,eAAeC,gBAAgB7D,EAAE3C,KAAKwD,KAAKmB,mBAAmB8B,YAAY7G,GAAGuD,EAAExD,EAAE+G,KAAKC,IAAIhH,EAAEiH,IAAIjH,EAAE6E,KAAKkC,KAAKC,IAAIhE,GAAG,IAAImC,EAAEnC,EAAE,EAAE,GAAG,GAAEjD,EAAAA,EAAAA,GAAEc,EAAEA,IAAGoC,EAAAA,EAAAA,GAAEpC,EAAEA,EAAEsE,EAAE3B,IAAG0D,EAAAA,EAAAA,GAAEzG,EAAER,EAAEY,IAAGsG,EAAAA,EAAAA,IAAE1G,EAAER,EAAEuE,GAAG9D,EAAEL,KAAKoE,oBAAoBD,QAAQ9D,EAAEL,KAAKoE,oBAAoBxD,EAAEqC,KAAK,OAAOjD,KAAKgG,iCAAiC3F,EAAEO,GAAGP,EAAE0C,MAAM,QAAOnC,EAAAA,EAAAA,GAAE,EAACjB,EAAAA,EAAAA,OAAKyD,EAAE1C,UAAU,YAAO,IAAQE,EAAAA,EAAAA,GAAE,EAACjB,EAAAA,EAAAA,OAAKyD,EAAE1C,UAAU,mBAAc,GAAQ0C,GAAExC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,GAAE,iEAAiES,GAAG,MAAMsB,GAAEqC,EAAAA,EAAAA,KAAIZ,GAAEY,EAAAA,EAAAA,KAAIX,GAAEW,EAAAA,EAAAA,KAAI5C,GAAE6C,EAAAA,EAAAA,M,8CCAx5C,MAAMC,EAAE7G,EAAAA,EAAAA,UAAY,4DAA4D,IAAI8G,EAAE,cAAcvH,EAAAA,EAAAA,aAAeiB,EAAAA,IAAIf,YAAYQ,GAAGP,MAAMO,GAAGL,KAAKmH,sBAAqB,EAAGnH,KAAKoH,iBAAiB,IAAIC,EAAAA,EAAErH,KAAKsH,WAAWC,EAAAA,GAAEvH,KAAKwH,SAAS,IAAIhH,EAAAA,EAAER,KAAKyH,oBAAoB,IAAIjH,EAAAA,EAAER,KAAK0H,yBAAwB,EAAGrE,aAAa,IAAIhD,EAAE,MAAMO,EAAE,OAAOP,EAAEL,KAAKwD,KAAKmE,yBAAoB,EAAOtH,EAAEuH,UAAU5H,KAAKsH,WAAW1G,EAAEA,EAAEiH,aAAaC,EAAAA,GAAAA,oBAAsBP,EAAAA,GAAEvH,KAAK+H,aAAa,IAAIC,EAAE,CAACxE,KAAKxD,KAAKwD,OAAOxD,KAAKwH,SAASS,IAAI,CAACjI,KAAKkI,mBAAmBlI,KAAKmI,uBAAuBnI,KAAKoI,oBAAoBC,UAAUrI,KAAKwH,SAASa,UAAUrI,KAAKyH,oBAAoBY,UAAUrI,KAAKsI,cAAcC,YAAYvI,KAAKoH,iBAAiBiB,UAAcnI,eAAW,OAAOF,KAAKsH,WAAWpH,UAAUF,KAAKoH,iBAAiBlH,SAAasI,eAAW,OAAOxI,KAAKsH,WAAWkB,SAAaA,aAASnI,GAAGL,KAAKsH,WAAWkB,SAASnI,EAAMiI,oBAAgB,OAAOtI,KAAKyI,iBAAiBC,aAAiBC,8BAA0B,OAAO3I,KAAKyI,iBAAiBG,uBAA2BD,4BAAwBtI,GAAGL,KAAKyI,iBAAiBG,uBAAuBvI,EAAMwI,uBAAmB,OAAO7I,KAAKwD,KAAKC,MAAMS,OAAO4E,yBAAyB9I,KAAK2I,yBAAyBI,sCAAsC1I,GAAG,MAAMsB,YAAYf,GAAGP,EAAE,MAAM,CAACsB,YAAYf,GAAGoI,eAAe3I,GAAG,MAAMO,EAAEP,EAAE4I,aAAatH,YAAYhC,EAAEuC,kBAAkB1B,GAAGI,GAAGoB,iBAAiBW,EAAEV,eAAerC,GAAGD,GAAGwC,MAAM/B,EAAEgC,IAAIQ,GAAGpC,GAAEsG,EAAAA,EAAAA,GAAE1G,EAAEuC,IAAGmE,EAAAA,EAAAA,GAAElE,EAAEhD,GAAGI,KAAKkJ,YAAYtI,GAAGZ,KAAKmJ,qBAAqB9I,GAAGL,KAAKoJ,yBAAyB/I,GAAGO,EAAE4B,sBAAsBxC,KAAKqJ,KAAK,iBAAiB,CAAC9H,OAAOlB,EAAE4I,YAAY1H,OAAOgB,OAAO3B,EAAE2B,SAAS+G,yBAAyBjJ,GAAG,MAAMO,EAAEZ,KAAK6I,iBAAiBlJ,EAAEK,KAAKwD,MAAM7B,YAAYnB,GAAGH,GAAGwB,SAASc,EAAEb,sBAAsBlC,EAAE2B,OAAOnB,EAAE2B,oBAAoBoB,EAAEnB,iBAAiB8C,EAAE7C,eAAevC,GAAGc,EAAEwG,EAAEuC,GAAE3G,EAAAA,EAAAA,IAAEhD,IAAGkH,EAAAA,EAAAA,GAAEE,EAAEpH,IAAG2D,EAAAA,EAAAA,GAAEyD,EAAE5G,EAAEuC,GAAG,MAAMqB,EAAEpD,GAAE8E,EAAAA,EAAAA,GAAEsB,EAAEA,IAAG7C,EAAAA,EAAAA,GAAE6C,EAAEA,EAAEN,KAAKlC,IAAIR,EAAE,KAAIwF,EAAAA,EAAAA,GAAE1E,EAAEnC,EAAEqE,IAAGpE,EAAAA,EAAAA,IAAEO,IAAG2D,EAAAA,EAAAA,GAAEE,EAAE7D,IAAGI,EAAAA,EAAAA,GAAEyD,EAAErE,EAAEvC,GAAG,MAAM2G,EAAEpH,EAAE8D,MAAMS,OAAO4E,yBAAyB1I,IAAGsF,EAAAA,EAAAA,GAAEsB,EAAEA,IAAG7C,EAAAA,EAAAA,GAAE6C,EAAEA,EAAEN,KAAKlC,IAAIuC,EAAE,KAAIyC,EAAAA,EAAAA,GAAE9J,EAAEU,EAAE4G,GAAGmC,qBAAqB,GAAoC,IAAnCF,YAAY5I,EAAEoJ,kBAAkB7I,GAAG,EAAC,MAAM4C,KAAK7D,GAAGK,MAAMqE,wBAAwB7D,EAAEmE,mBAAmBhC,GAAGhD,EAAE,IAAGwD,EAAAA,EAAAA,IAAE3C,GAAG,OAAO,MAAMZ,EAAEI,KAAK+H,aAAazE,aAAapB,kBAAkB9B,EAAEuB,YAAYmD,GAAGzE,GAAGwB,SAASnC,EAAE6B,OAAOyF,GAAGlC,GAAG3C,MAAM6B,EAAE5B,IAAI2E,GAAG3G,EAAEyG,GAAE6C,EAAAA,EAAAA,IAAE1F,EAAE+C,EAAE4C,IAAGnJ,EAAE8D,4BAA4BuC,EAAEjH,GAAG,MAAMiG,EAAEzF,EAAEiC,aAAakD,EAAEgE,EAAE,IAAI7E,GAAE,EAAG,GAAG9E,EAAE2E,QAAQC,IAAIC,qBAAqBoB,GAAG,EAACiB,EAAAA,EAAAA,GAAElG,EAAEgJ,qBAAqB/D,IAAGiB,EAAAA,EAAAA,GAAElG,EAAEiJ,iBAAiB7F,IAAG8C,EAAAA,EAAAA,GAAElG,EAAEkJ,eAAe/C,GAAGpE,EAAEiC,iBAAiBiB,EAAEN,EAAE5F,EAAEkF,kBAAkB,MAAMxE,EAAE,GAAE4E,EAAAA,EAAAA,GAAE8B,EAAEC,IAAG/B,EAAAA,EAAAA,GAAEjB,EAAEgD,GAAGtC,GAAEO,EAAAA,EAAAA,GAAEvF,EAAEmG,IAAIxF,GAAE4E,EAAAA,EAAAA,GAAEvF,EAAEsH,GAAG,MAAM1B,EAAE,IAAIyE,EAAAA,EAAExE,EAAE5F,EAAEkF,kBAAkB,CAAC,MAAMtC,OAAO3B,EAAEW,OAAOf,GAAGH,GAAEuC,EAAAA,EAAAA,IAAEhC,IAAIA,EAAEW,OAAOf,EAAEI,EAAEY,mBAAmBkD,EAAE,MAAKsF,EAAAA,EAAAA,GAAEpK,EAAE2E,QAAQC,IAAI7E,GAAGiB,EAAEa,oBAAoBiD,EAAE,KAAKY,EAAE1E,EAAET,QAAQuE,GAAGrE,EAAEkC,OAAO,IAAI0H,EAAE,CAAC1I,OAAOf,EAAEkB,+BAA+BrB,EAAEqB,+BAA+BF,mBAAmBkD,EAAE,MAAKsF,EAAAA,EAAAA,GAAEpK,EAAE2E,QAAQC,IAAI7E,GAAG8B,oBAAoBiD,EAAE,KAAKY,EAAEnF,QAAQuE,IAAItE,EAAEwB,QAAQkD,EAAElD,SAAQ,EAAGxB,EAAEkC,gBAAgBoC,EAAE0E,yBAAyB,GAAoC,IAAnCH,YAAY5I,EAAEoJ,kBAAkB7I,GAAG,EAAC,MAAMsB,kBAAkBvC,EAAEgC,YAAYnB,GAAGH,GAAG8B,MAAMQ,EAAEP,IAAIxC,EAAEyC,aAAajC,GAAGT,GAAGiK,qBAAqBhH,EAAEiH,iBAAiB1G,EAAE2G,eAAehF,GAAGlE,EAAE,IAAGkG,EAAAA,EAAAA,GAAE1G,EAAEwC,GAAGpC,EAAEoB,QAAQ,CAAC,MAAMvB,EAAEkJ,EAAE3I,GAAEqE,EAAAA,EAAAA,GAAE9B,EAAEP,IAAGqC,EAAAA,EAAAA,GAAE9B,EAAE2B,IAAGE,EAAAA,EAAAA,GAAE3E,EAAEsC,EAAEQ,IAAGgB,EAAAA,EAAAA,GAAE9D,EAAEA,EAAE,EAAEO,IAAG4I,EAAAA,EAAAA,GAAEpJ,EAAEA,EAAEC,IAAG2E,EAAAA,EAAAA,GAAE3E,EAAET,EAAEkF,IAAGX,EAAAA,EAAAA,GAAE9D,EAAEA,EAAEO,IAAG4I,EAAAA,EAAAA,GAAEpJ,EAAEA,EAAEC,GAAGV,EAAEiC,SAAQ,OAAQvB,EAAEkC,OAAO,KAAK5C,EAAEiC,SAAQ,EAAGjC,EAAE2C,iBAAgB,EAAG4G,YAAY7I,GAAG,MAAMO,EAAEZ,KAAKyI,iBAAiByB,yBAAyBvK,EAAEK,KAAKwD,KAAK2G,QAAQ,IAAGhH,EAAAA,EAAAA,IAAEvC,KAAIuC,EAAAA,EAAAA,IAAE9C,EAAEqB,kCAAiCyB,EAAAA,EAAAA,IAAExD,GAAG,OAAM,EAAG,MAAMqC,iBAAiBxB,EAAEyB,eAAeU,GAAGtC,EAAEsB,YAAY/B,EAAED,EAAEyK,gBAAgB5J,GAAGJ,EAAET,EAAEyK,gBAAgBzH,GAAG,OAAO/C,GAAGQ,EAAEiK,0BAA0BhK,EAAEO,EAAEjB,GAAG,GAAGK,KAAK0H,wBAAwB/H,GAAEwD,EAAAA,EAAAA,IAAE9C,GAAG,YAAYL,KAAKyI,iBAAiByB,yBAAyB,MAAM,MAAM1J,EAAER,KAAKsK,sCAAsCjK,EAAEO,GAAG,IAAGuC,EAAAA,EAAAA,IAAE3C,GAAG,OAAO4C,EAAAA,EAAAA,GAAEpD,KAAKO,SAASF,EAAEwE,iBAAiBoC,QAAQjH,KAAKyI,iBAAiByB,yBAAyB,MAAM,MAAMvH,GAAEuC,EAAAA,EAAAA,KAAIlF,KAAKyI,iBAAiByB,yBAAyB1J,EAAER,KAAKwD,KAAKmB,mBAAmB0B,eAAerG,KAAKyI,iBAAiByB,yBAAyBvH,GAAG3C,KAAK2I,wBAAwBhG,EAAE3C,KAAKwI,SAASV,EAAAA,GAAAA,+BAAiCwC,sCAAsCjK,EAAEO,GAAG,MAAMjB,GAAEiD,EAAAA,EAAAA,IAAEhC,IAAIA,EAAES,OAAOkJ,EAAAA,GAAAA,OAAS,OAAOC,EAAAA,EAAAA,GAAEnK,EAAEL,KAAKwD,KAAKqB,iBAAiB7E,KAAKwD,KAAKiH,kBAAkB9K,GAAG+K,mDAAmDrK,EAAEO,EAAEjB,GAAG,MAAMgC,YAAYnB,GAAGH,EAAE,IAAGyG,EAAAA,EAAAA,GAAEtG,EAAEqB,SAASjB,IAAGgC,EAAAA,EAAAA,IAAEjD,GAAG,CAAC,MAAMU,EAAEL,KAAK+H,aAAa7B,6BAA6BvG,IAAGiD,EAAAA,EAAAA,IAAEvC,IAAIL,KAAKwD,KAAKmB,mBAAmB0B,eAAehG,EAAEG,EAAEqB,UAAUrB,EAAEsB,uBAAsBmC,EAAAA,EAAAA,GAAEtE,EAAEqD,aAAaxC,EAAEsB,sBAAsB,KAAK9B,KAAKsJ,yBAAyBjJ,GAAGA,EAAEqC,2BAA2B1C,KAAKwI,SAASV,EAAAA,GAAAA,+BAAiC6C,wBAAwBtK,EAAEO,EAAEjB,GAAO,IAALa,IAAK,yDAAC,MAAMmC,EAAEtC,EAAEsB,YAAY,GAAGnB,IAAImC,EAAEf,SAAQ,GAAIvB,EAAEqB,+BAA+B1B,KAAKsK,sCAAsC1J,EAAEjB,IAAGwD,EAAAA,EAAAA,IAAE9C,EAAEqB,iCAAgC0B,EAAAA,EAAAA,GAAEpD,KAAKO,SAASK,EAAEiE,iBAAiBoC,OAAO,CAAC,GAAGjH,KAAKwD,KAAKmB,mBAAmB0B,eAAehG,EAAEqB,+BAA+BiB,EAAEpB,SAAQqB,EAAAA,EAAAA,IAAEjD,GAAG,CAAC,MAAMU,EAAEL,KAAK+H,aAAa7B,6BAA6BvG,IAAGiD,EAAAA,EAAAA,IAAEvC,IAAIL,KAAKwD,KAAKmB,mBAAmB0B,eAAehG,EAAEsC,EAAEpB,QAAQoB,EAAEZ,qBAAoBkC,EAAAA,EAAAA,GAAEtE,EAAEqD,aAAaL,EAAEZ,oBAAoB,KAAK/B,KAAKsJ,yBAAyBjJ,GAAGA,EAAEqC,2BAA2B1C,KAAKwI,SAASV,EAAAA,GAAAA,+BAAiC8C,4BAA4BvK,GAAG,OAAOsC,EAAAA,EAAAA,IAAE,EAACkE,EAAAA,EAAAA,KAAG,IAAIxG,EAAEkB,OAAOsJ,WAAWjK,IAAIkK,EAAElK,EAAEP,EAAEkB,OAAOc,gBAAgBhC,EAAEkB,OAAOc,aAAa,QAAQwD,EAAAA,KAAGgB,EAAAA,EAAAA,KAAG,MAAMoC,YAAY5I,EAAE0K,eAAe1K,EAAEkB,OAAOsJ,SAASG,mBAAmB3K,EAAEkB,OAAOc,iBAAiB,IAAyD,IAAvD4G,YAAY5I,EAAE0K,eAAenK,EAAEoK,mBAAmBrL,GAAK,GAACiD,EAAAA,EAAAA,IAAEhC,IAAIZ,KAAK2K,wBAAwBtK,EAAEO,EAAEjB,KAAK4F,EAAAA,MAAK0F,8BAA8B5K,GAAG,OAAOwG,EAAAA,EAAAA,KAAG,MAAMoC,YAAY5I,EAAEwB,SAAS7B,KAAKyI,iBAAiByB,6BAA6B,IAAmB,IAAjBjB,YAAY5I,GAAK,EAACL,KAAK0H,0BAA0BrH,EAAEsB,YAAYC,SAAQ,EAAGvB,EAAEqC,8BAA8B6C,EAAAA,IAAG2F,yCAAyC7K,GAAG,OAAOwG,EAAAA,EAAAA,KAAG,MAAMoC,YAAY5I,EAAEwB,SAAS7B,KAAK2I,wBAAwBwC,sBAAqBvI,EAAAA,EAAAA,IAAE5C,KAAKO,SAASsB,UAAU7B,KAAKO,SAASsB,SAASQ,aAAa,SAAS,IAAqD,IAAnD4G,YAAY5I,EAAEwB,SAASjB,EAAEuK,qBAAqBxL,GAAK,EAACK,KAAK0K,mDAAmDrK,EAAEO,EAAEjB,KAAK4F,EAAAA,IAAG6F,4BAA4B/K,GAAG,OAAOwG,EAAAA,EAAAA,KAAG,MAAM3C,OAAOlE,KAAKwD,KAAKC,MAAMS,OAAOmH,QAAQrL,KAAKsL,mBAAmB,IAAe,IAAbD,QAAQzK,GAAK,GAAEZ,KAAKmH,sBAAsB9G,EAAEsB,YAAYC,UAAUhB,GAAGP,EAAEqC,6BAA6BgC,EAAAA,IAAG6G,gCAAgClL,GAAG,OAAOwG,EAAAA,EAAAA,KAAG,IAAI7G,KAAKwD,KAAKgI,aAAa,IAAInL,EAAEqC,6BAA6B+I,+BAA+BpL,GAAG,OAAOL,KAAKwD,KAAKiH,kBAAkBiB,GAAG,oBAAoB9K,IAAI,MAAMjB,EAAEK,KAAKO,SAASsB,SAASrB,EAAEH,EAAEkB,OAAO,IAAIoB,EAAE,KAAK/C,EAAE,KAAKQ,EAAE,KAAK0E,EAAE,KAAK,MAAMpF,GAAEkD,EAAAA,EAAAA,IAAEjD,KAAIiD,EAAAA,EAAAA,IAAEjD,EAAEkL,UAAUlL,EAAEkL,SAAShG,kBAAiBjC,EAAAA,EAAAA,IAAEpC,EAAEqK,UAAUrK,EAAEqK,SAAShG,iBAAiBjE,EAAEiE,kBAAiBjC,EAAAA,EAAAA,IAAEjD,KAAIiD,EAAAA,EAAAA,IAAEjD,EAAEkL,YAAYlI,EAAEgJ,GAAG/L,EAAED,EAAE0C,cAAa8D,EAAAA,EAAAA,IAAExG,EAAEkL,SAASlI,EAAEjD,KAAIkD,EAAAA,EAAAA,IAAEpC,EAAEqK,YAAYzK,EAAEwL,GAAG9G,EAAEtE,EAAE6B,cAAa8D,EAAAA,EAAAA,IAAE3F,EAAEqK,SAASzK,EAAEV,KAAIyD,EAAAA,EAAAA,IAAER,KAAIQ,EAAAA,EAAAA,IAAE/C,MAAKgG,EAAAA,EAAAA,IAAExF,EAAEiL,OAAOjL,EAAEiE,iBAAiBiH,GAAEpM,IAAGkD,EAAAA,EAAAA,IAAED,KAAIoJ,EAAAA,EAAAA,IAAED,GAAEnJ,IAAI3C,KAAKqK,0BAA0B1H,EAAE/C,GAAE,IAAIgD,EAAAA,EAAAA,IAAExC,KAAI2L,EAAAA,EAAAA,IAAED,GAAE1L,IAAIJ,KAAK2K,wBAAwBtK,EAAED,EAAE0E,GAAE,IAAIlC,EAAAA,EAAAA,IAAED,KAAIC,EAAAA,EAAAA,IAAExC,KAAI6F,EAAAA,EAAAA,IAAE6F,GAAEnJ,EAAEvC,IAAIC,EAAEqC,+BAA+BsJ,0BAA0B3L,GAAG,IAAIO,EAAEoG,EAAAA,GAAE,MAAMrH,EAAE,CAACsJ,YAAY5I,EAAEoJ,kBAAkB,CAACG,sBAAqB1E,EAAAA,EAAAA,KAAI2E,kBAAiB3E,EAAAA,EAAAA,KAAI4E,gBAAe5E,EAAAA,EAAAA,OAAM,OAAOvC,EAAAA,EAAAA,IAAE,EAACkE,EAAAA,EAAAA,KAAG,IAAI7G,KAAK+I,sCAAsC1I,KAAK,KAAKO,GAAEkE,EAAAA,EAAAA,IAAElE,GAAGA,GAAEoD,EAAAA,EAAAA,KAAGiI,MAAAA,UAAgBlF,EAAAA,EAAAA,IAAE/G,KAAKsH,WAAW4E,UAAU,IAAIlM,KAAKgJ,eAAerJ,IAAIU,SAASkF,EAAAA,KAAG3F,EAAAA,EAAAA,KAAG,IAAIgB,GAAEkE,EAAAA,EAAAA,IAAElE,OAAOuL,oBAAoB9L,GAAG,MAAMO,EAAEZ,KAAKyH,oBAAoB7G,EAAEwL,IAAI/L,IAAIO,EAAEqH,IAAI,CAACjI,KAAK4K,4BAA4BvK,GAAGL,KAAKiL,8BAA8B5K,GAAGL,KAAKkL,yCAAyC7K,GAAGL,KAAKoL,4BAA4B/K,GAAGL,KAAKuL,gCAAgClL,GAAGL,KAAKyL,+BAA+BpL,GAAGL,KAAKgM,0BAA0B3L,IAAIA,GAAGgM,oBAAoBhM,GAAGL,KAAKyH,oBAAoB6E,OAAOjM,GAAGkM,+BAA+BlM,GAAGA,EAAEmM,MAAMC,SAASpM,GAAGL,KAAKmM,oBAAoB9L,KAAKA,EAAEqM,QAAQD,SAASpM,GAAGL,KAAKqM,oBAAoBhM,KAAKsM,mBAAmB,OAAO3M,KAAKsI,cAAcC,YAAYvI,KAAKO,SAASqM,QAAQH,SAASpM,GAAGL,KAAK6M,WAAWxM,KAAKL,KAAKoH,iBAAiB0F,uBAAuB,IAAI9M,KAAKO,SAASqM,UAAUvM,GAAGL,KAAK+M,0BAA0B1M,KAAK0M,0BAA0B1M,GAAGA,EAAEmM,MAAMC,SAASpM,GAAGL,KAAK6M,WAAWxM,KAAKA,EAAEqM,QAAQD,SAASpM,GAAGL,KAAKgN,cAAc3M,KAAK4M,sBAAsB5M,EAAEO,IAAGgC,EAAAA,EAAAA,IAAEhC,IAAIZ,KAAKgN,cAAcpM,IAAGgC,EAAAA,EAAAA,IAAEvC,IAAIL,KAAK6M,WAAWxM,GAAGwM,WAAWxM,GAAGL,KAAKsI,cAAc4E,MAAMtM,GAAGA,EAAEW,SAASlB,KAAKL,KAAKsI,cAAcL,IAAI,IAAIkF,EAAE,CAAC5L,OAAOlB,KAAK2M,cAAc3M,GAAG,MAAMO,EAAEZ,KAAKsI,cAAc8E,MAAMxM,GAAGA,EAAEW,SAASlB,IAAIL,KAAKsI,cAAcgE,OAAO1L,GAAGsH,mBAAmB,OAAOvF,EAAAA,EAAAA,IAAE,EAACkE,EAAAA,EAAAA,KAAG,MAAMhF,SAAS7B,KAAKO,SAASsB,SAASwL,kBAAiBzK,EAAAA,EAAAA,IAAE5C,KAAKO,SAASsB,UAAU7B,KAAKO,SAASsB,SAASgJ,SAAS,KAAKM,sBAAqBvI,EAAAA,EAAAA,IAAE5C,KAAKO,SAASsB,UAAU7B,KAAKO,SAASsB,SAASQ,aAAa,SAAS,IAA0D,IAAxDR,SAASxB,EAAEgN,iBAAiBzM,EAAEuK,qBAAqBxL,GAAK,GAACiD,EAAAA,EAAAA,IAAEvC,KAAKyK,EAAElK,EAAEjB,KAAKU,EAAEgC,aAAa,QAAQwD,EAAAA,KAAGgB,EAAAA,EAAAA,KAAG,MAAMwG,kBAAiBzK,EAAAA,EAAAA,IAAE5C,KAAKO,SAASsB,UAAU7B,KAAKO,SAASsB,SAASgJ,SAAS,KAAKM,sBAAqBvI,EAAAA,EAAAA,IAAE5C,KAAKO,SAASsB,UAAU7B,KAAKO,SAASsB,SAASQ,aAAa,SAAS,QAAEgL,iBAAiBhN,EAAE8K,qBAAqBvK,GAA1C,SAA+CZ,KAAKqK,0BAA0BhK,EAAEO,GAAE,KAAK2E,EAAAA,MAAK4C,uBAAuB,IAAI9H,EAAE,KAAK,OAAOsC,EAAAA,EAAAA,IAAE,EAACkE,EAAAA,EAAAA,KAAG,IAAI7G,KAAKsI,gBAAgB,MAAK5I,EAAAA,EAAAA,IAAEW,GAAGA,EAAEL,KAAKoH,iBAAiB0F,uBAAuB,IAAI9M,KAAKsI,gBAAgBjI,GAAGL,KAAKuM,+BAA+BlM,KAAKL,KAAKsI,cAAcmE,SAASpM,GAAGL,KAAKmM,oBAAoB9L,OAAOkF,EAAAA,KAAG3F,EAAAA,EAAAA,KAAG,IAAIS,GAAEX,EAAAA,EAAAA,IAAEW,OAAO+H,kBAAkB,IAAI/H,EAAE,KAAK,OAAOsC,EAAAA,EAAAA,IAAE,EAACkE,EAAAA,EAAAA,KAAG,IAAI7G,KAAKO,SAASqM,UAAU,KAAKvM,GAAEX,EAAAA,EAAAA,IAAEW,GAAGA,EAAEL,KAAK2M,qBAAqBpH,EAAAA,KAAGsB,EAAAA,EAAAA,KAAG,IAAI7G,KAAKyI,iBAAiB6E,eAAe,CAACjN,EAAEO,KAAKZ,KAAKiN,sBAAsB5M,EAAEO,OAAMhB,EAAAA,EAAAA,KAAG,KAAKS,GAAEX,EAAAA,EAAAA,IAAEW,QAAYiL,qBAAiB,MAAMjL,EAAEL,KAAKyI,iBAAiByB,0BAA0B1G,KAAK5C,GAAGZ,MAAM2E,mBAAmBhF,GAAGiB,EAAE,IAAGuC,EAAAA,EAAAA,IAAE9C,KAAI8C,EAAAA,EAAAA,IAAExD,GAAG,OAAM,EAAG,MAAMa,EAAE+I,EAAE5J,EAAE0G,eAAehG,EAAEG,GAAG,MAAMmC,EAAE/B,EAAE6C,MAAMS,OAAO4E,yBAAyBtI,GAAG,OAAOkG,KAAKC,KAAKhE,EAAE3C,KAAK6I,kBAAkB7I,KAAK6I,kBAAkB0E,IAAI,SAASzC,EAAEzK,EAAEO,GAAG,OAAOuC,EAAAA,EAAAA,IAAEvC,KAAIgC,EAAAA,EAAAA,IAAEvC,IAAIA,EAAE6C,OAAOtC,EAAEmC,QAAO1C,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,IAAE,CAAC3E,eAAc,KAAMuG,EAAExG,UAAU,gBAAW,IAAQL,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,IAAE,CAAC3E,eAAc,KAAMuG,EAAExG,UAAU,wBAAmB,IAAQL,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,IAAE,CAAC3E,eAAc,KAAMuG,EAAExG,UAAU,YAAO,IAAQL,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,OAAK4B,EAAExG,UAAU,WAAW,OAAML,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,OAAK4B,EAAExG,UAAU,WAAW,OAAML,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,OAAK4B,EAAExG,UAAU,4BAAuB,IAAQL,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,OAAK4B,EAAExG,UAAU,gBAAgB,OAAML,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,OAAK4B,EAAExG,UAAU,0BAA0B,OAAML,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,OAAK4B,EAAExG,UAAU,mBAAmB,OAAML,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,IAAE,CAAC7E,UAAS,KAAMyG,EAAExG,UAAU,wBAAmB,IAAQL,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,OAAK4B,EAAExG,UAAU,kBAAa,IAAQL,EAAAA,EAAAA,GAAE,EAACiF,EAAAA,EAAAA,OAAK4B,EAAExG,UAAU,iBAAiB,MAAMwG,GAAE7G,EAAAA,EAAAA,GAAE,EAACyD,EAAAA,EAAAA,GAAE,6DAA6DoD,GAAG,MAAMqG,EAAE,GAAGhE,GAAErE,EAAAA,EAAAA,KAAIyE,IAAE6D,EAAAA,EAAAA,MAAI1B,IAAE2B,EAAAA,EAAAA,MAAI9B,GAAG,IAAI5B,EAAAA,EAAE6B,GAAG,IAAI7B,EAAAA,E,4BCApnX,IAAI0D,GAAE,cAAc7M,EAAAA,EAAEf,YAAYF,GAAGG,MAAMH,GAAGK,KAAK0N,2BAA2B,GAAG1N,KAAK2N,QAAQ,KAAK3N,KAAKyH,oBAAoB,IAAIjH,EAAAA,EAAE6C,aAAarD,KAAK2N,QAAQ3N,KAAK4N,mBAAmBvF,UAAUrI,KAAK2N,SAAQvN,EAAAA,EAAAA,IAAEJ,KAAK2N,SAAS3N,KAAKyH,qBAAoB3C,EAAAA,EAAAA,IAAE9E,KAAKyH,qBAAyBtH,cAAU,OAAOH,KAAKyI,iBAAiBtI,QAAY0N,eAAW,MAAM,CAACC,eAAe9N,KAAK0N,4BAAgCK,qBAAiB,OAAO/N,KAAKyI,iBAAiBuF,cAAcC,iCAAiC,MAAMtO,EAAEK,KAAK+N,eAAenN,EAAE,CAAC4C,KAAKxD,KAAKwD,KAAK0K,UAAS,EAAGC,MAAMxO,EAAEmB,WAAWD,WAAWlB,EAAEkB,YAAYL,EAAEH,EAAAA,EAAAA,WAAaV,EAAEqB,mBAAmB2B,EAAEtC,EAAAA,EAAAA,WAAaV,EAAEoB,mBAAmBnB,EAAES,EAAAA,EAAAA,WAAaV,EAAEuB,oBAAoBd,EAAEC,EAAAA,EAAAA,WAAaV,EAAEsB,oBAAoB6D,EAAEzE,EAAAA,EAAAA,WAAaV,EAAEyB,qBAAqBwB,EAAEvC,EAAAA,EAAAA,WAAaV,EAAEwB,qBAAqB6F,EAAE,CAACoH,yBAAyB,IAAI7I,GAAAA,EAAE,IAAI3E,EAAEyN,MAAM7N,EAAE8N,WAAW3L,IAAI4L,0BAA0B,IAAIhJ,GAAAA,EAAE,IAAI3E,EAAEyN,MAAMzO,EAAE0O,WAAWlO,IAAIoO,2BAA2B,IAAIjJ,GAAAA,EAAE,IAAI3E,EAAEyN,MAAMvJ,EAAEwJ,WAAW1L,KAAK,OAAO5C,KAAK0N,2BAA2Be,KAAKzH,GAAGA,EAAE0H,gCAAgC/O,GAAGA,EAAEyO,0BAAyBtJ,EAAAA,EAAAA,IAAEnF,EAAEyO,0BAA0BzO,EAAE4O,2BAA0BzJ,EAAAA,EAAAA,IAAEnF,EAAE4O,2BAA2B5O,EAAE6O,4BAA2B1J,EAAAA,EAAAA,IAAEnF,EAAE6O,4BAA4BxO,KAAK0N,2BAA2BiB,OAAO3O,KAAK0N,2BAA2BkB,QAAQjP,GAAG,GAAGkP,+BAA+BlP,EAAEiB,GAAG,MAAMJ,EAAER,KAAK+N,gBAAgB7L,kBAAkBS,EAAEhB,YAAY/B,GAAGD,GAAGwC,MAAM/B,EAAEgC,IAAI0C,EAAEzC,aAAa2E,EAAEpF,QAAQuB,EAAEb,gBAAgByE,GAAGpE,GAAGd,SAASgF,GAAGjH,EAAEoE,EAAEU,GAAEV,EAAE,IAAI6C,EAAE,GAAG7C,EAAE,IAAI6C,EAAE,GAAG7C,EAAE,IAAI6C,EAAE,GAAG,MAAMhB,GAAEnG,EAAAA,EAAAA,GAAE4F,GAAElF,EAAEyG,GAAGtB,GAAE7F,EAAAA,EAAAA,GAAEyE,GAAEW,EAAE+B,GAAG4G,GAAE/N,EAAAA,EAAAA,GAAEoE,GAAEkD,EAAEH,IAAIuH,yBAAyB7K,EAAEgL,0BAA0BxC,EAAEyC,2BAA2BtJ,GAAGtE,EAAEoE,GAAEpC,EAAAA,EAAAA,IAAE5C,KAAKyI,iBAAiByB,4BAA2BtH,EAAAA,EAAAA,IAAEjD,EAAE+B,gCAAgC8I,EAAExK,KAAKG,UAAU6E,EAAEzB,EAAEpD,QAAQqK,EAAEuB,EAAE5L,QAAQqK,EAAEtF,EAAE/E,QAAQqK,EAAEA,IAAIjH,EAAEuL,SAAS,KAAK/C,EAAE+C,SAAS,KAAK5J,EAAE4J,SAAS,KAAK3L,EAAE4D,GAAGxD,EAAEuL,SAAS,CAAC,EAAChI,EAAAA,EAAAA,GAAEjB,IAAGiB,EAAAA,EAAAA,GAAEvB,KAAKhC,EAAEwL,UAAU/K,EAAET,EAAE8K,MAAMhO,EAAAA,EAAAA,WAAaG,EAAEQ,qBAAqBuC,EAAEuL,SAAS,CAAC,EAAChI,EAAAA,EAAAA,GAAEjB,IAAGiB,EAAAA,EAAAA,GAAE2G,KAAKlK,EAAEwL,UAAU/K,EAAET,EAAE8K,MAAMhO,EAAAA,EAAAA,WAAaG,EAAEU,oBAAoB6K,EAAE+C,SAAS,CAAC,EAAChI,EAAAA,EAAAA,GAAE2G,IAAG3G,EAAAA,EAAAA,GAAEvB,KAAKwG,EAAEgD,UAAU/K,IAAIkB,EAAE4J,SAAS,CAAC,EAAChI,EAAAA,EAAAA,GAAEjB,IAAGiB,EAAAA,EAAAA,GAAEvB,KAAKL,EAAE6J,UAAU/K,IAAIgL,wCAAwCrP,GAAG,MAAMuC,kBAAkB7B,GAAGV,GAAGuB,mBAAmBN,EAAEI,kBAAkBR,GAAGR,KAAK+N,eAAe,MAAM,CAAC7L,kBAAkB7B,EAAEa,mBAAmBN,EAAEI,kBAAkBR,EAAEL,QAAQH,KAAKG,SAASgM,oBAAoBxM,GAAG,MAAMU,EAAEL,KAAKyH,oBAAoB,GAAGpH,EAAE+L,IAAIzM,GAAG,OAAO,MAAMiB,EAAEZ,KAAKiO,iCAAiC5N,EAAE4H,IAAI,EAACjB,EAAAA,EAAAA,KAAG,IAAIhH,KAAKgP,wCAAwCrP,KAAK,IAAIK,KAAK6O,+BAA+BlP,EAAEiB,IAAIuC,EAAAA,KAAGR,EAAAA,EAAAA,KAAG,IAAI3C,KAAK0O,gCAAgC9N,MAAMjB,GAAGsP,uBAAuBtP,GAAGK,KAAKyH,oBAAoB6E,OAAO3M,GAAGiO,mBAAmB,IAAIjO,EAAE,KAAK,OAAOC,EAAAA,EAAAA,IAAE,EAACoH,EAAAA,EAAAA,KAAG,IAAIhH,KAAKyI,iBAAiBC,eAAerI,IAAIV,GAAES,EAAAA,EAAAA,IAAET,GAAGA,EAAEU,EAAEqL,GAAG,UAAU/L,GAAGK,KAAKkP,gCAAgCvP,KAAKK,KAAKkP,gCAAgC,CAAC3N,OAAOlB,EAAEmM,MAAMnM,EAAE8O,MAAMzC,QAAQ,GAAG0C,MAAM,OAAOjM,EAAAA,KAAGR,EAAAA,EAAAA,KAAG,IAAIhD,GAAES,EAAAA,EAAAA,IAAET,OAAOuP,gCAAgCvP,GAAGA,EAAE6M,MAAMC,SAAS9M,GAAGK,KAAKmM,oBAAoBxM,KAAKA,EAAE+M,QAAQD,SAAS9M,GAAGK,KAAKiP,uBAAuBtP,QAAOA,EAAAA,EAAAA,GAAE,EAACoH,EAAAA,EAAAA,IAAE,CAACpG,eAAc,KAAM8M,GAAE/M,UAAU,gBAAW,IAAQf,EAAAA,EAAAA,GAAE,EAACoH,EAAAA,EAAAA,IAAE,CAACpG,eAAc,KAAM8M,GAAE/M,UAAU,wBAAmB,IAAQf,EAAAA,EAAAA,GAAE,EAACoH,EAAAA,EAAAA,IAAE,CAACpG,eAAc,KAAM8M,GAAE/M,UAAU,YAAO,IAAQf,EAAAA,EAAAA,GAAE,EAACoH,EAAAA,EAAAA,IAAE,CAACtG,UAAS,KAAMgN,GAAE/M,UAAU,UAAU,OAAMf,EAAAA,EAAAA,GAAE,EAACoH,EAAAA,EAAAA,OAAK0G,GAAE/M,UAAU,WAAW,OAAMf,EAAAA,EAAAA,GAAE,EAACoH,EAAAA,EAAAA,OAAK0G,GAAE/M,UAAU,iBAAiB,MAAM+M,IAAE9N,EAAAA,EAAAA,GAAE,EAACkH,EAAAA,EAAAA,GAAE,gEAAgE4G,IAAG,MAAMnI,IAAEO,EAAAA,EAAAA,KAAI1B,IAAE0B,EAAAA,EAAAA,KAAI/B,IAAE+B,EAAAA,EAAAA,KAAInB,IAAEV,EAAAA,GAAAA,KCAz8G,IAAI+C,GAAE,eAAcC,EAAAA,EAAAA,IAAE5G,EAAAA,EAAAA,GAAER,EAAAA,EAAAA,aAAeD,EAAAA,MAAME,YAAYQ,GAAGP,MAAMO,GAAGL,KAAKqB,KAAK,wBAAwBrB,KAAK0I,aAAa,IAAIlI,EAAAA,EAAER,KAAKkK,yBAAyB,KAAKlK,KAAKgO,cAAc,IAAI7K,EAAEnD,KAAK4I,wBAAuBtD,EAAAA,EAAAA,KAAItF,KAAKsN,aAAa,KAAKjK,aAAa,MAAMhD,EAAEL,KAAKwD,KAAK7D,EAAEK,KAAKO,SAASP,KAAKqP,oBAAoB,IAAIrL,EAAE,CAACzD,SAASZ,EAAE8I,iBAAiBzI,KAAKwD,KAAKnD,IAAIL,KAAKsP,uBAAuB,IAAIzI,GAAE,CAACtG,SAASZ,EAAE8I,iBAAiBzI,KAAKwD,KAAKnD,IAAIL,KAAKuP,QAAQtH,IAAI,CAACjI,KAAKqP,oBAAoB3D,GAAG,kBAAkBrL,IAAIA,EAAEkB,SAASvB,KAAKsN,cAActN,KAAKqJ,KAAK,iBAAiBhJ,QAAQgI,UAAUrI,KAAKqP,qBAAoBzO,EAAAA,EAAAA,IAAEZ,KAAKqP,qBAAqBrP,KAAKsP,wBAAuB1O,EAAAA,EAAAA,IAAEZ,KAAKsP,wBAA4B/K,cAAU,OAAOvE,KAAK0I,aAAa8G,KAAKnP,GAAGA,EAAEkC,SAAaiG,eAAW,OAAOxI,KAAKqP,oBAAoB7G,SAAaA,aAASnI,GAAGL,KAAKqP,oBAAoB7G,SAASnI,EAAMH,eAAW,OAAOyC,EAAAA,EAAAA,IAAE3C,KAAKqP,sBAAsBrP,KAAKqP,oBAAoBnP,SAASuP,mBAAmBpP,GAAG,MAAMV,EAAEK,KAAK0I,aAAa0E,MAAMzN,GAAGA,EAAE4B,SAASlB,IAAI,OAAOuC,EAAAA,EAAAA,IAAEjD,GAAGU,GAAGA,EAAEkC,SAAasL,eAAW,MAAM,CAAC6B,cAAc1P,KAAKsP,uBAAuBK,WAAW3P,KAAKqP,wBAAuBhP,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,YAAO,IAAQL,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,gBAAW,IAAQL,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,IAAE,CAACrE,UAAS,KAAMsG,GAAErG,UAAU,UAAU,OAAML,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,WAAW,OAAML,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,oBAAe,IAAQL,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,gCAA2B,IAAQL,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,qBAAgB,IAAQL,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,8BAAyB,IAAQL,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,oBAAe,IAAQL,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,WAAW,OAAML,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,2BAAsB,IAAQL,EAAAA,EAAAA,GAAE,EAACyE,EAAAA,EAAAA,OAAKiC,GAAErG,UAAU,8BAAyB,GAAQqG,IAAE1G,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,GAAE,qDAAqDqH,IAAG,MAAMlB,GAAEkB,I,8ECAv6E,SAASpE,EAAEA,EAAEC,EAAElD,GAAO,IAALE,EAAK,wDAAC,MAAMuD,GAAE9C,EAAAA,EAAAA,IAAEsC,EAAEC,GAAG,OAAOpC,EAAAA,EAAAA,IAAE2C,GAAG,MAAMA,EAAEyM,OAAOhQ,KAAIgB,EAAAA,EAAAA,IAAElB,KAAKyD,EAAEqH,GAAEpK,EAAAA,EAAAA,KAAET,EAAAA,EAAAA,IAAED,EAAEyD,GAAG,IAAIA,GAAG,SAASP,EAAEpC,EAAEI,EAAER,GAAGA,EAAEyP,SAAU,6CAA4CrP,EAAEsC,mDAAmDlC,EAAEkP,oH,4JCA4P,MAAMjK,UAAUiB,EAAAA,EAAEjH,YAAYe,GAAGd,MAAMc,GAAGZ,KAAK+P,gBAAgB5M,EAAAA,GAAAA,sBAAwBnD,KAAKgQ,OAAO,EAAEhQ,KAAKiQ,QAAOrN,EAAAA,EAAAA,GAAE,EAAE,EAAE,EAAE,GAAG5C,KAAKkQ,YAAY,EAAElQ,KAAKmQ,YAAY,KAAKnQ,KAAKoQ,gBAAgB,KAAKpQ,KAAKqQ,iBAAiB,KAAKrQ,KAAKsQ,0BAAyB,EAAGtQ,KAAKuQ,oBAAmB,EAAGvQ,KAAKwQ,SAAS,EAAExQ,KAAKyQ,gBAAe,EAAGzQ,KAAK0Q,WAAW9P,GAAG+P,gCAAgC/P,GAAG,MAAMP,EAAE,IAAID,EAAE,GAAGA,EAAEqO,KAAK,CAAC,CAAC7N,EAAE,GAAGP,EAAEO,EAAE,GAAG,EAAEA,EAAE,GAAG,GAAG,CAACA,EAAE,GAAGP,EAAEO,EAAE,GAAG,EAAEA,EAAE,GAAG,KAAKR,EAAEqO,KAAK,CAAC,CAAC7N,EAAE,GAAG,EAAEA,EAAE,GAAGP,EAAEO,EAAE,GAAG,GAAG,CAACA,EAAE,GAAG,EAAEA,EAAE,GAAGP,EAAEO,EAAE,GAAG,KAAKR,EAAEqO,KAAK,CAAC,CAAC7N,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAGP,GAAG,CAACO,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAGP,KAAKL,KAAK8O,SAAS1O,EAAEwQ,sBAAsBhQ,GAAG,MAAMP,EAAEL,KAAKwD,KAAKqB,iBAAiBzE,GAAEuC,EAAAA,EAAAA,KAAI/C,GAAE+C,EAAAA,EAAAA,KAAInC,EAAE,IAAIsE,EAAE,IAAGnF,EAAAA,EAAAA,GAAES,EAAEQ,EAAE,GAAGA,EAAE,GAAGJ,GAAGR,KAAKwD,KAAKmB,mBAAmB0B,eAAejG,EAAEC,EAAET,GAAGkF,EAAE2J,KAAK,CAAC7O,EAAE,GAAGA,EAAE,GAAGA,EAAE,MAAKD,EAAAA,EAAAA,GAAES,EAAEQ,EAAE,GAAGA,EAAE,GAAGJ,GAAGR,KAAKwD,KAAKmB,mBAAmB0B,eAAejG,EAAEC,EAAET,GAAGkF,EAAE2J,KAAK,CAAC7O,EAAE,GAAGA,EAAE,GAAGA,EAAE,MAAKD,EAAAA,EAAAA,GAAES,EAAEQ,EAAE,GAAGA,EAAE,GAAGJ,GAAGR,KAAKwD,KAAKmB,mBAAmB0B,eAAejG,EAAEC,EAAET,GAAGkF,EAAE2J,KAAK,CAAC7O,EAAE,GAAGA,EAAE,GAAGA,EAAE,MAAKD,EAAAA,EAAAA,GAAES,EAAEQ,EAAE,GAAGA,EAAE,GAAGJ,GAAGR,KAAKwD,KAAKmB,mBAAmB0B,eAAejG,EAAEC,EAAET,GAAGkF,EAAE2J,KAAK,CAAC7O,EAAE,GAAGA,EAAE,GAAGA,EAAE,MAAKD,EAAAA,EAAAA,GAAES,EAAEQ,EAAE,GAAGA,EAAE,GAAGJ,GAAGR,KAAKwD,KAAKmB,mBAAmB0B,eAAejG,EAAEC,EAAET,GAAGkF,EAAE2J,KAAK,CAAC7O,EAAE,GAAGA,EAAE,GAAGA,EAAE,MAAKD,EAAAA,EAAAA,GAAES,EAAEQ,EAAE,GAAGA,EAAE,GAAGJ,GAAGR,KAAKwD,KAAKmB,mBAAmB0B,eAAejG,EAAEC,EAAET,GAAGkF,EAAE2J,KAAK,CAAC7O,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAKI,KAAK8O,SAAS,CAAChK,GAAG+L,uBAAuBjQ,GAAG,MAAMP,EAAE,GAAGO,EAAEkQ,MAAMrE,SAAS7L,IAAIP,EAAEoO,KAAK,CAAC7N,EAAEmQ,OAAO,GAAGnQ,EAAEmQ,OAAO,GAAGnQ,EAAEmQ,OAAO,KAAK1Q,EAAEoO,KAAK,CAAC7N,EAAEoQ,SAAS,GAAGpQ,EAAEoQ,SAAS,GAAGpQ,EAAEoQ,SAAS,QAAQhR,KAAK8O,SAAS,CAACzO,GAAG4Q,4BAA4BrQ,GAAG,MAAMP,EAAE,GAAGD,EAAEQ,EAAEmQ,OAAOnR,EAAEgB,EAAEsQ,OAAOvR,EAAEiB,EAAEuQ,OAAO3Q,EAAE,GAAGsE,GAAEnC,EAAAA,EAAAA,KAAIqB,GAAErB,EAAAA,EAAAA,KAAIC,GAAED,EAAAA,EAAAA,KAAIjD,GAAEiD,EAAAA,EAAAA,KAAImC,EAAE,GAAG1E,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEsE,EAAE,GAAG1E,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEsE,EAAE,GAAG1E,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEwD,EAAE,GAAG5D,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEwD,EAAE,GAAG5D,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEwD,EAAE,GAAG5D,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEoC,EAAE,GAAGxC,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEoC,EAAE,GAAGxC,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEoC,EAAE,GAAGxC,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEd,EAAE,GAAGU,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEd,EAAE,GAAGU,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEd,EAAE,GAAGU,EAAE,GAAGR,EAAE,GAAGY,EAAEb,EAAE,GAAGa,EAAEH,EAAEoO,KAAK,CAAC3J,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAKzE,EAAEoO,KAAK,CAACzK,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAK3D,EAAEoO,KAAK,CAAC7L,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAKvC,EAAEoO,KAAK,CAAC/O,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAKW,EAAEoO,KAAK,CAAC3J,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAK9E,KAAK8O,SAAS,CAACzO,GAAG+Q,uBAAuBxQ,GAAG,MAAMP,EAAEO,EAAEyQ,eAAerR,KAAK+O,WAAU3O,EAAAA,EAAAA,GAAE0D,EAAEzD,GAAG,MAAMiR,OAAO1R,GAAGgB,EAAE2Q,qBAAqBlR,EAAEL,KAAKwD,KAAKmB,oBAAoB3E,KAAK8O,SAAS,CAAClP,GAAG4R,wBAAwB5Q,GAAM,IAAJP,EAAI,uDAAFG,EAAAA,EAAGR,KAAK+O,WAAU3O,EAAAA,EAAAA,GAAE0D,EAAEzD,GAAGL,KAAK8O,SAASlO,EAAE4O,KAAK5O,GAAGA,EAAE2Q,qBAAqBlR,EAAEL,KAAKwD,KAAKmB,oBAAoB2M,SAAaG,qBAAiB,OAAOzR,KAAK+P,gBAAoB0B,mBAAe7Q,GAAGA,IAAIZ,KAAK+P,kBAAkB/P,KAAK+P,gBAAgBnP,EAAEZ,KAAK0R,mBAAuB5C,eAAW,OAAO9O,KAAK2R,UAAc7C,aAASlO,GAAGZ,KAAK2R,UAAU/Q,EAAEZ,KAAK4R,mBAAuBzD,YAAQ,OAAOnO,KAAKgQ,OAAW7B,UAAMvN,GAAGA,IAAIZ,KAAKgQ,SAAShQ,KAAKgQ,OAAOpP,EAAEZ,KAAK0R,mBAAuBrD,YAAQ,OAAOrO,KAAKiQ,OAAW5B,UAAMzN,IAAGkE,EAAAA,EAAAA,GAAElE,EAAEZ,KAAKiQ,WAAUjM,EAAAA,EAAAA,GAAEhE,KAAKiQ,OAAOrP,GAAGZ,KAAK0R,mBAAuB7Q,iBAAa,OAAOb,KAAKkQ,YAAgBrP,eAAWD,GAAGA,IAAIZ,KAAKkQ,cAAclQ,KAAKkQ,YAAYtP,EAAEZ,KAAK0R,mBAAuBpD,iBAAa,OAAOtO,KAAKmQ,YAAgB7B,eAAWlO,IAAGQ,EAAAA,EAAAA,IAAER,KAAIC,EAAAA,EAAAA,IAAEL,KAAKmQ,eAAcrL,EAAAA,EAAAA,GAAE1E,EAAEJ,KAAKmQ,eAAenQ,KAAKmQ,aAAYnM,EAAAA,EAAAA,IAAEtE,EAAAA,EAAAA,KAAIU,GAAGJ,KAAK0R,oBAAmB9Q,EAAAA,EAAAA,IAAEZ,KAAKmQ,eAAenQ,KAAKmQ,YAAY,KAAKnQ,KAAK0R,mBAAuBG,qBAAiB,OAAO7R,KAAKoQ,gBAAoByB,mBAAexR,GAAG,MAAMD,GAAEQ,EAAAA,EAAAA,IAAEP,MAAKO,EAAAA,EAAAA,IAAEZ,KAAKoQ,iBAAiBpQ,KAAKoQ,gBAAgB/P,EAAED,EAAEJ,KAAK8R,WAAW9R,KAAK0R,kBAAsBK,sBAAkB,OAAO/R,KAAKqQ,iBAAqB0B,oBAAgB3R,KAAIC,EAAAA,EAAAA,IAAED,KAAIC,EAAAA,EAAAA,IAAEL,KAAKqQ,qBAAoBvL,EAAAA,EAAAA,GAAE1E,EAAEJ,KAAKqQ,qBAAqBrQ,KAAKqQ,kBAAiBzP,EAAAA,EAAAA,IAAER,IAAG2G,EAAAA,EAAAA,GAAE3G,GAAG,KAAKJ,KAAK0R,mBAAuBM,8BAA0B,OAAOhS,KAAKsQ,yBAA6B0B,4BAAwBpR,GAAGZ,KAAKsQ,2BAA2B1P,IAAIZ,KAAKsQ,yBAAyB1P,EAAEZ,KAAK0R,mBAAuBO,wBAAoB,OAAOjS,KAAKuQ,mBAAuB0B,sBAAkBrR,GAAGZ,KAAKuQ,qBAAqB3P,IAAIZ,KAAKuQ,mBAAmB3P,EAAEZ,KAAK0R,mBAAuBQ,cAAU,OAAOlS,KAAKwQ,SAAa0B,YAAQtR,GAAGA,IAAIZ,KAAKwQ,WAAWxQ,KAAKwQ,SAAS5P,EAAEZ,KAAK0R,mBAAuBS,oBAAgB,OAAOnS,KAAKyQ,eAAmB0B,kBAAcvR,GAAGA,IAAIZ,KAAKyQ,iBAAiBzQ,KAAKyQ,eAAe7P,EAAEZ,KAAK0R,mBAAmBU,0BAA0BpS,KAAKqS,UAAU,IAAIxL,EAAAA,EAAE7G,KAAKsS,oBAAoBC,2BAA2BvS,KAAKqS,UAAU,KAAKG,iBAAiB5R,GAAG,MAAMP,EAAEL,KAAKyS,wBAAwB,GAAG,IAAIpS,EAAEqS,OAAO,IAAI,IAAItS,EAAE,EAAEA,EAAEC,EAAEqS,SAAStS,EAAE,CAAC,MAAMR,GAAEoH,EAAAA,EAAAA,IAAE3G,EAAED,IAAIQ,EAAE+R,YAAY/S,EAAEI,KAAKqS,YAAYO,wBAAwBhS,GAAGA,EAAEZ,KAAKqS,WAAeC,yBAAqB,MAAM,CAACnE,MAAMnO,KAAKgQ,OAAO3B,MAAMrO,KAAKiQ,OAAO8B,gBAAgB/R,KAAKqQ,iBAAiBwB,eAAe7R,KAAKoQ,gBAAgB4B,wBAAwBhS,KAAKsQ,yBAAyBuC,UAAS,EAAGX,QAAQlS,KAAKwQ,SAASlC,WAAWtO,KAAKmQ,YAAYtP,WAAWb,KAAKkQ,YAAYiC,cAAcnS,KAAKyQ,eAAegB,eAAezR,KAAK+P,gBAAgB+C,WAAW9S,KAAKuQ,oBAAoBmB,kBAAkB1R,KAAKkO,UAAUlO,KAAKqS,UAAUU,cAAc/S,KAAKsS,oBAAoBG,wBAAwB,MAAM7R,EAAEZ,KAAK8O,SAAS,IAAGzO,EAAAA,EAAAA,IAAEO,IAAI,IAAIA,EAAE8R,OAAO,MAAM,GAAG,MAAMtS,EAAE,GAAG,OAAOQ,EAAE6L,SAAS7L,IAAI,MAAMP,EAAEO,EAAE8R,OAAO9S,EAAE,IAAIoT,aAAa,EAAE3S,GAAGO,EAAE6L,SAAS,CAAC7L,EAAEP,KAAKT,EAAE,EAAES,EAAE,GAAGO,EAAE,GAAGhB,EAAE,EAAES,EAAE,GAAGO,EAAE,GAAGhB,EAAE,EAAES,EAAE,GAAGO,EAAE,MAAM,MAAMjB,EAAE,CAACsT,YAAY,KAAKC,cAAc,CAACrI,SAASjL,GAAGuT,wBAAwBzO,EAAAA,GAAAA,MAAQtE,EAAEqO,KAAK9O,MAAMS,GAAG,MAAM0D,GAAElE,EAAAA,EAAAA,M,kHCAlzK,MAAM+C,UAAUhD,EAAAA,EAAEE,YAAYe,GAAGd,MAAMc,EAAE4C,MAAMxD,KAAKoT,WAAW,KAAKpT,KAAKqT,YAAWhT,EAAAA,EAAAA,KAAQiT,aAAS,OAAO1S,EAAAA,EAAAA,IAAEZ,KAAKoT,YAAYpT,KAAKoT,WAAWE,OAAO,KAASvE,gBAAY,OAAO/O,KAAKqT,WAAetE,cAAUnP,IAAGQ,EAAAA,EAAAA,GAAEJ,KAAKqT,WAAWzT,IAAGgB,EAAAA,EAAAA,IAAEZ,KAAKoT,cAAcpT,KAAKoT,WAAWE,OAAOC,eAAevT,KAAKqT,YAAYvB,WAAW9R,KAAKkO,UAAUlO,KAAKwT,kBAAkB5B,mBAAmB,IAAGhS,EAAAA,EAAAA,IAAEI,KAAKoT,YAAY,OAAO,MAAMxS,EAAEZ,KAAKoT,WAAWE,OAAOlT,EAAEJ,KAAKwD,KAAKiQ,OAAOrT,EAAEsT,WAAW9S,EAAE+S,YAAY/S,EAAEgT,sBAAsB5T,KAAKwS,iBAAiB5R,GAAGZ,KAAKG,SAASS,EAAEiT,WAAW7T,KAAKG,SAASC,EAAE0T,QAAQlT,EAAE+S,YAAYH,kBAAkBxT,KAAK+T,mBAAmB,MAAMnT,EAAEZ,KAAKwD,KAAKiQ,OAAO,IAAI7S,EAAE,OAAO,MAAMhB,EAAE,IAAIuD,EAAAA,EAAE,CAAC6Q,YAAW,EAAGC,aAAazT,EAAAA,GAAAA,OAASI,EAAEqH,IAAIrI,GAAG,MAAMQ,EAAE,IAAIwC,EAAAA,EAAE,CAACsR,YAAW,IAAK9T,EAAEmT,eAAevT,KAAKqT,WAAWrT,KAAKoS,0BAA0BpS,KAAKwS,iBAAiBpS,GAAGQ,EAAEkT,QAAQ1T,EAAEuT,YAAY3T,KAAK4S,yBAAyBhT,GAAGgB,EAAEqH,IAAIrI,KAAKgB,EAAEqH,IAAI7H,GAAGR,EAAEqI,IAAI7H,GAAGJ,KAAKG,SAASC,EAAEyT,YAAW,GAAI7T,KAAKoT,WAAW,CAACzN,MAAM/F,EAAE0T,OAAOlT,GAAG2T,mBAAmB,MAAMnT,EAAEZ,KAAKwD,KAAKiQ,SAAQ7T,EAAAA,EAAAA,IAAEI,KAAKoT,aAAaxS,IAAIA,EAAE0L,OAAOtM,KAAKoT,WAAWE,QAAQ1S,EAAE0L,OAAOtM,KAAKoT,WAAWzN,OAAO3F,KAAK4S,yBAAyBhT,IAAIgB,EAAE0L,OAAO1M,GAAGA,EAAEuU,aAAavT,EAAE8S,WAAW1T,KAAKoT,WAAWE,OAAOK,YAAY3T,KAAKoT,WAAWE,OAAOa,UAAUnU,KAAKuS,2BAA2BvS,KAAKoT,WAAW,MAAMgB,iBAAiBxT,IAAGhB,EAAAA,EAAAA,IAAEI,KAAKoT,aAAapT,KAAKoT,WAAWE,OAAOO,WAAWjT,M,iCCAhyD,MAAMP,EAAER,YAAYQ,GAAGL,KAAKqU,WAAU,EAAGrU,KAAKsU,mBAAkB,EAAGtU,KAAKuU,UAAS,EAAGvU,KAAKwD,KAAKnD,EAAEL,KAAKwD,KAAKgR,MAAM,SAASnU,IAAIL,KAAKsU,oBAAoBjU,EAAEL,KAAKyU,mBAAmBzU,KAAK0U,wBAAwBhE,WAAWrQ,GAAG,IAAIO,GAAE,EAAG,IAAI,MAAMhB,KAAKS,EAAET,KAAKI,KAAK,aAAaJ,EAAEgB,EAAEP,EAAET,GAAGI,KAAKJ,GAAGS,EAAET,GAAG+U,QAAQC,MAAM,8BAA8BhV,GAAGI,KAAKkO,SAAStN,EAAEyH,UAAUrI,KAAKkO,UAAS,EAAOA,eAAW,OAAOlO,KAAKqU,UAAcnG,aAAS7N,GAAGA,IAAIL,KAAKqU,WAAWrU,KAAKwD,KAAKiQ,SAASzT,KAAKqU,UAAUhU,EAAEL,KAAKqU,YAAYrU,KAAKsU,kBAAkBtU,KAAKyU,oBAAoBzU,KAAKqU,WAAWrU,KAAKsU,mBAAmBtU,KAAK0U,qBAAyBvU,cAAU,OAAOH,KAAKuU,SAAapU,YAAQE,GAAGA,IAAIL,KAAKuU,WAAWvU,KAAKuU,SAASlU,EAAEL,KAAKkO,UAAUlO,KAAKoU,iBAAiB/T,IAAIoU,mBAAmBzU,KAAKwT,kBAAkBxT,KAAKsU,mBAAkB,EAAGtU,KAAKG,SAASH,KAAKoU,kBAAiB,GAAIM,oBAAoB1U,KAAK+T,mBAAmB/T,KAAKsU,mBAAkB","sources":["../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../core/maybe.js\";import{EsriPromiseMixin as s}from\"../../../core/Promise.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";const p=p=>{let i=class extends(s(p)){constructor(){super(...arguments),this.parent=null}get updating(){return!1}get visible(){const r=!t(this.parent)||this.parent.visible&&!this.parent.suspended;return this.analysis.visible&&r}};return r([o({readOnly:!0})],i.prototype,\"type\",void 0),r([o({constructOnly:!0})],i.prototype,\"analysis\",void 0),r([o({constructOnly:!0})],i.prototype,\"parent\",void 0),r([o({constructOnly:!0})],i.prototype,\"view\",void 0),r([o({readOnly:!0})],i.prototype,\"updating\",null),r([o({readOnly:!0})],i.prototype,\"visible\",null),i=r([e(\"esri.views.3d.analysis.AnalysisView3D\")],i),i};export{p as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import r from\"../../../../core/Accessor.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends r{constructor(o){super(o),this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new e([3,252,111,1]),this.visibleOuterColor=new e([3,252,111,.15]),this.occludedInnerColor=new e([252,3,69,1]),this.occludedOuterColor=new e([252,3,69,.1]),this.undefinedInnerColor=new e([255,255,255,1]),this.undefinedOuterColor=new e([127,127,127,.2])}};o([t({type:Number})],s.prototype,\"innerWidth\",void 0),o([t({type:Number})],s.prototype,\"outerWidth\",void 0),o([t({type:e})],s.prototype,\"visibleInnerColor\",void 0),o([t({type:e})],s.prototype,\"visibleOuterColor\",void 0),o([t({type:e})],s.prototype,\"occludedInnerColor\",void 0),o([t({type:e})],s.prototype,\"occludedOuterColor\",void 0),o([t({type:e})],s.prototype,\"undefinedInnerColor\",void 0),o([t({type:e})],s.prototype,\"undefinedOuterColor\",void 0),s=o([i(\"esri.views.3d.analysis.LineOfSight.LineOfSightConfiguration\")],s);export{s as LineOfSightConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(o){super(o),this.target=null,this.intersectedGraphic=null,this.intersectedLocation=null,this.elevationAlignedTargetLocation=null}};o([e()],s.prototype,\"target\",void 0),o([e()],s.prototype,\"intersectedGraphic\",void 0),o([e()],s.prototype,\"intersectedLocation\",void 0),o([e()],s.prototype,\"elevationAlignedTargetLocation\",void 0),o([e()],s.prototype,\"visible\",void 0),s=o([r(\"esri.views.3d.analysis.LineOfSightAnalysisResult\")],s);export{s as LineOfSightAnalysisResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";let i=class extends o{constructor(t){super(t),this.elevationAlignedTargetLocation=null,this.inputPoints={isValid:!1,observer:s(),observerSurfaceNormal:null,target:s(),targetSurfaceNormal:null,observerAdjusted:s(),targetAdjusted:s()},this.computationResult={start:s(),end:s(),intersection:s(),isValid:!1,isTargetVisible:!1},this.result=null}notifyResultChanged(){this.notifyChange(\"computationResult\")}notifyInputPointsChanged(){this.notifyChange(\"inputPoints\")}};t([e()],i.prototype,\"target\",void 0),t([e()],i.prototype,\"elevationAlignedTargetLocation\",void 0),t([e()],i.prototype,\"inputPoints\",void 0),t([e()],i.prototype,\"computationResult\",void 0),t([e()],i.prototype,\"result\",void 0),i=t([r(\"esri.views.3d.analysis.LineOfSight.LineOfSightComputation\")],i);export{i as LineOfSightComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{equals as t}from\"../../../../core/arrayUtils.js\";import{clone as s}from\"../../../../core/lang.js\";import{equalsMaybe as e}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{equals as c}from\"../../../../geometry/support/ray.js\";var n;let a=n=class extends o{constructor(r){super(r)}clone(){return new n({type:this.type,id:s(this.id),point:s(this.point),normal:s(this.normal),ray:s(this.ray)})}equals(r){return this.type===r.type&&this.id===r.id&&e(this.point,r.point)&&t(this.normal,r.normal)&&c(this.ray,r.ray)}};r([i()],a.prototype,\"type\",void 0),r([i({constructOnly:!0})],a.prototype,\"id\",void 0),r([i({constructOnly:!0})],a.prototype,\"point\",void 0),r([i({constructOnly:!0})],a.prototype,\"normal\",void 0),r([i({constructOnly:!0})],a.prototype,\"ray\",void 0),a=n=r([p(\"esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult\")],a);export{a as LineOfSightIntersectionResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{isNone as r,isSome as s}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as o}from\"../../../../core/screenUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as c,a,n as p,b as m}from\"../../../../chunks/vec3.js\";import{d as l,c as d}from\"../../../../chunks/vec3f64.js\";import{create as u,copy as y,fromPoints as f}from\"../../../../geometry/support/ray.js\";import{sv2d as h}from\"../../../../geometry/support/vectorStacks.js\";import{getObjectId as g}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{LineOfSightIntersectionResult as I}from\"./LineOfSightIntersectionResult.js\";import{isI3sIntersectorResult as j}from\"../../layers/i3s/Intersector.js\";import{fromScreen as w}from\"../../support/geometryUtils/ray.js\";import{isTerrainIntersectorResult as v}from\"../../terrain/Intersector.js\";import{tilesAreRelated as R}from\"../../terrain/tileUtils.js\";import{newIntersector as b}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as C,IntersectorType as S}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as T}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";let U=class extends t{constructor(e){super(e)}initialize(){this.intersector=b(this.view.state.viewingMode),this.intersector.options.hud=!1,this.intersector.options.store=C.MIN}getScreenPointIntersection(e){const t=o(e,h.get()),r=w(this.view.state.camera,t,O);return this._getRayIntersection(r)}_getRayIntersection(e){if(r(e))return null;this.view.sceneIntersectionHelper.intersectToolIntersectorRay(e,this.intersector);const t=this.intersector.results.min;if(!t.getIntersectionPoint(_))return null;const o=this.view.renderCoordsHelper.fromRenderCoords(_,this.view.spatialReference),i=l(t.normal),n=c(i,e.direction)>0?-1:1;if(a(i,i,n),j(t))return new I({type:S.OBJECT,id:`${t.target.layerUid}/${t.target.nodeIndex}/${t.target.componentIndex}`,point:o,normal:i,ray:y(e)});if(v(t))return new I({type:S.TERRAIN,id:t.target.lij.slice(),point:o,normal:i,ray:y(e)});const p=T(t,this.view);if(s(p)){const t=p.layer,r=p.sourceLayer;let s;if(r)if(\"scene\"===r.type)s=g(p,r.objectIdField);else s=p.uid;else s=p.uid;return new I({type:S.OBJECT,id:`${t.uid}/${s}`,point:o,normal:i,ray:y(e)})}return null}_canUpdateFromIntersectionResult(e,t){if(r(e)||!t||e.type!==t.type)return!1;switch(e.type){case S.TERRAIN:{const r=e.id,s=t.id;return r[0]===s[0]&&r[1]===s[1]&&r[2]===s[2]||R(r,s)}case S.OBJECT:case S.I3S:return e.id===t.id}}updateFromIntersectionResult(e){let t;if(e.type===S.TERRAIN&&s(e.point)){const r=_,s=A,o=E;this.view.renderCoordsHelper.toRenderCoords(e.point,s),this.view.renderCoordsHelper.worldUpAtPosition(s,o);const i=this.view.basemapTerrain.elevationBounds,n=this.view.renderCoordsHelper.getAltitude(s),c=i?Math.abs(i.max-i.min)/Math.abs(n):100,l=n>0?1:-1;p(o,o),a(o,o,l*c),m(r,s,o),f(r,s,O),t=this._getRayIntersection(O)}else t=this._getRayIntersection(e.ray);return this._canUpdateFromIntersectionResult(t,e)?t.point:null}};e([i()],U.prototype,\"view\",void 0),e([i()],U.prototype,\"intersector\",void 0),U=e([n(\"esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector\")],U);const _=d(),A=d(),E=d(),O=u();export{U as LineOfSightRayIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import e from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import o from\"../../../../core/Handles.js\";import{handlesGroup as n,makeHandle as s}from\"../../../../core/handleUtils.js\";import r from\"../../../../core/Logger.js\";import{isSome as a,isNone as c,abortMaybe as l,removeMaybe as p,none as u}from\"../../../../core/maybe.js\";import{createTask as h,ignoreAbortErrors as d}from\"../../../../core/promiseUtils.js\";import{watch as m,initial as g,syncAndInitial as v,sync as _}from\"../../../../core/reactiveUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as C}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{g as f,f as b,n as T,a as O,b as P,j as I,v as j}from\"../../../../chunks/vec3.js\";import{a as w,c as S}from\"../../../../chunks/vec3f64.js\";import{projectPoint as A,projectBoundingRect as E}from\"../../../../geometry/projection.js\";import{containsPointObject as L,intersectsSegment as R,empty as V}from\"../../../../geometry/support/aaBoundingRect.js\";import{fromPoints as H,create as D}from\"../../../../geometry/support/ray.js\";import{LineOfSightAnalysisResult as x}from\"../LineOfSightAnalysisResult.js\";import{LineOfSightComputation as k}from\"./LineOfSightComputation.js\";import{LineOfSightRayIntersector as N}from\"./LineOfSightRayIntersector.js\";import{logFailedGeometryProjectionError as U,applyProjectionAndElevationAlignment as z}from\"../support/projectionUtils.js\";import{IntersectorType as F}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as G}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{ImmediateTask as M,TaskPriority as B}from\"../../../support/Scheduler.js\";import{WatchUpdatingTracking as q}from\"../../../support/WatchUpdatingTracking.js\";import J from\"../../../../geometry/Point.js\";const W=r.getLogger(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\");let K=class extends(i.EventedMixin(e)){constructor(t){super(t),this.updateOnCameraChange=!0,this._updatingHandles=new q,this._frameTask=M,this._handles=new o,this._computationHandles=new o,this._externalObserverUpdate=!0}initialize(){var t;const e=null==(t=this.view.resourceController)?void 0:t.scheduler;this._frameTask=e?e.registerTask(B.LINE_OF_SIGHT_TOOL):M,this._intersector=new N({view:this.view}),this._handles.add([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._handles.destroy(),this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(t){this._frameTask.priority=t}get _computations(){return this.analysisViewData.computations}get _observerEngineLocation(){return this.analysisViewData.observerEngineLocation}set _observerEngineLocation(t){this.analysisViewData.observerEngineLocation=t}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._observerEngineLocation)}getLineOfSightComputationDependencies(t){const{inputPoints:e}=t;return{inputPoints:e}}_computeResult(t){const e=t.computation,{inputPoints:i,computationResult:o}=e,{observerAdjusted:n,targetAdjusted:s}=i,{start:r,end:a}=o;f(r,n),f(a,s);this._canCompute(e)?this._computeIntersection(t):this._interpolateIntersection(t),e.notifyResultChanged(),this.emit(\"result-changed\",{target:t.computation.target,result:e.result})}_adjustStartEndPositions(t){const e=this._screenPixelSize,i=this.view,{inputPoints:o}=t,{observer:n,observerSurfaceNormal:s,target:r,targetSurfaceNormal:c,observerAdjusted:l,targetAdjusted:p}=o,u=Y;a(s)?f(u,s):b(u,r,n);const h=e;T(u,u),O(u,u,Math.min(h,1)),P(l,n,u),a(c)?f(u,c):b(u,n,r);const d=i.state.camera.computeScreenPixelSizeAt(r);T(u,u),O(u,u,Math.min(d,1)),P(p,r,u)}_computeIntersection({computation:t,interpolationInfo:e}){const{view:i}=this,{sceneIntersectionHelper:o,renderCoordsHelper:n}=i;if(c(o))return;const s=this._intersector.intersector,{computationResult:r,inputPoints:l}=t,{observer:p,target:u}=l,{start:h,end:d}=r,m=H(h,d,Z);o.intersectToolIntersectorRay(m,s);const g=r.intersection,v=Y;let _=!0;if(s.results.min.getIntersectionPoint(g)){f(e.originalIntersection,g),f(e.originalObserver,h),f(e.originalTarget,d),n.fromRenderCoords(g,v,i.spatialReference);const t=1-I(d,u)/I(h,u);_=I(p,g)>=t*I(p,u)}const y=new J(v,i.spatialReference);{const{result:e,target:o}=t;a(e)?(e.target=o,e.intersectedGraphic=_?null:G(s.results.min,i),e.intersectedLocation=_?null:y,e.visible=_):t.result=new x({target:o,elevationAlignedTargetLocation:t.elevationAlignedTargetLocation,intersectedGraphic:_?null:G(s.results.min,i),intersectedLocation:_?null:y,visible:_})}r.isValid=l.isValid=!0,r.isTargetVisible=_}_interpolateIntersection({computation:t,interpolationInfo:e}){const{computationResult:i,inputPoints:o}=t,{start:n,end:s,intersection:r}=i,{originalIntersection:a,originalObserver:c,originalTarget:l}=e;if(f(r,a),o.isValid){const t=Y,e=I(c,a)/I(c,l);j(t,n,c),O(t,t,1-e),P(r,r,t),j(t,s,l),O(t,t,e),P(r,r,t),i.isValid=!0}else t.result=null,i.isValid=!1,i.isTargetVisible=!1}_canCompute(t){const e=this.analysisViewData.elevationAlignedObserver,i=this.view.frustum;if(c(e)||c(t.elevationAlignedTargetLocation)||c(i))return!1;const{observerAdjusted:o,targetAdjusted:n}=t.inputPoints,s=i.intersectsPoint(o),r=i.intersectsPoint(n);return s&&r}_onObserverPositionChange(t,e,i){if(this._externalObserverUpdate=i,c(t))return void(this.analysisViewData.elevationAlignedObserver=null);const o=this._applyProjectionAndElevationAlignment(t,e);if(c(o))return U(this.analysis,t.spatialReference,W),void(this.analysisViewData.elevationAlignedObserver=null);const n=S();this.analysisViewData.elevationAlignedObserver=o,this.view.renderCoordsHelper.toRenderCoords(this.analysisViewData.elevationAlignedObserver,n),this._observerEngineLocation=n,this.priority=B.LINE_OF_SIGHT_TOOL_INTERACTIVE}_applyProjectionAndElevationAlignment(t,e){const i=a(e)&&e.type!==F.OBJECT;return z(t,this.view.spatialReference,this.view.elevationProvider,i)}_onObserverRenderSpacePositionChangeForComputation(t,e,i){const{inputPoints:o}=t;if(f(o.observer,e),a(i)){const t=this._intersector.updateFromIntersectionResult(i);a(t)&&this.view.renderCoordsHelper.toRenderCoords(t,o.observer),o.observerSurfaceNormal=w(i.normal)}else o.observerSurfaceNormal=null;this._adjustStartEndPositions(t),t.notifyInputPointsChanged(),this.priority=B.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(t,e,i,o=!0){const n=t.inputPoints;if(o&&(n.isValid=!1),t.elevationAlignedTargetLocation=this._applyProjectionAndElevationAlignment(e,i),c(t.elevationAlignedTargetLocation))U(this.analysis,e.spatialReference,W);else{if(this.view.renderCoordsHelper.toRenderCoords(t.elevationAlignedTargetLocation,n.target),a(i)){const t=this._intersector.updateFromIntersectionResult(i);a(t)&&this.view.renderCoordsHelper.toRenderCoords(t,n.target),n.targetSurfaceNormal=w(i.normal)}else n.targetSurfaceNormal=null;this._adjustStartEndPositions(t)}t.notifyInputPointsChanged(),this.priority=B.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(t){return n([m((()=>t.target.position),(e=>{Q(e,t.target.intersection)||(t.target.intersection=null)}),g),m((()=>({computation:t,targetPosition:t.target.position,targetIntersection:t.target.intersection})),(({computation:t,targetPosition:e,targetIntersection:i})=>{a(e)&&this._onTargetPositionChange(t,e,i)}),v)])}_connectComputationToObserver(t){return m((()=>({computation:t,observer:this.analysisViewData.elevationAlignedObserver})),(({computation:t})=>{this._externalObserverUpdate&&(t.inputPoints.isValid=!1,t.notifyInputPointsChanged())}),v)}_connectComputationToRenderSpaceObserver(t){return m((()=>({computation:t,observer:this._observerEngineLocation,observerIntersection:a(this.analysis.observer)?this.analysis.observer.intersection:null})),(({computation:t,observer:e,observerIntersection:i})=>{this._onObserverRenderSpacePositionChangeForComputation(t,e,i)}),v)}_connectComputationToCamera(t){return m((()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty})),(({isDirty:e})=>{!this.updateOnCameraChange||t.inputPoints.isValid&&!e||t.notifyInputPointsChanged()}),_)}_connectComputationToSlicePlane(t){return m((()=>this.view.slicePlane),(()=>t.notifyInputPointsChanged()))}_connectComputationToElevation(t){return this.view.elevationProvider.on(\"elevation-change\",(e=>{const i=this.analysis.observer,o=t.target;let n=null,s=null,r=null,l=null;const p=a(i)&&a(i.position)?i.position.spatialReference:a(o.position)?o.position.spatialReference:e.spatialReference;a(i)&&a(i.position)&&(n=tt,s=i.intersection,A(i.position,n,p)),a(o.position)&&(r=et,l=o.intersection,A(o.position,r,p)),c(n)&&c(r)||(E(e.extent,e.spatialReference,$,p),a(n)&&L($,n)&&this._onObserverPositionChange(n,s,!1),a(r)&&L($,r)&&this._onTargetPositionChange(t,r,l,!1),a(n)&&a(r)&&R($,n,r)&&t.notifyInputPointsChanged())}))}_connectComputationToTask(t){let e=u;const i={computation:t,interpolationInfo:{originalIntersection:S(),originalObserver:S(),originalTarget:S()}};return n([m((()=>this.getLineOfSightComputationDependencies(t)),(()=>{e=l(e),e=h((async t=>{await d(this._frameTask.schedule((()=>this._computeResult(i)),t))}))}),v),s((()=>e=l(e)))])}_connectComputation(t){const e=this._computationHandles;e.has(t)||e.add([this._connectComputationToTarget(t),this._connectComputationToObserver(t),this._connectComputationToRenderSpaceObserver(t),this._connectComputationToCamera(t),this._connectComputationToSlicePlane(t),this._connectComputationToElevation(t),this._connectComputationToTask(t)],t)}_disconnectAnalysis(t){this._computationHandles.remove(t)}_onComputationCollectionChange(t){t.added.forEach((t=>this._connectComputation(t))),t.removed.forEach((t=>this._disconnectAnalysis(t)))}_onTargetsChange(){return this._computations.removeAll(),this.analysis.targets.forEach((t=>this._addTarget(t))),this._updatingHandles.addOnCollectionChange((()=>this.analysis.targets),(t=>this._onTargetCollectionChange(t)))}_onTargetCollectionChange(t){t.added.forEach((t=>this._addTarget(t))),t.removed.forEach((t=>this._removeTarget(t)))}_onCursorTargetChange(t,e){a(e)&&this._removeTarget(e),a(t)&&this._addTarget(t)}_addTarget(t){this._computations.some((e=>e.target===t))||this._computations.add(new k({target:t}))}_removeTarget(t){const e=this._computations.find((e=>e.target===t));this._computations.remove(e)}_connectObserver(){return n([m((()=>({observer:this.analysis.observer,observerPosition:a(this.analysis.observer)?this.analysis.observer.position:null,observerIntersection:a(this.analysis.observer)?this.analysis.observer.intersection:null})),(({observer:t,observerPosition:e,observerIntersection:i})=>{a(t)&&!Q(e,i)&&(t.intersection=null)}),g),m((()=>({observerPosition:a(this.analysis.observer)?this.analysis.observer.position:null,observerIntersection:a(this.analysis.observer)?this.analysis.observer.intersection:null})),(({observerPosition:t,observerIntersection:e})=>this._onObserverPositionChange(t,e,!0)),v)])}_connectComputations(){let t=null;return n([m((()=>this._computations),(()=>{p(t),t=this._updatingHandles.addOnCollectionChange((()=>this._computations),(t=>this._onComputationCollectionChange(t))),this._computations.forEach((t=>this._connectComputation(t)))}),v),s((()=>t=p(t)))])}_connectTargets(){let t=null;return n([m((()=>this.analysis.targets),(()=>{t=p(t),t=this._onTargetsChange()}),v),m((()=>this.analysisViewData.cursorTarget),((t,e)=>{this._onCursorTargetChange(t,e)})),s((()=>{t=p(t)}))])}get _isCameraDirty(){const t=this.analysisViewData.elevationAlignedObserver,{view:e}=this,{renderCoordsHelper:i}=e;if(c(t)||c(i))return!1;const o=Y;i.toRenderCoords(t,o);const n=e.state.camera.computeScreenPixelSizeAt(o);return Math.abs((n-this._screenPixelSize)/this._screenPixelSize)>X}};function Q(t,e){return c(e)||a(t)&&t.equals(e.point)}t([y({constructOnly:!0})],K.prototype,\"analysis\",void 0),t([y({constructOnly:!0})],K.prototype,\"analysisViewData\",void 0),t([y({constructOnly:!0})],K.prototype,\"view\",void 0),t([y()],K.prototype,\"updating\",null),t([y()],K.prototype,\"priority\",null),t([y()],K.prototype,\"updateOnCameraChange\",void 0),t([y()],K.prototype,\"_computations\",null),t([y()],K.prototype,\"_observerEngineLocation\",null),t([y()],K.prototype,\"_screenPixelSize\",null),t([y({readOnly:!0})],K.prototype,\"_updatingHandles\",void 0),t([y()],K.prototype,\"_frameTask\",void 0),t([y()],K.prototype,\"_isCameraDirty\",null),K=t([C(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\")],K);const X=.1,Y=S(),Z=D(),$=V(),tt=new J,et=new J;export{K as LineOfSightController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import e from\"../../../../core/Accessor.js\";import o from\"../../../../core/Handles.js\";import{makeHandle as n,handlesGroup as s}from\"../../../../core/handleUtils.js\";import{removeMaybe as r,destroyMaybe as l,isNone as a}from\"../../../../core/maybe.js\";import{watch as u,syncAndInitial as c}from\"../../../../core/reactiveUtils.js\";import{property as d}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{f as p}from\"../../../../chunks/vec3.js\";import{d as f,c as g}from\"../../../../chunks/vec3f64.js\";import{LineVisualElement as v}from\"../../interactive/visualElements/LineVisualElement.js\";let V=class extends e{constructor(i){super(i),this._lineOfSightVisualizations=[],this._handle=null,this._computationHandles=new o}initialize(){this._handle=this._connectAnalysis()}destroy(){this._handle=r(this._handle),this._computationHandles=l(this._computationHandles)}get visible(){return this.analysisViewData.visible}get testInfo(){return{visualizations:this._lineOfSightVisualizations}}get _configuration(){return this.analysisViewData.configuration}createLineOfSightVisualization(){const i=this._configuration,e={view:this.view,attached:!0,width:i.outerWidth,innerWidth:i.innerWidth},o=t.toUnitRGBA(i.visibleOuterColor),n=t.toUnitRGBA(i.visibleInnerColor),s=t.toUnitRGBA(i.occludedOuterColor),r=t.toUnitRGBA(i.occludedInnerColor),l=t.toUnitRGBA(i.undefinedOuterColor),a=t.toUnitRGBA(i.undefinedInnerColor),u={visibleLineVisualElement:new v({...e,color:o,innerColor:n}),occludedLineVisualElement:new v({...e,color:s,innerColor:r}),undefinedLineVisualElement:new v({...e,color:l,innerColor:a})};return this._lineOfSightVisualizations.push(u),u}destroyLineOfSightVisualization(i){i.visibleLineVisualElement=l(i.visibleLineVisualElement),i.occludedLineVisualElement=l(i.occludedLineVisualElement),i.undefinedLineVisualElement=l(i.undefinedLineVisualElement),this._lineOfSightVisualizations.splice(this._lineOfSightVisualizations.indexOf(i),1)}updateLineOfSightVisualization(i,e){const o=this._configuration,{computationResult:n,inputPoints:s}=i,{start:r,end:l,intersection:u,isValid:c,isTargetVisible:d}=n,{observer:m}=s,h=_;h[12]=m[0],h[13]=m[1],h[14]=m[2];const g=p(y,r,m),v=p(O,l,m),V=p(C,u,m),{visibleLineVisualElement:b,occludedLineVisualElement:L,undefinedLineVisualElement:S}=e,j=a(this.analysisViewData.elevationAlignedObserver)||a(i.elevationAlignedTargetLocation),z=this.visible&&!j;b.visible=z,L.visible=z,S.visible=z,z&&(b.geometry=null,L.geometry=null,S.geometry=null,c?d?(b.geometry=[[f(g),f(v)]],b.transform=h,b.color=t.toUnitRGBA(o.visibleOuterColor)):(b.geometry=[[f(g),f(V)]],b.transform=h,b.color=t.toUnitRGBA(o.occludedOuterColor),L.geometry=[[f(V),f(v)]],L.transform=h):(S.geometry=[[f(g),f(v)]],S.transform=h))}getLineOfSightVisualizationDependencies(i){const{computationResult:t}=i,{occludedOuterColor:e,visibleOuterColor:o}=this._configuration;return{computationResult:t,occludedOuterColor:e,visibleOuterColor:o,visible:this.visible}}_connectComputation(i){const t=this._computationHandles;if(t.has(i))return;const e=this.createLineOfSightVisualization();t.add([u((()=>this.getLineOfSightVisualizationDependencies(i)),(()=>this.updateLineOfSightVisualization(i,e)),c),n((()=>this.destroyLineOfSightVisualization(e)))],i)}_disconnectComputation(i){this._computationHandles.remove(i)}_connectAnalysis(){let i=null;return s([u((()=>this.analysisViewData.computations),(t=>{i=r(i),i=t.on(\"change\",(i=>this._onComputationsCollectionChange(i))),this._onComputationsCollectionChange({target:t,added:t.items,removed:[],moved:[]})}),c),n((()=>i=r(i)))])}_onComputationsCollectionChange(i){i.added.forEach((i=>this._connectComputation(i))),i.removed.forEach((i=>this._disconnectComputation(i)))}};i([d({constructOnly:!0})],V.prototype,\"analysis\",void 0),i([d({constructOnly:!0})],V.prototype,\"analysisViewData\",void 0),i([d({constructOnly:!0})],V.prototype,\"view\",void 0),i([d({readOnly:!0})],V.prototype,\"visible\",null),i([d()],V.prototype,\"testInfo\",null),i([d()],V.prototype,\"_configuration\",null),V=i([m(\"esri.views.3d.analysis.LineOfSight.LineOfSightVisualization\")],V);const y=g(),O=g(),C=g(),_=h();export{V as LineOfSightVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import s from\"../../../core/Evented.js\";import{HandleOwnerMixin as r}from\"../../../core/HandleOwner.js\";import{destroyMaybe as e,isSome as n,applySome as a}from\"../../../core/maybe.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as y}from\"../../../chunks/vec3f64.js\";import{AnalysisView3D as u}from\"./AnalysisView3D.js\";import{LineOfSightConfiguration as c}from\"./LineOfSight/LineOfSightConfiguration.js\";import{LineOfSightController as h}from\"./LineOfSight/LineOfSightController.js\";import{LineOfSightVisualization as m}from\"./LineOfSight/LineOfSightVisualization.js\";let d=class extends(u(r(s.EventedMixin(i)))){constructor(t){super(t),this.type=\"line-of-sight-view-3d\",this.computations=new o,this.elevationAlignedObserver=null,this.configuration=new c,this.observerEngineLocation=y(),this.cursorTarget=null}initialize(){const t=this.view,i=this.analysis;this._analysisController=new h({analysis:i,analysisViewData:this,view:t}),this._analysisVisualization=new m({analysis:i,analysisViewData:this,view:t}),this.handles.add([this._analysisController.on(\"result-changed\",(t=>{t.target!==this.cursorTarget&&this.emit(\"result-changed\",t)}))])}destroy(){this._analysisController=e(this._analysisController),this._analysisVisualization=e(this._analysisVisualization)}get results(){return this.computations.map((t=>t.result))}get priority(){return this._analysisController.priority}set priority(t){this._analysisController.priority=t}get updating(){return n(this._analysisController)&&this._analysisController.updating}getResultForTarget(t){const i=this.computations.find((i=>i.target===t));return a(i,(t=>t.result))}get testInfo(){return{visualization:this._analysisVisualization,controller:this._analysisController}}};t([l()],d.prototype,\"type\",void 0),t([l()],d.prototype,\"analysis\",void 0),t([l({readOnly:!0})],d.prototype,\"results\",null),t([l()],d.prototype,\"priority\",null),t([l()],d.prototype,\"computations\",void 0),t([l()],d.prototype,\"elevationAlignedObserver\",void 0),t([l()],d.prototype,\"configuration\",void 0),t([l()],d.prototype,\"observerEngineLocation\",void 0),t([l()],d.prototype,\"cursorTarget\",void 0),t([l()],d.prototype,\"updating\",null),t([l()],d.prototype,\"_analysisController\",void 0),t([l()],d.prototype,\"_analysisVisualization\",void 0),d=t([p(\"esri.views.3d.analysis.LineOfSightAnalysisView3D\")],d);const g=d;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isNone as o,isSome as e,unwrapOr as r}from\"../../../../core/maybe.js\";import{tryProjectWithZConversion as t}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as i}from\"../../support/ElevationProvider.js\";function n(n,a,p,s=!1){const c=t(n,a);return o(c)?null:(c.hasZ&&!s||!e(p)||(c.z=r(i(p,c),0)),c)}function a(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{n as applyProjectionAndElevationAlignment,a as logFailedGeometryProjectionError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{f as r}from\"../../../../chunks/mat4.js\";import{c as s}from\"../../../../chunks/mat4f64.js\";import{s as i}from\"../../../../chunks/vec3.js\";import{Z as o,c as n}from\"../../../../chunks/vec3f64.js\";import{g as l,c as h}from\"../../../../chunks/vec4.js\";import{f as a,c as p,a as d}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as f}from\"./Object3DVisualElement.js\";import{createGeometry as u,RemoveDuplicateStartEnd as _}from\"../../layers/graphics/lineUtils.js\";import{RenderOccludedFlag as c}from\"../../webgl-engine/lib/Material.js\";import{RibbonLineMaterial as m}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class g extends f{constructor(e){super(e),this._renderOccluded=c.OccludeAndTransparent,this._width=1,this._color=a(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromRenderSpacePoint(e){const t=1e3,r=[];r.push([[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]]),r.push([[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]]),r.push([[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]),this.geometry=r}setGeometryFromExtent(e){const t=this.view.spatialReference,r=n(),s=n(),o=100,l=[];i(r,e[0],e[1],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),i(r,e[2],e[1],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),i(r,e[2],e[3],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),i(r,e[0],e[3],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),i(r,e[0],e[1],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),i(r,e[0],e[1],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),this.geometry=[l]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,o=.5,l=n(),h=n(),a=n(),p=n();l[0]=r[0]-s[0]*o-i[0]*o,l[1]=r[1]-s[1]*o-i[1]*o,l[2]=r[2]-s[2]*o-i[2]*o,h[0]=r[0]-s[0]*o+i[0]*o,h[1]=r[1]-s[1]*o+i[1]*o,h[2]=r[2]-s[2]*o+i[2]*o,a[0]=r[0]+s[0]*o+i[0]*o,a[1]=r[1]+s[1]*o+i[1]*o,a[2]=r[2]+s[2]*o+i[2]*o,p[0]=r[0]+s[0]*o-i[0]*o,p[1]=r[1]+s[1]*o-i[1]*o,p[2]=r[2]+s[2]*o-i[2]*o,t.push([l[0],l[1],l[2]]),t.push([h[0],h[1],h[2]]),t.push([a[0],a[1],a[2]]),t.push([p[0],p[1],p[2]]),t.push([l[0],l[1],l[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;this.transform=r(C,t);const{points:s}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[s]}setGeometryFromSegments(e,t=o){this.transform=r(C,t),this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){l(e,this._color)||(h(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){e(r)?!t(this._innerColor)&&l(r,this._innerColor)||(this._innerColor=h(p(),r),this._updateMaterial()):e(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!l(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?d(r):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){this._stipplePreferContinuous!==e&&(this._stipplePreferContinuous=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new m(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=u(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameters(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={overlayInfo:null,attributeData:{position:s},removeDuplicateStartEnd:_.KEEP};r.push(i)})),r}}const C=s();export{g as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{VisualElement as i}from\"./VisualElement.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as a}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class n extends i{constructor(e){super(e.view),this._resources=null,this._transform=t()}get object(){return e(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){r(this._transform,s),e(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(s(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new c({isPickable:!1,updatePolicy:o.SYNC});e.add(s);const r=new a({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!s(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){s(this._resources)||this._resources.object.setVisible(e)}}export{n as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this.view.watch(\"ready\",(t=>{this._resourcesCreated&&(t?this._createResources():this._destroyResources())}))}applyProps(t){let e=!1;for(const s in t)s in this?\"attached\"===s?e=t[s]:this[s]=t[s]:console.error(\"Cannot set unknown property\",s);this.attached=e}destroy(){this.attached=!1}get attached(){return this._attached}set attached(t){t!==this._attached&&this.view._stage&&(this._attached=t,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.attached&&this.updateVisibility(t))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n"],"names":["p","i","s","constructor","super","arguments","this","parent","updating","visible","r","t","suspended","analysis","o","readOnly","prototype","constructOnly","e","innerWidth","outerWidth","visibleInnerColor","visibleOuterColor","occludedInnerColor","occludedOuterColor","undefinedInnerColor","undefinedOuterColor","type","Number","target","intersectedGraphic","intersectedLocation","elevationAlignedTargetLocation","inputPoints","isValid","observer","observerSurfaceNormal","targetSurfaceNormal","observerAdjusted","targetAdjusted","computationResult","start","end","intersection","isTargetVisible","result","notifyResultChanged","notifyChange","notifyInputPointsChanged","n","a","clone","id","point","normal","ray","equals","c","U","initialize","intersector","b","view","state","viewingMode","options","hud","store","C","getScreenPointIntersection","h","w","camera","O","_getRayIntersection","sceneIntersectionHelper","intersectToolIntersectorRay","results","min","getIntersectionPoint","_","renderCoordsHelper","fromRenderCoords","spatialReference","l","direction","j","I","S","layerUid","nodeIndex","componentIndex","y","v","lij","slice","T","layer","sourceLayer","g","objectIdField","uid","_canUpdateFromIntersectionResult","R","updateFromIntersectionResult","A","E","toRenderCoords","worldUpAtPosition","basemapTerrain","elevationBounds","getAltitude","Math","abs","max","m","f","d","u","W","K","updateOnCameraChange","_updatingHandles","q","_frameTask","M","_handles","_computationHandles","_externalObserverUpdate","resourceController","scheduler","registerTask","B","_intersector","N","add","_connectObserver","_connectComputations","_connectTargets","destroy","_computations","removeAll","priority","analysisViewData","computations","_observerEngineLocation","observerEngineLocation","_screenPixelSize","computeScreenPixelSizeAt","getLineOfSightComputationDependencies","_computeResult","computation","_canCompute","_computeIntersection","_interpolateIntersection","emit","_adjustStartEndPositions","Y","P","interpolationInfo","H","Z","originalIntersection","originalObserver","originalTarget","J","G","x","elevationAlignedObserver","frustum","intersectsPoint","_onObserverPositionChange","_applyProjectionAndElevationAlignment","F","z","elevationProvider","_onObserverRenderSpacePositionChangeForComputation","_onTargetPositionChange","_connectComputationToTarget","position","Q","targetPosition","targetIntersection","_connectComputationToObserver","_connectComputationToRenderSpaceObserver","observerIntersection","_connectComputationToCamera","isDirty","_isCameraDirty","_connectComputationToSlicePlane","slicePlane","_connectComputationToElevation","on","tt","et","extent","$","L","_connectComputationToTask","async","schedule","_connectComputation","has","_disconnectAnalysis","remove","_onComputationCollectionChange","added","forEach","removed","_onTargetsChange","targets","_addTarget","addOnCollectionChange","_onTargetCollectionChange","_removeTarget","_onCursorTargetChange","some","k","find","observerPosition","cursorTarget","X","D","V","_lineOfSightVisualizations","_handle","_connectAnalysis","testInfo","visualizations","_configuration","configuration","createLineOfSightVisualization","attached","width","visibleLineVisualElement","color","innerColor","occludedLineVisualElement","undefinedLineVisualElement","push","destroyLineOfSightVisualization","splice","indexOf","updateLineOfSightVisualization","geometry","transform","getLineOfSightVisualizationDependencies","_disconnectComputation","_onComputationsCollectionChange","items","moved","_analysisController","_analysisVisualization","handles","map","getResultForTarget","visualization","controller","hasZ","warnOnce","wkid","_renderOccluded","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_writeDepthEnabled","_falloff","_polygonOffset","applyProps","setGeometryFromRenderSpacePoint","setGeometryFromExtent","setGeometryFromFrustum","lines","origin","endpoint","setGeometryFromBoundedPlane","basis1","basis2","setGeometryFromSegment","endRenderSpace","points","createRenderGeometry","setGeometryFromSegments","renderOccluded","_updateMaterial","_geometry","recreateGeometry","stipplePattern","recreate","stippleOffColor","stipplePreferContinuous","writeDepthEnabled","falloff","polygonOffset","createExternalResources","_material","materialParameters","destroyExternalResources","createGeometries","_createLineGeometries","length","addGeometry","forEachExternalMaterial","isClosed","writeDepth","setParameters","Float64Array","overlayInfo","attributeData","removeDuplicateStartEnd","_resources","_transform","object","transformation","createResources","_stage","removeMany","geometries","removeAllGeometries","setVisible","addMany","destroyResources","isPickable","updatePolicy","castShadow","dispose","updateVisibility","_attached","_resourcesCreated","_visible","watch","_createResources","_destroyResources","console","error"],"sourceRoot":""}