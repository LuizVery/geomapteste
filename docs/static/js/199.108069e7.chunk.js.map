{"version":3,"sources":["../node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js"],"names":["s","u","e","a","attribute","l","featuresJSON","r","normalizationType","normalizationField","minValue","c","maxValue","p","fieldType","m","field","valueExpression","normalizationTotal","viewInfoParams","f","d","i","v","t","values","supportsNullCount","n","useSampleStdDev","o","arcadeUtils","createFunction","getViewInfo","viewingMode","scale","spatialReference","forEach","attributes","createExecContext","executeFunction","parseFloat","push"],"mappings":"+QAIyUA,EAAE,K,SAAoBC,E,8EAAf,WAAiBC,GAAjB,IAAAC,EAAA,2BAAAA,EAAA,6DAAoCA,EAAkBD,EAA5BE,UAAyBC,EAAGH,EAAhBI,aAAqCC,EAA0DJ,EAA5EK,kBAAuCR,EAAqCG,EAAxDM,mBAA8BR,EAA0BE,EAAnCO,SAAoBC,EAAeR,EAAxBS,SAAqBC,EAAGV,EAAbW,UAAxH,SAA+IC,EAAE,CAACC,MAAMb,EAAEa,MAAMC,gBAAgBd,EAAEc,gBAAgBT,kBAAkBD,EAAEE,mBAAmBT,EAAEkB,mBAAmBf,EAAEe,mBAAmBC,eAAehB,EAAEgB,gBAAgBd,GAApT,cAAuIe,EAAvI,OAAuTC,EAAEC,YAAE,CAACd,kBAAkBD,EAAEE,mBAAmBT,EAAEU,SAAST,EAAEW,SAASD,IAAIY,EAAE,WAAWV,EAAEW,YAAE,CAACC,OAAOL,EAAEM,kBAAkBL,IAAIM,YAAE,CAACF,OAAOL,EAAEV,SAAST,EAAEW,SAASD,EAAEiB,iBAAiBrB,EAAEmB,kBAAkBL,IAArf,kBAAggBQ,YAAEN,EAAE,SAASV,IAA7gB,4C,iCAA+hBE,E,gFAAf,WAAiBO,EAAEE,GAAnB,mCAAArB,EAAA,yDAA0BqB,EAA1B,yCAAkC,IAAlC,UAA2CG,EAAEL,EAAEN,MAAMa,EAAEP,EAAEL,gBAAgBhB,EAAEqB,EAAEd,kBAAkBO,EAAEO,EAAEb,mBAAmBE,EAAEW,EAAEJ,mBAAmBL,EAAE,GAAGO,EAAEE,EAAEH,eAAmBE,EAAE,KAAKE,EAAE,MAAQM,EAA1L,oBAAiM7B,EAAjM,iCAA+NO,cAA/N,gBAAsNL,EAAtN,EAA0M4B,YAAyB9B,EAAEE,EAArO,QAAuOmB,EAAErB,EAAE+B,eAAeF,GAAGN,EAAEH,GAAGpB,EAAEgC,YAAY,CAACC,YAAYb,EAAEa,YAAYC,MAAMd,EAAEc,MAAMC,iBAAiB,IAAIhC,IAAEiB,EAAEe,oBAAlV,kCAA6WX,EAAEY,SAAS,SAAAjC,GAAI,IAAyBqB,EAAnBF,EAAEnB,EAAEkC,WAAiB,GAAGR,EAAE,CAAC,IAAM3B,EAAEF,EAAEsC,kBAAkBnC,EAAEoB,GAAGC,EAAExB,EAAEuC,gBAAgBlB,EAAEnB,QAAQoB,IAAIE,EAAEF,EAAEK,IAAI,GAAG1B,GAAGC,YAAEsB,GAAG,CAAC,IAAMtB,EAAEoB,GAAGkB,WAAWlB,EAAEP,IAAIS,EAAEnB,YAAEmB,EAAEvB,EAAEC,EAAES,GAAGE,EAAE4B,KAAKjB,MAAMX,IAA1iB,4C","file":"static/js/199.108069e7.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isFinite as e}from\"../../../core/mathUtils.js\";import a from\"../../../geometry/SpatialReference.js\";import{isNullCountSupported as i,calculateStringStatistics as t,calculateStatistics as n,processStatsResult as o,getNormalizedValue as l}from\"./utils.js\";import{loadArcade as r}from\"../../../support/arcadeOnDemand.js\";let s=null;async function u(e){const{attribute:a,featuresJSON:l}=e,{normalizationType:r,normalizationField:s,minValue:u,maxValue:c,fieldType:p}=a,f=await m({field:a.field,valueExpression:a.valueExpression,normalizationType:r,normalizationField:s,normalizationTotal:a.normalizationTotal,viewInfoParams:a.viewInfoParams},l),d=i({normalizationType:r,normalizationField:s,minValue:u,maxValue:c}),v=\"string\"===p?t({values:f,supportsNullCount:d}):n({values:f,minValue:u,maxValue:c,useSampleStdDev:!r,supportsNullCount:d});return o(v,\"date\"===p)}async function m(i,t){if(!t)return[];const n=i.field,o=i.valueExpression,u=i.normalizationType,m=i.normalizationField,c=i.normalizationTotal,p=[],f=i.viewInfoParams;let d=null,v=null;if(o){if(!s){const{arcadeUtils:e}=await r();s=e}d=s.createFunction(o),v=f&&s.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:new a(f.spatialReference)})}return t.forEach((a=>{const i=a.attributes;let t;if(o){const e=s.createExecContext(a,v);t=s.executeFunction(d,e)}else i&&(t=i[n]);if(u&&e(t)){const e=i&&parseFloat(i[m]);t=l(t,u,e,c)}p.push(t)})),p}export{m as getDataValues,u as summaryStatistics};\n"],"sourceRoot":""}