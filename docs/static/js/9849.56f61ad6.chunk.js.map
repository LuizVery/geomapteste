{"version":3,"file":"static/js/9849.56f61ad6.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/engine/Bitmap.js","../node_modules/@arcgis/core/views/2d/engine/BitmapTile.js","../node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js","../node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/Mesh2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/ClippingInfo.js","../node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{b as e,c as i,r as s,j as r,m as h}from\"../../../chunks/mat3.js\";import{c as n}from\"../../../chunks/mat3f32.js\";import{f as o}from\"../../../chunks/vec2f32.js\";import{DisplayObject as u}from\"./DisplayObject.js\";import a from\"./ImageryBitmapSource.js\";import{TextureType as d,PixelFormat as c,PixelType as l,TextureWrapMode as _}from\"../../webgl/enums.js\";import{Texture as x}from\"../../webgl/Texture.js\";function m(t){return t&&\"render\"in t}function g(t){return t&&!(\"render\"in t)}function p(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}function f(t,e,i){const s={target:d.TEXTURE_2D,pixelFormat:c.RGBA,internalFormat:c.RGBA,dataType:l.UNSIGNED_BYTE,wrapMode:_.CLAMP_TO_EDGE};return e&&i&&(s.width=e,s.height=i),new x(t,s)}class v extends u{constructor(t=null,e,i=!0){super(),this.requestRenderOnSourceChangedEnabled=i,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.blendFunction=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){this._source=t,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t.context)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}_createTransforms(){return{dvs:n()}}setTransform(t){const n=e(this.transforms.dvs),[u,a]=t.toScreenNoRotation([0,0],[this.x,this.y]),d=this.resolution/this.pixelRatio/t.resolution,c=d*this.width,l=d*this.height,_=Math.PI*this.rotation/180;i(n,n,o(u,a)),i(n,n,o(c/2,l/2)),s(n,n,-_),i(n,n,o(-c/2,-l/2)),r(n,n,o(c,l)),h(this.transforms.dvs,t.displayViewMat3,n)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind(t,e){this._texture&&t.bindTexture(this._texture,e)}updateTexture(e){var i;if(!this.stage)return null==(i=this._texture)||i.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this.source?this._texture=f(e,this.sourceWidth,this.sourceHeight):this._texture=f(e));const s=this.source;if(s){if(this._texture.resize(this.sourceWidth,this.sourceHeight),m(s))if(s instanceof a){const e=s.getRenderedRasterPixels();this._texture.setData(t(e)?e.renderedRasterPixels:null)}else this._texture.setData(p(s));else g(s)&&this._texture.setData(s);this.ready()}else this._texture.setData(null)}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}}export{v as Bitmap,m as isImageSource,p as rasterize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{Bitmap as e}from\"./Bitmap.js\";import{TiledDisplayObject as s}from\"./webgl/TiledDisplayObject.js\";class r extends s{constructor(t,s,r,i,a,n=null){super(t,s,r,i,a),this.bitmap=new e(n,\"standard\",!1),this.bitmap.coordScale=[i,a],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(t){super.beforeRender(t),this.bitmap.beforeRender(t)}afterRender(t){super.afterRender(t),this.bitmap.afterRender(t)}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}_createTransforms(){return{dvs:t(),tileMat3:t()}}setTransform(t,e){super.setTransform(t,e),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}export{r as BitmapTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{BitmapTile as r}from\"./BitmapTile.js\";import{brushes as s}from\"./brushes.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import i from\"./webgl/TileContainer.js\";class n extends i{get requiresDedicatedFBO(){return this.children.some((e=>\"additive\"===e.bitmap.blendFunction))}createTile(s){const t=this._tileInfoView.getTileBounds(e(),s),[i,n]=this._tileInfoView.tileInfo.size;return new r(s,t[0],t[3],i,n)}prepareRenderPasses(e){const r=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[s.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),r]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}}export{n as BitmapTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";class i{constructor(e,t,i){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=i}get width(){return e(this.pixelBlock)?this.pixelBlock.width:0}get height(){return e(this.pixelBlock)?this.pixelBlock.height:0}render(e){const i=this.pixelBlock;if(t(i))return;const l=this.filter({pixelBlock:i});if(t(l.pixelBlock))return;const r=l.pixelBlock.getAsRGBA(),o=e.createImageData(l.pixelBlock.width,l.pixelBlock.height);o.data.set(r),e.putImageData(o,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return t(e.pixelBlock)?null:{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{o as default,i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/Logger.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{e as s}from\"../../../../chunks/earcut.js\";import{s as o}from\"../../../../chunks/vec2.js\";import{a as n}from\"../../../../chunks/vec2f64.js\";import{convertFromNestedArray as i,convertFromPolygon as c}from\"../../../../layers/graphics/featureConversionUtils.js\";import a from\"../../../../layers/graphics/OptimizedGeometry.js\";import{i1616to32 as f}from\"./number.js\";import{BufferObject as h}from\"../../../webgl/BufferObject.js\";import{PrimitiveType as m,Usage as u,DataType as y}from\"../../../webgl/enums.js\";const x=t.getLogger(\"esri.views.2d.engine.webgl.Mesh2D\"),g=t=>{switch(t.BYTES_PER_ELEMENT){case 1:return y.UNSIGNED_BYTE;case 2:return y.UNSIGNED_SHORT;case 4:return y.UNSIGNED_INT;default:throw new e(\"Cannot get DataType of array\")}},p=(e,t,r,s)=>{let o=0;for(let n=1;n<r;n++){const r=e[2*(t+n-1)],s=e[2*(t+n-1)+1];o+=(e[2*(t+n)]-r)*(e[2*(t+n)+1]+s)}return s?o>0:o<0},l=({coords:e,lengths:t},r)=>{const o=[];for(let n=0,i=0;n<t.length;i+=t[n],n+=1){const c=i,a=[];for(;n<t.length-1&&p(e,i+t[n],t[n+1],r);n+=1,i+=t[n])a.push(i+t[n]-c);const f=e.slice(2*c,2*(i+t[n])),h=s(f,a,2);for(const e of h)o.push(e+c)}return o};class w{constructor(e,t,r,s=!1){this._cache={},this.vertices=e,this.indices=t,this.primitiveType=r,this.isMapSpace=s}static fromRect({x:e,y:t,width:r,height:s}){const o=e,n=t,i=o+r,c=n+s;return w.fromScreenExtent({xmin:o,ymin:n,xmax:i,ymax:c})}static fromPath(e){const t=i(new a,e.path,!1,!1),r=t.coords,s=new Uint32Array(l(t,!0)),o=new Uint32Array(r.length/2);for(let n=0;n<o.length;n++)o[n]=f(Math.floor(r[2*n]),Math.floor(r[2*n+1]));return new w({geometry:o},s,m.TRIANGLES)}static fromGeometry(t,r){const s=r.geometry.type;switch(s){case\"polygon\":return w.fromPolygon(t,r.geometry);case\"extent\":return w.fromMapExtent(t,r.geometry);default:return x.error(new e(\"mapview-bad-type\",`Unable to create a mesh from type ${s}`,r)),w.fromRect({x:0,y:0,width:1,height:1})}}static fromPolygon(e,t){const r=c(new a,t,!1,!1),s=r.coords,i=new Uint32Array(l(r,!1)),h=new Uint32Array(s.length/2),u=n(),y=n();for(let n=0;n<h.length;n++)o(u,s[2*n],s[2*n+1]),e.toScreen(y,u),h[n]=f(Math.floor(y[0]),Math.floor(y[1]));return new w({geometry:h},i,m.TRIANGLES,!0)}static fromScreenExtent({xmin:e,xmax:t,ymin:r,ymax:s}){const o={geometry:new Uint32Array([f(e,r),f(t,r),f(e,s),f(e,s),f(t,r),f(t,s)])},n=new Uint32Array([0,1,2,3,4,5]);return new w(o,n,m.TRIANGLES)}static fromMapExtent(e,t){const[r,s]=e.toScreen([0,0],[t.xmin,t.ymin]),[o,n]=e.toScreen([0,0],[t.xmax,t.ymax]),i={geometry:new Uint32Array([f(r,s),f(o,s),f(r,n),f(r,n),f(o,s),f(o,n)])},c=new Uint32Array([0,1,2,3,4,5]);return new w(i,c,m.TRIANGLES)}destroy(){r(this._cache.indexBuffer)&&this._cache.indexBuffer.dispose();for(const e in this._cache.vertexBuffers)r(this._cache.vertexBuffers[e])&&this._cache.vertexBuffers[e].dispose()}get elementType(){return g(this.indices)}getIndexBuffer(e,t=u.STATIC_DRAW){return this._cache.indexBuffer||(this._cache.indexBuffer=h.createIndex(e,t,this.indices)),this._cache.indexBuffer}getVertexBuffers(e,t=u.STATIC_DRAW){return this._cache.vertexBuffers||(this._cache.vertexBuffers=Object.keys(this.vertices).reduce(((r,s)=>({...r,[s]:h.createVertex(e,t,this.vertices[s])})),{})),this._cache.vertexBuffers}}export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";import e from\"../../../../core/Logger.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as o}from\"../DisplayObject.js\";import h from\"./Mesh2D.js\";import{VertexArrayObject as a}from\"../../../webgl/VertexArrayObject.js\";const c=e.getLogger(\"esri.views.2d.engine.webgl.ClippingInfo\"),n=t=>parseFloat(t)/100;class m extends o{constructor(t,e){super(),this._clip=e,this._cache={},this.stage=t,this._handle=e.watch(\"version\",(()=>this._invalidate())),this.ready()}static fromClipArea(t,e){return new m(t,e)}_destroyGL(){r(this._cache.mesh)&&(this._cache.mesh.destroy(),this._cache.mesh=null),r(this._cache.vao)&&(this._cache.vao.dispose(),this._cache.vao=null)}destroy(){this._destroyGL(),this._handle.remove()}getVAO(t,e,r,i){const[o,h]=e.size;if(\"geometry\"!==this._clip.type&&this._lastWidth===o&&this._lastHeight===h||(this._lastWidth=o,this._lastHeight=h,this._destroyGL()),s(this._cache.vao)){const s=this._createMesh(e,this._clip),o=s.getIndexBuffer(t),h=s.getVertexBuffers(t);this._cache.mesh=s,this._cache.vao=new a(t,r,i,h,o)}return this._cache.vao}_createTransforms(){return{dvs:i()}}_invalidate(){this._destroyGL(),this.requestRender()}_createScreenRect(t,e){const[r,s]=t.size,i=\"string\"==typeof e.left?n(e.left)*r:e.left,o=\"string\"==typeof e.right?n(e.right)*r:e.right,h=\"string\"==typeof e.top?n(e.top)*s:e.top,a=\"string\"==typeof e.bottom?n(e.bottom)*s:e.bottom,c=i,m=h;return{x:c,y:m,width:Math.max(r-o-c,0),height:Math.max(s-a-m,0)}}_createMesh(e,r){switch(r.type){case\"rect\":return h.fromRect(this._createScreenRect(e,r));case\"path\":return h.fromPath(r);case\"geometry\":return h.fromGeometry(e,r);default:return c.error(new t(\"mapview-bad-type\",\"Unable to create ClippingInfo mesh from clip of type: ${clip.type}\")),h.fromRect({x:0,y:0,width:1,height:1})}}}export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isNone as e,isSome as r}from\"../../../../core/maybe.js\";import{c as s}from\"../../../../chunks/mat3f32.js\";import{brushes as t}from\"../brushes.js\";import{Container as i}from\"../Container.js\";import n from\"./ClippingInfo.js\";import{WGLDrawPhase as o}from\"./enums.js\";class a extends i{constructor(){super(...arguments),this.name=this.constructor.name}set clips(e){this._clips=e,this.children.forEach((r=>r.clips=e)),this._updateClippingInfo()}_createTransforms(){return{dvs:s()}}doRender(e){const r=this.createRenderParams(e),{painter:s,globalOpacity:t,profiler:i,drawPhase:n}=r,a=n===o.LABEL||n===o.HIGHLIGHT?1:t*this.computedOpacity;i.recordContainerStart(this.name),s.beforeRenderLayer(r,this._clippingInfos?255:0,a),this.updateTransforms(e.state),this.renderChildren(r),s.compositeLayer(r,a),i.recordContainerEnd()}renderChildren(r){e(this._renderPasses)&&(this._renderPasses=this.prepareRenderPasses(r.painter));for(const e of this.children)e.beforeRender(r);for(const e of this._renderPasses)try{e.render(r)}catch(s){}for(const e of this.children)e.afterRender(r)}createRenderParams(e){return e.requireFBO=this.requiresDedicatedFBO,e}prepareRenderPasses(e){return[e.registerRenderPass({name:\"clip\",brushes:[t.clip],target:()=>this._clippingInfos,drawPhase:o.MAP|o.LABEL|o.LABEL_ALPHA|o.DEBUG|o.HIGHLIGHT})]}updateTransforms(e){for(const r of this.children)r.setTransform(e)}onAttach(){super.onAttach(),this._updateClippingInfo()}onDetach(){super.onDetach(),this._updateClippingInfo()}_updateClippingInfo(){if(r(this._clippingInfos)&&(this._clippingInfos.forEach((e=>e.destroy())),this._clippingInfos=null),!this.stage)return;const e=this._clips;r(e)&&e.length&&(this._clippingInfos=e.items.map((e=>n.fromClipArea(this.stage,e)))),this.requestRender()}}export{a as default};\n"],"names":["f","t","e","i","s","target","d","pixelFormat","c","internalFormat","dataType","l","wrapMode","_","width","height","x","v","u","constructor","super","this","requestRenderOnSourceChangedEnabled","_textureInvalidated","stencilRef","coordScale","_height","pixelRatio","resolution","rotation","_source","_width","y","blendFunction","source","requestRender","bind","destroy","_texture","dispose","isSourceScaled","sourceWidth","sourceHeight","invalidateTexture","HTMLImageElement","naturalHeight","naturalWidth","beforeRender","updateTexture","context","_createTransforms","dvs","n","setTransform","transforms","a","toScreenNoRotation","Math","PI","o","r","h","displayViewMat3","setSamplingProfile","mips","descriptor","hasMipmap","generateMipmap","setSamplingMode","samplingMode","bindTexture","stage","resize","getRenderedRasterPixels","setData","renderedRasterPixels","document","createElement","render","getContext","p","g","ready","onAttach","onDetach","bitmap","once","afterRender","tileMat3","requiresDedicatedFBO","children","some","createTile","_tileInfoView","getTileBounds","tileInfo","size","prepareRenderPasses","registerRenderPass","name","brushes","map","drawPhase","doRender","visible","pixelBlock","extent","originalPixelBlock","filter","getAsRGBA","createImageData","data","set","putImageData","Uint8Array","buffer","key","level","row","col","renderChildren","sortChildren","setStencilReference","createRenderParams","state","requiredLevel","getClosestInfoForScale","scale","displayLevel","scaleToZoom","push","getStencilTarget","updateTransforms","getTileResolution","coords","lengths","length","slice","w","_cache","vertices","indices","primitiveType","isMapSpace","fromScreenExtent","xmin","ymin","xmax","ymax","path","Uint32Array","floor","geometry","m","type","fromPolygon","fromMapExtent","error","fromRect","toScreen","indexBuffer","vertexBuffers","elementType","BYTES_PER_ELEMENT","getIndexBuffer","getVertexBuffers","Object","keys","reduce","parseFloat","_clip","_handle","watch","_invalidate","_destroyGL","mesh","vao","remove","getVAO","_lastWidth","_lastHeight","_createMesh","_createScreenRect","left","right","top","bottom","max","arguments","clips","_clips","forEach","_updateClippingInfo","painter","globalOpacity","profiler","computedOpacity","recordContainerStart","beforeRenderLayer","_clippingInfos","compositeLayer","recordContainerEnd","_renderPasses","requireFBO","items"],"sourceRoot":""}