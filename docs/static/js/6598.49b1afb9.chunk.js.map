{"version":3,"file":"static/js/6598.49b1afb9.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let i=class extends t{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach((t=>{e=e&&t.isReady})),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([s()],i.prototype,\"layer\",void 0),e([s()],i.prototype,\"layerView\",void 0),e([s()],i.prototype,\"tileInfoView\",void 0),e([s()],i.prototype,\"updating\",null),i=e([r(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],i);const o=i;export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{drawHeatmap as t}from\"../../../../../../renderers/support/heatmapUtils.js\";class i{constructor(){this.gradient=null,this.height=512,this.width=512}render(i){t(i,512,this.intensities,this.gradient,this.minPixelIntensity,this.maxPixelIntensity)}}export{i as HeatmapSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/set.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{generateGradient as i}from\"../../../../../renderers/support/heatmapUtils.js\";import{BitmapTileContainer as r}from\"../../../engine/BitmapTileContainer.js\";import s from\"./BaseTileRenderer.js\";import{HeatmapSource as n}from\"./support/HeatmapSource.js\";let o=class extends s{constructor(e){super(e),this._intensityInfo={minPixelIntensity:0,maxPixelIntensity:0},this.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}},this._container=new r(e.tileInfoView)}createTile(e){const t=this._container.createTile(e);return this.tileInfoView.getTileCoords(t.bitmap,e),t.bitmap.resolution=this.tileInfoView.getTileResolution(e),t}onConfigUpdate(){const e=this.layer.renderer;if(\"heatmap\"===e.type){const{minPixelIntensity:t,maxPixelIntensity:r}=e;this._intensityInfo.minPixelIntensity=t,this._intensityInfo.maxPixelIntensity=r,this._gradient=i(e.colorStops),this.tiles.forEach((e=>{const i=e.bitmap.source;i&&(i.minPixelIntensity=t,i.maxPixelIntensity=r,i.gradient=this._gradient,e.bitmap.invalidateTexture())}))}}hitTest(){return Promise.resolve([])}install(e){e.addChild(this._container)}uninstall(e){this._container.removeAllChildren(),e.removeChild(this._container)}disposeTile(e){this._container.removeChild(e),e.destroy()}supportsRenderer(e){return e&&\"heatmap\"===e.type}onTileData(e){const t=this.tiles.get(e.tileKey);if(!t)return;const i=e.intensityInfo,{minPixelIntensity:r,maxPixelIntensity:s}=this._intensityInfo,o=t.bitmap.source||new n;o.intensities=i&&i.matrix||null,o.minPixelIntensity=r,o.maxPixelIntensity=s,o.gradient=this._gradient,t.bitmap.source=o,this._container.addChild(t),this._container.requestRender(),this.requestUpdate()}onTileError(e){console.error(e)}lockGPUUploads(){}unlockGPUUploads(){}fetchResource(e,t){return console.error(e),Promise.reject()}};o=e([t(\"esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer\")],o);const a=o;export{a as default};\n"],"names":["i","t","constructor","e","super","this","tiles","Map","destroy","clear","layer","layerView","tileInfoView","updating","isUpdating","acquireTile","createTile","once","notifyChange","set","id","forceAttributeTextureUpload","forEachTile","forEach","releaseTile","delete","key","disposeTile","isReady","setHighlight","invalidateLabels","requestUpdate","s","prototype","r","o","gradient","height","width","render","intensities","minPixelIntensity","maxPixelIntensity","_intensityInfo","featuresView","attributeView","initialize","requestRender","_container","getTileCoords","bitmap","resolution","getTileResolution","onConfigUpdate","renderer","type","_gradient","colorStops","source","invalidateTexture","hitTest","Promise","resolve","install","addChild","uninstall","removeAllChildren","removeChild","supportsRenderer","onTileData","get","tileKey","intensityInfo","n","matrix","onTileError","console","error","lockGPUUploads","unlockGPUUploads","fetchResource","reject","a"],"sourceRoot":""}