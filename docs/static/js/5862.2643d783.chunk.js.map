{"version":3,"file":"static/js/5862.2643d783.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/attributeEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";class e extends r{constructor(r){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",r,{hasInitialize:!0})}getTransferList(r){return[r.geometryBuffer]}}export{e as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import{binaryIndexOf as r}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Logger.js\";import{destroyMaybe as s,isNone as o,isSome as a,unwrap as n}from\"../../../core/maybe.js\";import{initial as d}from\"../../../core/reactiveUtils.js\";import{init as l}from\"../../../core/watchUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{b as c}from\"../../../chunks/vec3.js\";import{f as p,c as g}from\"../../../chunks/vec3f64.js\";import{projectBuffer as m,projectVectorToVector as f,projectBoundingRect as y}from\"../../../geometry/projection.js\";import{create as _}from\"../../../geometry/support/aaBoundingRect.js\";import{extentContainsCoords3D as b}from\"../../../geometry/support/contains.js\";import{getGeometryZScaler as v}from\"../../../geometry/support/zscale.js\";import{makeDehydratedPoint as E,estimateSize as x}from\"../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as I}from\"../../../layers/graphics/hydratedFeatures.js\";import S from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import w from\"../../../layers/support/FeatureFilter.js\";import D from\"../../../rest/support/Query.js\";import{I3SPointsWorkerHandle as O}from\"./I3SPointsWorkerHandle.js\";import{DrapeSourceType as F}from\"./interfaces.js\";import{LayerView3D as j}from\"./LayerView3D.js\";import A from\"./graphics/Graphics3DFeatureProcessor.js\";import C from\"./graphics/QueryEngine.js\";import{createInteractiveEditSession as N,processAttributeEdits as T}from\"./i3s/attributeEditing.js\";import{I3SAttributeOverrides as V}from\"./i3s/I3SAttributeOverrides.js\";import{checkSpatialReferences as G,containsDraco as M,whenGraphicAttributes as P,getCachedAttributeValue as R}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as L}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as H}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as U}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as q}from\"./support/SceneLayerViewRequiredFields.js\";import Q from\"../support/debugFlags.js\";import{GraphicsMap as k}from\"../support/GraphicsMap.js\";import{compute as B}from\"../support/orientedBoundingBox.js\";import{updatingProgress as z}from\"../support/updatingProperties.js\";import{UpdatePolicy as W}from\"../webgl-engine/lib/basicInterfaces.js\";import K from\"../../layers/SceneLayerView.js\";import{TaskPriority as Z}from\"../../support/Scheduler.js\";const Y=i.getLogger(\"esri.views.3d.layers.SceneLayerGraphicsView3D\"),J=H();let $=class extends(L(U(j(K)))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._nodesAddedToStage=new Map,this.drapeSourceType=F.Features,this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this.loadedGraphics=new k,this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}initialize(){var e,t;const r=this.layer;this.addResolvingPromise(r.indexInfo),this._attributeOverrides=new V(this.layer,null==(e=this.view.resourceController)?void 0:e.memoryController),G(r,this.view.spatialReference,this.view.viewingMode),this.fieldsHelper=new q({layerView:this}),this.updatingHandles.add((()=>r.rangeInfos),(e=>this._rangeInfosChanged(e)),d),this.updatingHandles.add((()=>r.renderer),((e,t)=>this._rendererChange(e,t))),this.updatingHandles.add((()=>[this.parsedDefinitionExpression,this.excludeObjectIdsSorted]),(()=>this._filterChange())),this.updatingHandles.add((()=>this.view.floors),(()=>this.processor.filterVisibility.filterChanged())),this.handles.add(l(Q,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Q.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||Q.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}))),this._set(\"processor\",new A({owner:this,preferredUpdatePolicy:W.ASYNC,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentVisibilityEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,dataExtent:r.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),null==(t=this.processor.elevationAlignment)||t.events.on(\"invalidate-elevation\",(e=>this._invalidateElevation(e))),this.supportsHeightUnitConversion&&(this._verticalScale=v(\"point\",r.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.processor.setup()),this._memCache=this.view.resourceController.memoryController.newCache(r.uid),this._controller=new S({layerView:this,scaleVisibilityEnabled:!1}),M(this.layer.geometryDefinitions)&&(this._worker=new O((e=>this.view.resourceController.schedule(e)))),this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e)))),this.when((()=>{this._queryEngine=new C({layerView:this,priority:Z.FEATURE_QUERY_ENGINE}),this.updatingHandles.add((()=>this.maximumNumberOfFeatures),(e=>this._controller.featureTarget=e),d),this.updatingHandles.add((()=>this.suspended),(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=s(this._treeDebugger),this._attributeOverrides=s(this._attributeOverrides),this._set(\"processor\",s(this.processor)),this._controller=s(this._controller),this._queryEngine=s(this._queryEngine),this._worker=s(this._worker),this._memCache=s(this._memCache),this._nodesAddedToStage.clear(),this.fieldsHelper=s(this.fieldsHelper)}get requiredFields(){var e,t;return null!=(e=null==(t=this.fieldsHelper)?void 0:t.requiredFields)?e:[]}get maximumNumberOfFeatures(){var e,t,r;const i=null==(e=this.processor)||null==(t=e.graphicsCore)?void 0:t.displayFeatureLimit;return null!=(r=null==i?void 0:i.maximumNumberOfFeatures)?r:0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){var e;return!this.suspended&&!(null==(e=this._controller)||!e.useMaximumNumberOfFeatures||this._controller.leavesReached)}get excludeObjectIdsSorted(){const e=this.layer.excludeObjectIds;return e.length?e.toArray().sort(((e,t)=>e-t)):null}get hasM(){return!1}get hasZ(){return!0}async whenGraphicAttributes(e,t){return P(this.layer,e,this._getObjectIdField(),t,(()=>[...this._nodesAddedToStage.values()]))}getGraphicFromGraphicUid(e){if(!this.loadedGraphics)return null;const t=I(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t&&t.attributes&&t.attributes[r]?(t.layer=this.layer,t.sourceLayer=this.layer,t):null}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor.computeAttachmentOrigin(e,t)}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}isUpdating(){var e,t,r;return!!(null!=(e=this._controller)&&e.updating||null!=(t=this.processor)&&t.updating||null!=(r=this.fieldsHelper)&&r.updating)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return N(this.attributeEditingContext,e)}async _extractBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};return o(this._worker)&&(this._worker=new O((e=>this.view.resourceController.schedule(e)))),this._worker.invoke(r,t).then((e=>{if(a(e)){return{positionData:e.positions,featureIds:e.featureIds}}throw new Error(\"Failed to decompress Draco point data\")}))}_checkExtent(e,t){e&&!b(e,t)&&(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&Y.error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&Y.error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++)}async addNode(e,t,r){if(!te(t)&&!ee(t))return Promise.reject();if(this._nodesAddedToStage.has(e.index))return void Y.error(\"I3S node \"+e.id+\" already added\");const i=a(this.layer.fullExtent)?ie(this.layer.fullExtent.clone(),.5):null,s=this._controller.crsVertex,o=[],n={graphics:null,featureIds:null,attributeInfo:t.attributeDataInfo,node:e};if(te(t)?await this._addNodeBinaryPointData(e,n,t,i,o,r):ee(t)&&this._addNodeLegacyPointData(e,n,t,i,o),await this._attributeOverrides.apply(n.featureIds,t.attributeDataInfo,r),e.numFeatures=n.graphics.length,this._updateNodeMemory(e),re(n),o.length>0&&(this._computeObb(e,o,s),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return this._cacheNodeData(n),Promise.resolve();if(a(this._verticalScale))for(const a of n.graphics)this._verticalScale(a.geometry);return this._nodesAddedToStage.set(e.index,n),this.loadedGraphics.addMany(n.graphics),this._filterNode(n),this._treeDebugger&&this._treeDebugger.update(),Promise.resolve()}_computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;m(t,r,0,t,s,0,t.length/3);const o={data:t,size:3};e.serviceObb=B(o),i.isGeographic&&f(e.serviceObb.center,s,e.serviceObb.center,i)}isNodeLoaded(e){return this._nodesAddedToStage.has(e)}isNodeReloading(){return!1}updateNodeState(){}async _addNodeBinaryPointData(e,r,i,s,o,d){const l=await this._extractBinaryPointData(i,d);if(null==l)return Promise.reject();const u=this._getObjectIdField(),h=this._controller.crsVertex,g=this.view.spatialReference,f=this.processor.graphicsCore,{positionData:y,featureIds:_}=l,b=3,v=y.length/b,x=new Array;for(let I=0;I<v;I++){const r=a(e.serviceObb)?e.serviceObb.center:[0,0,0],i=I*b,d=p(y[i+0],y[i+1],y[i+2]);c(d,d,r),e.serviceObb||o.push(d[0],d[1],d[2]),a(s)&&this._checkExtent(s,d);const l=_[I],v={};null!=l&&(v[u]=l);const S=null==l?t.generateUID():l;m(d,h,0,oe,g,0,1);const w=E(oe[0],oe[1],oe[2],g),D=this.loadedGraphics.get(S);if(a(D))D.level<e.level&&(ae.property=\"geometry\",ae.graphic=D,ae.oldValue=n(D.geometry),ae.newValue=w,D.geometry=w,f.graphicUpdateHandler(ae)),x.push(D);else{const r=t.generateUID();x.push({objectId:S,uid:r,geometry:w,attributes:v,visible:!0,level:e.level})}}r.graphics=x,r.featureIds=Array.from(_)}_addNodeLegacyPointData(e,r,i,s,o){const n=this._getObjectIdField(),d=this._controller.crsVertex,l=this.view.spatialReference,u=[0,0,0],h=new Array,c=new Array;for(const p of i.pointData){const r=p.featureDataPosition,i=r.length,g=p.geometries&&p.geometries[0]||se[i],f=p.featureIds[0];if(\"points\"!==g.params.type)continue;a(s)&&this._checkExtent(s,r);const y={};null!=f&&(y[n]=f);const _=null==f?t.generateUID():f;let b;\"Embedded\"===g.type&&(b=g.params.vertexAttributes.position);for(let s=0;s<b.length;s+=i){for(let e=0;e<i;e++)u[e]=r[e]+b[s+e];const n=3===i;e.serviceObb||o.push(u[0],u[1],n?u[2]:0),m(u,d,0,oe,l,0,1);const h=E(oe[0],oe[1],n?oe[2]:void 0,l),p=this.loadedGraphics.get(_);a(p)?c.push(p):c.push({objectId:_,uid:t.generateUID(),geometry:h,attributes:y,visible:!0})}h.push(f)}r.graphics=c,r.featureIds=h}_updateNodeMemory(e){e.memory=4096+(a(e.numFeatures)?e.numFeatures*this.processor.graphicsCore.usedMemoryPerGraphic:0)}_cacheNodeData(e){const t=e.graphics.reduce(((e,t)=>x(t)+e),512+8*e.featureIds.length+1024);this._memCache.put(this._getMemCacheKey(e.node),e,t)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this._nodesAddedToStage.forEach((e=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}})),this._nodesAddedToStage.clear(),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this._nodesAddedToStage.get(e);return t?(this.loadedGraphics.removeMany(t.graphics),this._nodesAddedToStage.delete(e),this._treeDebugger&&this._treeDebugger.update(),t):null}async loadCachedNodeData(e){return this._memCache.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,t,r,i){if(!this._nodesAddedToStage.has(e.index))return this.loadedGraphics.addMany(t.graphics),this._nodesAddedToStage.set(e.index,t),this._updateNodeMemory(e),await this.updateAttributes(e.index,r,i),this._filterNode(t),this._treeDebugger&&this._treeDebugger.update(),Promise.resolve();Y.error(\"I3S node \"+e.id+\" already added\")}getLoadedNodeIds(){const e=[];return this._nodesAddedToStage.forEach((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this._nodesAddedToStage.forEach((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this._nodesAddedToStage.forEach(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this._nodesAddedToStage.get(e);if(t&&a(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodesAddedToStage.get(e);if(t&&a(t.attributeInfo))return t.attributeInfo.attributeData}_setAttributeData(e,t){const r=this._nodesAddedToStage.get(e);r&&!o(r.attributeInfo)&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this._nodesAddedToStage.get(e);i&&(await this._attributeOverrides.apply(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){if(re(e),this._filterNode(e),this.processor.graphicsCore.labelsEnabled){const t=e.graphics.map((e=>e.uid));this.processor.graphicsCore.updateLabelingInfo(t)}}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||\"OBJECTID\"}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&Y.warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this._nodesAddedToStage.forEach((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression,i=this.excludeObjectIdsSorted,s=this._getObjectIdField();for(const a of e.graphics){const e=a.visible,n=!t||this._evaluateClause(t,a),d=o(i)||r(i,a.attributes[s])<0;a.visible=n&&d,e!==a.visible&&(ae.graphic=a,ae.property=\"visible\",ae.oldValue=e,ae.newValue=a.visible,this.processor.graphicsCore.graphicUpdateHandler(ae))}}_invalidateElevation(e){const t=this._controller.crsIndex;y(e.extent,e.spatialReference,ne,t),this._controller.updateElevationChanged(ne,t)}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return a(this.filter)?this.filter.createQuery(e):new D(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),null==t?void 0:t.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),null==t?void 0:t.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),null==t?void 0:t.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(o(e)?this.createQuery():D.from(e))}getUsedMemory(){var e,t,r;return null!=(e=null==(t=this.processor)||null==(r=t.graphicsCore)?void 0:r.usedMemory)?e:0}getUnloadedMemory(){var e,t,r,i,s;return.8*((null!=(e=null==(t=this._controller)?void 0:t.unloadedMemoryEstimate)?e:0)+(null!=(r=null==(i=this.processor)||null==(s=i.graphicsCore)?void 0:s.unprocessedMemoryEstimate)?r:0))}ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}_handleEdits(e){T(this.attributeEditingContext,e)}get attributeEditingContext(){const e=this._getObjectIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,forEachNode:e=>this._nodesAddedToStage.forEach((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo,attributeOverrides:this._attributeOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this._setAttributeData(t,r);const s=this._nodesAddedToStage.get(t);if(a(i)){const t=this.loadedGraphics.get(i.attributes[e]);a(t)&&this.processor.graphicsCore.recreateGraphics([t])}else a(s)&&this.processor.graphicsCore.recreateGraphics(s.graphics)},clearMemCache:()=>{}}}get performanceInfo(){const e={displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:this.maximumNumberOfFeatures,totalNumberOfFeatures:-1,nodes:this._nodesAddedToStage.size,core:this.processor.graphicsCore.performanceInfo};return this._controller&&this._controller.updateStats(e),e}get test(){return{controller:this._controller,numNodes:this._nodesAddedToStage.size,numFeatures:this.loadedGraphics.length}}};e([u()],$.prototype,\"processor\",void 0),e([u({type:w})],$.prototype,\"filter\",void 0),e([u()],$.prototype,\"loadedGraphics\",void 0),e([u({aliasOf:\"layer\"})],$.prototype,\"i3slayer\",void 0),e([u()],$.prototype,\"_controller\",void 0),e([u()],$.prototype,\"updating\",void 0),e([u()],$.prototype,\"suspended\",void 0),e([u()],$.prototype,\"holeFilling\",void 0),e([u(z)],$.prototype,\"updatingProgress\",void 0),e([u({aliasOf:\"_controller.updatingProgress\"})],$.prototype,\"updatingProgressValue\",void 0),e([u(J.requiredFields)],$.prototype,\"requiredFields\",null),e([u(J.availableFields)],$.prototype,\"availableFields\",void 0),e([u()],$.prototype,\"fieldsHelper\",void 0),e([u({type:Number})],$.prototype,\"maximumNumberOfFeatures\",null),e([u({readOnly:!0})],$.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([u()],$.prototype,\"excludeObjectIdsSorted\",null),e([u({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.point.lodFactor\"})],$.prototype,\"lodFactor\",void 0),e([u({readOnly:!0})],$.prototype,\"hasM\",null),e([u({readOnly:!0})],$.prototype,\"hasZ\",null),$=e([h(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],$);const X=$;function ee(e){return\"pointData\"in e}function te(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function re(e){const t=e.attributeInfo;for(let r=0;r<e.graphics.length;r++){const i=e.graphics[r];if(i.attributes||(i.attributes={}),a(t)&&a(t.loadedAttributes))for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(i.attributes[e]=R(t.attributeData[e],r))}}function ie(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,e.hasZ&&(e.zmin-=t,e.zmax+=t),e.hasM&&(e.mmin-=t,e.mmax+=t),e}const se={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},oe=g(),ae={graphic:null,property:null,oldValue:null,newValue:null},ne=_();export{X as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../core/lang.js\";import{isSome as e,isNone as n}from\"../../../../core/maybe.js\";import{attributeLookup as r}from\"../support/attributeUtils.js\";const o={setAttribute(){},rollback(){},commit(){}};var s;function i(e,r){const i=r.attributes[e.objectIdField],a=e.sessions.get(i);if(a)return a;const u=t(r.attributes),c=new Set;if(null==i)return o;const f=e.attributeOverrides.createInteractiveEditSession(i),l=new Map,d=(t,e)=>{const n=l.get(t);if(null==n){const n=e.indexOf(i);return l.set(t,n),n}return n};let I=s.EDITING;const b={setAttribute(t,o){if(I!==s.EDITING)return;const i=e.fieldsIndex.get(t);if(n(i))return;const a=e.attributeStorageInfo.findIndex((t=>t.name===i.name));if(a<0)return;f.set(a,o);const u=e.attributeStorageInfo[a];let l=!1;c.add(t),e.forEachNode(((t,n)=>{const s=d(t,n);if(-1===s)return;const i=e.getAttributeData(t.index);if(i){const n=i[u.name];n&&(n[s]=o,e.setAttributeData(t.index,i,r),l=!0)}})),l&&e.clearMemCache()},rollback(){if(I===s.EDITING){for(const t of c)this.setAttribute(t,u[t]);f.rollback(),I=s.ROLLED_BACK,e.sessions.delete(i)}},commit(){I===s.EDITING&&(f.commit(),I=s.COMMITTED,e.sessions.delete(i))}};return e.sessions.set(i,b),b}function a(t,n){const r=u(t,n);if(0===r.size)return;const o=new Map;for(let e=0;e<t.attributeStorageInfo.length;e++)o.set(t.attributeStorageInfo[e].name,e);let s=!1;r.forEach(((n,r)=>{const i=t.getAttributeData(r);let a=!1;n.forEach(((n,r)=>{const u=e(i)?i[r]:null,c=o.get(r);for(const{featureIndex:e,value:o,featureId:i}of n)u&&(u[e]=o,a=!0,s=!0),t.attributeOverrides.updateValue(i,c,o)})),a&&t.setAttributeData(r,i,null)})),s&&t.clearMemCache()}function u(t,e){const n=e.edits.updateFeatures;if(!n||0===n.length)return new I;const o=l(e),s=new I,i=new Map;for(let r=0;r<t.attributeStorageInfo.length;r++)i.set(t.attributeStorageInfo[r].name,r);const a=t.fieldsIndex,u=t.objectIdField,f=n.filter((t=>{const e=r(a,t.attributes,u);return o.has(e)}));return t.forEachNode(((e,n)=>{const o=new Set(n);for(const i of f){const f=r(a,i.attributes,u);if(!o.has(f))continue;const l=n.indexOf(f);for(const n in i.attributes){const r=t.fieldsIndex.normalizeFieldName(n),o=c(s,e.index,r),a=i.attributes[n];o.push({featureIndex:l,featureId:f,value:a})}}})),s}function c(t,e,n){const r=f(t,e),o=r.get(n);if(o)return o;const s=new Array;return r.set(n,s),s}function f(t,e){const n=t.get(e);if(n)return n;const r=new d;return t.set(e,r),r}function l(t){const e=new Set;if(!t.updatedFeatures)return e;for(const n of t.updatedFeatures)null!=n.objectId&&null==n.error&&e.add(n.objectId);return e}!function(t){t[t.EDITING=0]=\"EDITING\",t[t.ROLLED_BACK=1]=\"ROLLED_BACK\",t[t.COMMITTED=2]=\"COMMITTED\"}(s||(s={}));const d=Map,I=Map;export{i as createInteractiveEditSession,a as processAttributeEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=e.getLogger(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\"),p=e=>{let p=class extends e{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&t.error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&t.error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return t.error(\"definitionExpression is using non standard function\"),null;const e=[],i=r.fieldNames;return n(i,this.i3slayer.fields,{missingFields:e}),e.length>0?(t.error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return t.error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{p as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/set.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as p}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)return new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:s});return a(s,e)?void 0:new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);const c=s(r)?r.clientGraphics:null;if(!c||0===c.length)return Promise.resolve([]);const u=\"scene\"===this.layer.type&&s(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,n=o(this.layer.fieldsIndex,await i(u,a(this.layer,r)));await this.prepareFetchPopupFeatures(n);const l=new Set,h=[],y=[];for(const s of c)p(n,s,l)?y.push(s):h.push(s);return 0===y.length?Promise.resolve(h):this.whenGraphicAttributes(y,[...l]).catch((()=>y)).then((e=>h.concat(e)))}};return u=e([t(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"./Accessor.js\";import s from\"./Logger.js\";import{runTracked as a}from\"./accessorSupport/tracking.js\";import{property as n}from\"./accessorSupport/decorators/property.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";import{SimpleTrackingTarget as o}from\"./accessorSupport/tracking/SimpleTrackingTarget.js\";const c=e=>{let a=class extends e{constructor(){super(...arguments),this._numUpdating=0,this.asyncUpdateState=new Map}get updating(){return this._numUpdating>0}autoUpdateAsync(t,e){return p((e=>this._updateAsync(t,e)),e)}async _updateAsync(t,e){if(!this._startAsyncUpdate(t)){try{const s=await e();this._set(t,s)}catch(a){s.getLogger(this.declaredClass).warn(`Async update of \"${t}\" failed. Async update functions should not throw exceptions.`)}this._endAsyncUpdate(t)&&this._updateAsync(t,e)}}_startAsyncUpdate(t){var e;const s=null!=(e=this.asyncUpdateState.get(t))?e:i.None;return s&i.Updating?(this.asyncUpdateState.set(t,s|i.Invalidated),!0):(++this._numUpdating,this.asyncUpdateState.set(t,s|i.Updating),!1)}_endAsyncUpdate(t){var e;--this._numUpdating;const s=(null!=(e=this.asyncUpdateState.get(t))?e:i.None)&~i.Updating;return s&i.Invalidated?(this.asyncUpdateState.set(t,s&~i.Invalidated),!0):(this.asyncUpdateState.set(t,s),!1)}};return t([n({readOnly:!0})],a.prototype,\"updating\",null),t([n()],a.prototype,\"_numUpdating\",void 0),a=t([r(\"esri.core.AsyncUpdate\")],a),a};var i;function p(t,e){const s=()=>{c&&!i&&t(n)},n=()=>{if(!c||i)return e();c.clear(),i=!0;const t=a(c,e);return i=!1,t},r=()=>{c&&(c.destroy(),c=null)};let c=new o(s),i=!1;return t(n),{remove:r}}!function(t){t[t.None=0]=\"None\",t[t.Updating=1]=\"Updating\",t[t.Invalidated=2]=\"Invalidated\"}(i||(i={}));let d=class extends(c(e)){};d=t([r(\"esri.core.AsyncUpdate\")],d);export{d as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{AsyncUpdateMixin as r}from\"../../../../core/AsyncUpdate.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as a,collectLabelingFields as d,collectFilterFields as n}from\"../../../../layers/support/fieldUtils.js\";const p=t.getLogger(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\");let c=class extends(r(s)){constructor(e){super(e)}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:o}=this;return a(e,[...i(r,[]),...i(s,[]),...i(t,[]),...i(o,[])])}initialize(){const e=this.layerView.layer;this.layer=e,this.handles.add([this.autoUpdateAsync(\"rendererFields\",(()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?y((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(()=>{const{layer:e}=this;return e.labelsVisible?y((r=>d(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,filter:r}=this.layerView;return y((s=>n(s,e,r)))}))])}};async function y(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return p.error(s),null}}e([o()],c.prototype,\"layerView\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o()],c.prototype,\"requiredFields\",null),e([o()],c.prototype,\"rendererFields\",void 0),e([o()],c.prototype,\"labelingFields\",void 0),e([o()],c.prototype,\"viewFilterFields\",void 0),c=e([l(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],c);export{c as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";import t from\"./LayerView.js\";class o extends t{constructor(){super(...arguments),this.layer=null,this.filter=null}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,r){throw new Error(\"Not implemented\")}queryObjectIds(e,r){throw new Error(\"Not implemented\")}queryFeatureCount(e,r){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,r){throw new Error(\"Not implemented\")}}e([r()],o.prototype,\"layer\",void 0),e([r()],o.prototype,\"availableFields\",null),e([r()],o.prototype,\"maximumNumberOfFeatures\",null),e([r({readOnly:!0})],o.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([r()],o.prototype,\"filter\",void 0);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n"],"names":["e","r","constructor","super","hasInitialize","getTransferList","geometryBuffer","Y","i","J","H","$","L","U","j","K","arguments","this","type","_nodesAddedToStage","Map","drapeSourceType","F","_queryEngine","_memCache","_interactiveEditingSessions","loadedGraphics","k","holeFilling","progressiveLoadFactor","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","initialize","t","layer","addResolvingPromise","indexInfo","_attributeOverrides","V","view","resourceController","memoryController","G","spatialReference","viewingMode","fieldsHelper","q","layerView","updatingHandles","add","rangeInfos","_rangeInfosChanged","d","renderer","_rendererChange","parsedDefinitionExpression","excludeObjectIdsSorted","_filterChange","floors","processor","filterVisibility","filterChanged","handles","l","Q","_treeDebugger","_controller","crsIndex","then","I3STreeDebugger","lv","nodeSR","destroy","_set","A","owner","preferredUpdatePolicy","W","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentVisibilityEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","elevationAlignment","events","on","_invalidateElevation","_verticalScale","v","setup","newCache","uid","S","M","geometryDefinitions","_worker","O","schedule","addPromise","result","_handleEdits","when","C","priority","Z","maximumNumberOfFeatures","featureTarget","suspended","_removeAllNodeData","s","clear","requiredFields","graphicsCore","displayFeatureLimit","_override","fixedFeatureTarget","_clearOverride","maximumNumberOfFeaturesExceeded","useMaximumNumberOfFeatures","leavesReached","excludeObjectIds","length","toArray","sort","hasM","hasZ","P","_getObjectIdField","values","getGraphicFromGraphicUid","I","find","attributes","sourceLayer","whenGraphicBounds","computeAttachmentOrigin","canResume","rootNodeVisible","isUpdating","updating","highlight","objectIdField","updatePolicy","effectiveUpdatePolicy","createInteractiveEditSession","N","attributeEditingContext","o","invoke","a","positionData","positions","featureIds","Error","_checkExtent","b","error","te","ee","Promise","reject","has","index","id","xmin","ymin","xmax","ymax","zmin","zmax","mmin","mmax","ie","clone","crsVertex","n","graphics","attributeInfo","attributeDataInfo","node","_addNodeBinaryPointData","_addNodeLegacyPointData","apply","numFeatures","_updateNodeMemory","re","_computeObb","updateVisibility","isGeometryVisible","_cacheNodeData","resolve","geometry","set","addMany","_filterNode","update","isGeographic","renderSpatialReference","m","data","size","serviceObb","B","f","center","isNodeLoaded","isNodeReloading","updateNodeState","_extractBinaryPointData","u","h","g","y","_","x","Array","p","c","push","oe","w","E","D","get","level","ae","property","graphic","oldValue","newValue","graphicUpdateHandler","objectId","visible","from","pointData","featureDataPosition","geometries","se","params","vertexAttributes","position","memory","usedMemoryPerGraphic","reduce","put","_getMemCacheKey","forEach","removeNode","_removeNodeStageData","removeMany","delete","pop","updateAttributes","getLoadedNodeIds","getVisibleNodes","getLoadedNodeIndices","getLoadedAttributes","loadedAttributes","getAttributeData","attributeData","_setAttributeData","_attributeValuesChanged","labelsEnabled","map","updateLabelingInfo","updateClippingArea","fieldsIndex","Set","collectRequiredFields","every","_reloadAllNodes","warn","restartNodeLoading","_evaluateClause","extent","ne","updateElevationChanged","createQuery","outFields","returnGeometry","outSpatialReference","filter","queryFeatures","executeQuery","_ensureQuery","signal","queryObjectIds","executeQueryForIds","queryFeatureCount","executeQueryForCount","queryExtent","executeQueryForExtent","_addDefinitionExpressionToQuery","getUsedMemory","usedMemory","getUnloadedMemory","unloadedMemoryEstimate","unprocessedMemoryEstimate","ignoresMemoryFactor","T","sessions","forEachNode","attributeStorageInfo","i3slayer","attributeOverrides","setAttributeData","recreateGraphics","clearMemCache","performanceInfo","displayedNumberOfFeatures","totalNumberOfFeatures","nodes","core","updateStats","test","controller","numNodes","prototype","aliasOf","z","availableFields","Number","readOnly","X","name","R","setAttribute","rollback","commit","indexOf","EDITING","findIndex","ROLLED_BACK","COMMITTED","edits","updateFeatures","updatedFeatures","normalizeFieldName","featureIndex","featureId","value","updateValue","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","definitionExpression","isStandardized","fieldNames","fields","missingFields","join","definitionExpressionFields","testFeature","where","_validateFetchPopupFeatures","popupEnabled","clientGraphics","associatedLayer","prepareFetchPopupFeatures","whenGraphicAttributes","catch","concat","_numUpdating","asyncUpdateState","autoUpdateAsync","remove","_updateAsync","_startAsyncUpdate","declaredClass","_endAsyncUpdate","None","Updating","Invalidated","rendererFields","labelingFields","viewFilterFields","labelsVisible","async","String","popupTemplate","getRequiredFields","lastEditInfoEnabled","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}