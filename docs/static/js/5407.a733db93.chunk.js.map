{"version":3,"file":"static/js/5407.a733db93.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/GroupLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import i from\"../../core/Collection.js\";import{castForReferenceSetter as s,referenceSetter as r}from\"../../core/collectionUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"./LayerView.js\";let o=class extends a{constructor(e){super(e),this.type=\"group\",this.layerViews=new i}initialize(){this.handles.add([this.layerViews.on(\"change\",(e=>this._layerViewsChangeHandler(e))),this.layer.watch(\"visibilityMode\",(()=>this._visibilityModeHandler()),!0),this.watch(\"visible\",(()=>this._visibleHandler()),!0)],\"grouplayerview\"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}set layerViews(e){this._set(\"layerViews\",r(e,this._get(\"layerViews\")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce(((e,i)=>e+i.updatingProgress),0)/this.layerViews.length}isUpdating(){return this.layerViews.some((e=>e.updating))}_hasLayerViewVisibleOverrides(){return this.layerViews.some((e=>e._isOverridden(\"visible\")))}_findLayerViewForLayer(e){return e&&this.layerViews.find((i=>i.layer===e))}_firstVisibleOnLayerOrder(){const e=this.layer.layers.find((e=>{const i=this._findLayerViewForLayer(e);return i&&i.visible}));return e&&this._findLayerViewForLayer(e)}_enforceExclusiveVisibility(e){this._hasLayerViewVisibleOverrides()&&(e||!(e=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(e=this._findLayerViewForLayer(this.layer.layers.getItemAt(0))),this.layerViews.forEach((i=>{i.visible=i===e})))}_layerViewsChangeHandler(e){this.handles.remove(\"grouplayerview:visible\"),this.handles.add(this.layerViews.map((e=>e.watch(\"visible\",(i=>this._layerViewVisibleHandler(i,e)),!0))).toArray(),\"grouplayerview:visible\");const i=e.added[e.added.length-1];let s=null;i&&i.visible&&(s=i),this._enforceVisibility(s)}_enforceVisibility(e){if(this._hasLayerViewVisibleOverrides())switch(this.layer.visibilityMode){case\"inherited\":{const e=this.visible;this.layerViews.forEach((i=>{i.visible=e}));break}case\"exclusive\":this._enforceExclusiveVisibility(e)}}_visibilityModeHandler(){this._enforceVisibility()}_layerViewVisibleHandler(e,i){if(this._hasLayerViewVisibleOverrides())switch(this.layer.visibilityMode){case\"inherited\":e!==this.visible&&(i.visible=this.visible);break;case\"exclusive\":this._enforceExclusiveVisibility(e&&i)}}_visibleHandler(){var e;this._hasLayerViewVisibleOverrides()&&\"inherited\"===(null==(e=this.layer)?void 0:e.visibilityMode)&&this._enforceVisibility()}};e([t({cast:s})],o.prototype,\"layerViews\",null),e([t({readOnly:!0})],o.prototype,\"updatingProgress\",null),e([t()],o.prototype,\"view\",void 0),o=e([l(\"esri.views.layers.GroupLayerView\")],o);const h=o;export{h as default};\n"],"names":["o","a","constructor","e","super","this","type","layerViews","i","initialize","handles","add","on","_layerViewsChangeHandler","layer","watch","_visibilityModeHandler","_visibleHandler","target","added","toArray","removed","moved","_set","r","_get","updatingProgress","length","reduce","isUpdating","some","updating","_hasLayerViewVisibleOverrides","_isOverridden","_findLayerViewForLayer","find","_firstVisibleOnLayerOrder","layers","visible","_enforceExclusiveVisibility","getItemAt","forEach","remove","map","_layerViewVisibleHandler","s","_enforceVisibility","visibilityMode","t","cast","prototype","readOnly","l","h"],"sourceRoot":""}