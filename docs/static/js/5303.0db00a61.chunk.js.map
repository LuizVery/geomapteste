{"version":3,"file":"static/js/5303.0db00a61.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js","../node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js","../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/featureReference.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/support/EventedSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import t from\"../../../../geometry/Polygon.js\";import i from\"../../../../symbols/FillSymbol3DLayer.js\";import s from\"../../../../symbols/PointSymbol3D.js\";import a from\"../../../../symbols/PolygonSymbol3D.js\";import o from\"../../../../symbols/TextSymbol3DLayer.js\";import r from\"../../terrain/TilingScheme.js\";const h=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class l{constructor(e,t,s){this.loadingGraphics=new Map,this.loadedGraphics=new Map,this.pendingGraphics=new Map,this._enabled=!0,this.tileFetcher=e,this.view=s,this.tilingScheme=new r(t),this.loadedSymbols=h.map((e=>new a(new i({material:{color:[e[0],e[1],e[2],.6]},outline:{color:\"black\",size:1}})))),this.loadingSymbols=[new a(new i({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}}))],this.pendingSymbols=[new a(new i({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}}))],this.dataExtentSymbol=new a(new i({material:{color:[0,0,0,0]},outline:{color:\"green\",size:4}}))}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this.loadingGraphics,{filter:e=>e.isFetching,symbols:this.loadingSymbols}),this._synchronizeMaps(this.loadedGraphics,{filter:e=>!e.isFetching,symbols:this.loadedSymbols}),this._synchronizeMaps(this.pendingGraphics,{filter:e=>!e.isFetching,symbols:this.pendingSymbols}),this.showDataExtent(this.tileFetcher.filterExtent)):(this.loadingGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.loadingGraphics.clear(),this.loadedGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.loadedGraphics.clear(),this.pendingGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.pendingGraphics.clear(),this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null))}showDataExtent(i){if(this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null),!i)return;const s=t.fromExtent(i);this.dataExtentGraphic=new e({geometry:s,symbol:this.dataExtentSymbol}),this.view.graphics.add(this.dataExtentGraphic)}_synchronizeMaps(t,i){const a=[];t.forEach(((e,t)=>{const s=this.tileFetcher.test.getFeatureTileById(t);s&&i.filter(s)||(this.view.graphics.removeMany(e),a.push(t))})),a.forEach((e=>t.delete(e))),this.tileFetcher.test.forEachFeatureTile((a=>{if(i.filter(a)&&!t.has(a.id)){const[r,h,l]=a.descriptor.lij;this.tilingScheme.ensureMaxLod(r);const n=this.tilingScheme.getExtentGeometry(r,h,l),c=[new e({geometry:n,symbol:i.symbols[r%i.symbols.length]}),new e({geometry:n.center,symbol:new s({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new o({text:`${r}/${h}/${l}`,halo:{color:\"white\",size:1/.75},material:{color:\"black\"},size:16})]})})];t.set(a.id,c),this.view.graphics.addMany(c)}}))}}export{l as FeatureTileFetcher3DDebugger,l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import\"../../../core/has.js\";import s from\"../../../core/Error.js\";import a from\"../../../core/Handles.js\";import{clone as o}from\"../../../core/lang.js\";import n from\"../../../core/Logger.js\";import{isSome as l,destroyMaybe as c,removeMaybe as h,isNone as u}from\"../../../core/maybe.js\";import{EsriPromiseMixin as d}from\"../../../core/Promise.js\";import{isAbortError as m,eachAlways as p}from\"../../../core/promiseUtils.js\";import{initial as f,whenOnce as y,watch as g,syncAndInitial as x}from\"../../../core/reactiveUtils.js\";import{property as F}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as v}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isHostedAgolService as _}from\"../../support/arcgisLayerUrl.js\";import{projectGeometry as T}from\"../../../portal/support/geometryServiceUtils.js\";import E from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileFetcher3D as w}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as C}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import b from\"../../../views/3d/support/debugFlags.js\";import{WatchUpdatingTracking as D}from\"../../../views/support/WatchUpdatingTracking.js\";const S=n.getLogger(\"esri.layers.graphics.controllers.FeatureTileController3D\");let O=class extends(d(t)){constructor(e){super(e),this.type=\"feature-tile-3d\",this.watchUpdatingTracking=new D,this.serviceDataExtent=null,this.serviceDataCount=L.NO_SERVICE_DATA_COUNT,this.vertexLimitExceeded=!1,this.displayFeatureLimit=null,this.suspended=!1,this.tileFetcher=null,this.handles=new a,this.fetchDataInfoPromise=null,this.fetchDataInfoAbortController=null,this.lifeCycleAbortController=new AbortController}set extent(e){if(e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void S.error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(t&&e&&t.equals(e))return;const i=e?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(l(this.tileFetcher)&&this.tileFetcher.updating||null!=this.fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this.watchUpdatingTracking&&this.watchUpdatingTracking.updating)}get updatingTotal(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return l(this.tileFetcher)?this.tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(!l(this.tileFetcher)||!this.tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return l(this.displayFeatureLimit)?this.displayFeatureLimit.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&(null==e?this._clearOverride(\"maximumNumberOfFeatures\"):this._override(\"maximumNumberOfFeatures\",e))}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get mode(){var e,t;const i=this.layerView.layer;if(\"feature\"===i.type&&l(i.infoFor3D))return\"snapshot\";if(!1===(null==(e=this.layerView.view.qualitySettings)||null==(t=e.graphics3D)?void 0:t.snapshotAvailable)||this.serviceDataCount===L.NO_SERVICE_DATA_COUNT||this.vertexLimitExceeded)return\"tiles\";const r=this.layerView.view,s=r&&r.featureTiles,a=s&&s.tilingScheme;if(i&&i.minScale&&this.serviceDataExtent&&a){const e=this._approximateExtentSizeAtScale(i.minScale,a);if((this.serviceDataExtent.width/e+this.serviceDataExtent.height/e)/2>L.MAX_SNAPSHOT_MIN_SCALE_FACTOR)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&l(this.tileFetcher)&&this.tileFetcher.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){return\"snapshot\"===this.mode?new r([{id:\"dummy-tile-full-extent\",lij:[0,0,0]}]):this.layerView.view.featureTiles?this.layerView.view.featureTiles.tiles:new r}get test(){return{fetchDataInfoPromise:this.fetchDataInfoPromise,tileFetcher:this.tileFetcher}}initialize(){this.watchUpdatingTracking.add((()=>this.vertexLimitInfo),(()=>this.watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this.lifeCycleAbortController.signal)))),this.watchUpdatingTracking.add((()=>this.mode),(()=>this._modeChanged()),f),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if(!e.get(\"capabilities.operations.supportsQuery\")&&\"ogc-feature\"!==e.type)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this.tileFetcher=c(this.tileFetcher),this.handles=c(this.handles),this.tilesHandle=h(this.tilesHandle),this.lifeCycleAbortController&&(this.lifeCycleAbortController.abort(),this.lifeCycleAbortController=null),this.watchUpdatingTracking.destroy(),this._set(\"watchUpdatingTracking\",null)}suspend(){this.suspended||(this.suspended=!0,l(this.tileFetcher)&&this.tileFetcher.suspend())}resume(){this.suspended&&(this.suspended=!1,l(this.tileFetcher)&&this.tileFetcher.resume())}restart(){const e=()=>{l(this.tileFetcher)&&this.tileFetcher.restart()};this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){const e=()=>{l(this.tileFetcher)&&this.tileFetcher.refetch()};this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=y((()=>{var t;return null==(t=e.featureTiles)?void 0:t.tilingScheme}),this.lifeCycleAbortController.signal);this.watchUpdatingTracking.addPromise(t),t.then((()=>{const{layerView:t,tileDescriptors:i}=this,r=t.layer,s=new w({context:this.context,filterExtent:this.extent,tileDescriptors:i,features:this.graphics});this.tileFetcher=s,this.suspended?this.tileFetcher.suspend():this.tileFetcher.resume();const a=this.layerView.view.resourceController;a&&(this.handles.add(a.memoryController.events.on(\"quality-changed\",(e=>{s.memoryFactor=e}))),this.tileFetcher.memoryFactor=a.memoryController.memoryFactor);const o=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;o&&this.handles.add(g((()=>{var e,t,i;return null==(e=this.layerView.view)||null==(t=e.qualitySettings)||null==(i=t.graphics3D)?void 0:i[o]}),(e=>s.lodFactor=e||1),f));const n=e=>{s.maximumNumberOfFeatures=e,s.useTileCount=this.serviceDataCount>e},l=e=>s.useTileCount=e>this.maximumNumberOfFeatures;\"ogc-feature\"!==r.type&&this.watchUpdatingTracking.add((()=>r.createQueryVersion),(()=>this._dataFilterChanged())),this.watchUpdatingTracking.add((()=>t.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this.watchUpdatingTracking.add((()=>t.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),this.handles.add([r.on(\"apply-edits\",(e=>this._applyEdits(e))),this.watch(\"extent\",(e=>s.filterExtent=e),!0),this.watch(\"tileDescriptors\",(e=>s.tileDescriptors=e),!0),g((()=>this.maximumNumberOfFeatures),n,x),g((()=>this.serviceDataCount),l,x),g((()=>b.FEATURE_TILE_FETCH_SHOW_TILES),(t=>{t&&s&&!s.debugger?(s.debugger=new C(s,e.featureTiles.tilingScheme.toTileInfo(),e),s.debugger.update()):!t&&this.tileFetcher&&s.debugger&&(s.debugger.destroy(),s.debugger=null)}),x)]),this.supportsExceedsLimitQuery||this.watchUpdatingTracking.add((()=>this.maxTotalSnapshotVertices),(()=>this.watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this.lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case\"tiles\":this.tilesHandle||(this.tilesHandle=this.layerView.view.featureTiles.addClient());break;default:S.warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":l(this.tilesHandle)&&(this.tilesHandle.remove(),this.tilesHandle=null)}}_dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this.refetch()}_applyEdits(e){u(this.tileFetcher)||this.tileFetcher.applyEdits(e).then((e=>{e&&(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this.watchUpdatingTracking.addPromise(this._updateServiceDataExtent(this.lifeCycleAbortController.signal))})).catch((e=>{if(!m(e))throw e}))}_availableFieldsChanged(e,t){l(this.tileFetcher)&&N(this.tileFetcher.availableFields,t)&&this.refetch()}_requiredFieldsChanged(e,t){l(this.tileFetcher)&&N(this.tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.outStatistics=[new E({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_fullExtentIsAccurate(){const e=this.layerView.layer;if(e.definitionExpression)return!1;switch(e.type){case\"feature\":return _(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){m(t)||this._set(\"serviceDataExtent\",o(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities.query.supportsExtent,s=o(t.fullExtentInLocalViewSpatialReference),a=i.fullExtent,n=this._fullExtentIsAccurate(),c=this.serviceDataCount;if(r&&c<=L.MAX_FEATURE_COUNT_FOR_EXTENT&&(!s||!n)&&\"queryExtent\"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:L.QUERY_EXTENT_TIMEOUT,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(l(a)){const r=\"portalItem\"in i?i.portalItem:null,s=await T(a,t.view.spatialReference,r,e);this._set(\"serviceDataExtent\",s)}else this._set(\"serviceDataExtent\",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t))return void this._set(\"serviceDataCount\",L.NO_SERVICE_DATA_COUNT);const r=await i(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:L.QUERY_STATISTICS_TIMEOUT,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(m(r.error))throw r.error;this._set(\"serviceDataCount\",L.NO_SERVICE_DATA_COUNT)}}get vertexLimitInfo(){if(u(this.displayFeatureLimit)||u(this.displayFeatureLimit.averageSymbolComplexity))return null;const{averageSymbolComplexity:e,maximumTotalNumberOfPrimitives:t}=this.displayFeatureLimit,{primitivesPerCoordinate:i,primitivesPerFeature:r}=e,s=this._get(\"vertexLimitInfo\");return u(s)||s.maximumTotalNumberOfPrimitives!==t||s.primitivesPerCoordinate!==i||s.primitivesPerFeature!==r?{primitivesPerCoordinate:i,primitivesPerFeature:r,maximumTotalNumberOfPrimitives:t}:s}get supportsExceedsLimitQuery(){const e=this.layerView.layer;return e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async _updateVertexLimitExceeded(e,t){const r=this.vertexLimitInfo;if(u(r))return void this._set(\"vertexLimitExceeded\",!1);const s=r.primitivesPerFeature<=0,a=this.minimumNumberOfVerticesForGeometry>1;if(!s&&!a)return void this._set(\"vertexLimitExceeded\",!1);const{primitivesPerFeature:o,primitivesPerCoordinate:n,maximumTotalNumberOfPrimitives:c}=r;let h;0!==o&&l(e)&&await e;const d=this.serviceDataCount,p=d!==L.NO_SERVICE_DATA_COUNT;if(h=p?Math.ceil((c-d*o)/(n||1)):Math.ceil(c/(n||1)),a&&(h=Math.min(h,A)),p&&this.minimumNumberOfVerticesForGeometry*d>h)return void this._set(\"vertexLimitExceeded\",!0);if(!this.supportsExceedsLimitQuery)return void this._set(\"vertexLimitExceeded\",this.maxTotalSnapshotVertices>h);const f=await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(h),{timeout:L.QUERY_STATISTICS_TIMEOUT,signal:t}));if(!1===f.ok){if(m(f.error))throw f.error;return void this._set(\"vertexLimitExceeded\",!1)}const y=f.value.features[0];y&&y.attributes?this._set(\"vertexLimitExceeded\",!!y.attributes.exceedslimit):this._set(\"vertexLimitExceeded\",!1)}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo();let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=p([i,this._updateVertexLimitExceeded(i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{m(e)||S.error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this.fetchDataInfoPromise&&(this.fetchDataInfoPromise=null,this.fetchDataInfoAbortController=null),e=null}));return e&&(this.fetchDataInfoPromise=s),this.fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this.fetchDataInfoAbortController;e&&(this.fetchDataInfoAbortController=null,this.fetchDataInfoPromise=null,e.abort())}get debug(){return{storedFeatures:l(this.tileFetcher)?this.tileFetcher.storedFeatures:0,totalFeatures:l(this.tileFetcher)?this.tileFetcher.totalFeatures:0,totalVertices:l(this.tileFetcher)?this.tileFetcher.totalVertices:0}}};e([F({readOnly:!0})],O.prototype,\"type\",void 0),e([F({constructOnly:!0})],O.prototype,\"graphics\",void 0),e([F({constructOnly:!0})],O.prototype,\"layerView\",void 0),e([F({constructOnly:!0})],O.prototype,\"context\",void 0),e([F()],O.prototype,\"extent\",null),e([F()],O.prototype,\"updating\",null),e([F({readOnly:!0})],O.prototype,\"watchUpdatingTracking\",void 0),e([F()],O.prototype,\"updatingTotal\",null),e([F()],O.prototype,\"updatingRemaining\",null),e([F()],O.prototype,\"expectedFeatureDiff\",null),e([F()],O.prototype,\"memoryForUnusedFeatures\",null),e([F()],O.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([F({readOnly:!0})],O.prototype,\"serviceDataExtent\",void 0),e([F({readOnly:!0})],O.prototype,\"serviceDataCount\",void 0),e([F({readOnly:!0})],O.prototype,\"vertexLimitExceeded\",void 0),e([F()],O.prototype,\"displayFeatureLimit\",void 0),e([F({type:Number})],O.prototype,\"maximumNumberOfFeatures\",null),e([F({readOnly:!0})],O.prototype,\"mode\",null),e([F({readOnly:!0})],O.prototype,\"maxTotalSnapshotVertices\",null),e([F({readOnly:!0,dependsOn:[\"mode\"]})],O.prototype,\"tileDescriptors\",null),e([F()],O.prototype,\"tileFetcher\",void 0),e([F()],O.prototype,\"fetchDataInfoPromise\",void 0),e([F({readOnly:!0})],O.prototype,\"vertexLimitInfo\",null),O=e([v(\"esri.layers.graphics.controllers.FeatureTileController3D\")],O);const I=1e4,V=12e3,U=1e4,A=5e6;function N(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var L;!function(e){function t(){e.MAX_FEATURE_COUNT_FOR_EXTENT=I,e.QUERY_STATISTICS_TIMEOUT=V,e.QUERY_EXTENT_TIMEOUT=U}e.NO_SERVICE_DATA_COUNT=1/0,e.MAX_SNAPSHOT_MIN_SCALE_FACTOR=5,e.reset=t}(L||(L={})),L.reset();export{O as FeatureTileController3D,L as FeatureTileController3DConstants};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport i from\"../../../core/has.js\";import{PooledRBush as s}from\"../../../core/libs/rbush/PooledRBush.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i,s,d){n.minX=s[0],n.minY=s[1],n.maxX=s[2],n.maxY=s[3],i.search(n,d)}class e{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s(9,i(\"esri-csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),t(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{e as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Evented.js\";import r from\"../../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import{fromRect as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as a,NEGATIVE_INFINITY as d}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as n}from\"../featureConversionUtils.js\";import{BoundsStore as h}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as u}from\"./optimizedFeatureQueryEngineAdapter.js\";class m{constructor(e){this.geometryInfo=e,this._boundsStore=new h,this._featuresById=new Map,this._markedIds=new Set,this.events=new t,this.featureAdapter=u}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=a(d);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{s(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(i(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(t){if(!t)return;const i=t.objectId;if(null==i)return void r.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new e(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:t}));const d=this._featuresById.get(i);let h;if(this._markedIds.add(i),d?(t.displayId=d.displayId,h=this._boundsStore.get(i),this._boundsStore.delete(i)):s(this.onFeatureAdd)&&this.onFeatureAdd(t),o(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,t);h=n(s(h)?h:a(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),s(h)&&this._boundsStore.set(i,h),this._featuresById.set(i,t)}_remove(e){return s(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{estimateAttributesObjectSize as t,estimateFixedArraySize as r,estimateNumberByteSize as i}from\"../../../../core/byteSizeEstimations.js\";import a from\"../../../../core/Error.js\";import{HandleOwner as o}from\"../../../../core/HandleOwner.js\";import{makeHandle as s}from\"../../../../core/handleUtils.js\";import n from\"../../../../core/Logger.js\";import{isSome as l,disposeMaybe as d,unwrap as m,isNone as u,applySome as p,mapSome as h}from\"../../../../core/maybe.js\";import{initial as c,sync as y,watch as _}from\"../../../../core/reactiveUtils.js\";import{property as f}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as g}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{g as R}from\"../../../../chunks/vec3.js\";import{c as v}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as F}from\"../../../../geometry/projection.js\";import{getResolutionForScale as b}from\"../../../../geometry/support/scaleUtils.js\";import{getObjectId as w}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromPoint as S}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as G}from\"../../../../layers/graphics/OptimizedFeature.js\";import j from\"../../../../layers/graphics/OptimizedGeometry.js\";import P from\"../../../../layers/graphics/data/FeatureStore.js\";import{isNumericField as x}from\"../../../../layers/support/fieldUtils.js\";import{generateGradient as T}from\"../../../../renderers/support/heatmapUtils.js\";import{DRAPED_Z as M}from\"../../terrain/OverlayRenderer.js\";import{UpdatePolicy as N,PrimitiveType as E}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as I}from\"../../webgl-engine/lib/Geometry.js\";import{ModelDirty as O}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as C}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as H}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HeatmapDensityMaterial as V}from\"../../webgl-engine/materials/HeatmapDensityMaterial.js\";const W=n.getLogger(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\"),L=50;let U=class extends o{constructor(e){super(e),this.type=\"heatmap\",this.filterVisibility={filterChanged(){},dirty:!1},this.preferredUpdatePolicy=N.ASYNC,this.dataExtent=null,this._renderGeometries=new Map,this._material=new V({}),this._materialWithField=new V({isAttributeDriven:!0}),this._fieldTotal=0,this._memoryFactor=1}initialize(){this._featureStore=new P({geometryType:\"esriGeometryPoint\",hasZ:this.hasZ,hasM:this.hasM});const{colorBufferFloat:e,textureFloat:t}=this._renderView.capabilities,{floatBufferBlendWorking:r}=this._renderView.renderingContext.driverTest;if(null==t||!t.textureFloat)throw new a(\"heatmap:missing-texture-float\",\"HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float.\");if(null==e||!e.textureFloat)throw new a(\"heatmap:missing-color-buffer-float\",\"HeatmapRenderer requires the WebGL2 extension EXT_color_buffer_float or the WebGL1 extension WEBGL_color_buffer_float.\");if(null==e||!e.floatBlend)throw new a(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend.\");if(!r)throw new a(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend. This device claims support for it, but does not actually support it.\");this._memoryFactor=this.owner.view.resourceController.memoryController.memoryFactor,this.updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),c),this.updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((t=>t.setParameters(e)))),c),this.updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),y),this.updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:t})=>{if(l(e)&&t){let t=0;this._featureStore.forEach((r=>{var i;t+=null!=(i=r.attributes[e])?i:0})),this._fieldTotal=t}else this._fieldTotal=this._featureStore.numFeatures}),c),this.handles.add([_((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:t})=>{var r;e&&!t&&W.warn(`Heatmap renderer field '${e}' for layer '${null!=(r=this.layer.title)?r:this.layer.id}' not found`)})),_((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:t})=>{var r;l(e)&&!t&&W.warn(`Heatmap renderer field '${e.name}' for layer '${null!=(r=this.layer.title)?r:this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),this.owner.view.resourceController.memoryController.events.on(\"quality-changed\",(()=>{var e,t,r,i,a;this._memoryFactor=null!=(e=null==(t=this.owner)||null==(r=t.view)||null==(i=r.resourceController)||null==(a=i.memoryController)?void 0:a.memoryFactor)?e:1}))])}destroy(){this._overlayRenderer.removeGeometries(Array.from(this._renderGeometries.values()),this.owner,O.Geometry.REMOVE),this._renderGeometries.clear(),this._material=d(this._material),this._materialWithField=d(this._materialWithField),this._featureStore.clear(),this._featureStore=null}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this.updatingHandles.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get displayFeatureLimit(){var e,t;const r=this._memoryFactor,i=null==(e=this.owner)||null==(t=e.view)?void 0:t.qualitySettings,a=i?Math.ceil(i.heatmap.maxTotalNumberOfFeatures*r):0;return{minimumTotalNumberOfFeatures:0,maximumTotalNumberOfFeatures:a,maximumTotalNumberOfPrimitives:a*2,maximumNumberOfFeatures:a}}get hasZ(){return\"hasZ\"in this.layer&&this.layer.hasZ}get hasM(){return\"hasM\"in this.layer&&this.layer.hasM}get scaleVisibilitySuspended(){return!1}get usedMemory(){var e,t,r,i,a;const o=this.usedMemoryPerFeature*this._featureStore.numFeatures,{R32F:s}=null==(e=this._renderView)||null==(t=e.capabilities)?void 0:t.colorBufferFloat,n=null!=s?1:4,d=4,m=null!=(r=Math.ceil((null==(i=this._overlayRenderer)||null==(a=i.overlays[0])?void 0:a.resolution)*this._densityMapPixelRatio))?r:0;return m*m*n*d+o+(l(this._heatmapRenderer)?3*Math.min(this._heatmapRenderer.blurRadius,L):0)*n*d}get usedMemoryPerFeature(){if(0===this._featureStore.numFeatures)return 0;let e=0;this._featureStore.forEach((r=>e+=t(r.attributes))),e/=this._featureStore.numFeatures;const a=i(),o=6;return o*r([0,0,0],a)+o*r([0,0],a)+(this._heatmapRendererFieldIsNumeric?o*a:0)+e}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return{core:{visible:this._featureStore.numFeatures,missing:0,pending:0},elevationUpdating:!1,visibilityFrustum:!0,visibilityScale:!0}}get _overlayRenderer(){return this.owner.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return m(this._overlayRenderer.spatialReference)}get _materialParameters(){return{...this._blurRadiusParameters,...this._densityParameters,colorRampData:this._colorRampData,pixelRatio:this._densityMapPixelRatio}}get _densityParameters(){const e=this._heatmapRenderer;if(u(e))return null;return{minDensity:e.minPixelIntensity,maxDensity:e.maxPixelIntensity,fieldTotal:this._fieldTotal}}get _blurRadiusParameters(){return p(this._heatmapRenderer,(({referenceScale:e,blurRadius:t})=>({searchRadius:this._clampSearchRadius(t),resolutionForScale:0===e?0:b(e,this.owner.view.spatialReference)})))}get _colorRampData(){return p(this._heatmapRenderer,(e=>T(e.colorStops)))}get _densityMapPixelRatio(){var e,t,r;const i=this._memoryFactor;return(null!=(e=null==(t=this.owner)||null==(r=t.view)?void 0:r.qualitySettings.heatmap.pixelRatio)?e:1)*Math.sqrt(i)}get _renderView(){return this.owner.view._stage.renderView}get _featuresArePoints(){return\"point\"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return\"heatmap\"===(null==e?void 0:e.type)?e:null}get _heatmapRendererFieldName(){return p(this._heatmapRenderer,(e=>e.field))}get _heatmapRendererField(){return p(this._heatmapRendererFieldName,(e=>this.layer.fieldsIndex.get(e)))}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return!u(e)&&x(e)}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return A}maskOccludee(){return A}setObjectIdVisibility(){}async setup(){}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:t}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>w(e,t)))),this._featureStore.addMany(e.added.map((e=>new G(S(new j,e.geometry),e.attributes,p(e.centroid,(e=>S(new j,e))),w(e,t)))));const r=e.added,i=e.removed;this._fieldTotal+=this._computeFieldTotalChange(r,i);const a=h(i,(({uid:e})=>{const t=this._renderGeometries.get(e);return this._renderGeometries.delete(e),t})),o=r.map((e=>{const t=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,t),t}));a.length>0&&this._overlayRenderer.removeGeometries(a,this.owner,O.Geometry.REMOVE),o.length>0&&this._overlayRenderer.addGeometries(o,this.owner,O.Geometry.ADD,!0),(o.length>0||a.length>0)&&this._renderView.requestRender()}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const t=this._heatmapRendererFieldName,r=l(t)?this._materialWithField:this._material,i=v();F(e.geometry,i,this._overlaySpatialReference),i[2]=M;const a=[[H.POSITION,{data:i,size:i.length}]],o=this._heatmapRendererFieldIsNumeric;var s;l(t)&&a.push([H.FEATUREATTRIBUTE,{data:[o&&null!=(s=e.attributes[t])?s:0],size:1}]);const n=new C(new I(a,null,E.Point),r,{layerUid:this.layer.uid,graphicUid:e.uid});return R(n.boundingSphere,i),n}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,t){if(u(this._heatmapRendererFieldName)||!this._heatmapRendererFieldIsNumeric)return e.length-t.length;const r=this._heatmapRendererFieldName,i=(e,t)=>{var i;return e+(null!=(i=t.attributes[r])?i:0)};return e.reduce(i,0)-t.reduce(i,0)}_clampSearchRadius(e){return e>L&&W.warnOnce(`SceneView supports a maximum blurRadius of ${L} for HeatmapRenderer.`),Math.min(e,L)}};e([f()],U.prototype,\"type\",void 0),e([f({constructOnly:!0})],U.prototype,\"owner\",void 0),e([f()],U.prototype,\"layer\",null),e([f()],U.prototype,\"featureStore\",null),e([f()],U.prototype,\"updating\",null),e([f()],U.prototype,\"updatingRemaining\",null),e([f()],U.prototype,\"suspendInfo\",null),e([f()],U.prototype,\"legendEnabled\",null),e([f()],U.prototype,\"filterVisibility\",void 0),e([f()],U.prototype,\"displayFeatureLimit\",null),e([f()],U.prototype,\"preferredUpdatePolicy\",void 0),e([f()],U.prototype,\"hasZ\",null),e([f()],U.prototype,\"hasM\",null),e([f()],U.prototype,\"dataExtent\",void 0),e([f()],U.prototype,\"_featureStore\",void 0),e([f()],U.prototype,\"_overlayRenderer\",null),e([f()],U.prototype,\"_overlaySpatialReference\",null),e([f()],U.prototype,\"_materialParameters\",null),e([f()],U.prototype,\"_densityParameters\",null),e([f()],U.prototype,\"_blurRadiusParameters\",null),e([f()],U.prototype,\"_colorRampData\",null),e([f()],U.prototype,\"_densityMapPixelRatio\",null),e([f()],U.prototype,\"_renderGeometries\",void 0),e([f()],U.prototype,\"_material\",void 0),e([f()],U.prototype,\"_materialWithField\",void 0),e([f()],U.prototype,\"_renderView\",null),e([f()],U.prototype,\"_featuresArePoints\",null),e([f()],U.prototype,\"_loadedPointGraphics\",null),e([f()],U.prototype,\"_heatmapRenderer\",null),e([f()],U.prototype,\"_heatmapRendererFieldName\",null),e([f()],U.prototype,\"_heatmapRendererField\",null),e([f()],U.prototype,\"_heatmapRendererFieldIsNumeric\",null),e([f()],U.prototype,\"_fieldTotal\",void 0),e([f()],U.prototype,\"_memoryFactor\",void 0),U=e([g(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\")],U);const A=s();export{U as HeatmapFeatureProcessor,L as MAX_RADIUS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as t,get as s,isNone as i}from\"../../../core/maybe.js\";import{initial as o,whenOnce as n}from\"../../../core/reactiveUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as p}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as u}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import c from\"../../../rest/support/Query.js\";import{DrapeSourceType as h}from\"./interfaces.js\";import d from\"./graphics/Graphics3DFeatureProcessor.js\";import y from\"./graphics/QueryEngine.js\";import{HeatmapFeatureProcessor as m}from\"./support/HeatmapFeatureProcessor.js\";import{toViewIfLocal as g}from\"./support/projectExtentUtils.js\";import{UpdatePolicy as f}from\"../webgl-engine/lib/basicInterfaces.js\";import{TaskPriority as v}from\"../../support/Scheduler.js\";const E=E=>{let b=class extends E{constructor(){super(...arguments),this.controller=null,this.updatePolicy=f.SYNC,this.suspendResumeExtentMode=\"computed\",this.slicePlaneEnabled=!1,this.drapeSourceType=h.Features,this.fullExtentInLocalViewSpatialReference=null,this.suspendResumeExtent=null,this._controllerCreated=!1,this.clippingExtent=null,this.supportsHeightUnitConversion=!0,this.pendingController=null,this.queryEngine=null}initialize(){const e=this.layer;\"isTable\"in e&&e.isTable?this.addResolvingPromise(Promise.reject(new r(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e}))):(this.addResolvingPromise(this._validateGeometryType()),this.updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),o),this.addResolvingPromise((async()=>{const e=await g(this);this.fullExtentInLocalViewSpatialReference=e,await this._initializeController()})()),this.updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e)),this.queryEngine=new y({layerView:this,priority:v.FEATURE_QUERY_ENGINE}),this.notifyChange(\"updating\"))}destroy(){this._destroyPendingController(),this.controller=t(this.controller),this._set(\"processor\",t(this.processor)),this.queryEngine=t(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this.pendingController=t(this.pendingController)}get legendEnabled(){var e;return this.canResume()&&(null==(e=this.processor)?void 0:e.legendEnabled)}get graphics3DProcessor(){var e;return\"graphics-3d\"===(null==(e=this.processor)?void 0:e.type)?this.processor:null}get heatmapProcessor(){var e;return\"heatmap\"===(null==(e=this.processor)?void 0:e.type)?this.processor:null}getGraphicFromGraphicUid(e){var r;let t=null;return null==(r=this.loadedGraphics)||r.forEach((r=>{r.uid===e&&(t=p(r,this.layer))})),t}whenGraphicBounds(e,r){var t;return null==(t=this.processor)?void 0:t.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){var t;return null==(t=this.processor)?void 0:t.computeAttachmentOrigin(e,r)}queryFeatures(e,r){return this.queryEngine.executeQuery(this._ensureQuery(e),s(r,\"signal\"))}queryObjectIds(e,r){return this.queryEngine.executeQueryForIds(this._ensureQuery(e),s(r,\"signal\"))}queryFeatureCount(e,r){return this.queryEngine.executeQueryForCount(this._ensureQuery(e),s(r,\"signal\"))}queryExtent(e,r){return this.queryEngine.executeQueryForExtent(this._ensureQuery(e),s(r,\"signal\"))}_ensureQuery(e){return i(e)?this.createQuery():c.from(e)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}maskOccludee(e){return this.processor.maskOccludee(e)}canResume(){var e;return super.canResume()&&!(null!=(e=this.processor)&&e.scaleVisibilitySuspended)}getSuspendInfo(){const e=super.getSuspendInfo();return this.processor?{...e,...this.processor.suspendInfo}:e}isUpdating(){var e,r,t;return!(!this.processor||this.processor.destroyed)&&!(this._controllerCreated&&(null==(e=this.controller)||!e.updating)&&null!=(r=this.view)&&null!=(t=r.basemapTerrain)&&t.ready&&!this.processor.updating)}async _initializeController(){const e=this.createController();this.pendingController=e,await e.when(),this._setControllerWhenInitialized(e)}async _setControllerWhenInitialized(e){try{await this.when()}catch(r){}this._controllerCreated=!0,this.notifyChange(\"updating\"),this.isResolved()&&!this.destroyed?(await n((()=>{var e,r;return null==(e=this.view)||null==(r=e.basemapTerrain)?void 0:r.ready})),this.beforeSetController(e),this.pendingController=null,this.controller=e,this.loadedGraphics=e.graphics,this.notifyChange(\"updating\")):this._destroyPendingController()}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case\"stream\":return!1;case\"feature-tile-3d\":return this.controller.extent=e,!0}}async _validateGeometryType(){switch(this.layer.geometryType){case\"multipatch\":case\"multipoint\":return Promise.reject(new r(\"featurelayerview3d:unsupported-geometry-type\",\"Unsupported geometry type ${geometryType}\",{geometryType:this.layer.geometryType}))}}_recreateProcessor(e){var r,t;const s=\"heatmap\"===(null==e?void 0:e.type),i=\"heatmap\"===(null==(r=this.processor)?void 0:r.type),o=this.processor;if(o&&s===i)return;const n=s?new m({owner:this}):new d({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentVisibilityEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this._set(\"processor\",n),null==o||o.destroy(),null==(t=this.queryEngine)||t.clear(),this.addResolvingPromise(n.setup())}_getResourceInfo(){var e,r;const t=this.controller instanceof u?this.controller:null;return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:null!=(e=null==t?void 0:t.maximumNumberOfFeatures)?e:-1,totalNumberOfFeatures:null!=(r=null==t?void 0:t.serviceDataCount)?r:-1,nodes:0,...this.processor.performanceInfo}}get performanceInfo(){return this._getResourceInfo()}};return e([l()],b.prototype,\"loadedGraphics\",void 0),e([l()],b.prototype,\"suspended\",void 0),e([l({readOnly:!0})],b.prototype,\"legendEnabled\",null),e([l()],b.prototype,\"updating\",void 0),e([l()],b.prototype,\"controller\",void 0),e([l()],b.prototype,\"processor\",void 0),e([l({readOnly:!0})],b.prototype,\"updatePolicy\",void 0),e([l({readOnly:!0})],b.prototype,\"suspendResumeExtentMode\",void 0),e([l({type:Boolean})],b.prototype,\"slicePlaneEnabled\",void 0),e([l({readOnly:!0})],b.prototype,\"suspendInfo\",void 0),e([l()],b.prototype,\"graphics3DProcessor\",null),e([l()],b.prototype,\"heatmapProcessor\",null),b=e([a(\"esri.views.3d.layers.FeatureLikeLayerView3D\")],b),b};export{E as FeatureLikeLayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../../layers/graphics/dehydratedFeatures.js\";import{equals as e}from\"../../../../layers/graphics/dehydratedFeatureComparison.js\";class s{constructor(e,s){this.highestResolutionVersion=null,this.versions=[],this.ref(e,s)}get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}ref(s,t){const r=this.feature;i.oldVersion=r,this.feature&&Object.defineProperty(s,\"uid\",{value:this.feature.uid,configurable:!0});for(const o of this.versions)if(o.resolution===t){o.refCount++;const t=this.highestResolutionVersion===o&&!e(s,o.feature);return(t||this.highestResolutionVersion!==o)&&(o.feature=s),i.newVersion=t?s:r,i}const n={feature:s,resolution:t,refCount:1};return this.versions.push(n),!this.highestResolutionVersion||t<this.highestResolutionVersion.resolution?(i.newVersion=s,this.highestResolutionVersion=n):i.newVersion=r,i}unref(e){for(let s=0;s<this.versions.length;s++){const t=this.versions[s];if(t.resolution===e)return t.refCount--,i.oldVersion=this.feature,0===t.refCount&&(this.versions[s]=this.versions[this.versions.length-1],this.versions.length--,this.highestResolutionVersion===t&&(this._recalculateHighestResolutionVersion(),i.oldVersion=t.feature)),i.newVersion=this.feature,i}return null}get feature(){return this.highestResolutionVersion?this.highestResolutionVersion.feature:null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this.highestResolutionVersion=null);let e=this.versions[0];for(let s=1;s<this.versions.length;s++){const t=this.versions[s];t.resolution<e.resolution&&(e=t)}this.highestResolutionVersion=e}}class t{constructor(e){this._feature=e,this.refCount=1}get isReferenced(){return 0!==this.refCount}get isSingle(){return 1===this.refCount}ref(s){return++this.refCount,i.oldVersion=this._feature,this.feature&&Object.defineProperty(s,\"uid\",{value:this.feature.uid,configurable:!0}),e(this._feature,s)||(this._feature=s),i.newVersion=this._feature,i}unref(){return i.oldVersion=this._feature,this.refCount>0&&(this.refCount--,!this.isReferenced)?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null};export{s as MultiFeatureReference,t as SingleFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{shuffle as t}from\"../../../../core/arrayUtils.js\";import{unwrapOr as e,isSome as s,isNone as i}from\"../../../../core/maybe.js\";import{create as r,fromExtent as u,intersects as a,copy as h,POSITIVE_INFINITY as n,intersection as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{numVertices as _,estimateSize as d,getObjectId as m}from\"../../../../layers/graphics/dehydratedFeatures.js\";const l=16438,F=new Set;class E{constructor(t){this.descriptor=t,this.fetchStatus=o.FETCH_NEEDED,this._features=null,this._numVertices=0,this._featureLimit=0,this.featuresMissing=!0,this._shuffled=!1,this._numFeatures=c,this._emptyFeatureRatio=0,this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._availableFields=F,this._displayingFeatures=null,this.alive=!0,this.filtered=!1}get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){return!this.filtered&&(this.featuresMissing||this.features&&this.featureLimit!==this.features.length)}get features(){return this._features}get featureLimit(){return this._featureLimit}set featureLimit(t){this._featureLimit!==t&&(this._featureLimit=t,this._estimatedUnusedSizeDirty=!0)}get availableFields(){return this._availableFields}setFeatures(t,s,i){this._availableFields=e(i,F),this._features=t,this._shuffled=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,t&&t.length>0?(this._emptyFeatureRatio=s/(t.length+s),this._numVertices=t.reduce(((t,e)=>t+_(e.geometry)),0)):(this._emptyFeatureRatio=0,this._numVertices=0)}get emptyFeatureRatio(){return this._emptyFeatureRatio}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures:this._features?this._features.length:0}set numFeatures(t){this._numFeatures=t}get hasPreciseFeatureCount(){return this._numFeatures>c}get needsFeatureCount(){return this._numFeatures===c}get numVertices(){return this._numVertices}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=d(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=d(this._features[t]);return!0}return!1}get isFetching(){return this.fetchStatus===o.FETCHING||this.fetchStatus===o.REFETCHING}get isRefetching(){return this.fetchStatus===o.REFETCHING}get needsFetching(){return this.fetchStatus===o.FETCH_NEEDED||this.fetchStatus===o.REFETCH_NEEDED}get needsRefetching(){return this.fetchStatus===o.REFETCH_NEEDED}get isFetched(){return this.fetchStatus===o.DONE||this.fetchStatus===o.FULL}resetFetching(){this.fetchStatus=this.fetchStatus===o.REFETCHING?o.REFETCH_NEEDED:o.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!S(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return!t||!this.descriptor.extent||(u(t,D),a(this.descriptor.extent,D))}intersectionIncludingBorrowed(t,e){const i=s(this.extentIncludingBorrowedFeatures)?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||i?(t?(u(t,e),f(e,i,e)):h(e,i),e):(h(e,n),e)}_shuffle(e){this._features.sort(((t,s)=>m(t,e)-m(s,e))),t(this._features,l),this._shuffled=!0,this._estimatedUnusedSizeDirty=!0}reduceFeatures(t,e,s){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let i=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&(this.featureLimit=this._features.length,this.fetchStatus===o.DONE&&this._features.length>0&&(this.fetchStatus=o.REFETCH_NEEDED,i=!0)),!this._shuffled&&t<1&&this._shuffle(s);const r=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>r&&(this._features.length=r,this.featuresMissing=!0,this.fetchStatus===o.FULL&&(this.fetchStatus=o.DONE)),i}get cache(){return{availableFields:this._availableFields,features:this.features,numFeatures:this._numFeatures,emptyFeatureRatio:this._emptyFeatureRatio,fetchStatus:this.fetchStatus,featuresMissing:this.featuresMissing}}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._numFeatures=t.numFeatures,this._emptyFeatureRatio=t.emptyFeatureRatio,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0}}const c=-1,g=-2;var o;function S(t,e,s){if(i(e)||i(t)||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}!function(t){t[t.FETCH_NEEDED=0]=\"FETCH_NEEDED\",t[t.REFETCH_NEEDED=1]=\"REFETCH_NEEDED\",t[t.FETCHING=2]=\"FETCHING\",t[t.REFETCHING=3]=\"REFETCHING\",t[t.DONE=4]=\"DONE\",t[t.FULL=5]=\"FULL\"}(o||(o={}));const D=r();export{g as FAILED_FEATURE_COUNT,E as FeatureTile,o as FetchStatus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import i from\"../../../../core/Logger.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{isSome as a,destroyMaybe as n,isNone as o,unwrap as u}from\"../../../../core/maybe.js\";import{isAbortError as l,eachAlways as h}from\"../../../../core/promiseUtils.js\";import{schedule as c}from\"../../../../core/scheduling.js\";import{on as d}from\"../../../../core/watchUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as m,equals as g,clone as F,expand as y,toExtent as _}from\"../../../../geometry/support/aaBoundingRect.js\";import{getObjectId as T,hasVertices as x}from\"../../../../layers/graphics/dehydratedFeatures.js\";import E from\"../../../../rest/support/QuantizationParameters.js\";import C from\"../../../../rest/support/Query.js\";import{ViewingMode as R}from\"../../../ViewingMode.js\";import{MultiFeatureReference as b,SingleFeatureReference as v}from\"./featureReference.js\";import{FAILED_FEATURE_COUNT as M,FetchStatus as D,FeatureTile as w}from\"./FeatureTile.js\";import{tilesAreRelated as j}from\"../../terrain/tileUtils.js\";import{ImmediateTask as O,TaskPriority as P}from\"../../../support/Scheduler.js\";const N=i.getLogger(\"esri.views.3d.layers.support.FeatureTileFetcher3D\");let U=class extends t{constructor(e){super(e),this._useTileCount=!1,this.updating=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this.maximumNumberOfFeaturesExceededThrottle=1e3,this._fullRatio=1,this._farRatio=1,this.changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this.handles=new s,this._frameTask=O,this._dirty=!1,this.featureTiles=new Map,this.displayingFeatureReferences=new Map,this.numDisplayingFeatureReferences=0,this.suspended=!0,this.pendingEdits=null}set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get(\"maximumNumberOfFeatures\");e===t||e<1||(this._set(\"maximumNumberOfFeatures\",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set(\"memoryFactor\",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set(\"lodFactor\",e),this.supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&a(this.context.query.queryFeatureCount)}set useTileCount(e){this._useTileCount=e,this.notifyChange(\"useTileCount\")}get memoryForUnusedFeatures(){let e=0;return this.featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this.featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this.featureTiles.forEach((t=>e+=t.numFeatures)),e}set filterExtent(e){if(e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void N.error(\"#filterExtent=\",\"extent needs to be in the same spatial reference as the tiling scheme\");const t=this._get(\"filterExtent\");if(t===e||t&&e&&t.equals(e))return;const s=e?e.clone():null;this._set(\"filterExtent\",s),this._reclip(s,t)}initialize(){this.handles.add(d(this,\"tileDescriptors\",\"change\",(()=>this._setDirty()),(()=>this._setDirty()))),this.objectIdField=this.context.objectIdField,this.FeatureReferenceClass=this.context.capabilities.supportsMultipleResolutions?b:v;const e=this.context.scheduler;a(e)&&(this._frameTask=e.registerTask(P.FEATURE_TILE_FETCHER,this)),this._setDirty()}destroy(){this._frameTask.remove(),this.handles=n(this.handles),this.featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this.featureTiles.clear(),this.displayingFeatureReferences.clear(),this.pendingEdits&&(this.pendingEdits.controller.abort(),this.pendingEdits=null)}get paused(){return this.suspended||!!this.pendingEdits}restart(){this.featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this.featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this.suspended||(this.suspended=!0,this._pause(),this._setDirty())}resume(){this.suspended&&(this.suspended=!1,this._unpause())}_pause(){this.paused&&(this.featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this.paused||(this._setDirty(),this._updated())}get availableFields(){let e=null;return this.featureTiles.forEach((t=>{o(t.displayingFeatures)||0===t.displayingFeatures.length||(o(e)?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields.has(s)||u(e).delete(s)})))})),a(e)?e:new Set}applyEdits(e){this.pendingEdits||(this.pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this.pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if(l(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0==--t.count&&(this.pendingEdits===t&&(this.pendingEdits=null),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._unpause(),this._updated()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),i=new Set,r=this.objectIdField;e.forEach((({objectId:e,globalId:a})=>{if((!e||e<0)&&t){s||N.errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`);const e=this.features.find((e=>e.attributes&&e.attributes[t]===a));e&&i.add(T(e,r))}else i.add(e)})),this.featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!i.has(T(e,this.objectIdField))));t.length!==e.features.length&&(e.setFeatures(t,0,e.availableFields),this._invalidateCounts())}))}async _applyEditsAddUpdateFeatures(e,t,s){const i=[],r=new Set;if(e.forEach((e=>i.push(e.objectId))),t.forEach((e=>{i.push(e.objectId),r.add(e.objectId)})),0===i.length)return;const a=[];this.featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,i,r,s);t&&a.push(t)})),await h(a)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=t;const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has(T(e,this.objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),e.setFeatures(n,0,H(e.availableFields,a.fields)),this._invalidateCounts())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:B})}_setDirty(){this._dirty=!0,this._updated()}get running(){return this.updating}runTask(e){if(this._frameTask.processQueue(e),!this._dirty||!this.constructed)return;this._dirty=!1;const t=this._getListOfTiles();if(this._markTilesNotAlive(t),!e.run((()=>this._addTiles(t,e)))||!e.run((()=>this._filterExtentTiles(t,e)))||!e.run((()=>this._removeTiles(t,e)))||e.done)return void this._setDirty();const s=this._sortTiles(t);e.run((()=>this._displayTiles(s,e)))&&e.run((()=>this._fetchTiles(s,e)))&&e.run((()=>this._updateMemoryEstimates(s,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!this.suspended&&(this.tileDescriptors.forEach((s=>{const i=this.featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>e.descriptor.loadPriority-t.descriptor.loadPriority)),e}_displayTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;return e.reduceFeatures(t,this.memoryFactor,this.objectIdField)&&this._setDirty(),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this.paused)return!1;let s=!1;for(const i of e){if(!i.needsFetching)continue;const e=a(this.context.memoryCache)?this.context.memoryCache.pop(i.id):null;if(a(e))i.cache=e,this._setDirty(),this._scheduleUpdated(),t.madeProgress();else{if(this._needsNumFeatures(i)){const e=new AbortController,r=this._fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.numFeatures=M)),s=!0,t.madeProgress()}if(t.done)return!0}}if(s)return t.hasProgressed;for(const i of e)if(i.needsFetching){const e=new AbortController,s=this._fetchTile(i,e.signal);if(this._handleRequest(i,s,e,(e=>{i.setFeatures([],0,null),this._invalidateCounts(),i.featuresMissing=!1,this.context.logFetchError(N,e)})),t.madeProgress(),t.done)return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.constructed)return;const s=new Array;this.featureTiles.forEach((i=>{o(i.displayingFeatures)||0===i.displayingFeatures.length||(i.intersectionIncludingBorrowed(t,V),i.intersectionIncludingBorrowed(e,z),g(V,z)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this.changes.updates;for(const i of e)if(!o(i.displayingFeatures))for(const e of i.displayingFeatures){const i=T(e,this.objectIdField);if(t.has(i))continue;t.add(i);const{feature:r}=this.displayingFeatureReferences.get(i);s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;this.paused||this.featureTiles.forEach((t=>t.isFetching?++e:0));const t=this._dirty||e>0||!!this.pendingEdits;if(this._set(\"updating\",t),t){let t=0,s=0,i=0,r=0,n=0;const o=this.displayingFeatureReferences.size/this.numDisplayingFeatureReferences;this.featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=a(e.displayingFeatures)?e.displayingFeatures.length*o:0;n+=t-s}e.needsFetching?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let u=0,l=0;t?(l=t,u=Math.min(r*t/i,t)):(l=s,u=r),n=Math.min(this.maximumNumberOfFeatures-this.features.length,n),this._set(\"updatingTotal\",l),this._set(\"updatingRemaining\",u),this._set(\"expectedFeatureDiff\",n)}else this._set(\"updatingTotal\",0),this._set(\"updatingRemaining\",0),this._set(\"expectedFeatureDiff\",0);this.debugger&&this.debugger.update()}_updateMaximumNumberOfFeaturesExceeded(){const e=r(this.featureTiles,(e=>e.perTileMaximumNumberOfFeaturesExceeded));this._set(\"maximumNumberOfFeaturesExceeded\",e)}_updateRatio(e){const t=q(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this.featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.features&&(e.features.length>=t||e.fetchStatus===D.FULL)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new w(e);return this.featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.descriptor.resolution;this.featureTiles.forEach((s=>{if(!(o(s.displayingFeatures)||e===s||e.descriptor.lij&&s.descriptor.lij&&!j(e.descriptor.lij,s.descriptor.lij))){o(e.displayingFeatures)&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(o(e.extentIncludingBorrowedFeatures)&&(e.extentIncludingBorrowedFeatures=F(e.descriptor.extent)),y(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this.displayingFeatureReferences.get(T(i,this.objectIdField));s.ref(s.feature,t),this.numDisplayingFeatureReferences++}}})),e.featureLimit=a(e.displayingFeatures)?e.displayingFeatures.length:0}_removeTile(e){this._clearTile(e),this.featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetching&&(e.fetchStatus=D.DONE):e.fetchStatus=D.FETCH_NEEDED}_cancelFetchTile(e){const t=e.requestController;a(t)&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){return e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._getListOfTiles()),e.fetchStatus===D.REFETCHING?D.REFETCH_NEEDED:D.FETCH_NEEDED}async _fetchTile(e,t){const s=this._maximumFeaturesForTile(e);if(s<=0)return L(e);const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(I(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>C.MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const a=this._createQuery(e);if(a.maxRecordCountFactor=Math.ceil(s/i),e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);a.maxRecordCountFactor=Math.max(t+1,a.maxRecordCountFactor)}const{features:n,exceededTransferLimit:o,fields:u}=await this._queryFeatures(a,t),l=o?a.maxRecordCountFactor>=C.MAX_MAX_RECORD_COUNT_FACTOR?D.FULL:D.DONE:D.FULL;return await this._frameTask.schedule((()=>{e.featuresMissing=n.length<e.numFeatures||o;const t=this._removeEmptyFeatures(n);e.setFeatures(n,t,Q(u))}),t),this._invalidateCounts(),l}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,a=0,n=this._maximumFeaturesForTile(e)-a;const o=this._getMaxRecordCount(e);let l=null;for(;;){const h=this._createQuery(e),c=this._setPagingParameters(h,i,n,o),{features:d,exceededTransferLimit:p,fields:f}=await this._queryFeatures(h,t);if(await this._frameTask.schedule((()=>{c&&(i+=u(h.num)),a+=d.length,r+=this._removeEmptyFeatures(d),e.featuresMissing=i<e.numFeatures||p,s=s?s.concat(d):d,l=H(l,f),e.setFeatures(s,r,l)}),t),this._invalidateCounts(),this._setDirty(),n=this._maximumFeaturesForTile(e)-a,!c||!p||n<=0)return p?D.DONE:D.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery(),s=e.descriptor.extent;if(s){const e=this.context.tilingScheme.spatialReference;t.geometry=_(s,e)}return this._setResolutionParams(t,e),this._useTileQuery(e)?t.resultType=\"tile\":this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(null==e.descriptor.resolution)return null;const t=this.context.viewingMode===R.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.descriptor.resolution,t)/this.lodFactor}get supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&\"point\"!==this.context.geometryType}_setResolutionParams(e,t){if(!this.supportsResolution)return;const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new E({mode:\"view\",originPosition:\"upper-left\",tolerance:s,extent:this.context.fullExtent}):\"polyline\"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e){const t=e.length;for(let s=0;s<e.length;){const t=e[s];x(t.geometry)?++s:(e[s]=e[e.length-1],--e.length)}return t-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!I(e)}_getMaxRecordCount(e){const{tileMaxRecordCount:t,maxRecordCount:s}=this.context;return this._useTileQuery(e)&&a(t)&&t>0&&this.context.capabilities.supportsResultType?t:a(s)&&s>0?s:k}_useTileQuery(e){return(!I(e)||!this.context.capabilities.supportsCacheHint)&&this.context.capabilities.supportsResultType}_handleRequest(e,t,s,i){e.fetchStatus=e.needsRefetching?D.REFETCHING:D.FETCHING,e.requestController=s;let r=!1;t.then((t=>{e.requestController=null,e.fetchStatus=t})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchStatus=D.DONE),l(t)?r=!0:i(t)})).then((()=>{r||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this.handles&&!this.handles.has(\"scheduleUpdated\")&&this.handles.add(c((()=>{this.handles.remove(\"scheduleUpdated\"),this._updated()})),\"scheduleUpdated\")}_showTile(e){if(a(e.displayingFeatures)&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=a(e.displayingFeatures)&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.descriptor.resolution,i=this.changes.updates,r=this.changes.adds,n=Math.min(e.featureLimit,t.length);e.featureLimit=n;for(let a=0;a<n;++a){const e=t[a],n=T(e,this.objectIdField),o=this.displayingFeatureReferences.get(n);if(o){const t=o.ref(e,s);t.oldVersion!==t.newVersion&&(i.removes.push(t.oldVersion),i.adds.push(t.newVersion))}else this.displayingFeatureReferences.set(n,new this.FeatureReferenceClass(e,s)),r.push(e);this.numDisplayingFeatureReferences++}return this._hideTileFeatures(e),this._applyChanges(),e.displayingFeatures=t.slice(0,n),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(o(e.displayingFeatures))return;const t=this.changes.updates,s=this.changes.removes;for(const i of e.displayingFeatures){const r=T(i,this.objectIdField),a=this.displayingFeatureReferences.get(r);if(!a)continue;const n=a.unref(e.descriptor.resolution);this.numDisplayingFeatureReferences--,n?n.oldVersion!==n.newVersion&&(null==n.newVersion?(this.displayingFeatureReferences.delete(r),s.push(n.oldVersion)):(t.adds.push(n.newVersion),t.removes.push(n.oldVersion))):console.error(\"Hiding unreferenced feature\")}this._applyChanges(),e.displayingFeatures=null}_applyChanges(){const e=this.changes.updates;e.removes.length>0&&(this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this.features.addMany(e.adds),e.adds.length=0);const t=this.changes.adds,s=this.changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+G,i);this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&this.features.addMany(0===r?t:t.slice(r)),s.length>i&&this.features.removeMany(0===r?s:s.slice(r)),t.length=0,s.length=0}_clearTile(e){if(this._hideTile(e),e.features&&a(this.context.memoryCache)){const t=16+e.estimatedSize;this.context.memoryCache.put(e.id,e.cache,t)}e.setFeatures(null,0,null),this._invalidateCounts()}_invalidateCounts(){this.notifyChange(\"totalVertices\"),this.notifyChange(\"totalFeatures\"),this.notifyChange(\"memoryForUnusedFeatures\")}_getListOfTiles(){return Array.from(this.featureTiles.values())}get storedFeatures(){return this._getListOfTiles().reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}_maximumFeaturesForTile(e){const t=e.hasPreciseFeatureCount?e.numFeatures:1/0,s=e.hasPreciseFeatureCount?t:this.maximumNumberOfFeatures,i=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(s*i/(1-e.emptyFeatureRatio)),t)}get test(){return{process:e=>this.runTask(e),getFeatureTileById:e=>this.featureTiles.get(e),forEachFeatureTile:e=>this.featureTiles.forEach(e)}}};function I(e){return\"dummy-tile-full-extent\"===e.id}function q(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function A(e){const t=e.capabilities.query;return{supportsMultipleResolutions:S(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function S(e){switch(e.geometryType){case\"polyline\":return!0;case\"polygon\":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}function L(e){return e.setFeatures([],0,null),e.featuresMissing=!1,D.DONE}function Q(e){return o(e)?new Set:new Set(e.map((e=>e.name)))}function H(e,t){if(o(e)||o(t))return Q(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}e([p({constructOnly:!0})],U.prototype,\"features\",void 0),e([p()],U.prototype,\"tileDescriptors\",void 0),e([p({value:1/0})],U.prototype,\"maximumNumberOfFeatures\",null),e([p({value:1})],U.prototype,\"memoryFactor\",null),e([p({value:1})],U.prototype,\"lodFactor\",null),e([p()],U.prototype,\"useTileCount\",null),e([p({readOnly:!0})],U.prototype,\"updating\",void 0),e([p({readOnly:!0})],U.prototype,\"updatingTotal\",void 0),e([p({readOnly:!0})],U.prototype,\"updatingRemaining\",void 0),e([p({readOnly:!0})],U.prototype,\"expectedFeatureDiff\",void 0),e([p({readOnly:!0})],U.prototype,\"memoryForUnusedFeatures\",null),e([p({readOnly:!0})],U.prototype,\"maximumNumberOfFeaturesExceeded\",void 0),e([p({constructOnly:!0})],U.prototype,\"maximumNumberOfFeaturesExceededThrottle\",void 0),e([p({readOnly:!0})],U.prototype,\"totalVertices\",null),e([p({readOnly:!0})],U.prototype,\"totalFeatures\",null),e([p()],U.prototype,\"filterExtent\",null),e([p({constructOnly:!0})],U.prototype,\"context\",void 0),U=e([f(\"esri.views.3d.layers.support.FeatureTileFetcher3D\")],U);const k=2e3,V=m(),z=m(),B=6e5,G=200,X=U;export{U as FeatureTileFetcher3D,A as contextCapabilitiesFromLayer,X as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{project as o}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const s=l.view.spatialReference,i=l.layer.fullExtent,n=e(i)&&i.spatialReference;if(r(i)||!n)return Promise.resolve(null);if(n.equals(s))return Promise.resolve(i.clone());const a=o(i,s);return e(a)?Promise.resolve(a):l.view.state.isLocal?t(i,s,l.layer.portalItem).then((e=>!l.destroyed&&e?e:void 0)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{ObservableChangesType as t}from\"../../../core/ObservableChangesType.js\";import{someSet as s}from\"../../../core/SetUtils.js\";class r extends e{constructor(){super(...arguments),this._set=new Set}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._set.size}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this.emit(\"after-changes\",{type:t.ADD}),this.emit(\"change\",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:[e]}))}removeMany(e){const s=[];for(const t of e)this._set.delete(t)&&s.push(t);s.length>0&&(this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:s}))}toArray(){return[...this._set]}find(e){let t;return s(this._set,(s=>!!e(s)&&(t=s,!0))),t}forEach(e){this._set.forEach((t=>e(t)))}}export{r as EventedSet};\n"],"names":["h","l","constructor","e","t","s","this","loadingGraphics","Map","loadedGraphics","pendingGraphics","_enabled","tileFetcher","view","tilingScheme","r","loadedSymbols","map","a","i","material","color","outline","size","loadingSymbols","pendingSymbols","dataExtentSymbol","destroy","enabled","update","_synchronizeMaps","filter","isFetching","symbols","showDataExtent","filterExtent","forEach","graphics","removeMany","clear","dataExtentGraphic","remove","geometry","symbol","add","test","getFeatureTileById","push","delete","forEachFeatureTile","has","id","descriptor","lij","ensureMaxLod","n","getExtentGeometry","c","length","center","verticalOffset","screenLength","callout","type","border","symbolLayers","o","text","halo","set","addMany","S","O","d","super","watchUpdatingTracking","D","serviceDataExtent","serviceDataCount","L","NO_SERVICE_DATA_COUNT","vertexLimitExceeded","displayFeatureLimit","suspended","handles","fetchDataInfoPromise","fetchDataInfoAbortController","lifeCycleAbortController","AbortController","extent","spatialReference","equals","layerView","error","_get","clone","_set","updating","mode","featureTiles","updatingTotal","updatingRemaining","expectedFeatureDiff","memoryForUnusedFeatures","maximumNumberOfFeaturesExceeded","maximumNumberOfFeatures","_clearOverride","_override","hasMaximumNumberOfFeaturesOverride","_isOverridden","layer","infoFor3D","qualitySettings","graphics3D","snapshotAvailable","minScale","_approximateExtentSizeAtScale","width","height","MAX_SNAPSHOT_MIN_SCALE_FACTOR","maxTotalSnapshotVertices","totalVertices","Math","max","ceil","pixelSize","levels","tileSize","scale","tileDescriptors","tiles","initialize","vertexLimitInfo","addPromise","_updateVertexLimitExceeded","signal","_modeChanged","f","addResolvingPromise","Promise","resolve","then","_verifyCapabilities","_fetchServiceDataInfo","_initializeTileFetcher","get","_cancelFetchServiceDataInfo","tilesHandle","abort","suspend","resume","restart","refetch","y","w","context","features","resourceController","memoryController","events","on","memoryFactor","geometryType","g","lodFactor","createQueryVersion","_dataFilterChanged","availableFields","_availableFieldsChanged","requiredFields","_requiredFieldsChanged","_applyEdits","watch","useTileCount","x","b","debugger","C","toTileInfo","supportsExceedsLimitQuery","catch","addClient","warn","notifyChange","u","applyEdits","deletedFeatures","updatedFeatures","addedFeatures","_updateServiceDataExtent","m","N","_createVertexLimitExceededQuery","createQuery","outStatistics","E","statisticType","maxVertexCount","outStatisticFieldName","maxPointCount","maxRecordCount","capabilities","query","supportsCacheHint","cacheHint","_createDataInfoQuery","outSpatialReference","_fullExtentIsAccurate","definitionExpression","_","url","_tryUpdateServiceDataExtent","fullExtentInLocalViewSpatialReference","supportsExtent","fullExtent","MAX_FEATURE_COUNT_FOR_EXTENT","queryExtent","timeout","QUERY_EXTENT_TIMEOUT","portalItem","T","queryFeatureCount","QUERY_STATISTICS_TIMEOUT","ok","value","averageSymbolComplexity","maximumTotalNumberOfPrimitives","primitivesPerCoordinate","primitivesPerFeature","operations","supportsExceedsLimitStatistics","minimumNumberOfVerticesForGeometry","p","min","A","queryFeatures","attributes","exceedslimit","_updateServiceDataCount","debug","storedFeatures","totalFeatures","F","readOnly","prototype","constructOnly","Number","dependsOn","v","reset","minX","minY","maxX","maxY","_indexInvalid","_boundsToLoad","_boundsById","_idByBounds","_index","_loadIndex","Array","load","forEachInBounds","search","invalidateIndex","geometryInfo","_boundsStore","_featuresById","_markedIds","Set","featureAdapter","hasM","hasZ","numFeatures","fullBounds","objectId","storeStatistics","coords","featureCount","vertexCount","_add","_emitChanged","removeById","_remove","removeManyById","forEachBounds","getFeature","startMarkingUsedFeatures","sweep","emit","feature","displayId","onFeatureAdd","onFeatureRemove","W","U","filterVisibility","filterChanged","dirty","preferredUpdatePolicy","dataExtent","_renderGeometries","_material","V","_materialWithField","isAttributeDriven","_fieldTotal","_memoryFactor","_featureStore","P","colorBufferFloat","textureFloat","_renderView","floatBufferBlendWorking","renderingContext","driverTest","floatBlend","owner","updatingHandles","addOnCollectionChange","_loadedPointGraphics","_onLoadedFeaturesChange","addWhen","_materialParameters","_forEachMaterial","setParameters","_heatmapRendererField","_recreate","fieldName","_heatmapRendererFieldName","numeric","_heatmapRendererFieldIsNumeric","field","title","name","_overlayRenderer","removeGeometries","from","values","featureStore","suspendInfo","legendEnabled","heatmap","maxTotalNumberOfFeatures","minimumTotalNumberOfFeatures","maximumTotalNumberOfFeatures","scaleVisibilitySuspended","usedMemory","usedMemoryPerFeature","R32F","overlays","resolution","_densityMapPixelRatio","_heatmapRenderer","blurRadius","unprocessedMemoryEstimate","performanceInfo","core","visible","missing","pending","elevationUpdating","visibilityFrustum","visibilityScale","basemapTerrain","overlayManager","renderer","_overlaySpatialReference","_blurRadiusParameters","_densityParameters","colorRampData","_colorRampData","pixelRatio","minDensity","minPixelIntensity","maxDensity","maxPixelIntensity","fieldTotal","referenceScale","searchRadius","_clampSearchRadius","resolutionForScale","colorStops","sqrt","_stage","renderView","_featuresArePoints","fieldsIndex","computeAttachmentOrigin","highlight","maskOccludee","setObjectIdVisibility","objectIdField","removed","added","G","j","centroid","_computeFieldTotalChange","uid","_pointGraphicToRenderGeometry","addGeometries","requestRender","toArray","M","H","data","I","layerUid","graphicUid","R","boundingSphere","reduce","warnOnce","arguments","controller","updatePolicy","suspendResumeExtentMode","slicePlaneEnabled","drapeSourceType","suspendResumeExtent","_controllerCreated","clippingExtent","supportsHeightUnitConversion","pendingController","queryEngine","isTable","reject","_validateGeometryType","_recreateProcessor","_initializeController","processor","priority","_destroyPendingController","canResume","graphics3DProcessor","heatmapProcessor","getGraphicFromGraphicUid","whenGraphicBounds","executeQuery","_ensureQuery","queryObjectIds","executeQueryForIds","executeQueryForCount","executeQueryForExtent","getSuspendInfo","isUpdating","destroyed","ready","createController","when","_setControllerWhenInitialized","isResolved","beforeSetController","_updateClippingExtent","frustumVisibilityEnabled","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","updateClippingExtent","setup","_getResourceInfo","displayedNumberOfFeatures","totalNumberOfFeatures","nodes","Boolean","highestResolutionVersion","versions","ref","isReferenced","isSingle","refCount","oldVersion","Object","defineProperty","configurable","newVersion","unref","_recalculateHighestResolutionVersion","_feature","fetchStatus","FETCH_NEEDED","_features","_numVertices","_featureLimit","featuresMissing","_shuffled","_numFeatures","_emptyFeatureRatio","_estimatedSize","_estimatedUnusedSize","_estimatedUnusedSizeDirty","_availableFields","_displayingFeatures","alive","filtered","displayingFeatures","extentIncludingBorrowedFeatures","perTileMaximumNumberOfFeaturesExceeded","featureLimit","setFeatures","emptyFeatureRatio","hasPreciseFeatureCount","needsFeatureCount","numVertices","estimatedSize","updateMemoryEstimates","estimatedUnusedSize","FETCHING","REFETCHING","isRefetching","needsFetching","REFETCH_NEEDED","needsRefetching","isFetched","DONE","FULL","resetFetching","needsDisplayUpdate","intersects","intersectionIncludingBorrowed","_shuffle","sort","reduceFeatures","cache","requestController","_useTileCount","maximumNumberOfFeaturesExceededThrottle","_fullRatio","_farRatio","changes","updates","adds","removes","_frameTask","_dirty","displayingFeatureReferences","numDisplayingFeatureReferences","pendingEdits","_maximumFeaturesUpdated","_setDirty","supportsResolution","_reclip","FeatureReferenceClass","supportsMultipleResolutions","scheduler","registerTask","_cancelFetchTile","_removeTile","paused","_clearTile","_resetFetchTile","memoryCache","_pause","_unpause","_updated","edits","count","result","_applyEditsDeleteFeatures","_applyEditsAddUpdateFeatures","globalIdField","globalId","errorOncePerTick","find","_invalidateCounts","_applyEditsAddUpdateTile","_createQuery","resultType","objectIds","_queryFeatures","slice","fields","queryFeaturesDehydrated","B","running","runTask","processQueue","constructed","_getListOfTiles","_markTilesNotAlive","run","_addTiles","_filterExtentTiles","_removeTiles","done","_sortTiles","_displayTiles","_fetchTiles","_updateMemoryEstimates","_updateMaximumNumberOfFeaturesExceeded","_addTile","madeProgress","hasProgressed","pop","loadPriority","_updateRatio","_showTile","_scheduleUpdated","_needsNumFeatures","_fetchTileCount","_handleRequest","_fetchTile","logFetchError","some","z","_refreshDisplayingFeatures","_applyChanges","_maximumFeaturesForTile","q","_referenceDisplayingFeaturesFromRelatedTiles","_fetchCount","_getMaxRecordCount","supportsMaxRecordCountFactor","_fetchPagedTile","maxRecordCountFactor","exceededTransferLimit","schedule","_removeEmptyFeatures","Q","_createFeatureCountQuery","_setPagingParameters","num","concat","_setResolutionParams","_useTileQuery","supportsPagination","start","_getEffectiveTileResolution","viewingMode","resolutionAtLevel","supportsQuantization","quantizationParameters","originPosition","tolerance","maxAllowableOffset","tileMaxRecordCount","supportsResultType","k","_hideTileFeatures","_hideTile","console","put","process","supportsQuantizationEditMode","supportsFormatPBF","state","isLocal"],"sourceRoot":""}