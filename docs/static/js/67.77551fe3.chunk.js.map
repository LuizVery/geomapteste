{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileIndex.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/debugging.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/SchemaHelper.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/sources/shaderRepository.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/sources/resolver.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/Programs.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/shaders/VTLMaterialManager.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobsUtil.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler3D.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VTLPainter3D.js","../node_modules/@arcgis/core/views/3d/layers/VectorTileLayerView3D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js","../node_modules/@arcgis/core/views/2d/engine/webgl/enums.js","../node_modules/@arcgis/core/views/2d/engine/webgl/number.js","../node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js","../node_modules/@arcgis/core/views/2d/engine/webgl/SymbolProperties.js","../node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/color.js","../node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js","../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/meshUtils.js","../node_modules/@arcgis/core/layers/support/TilemapCache.js","../node_modules/@arcgis/core/layers/support/Tilemap.js"],"names":["r","e","t","this","_tilemapCache","Error","_tilemap","index","i","level","o","row","a","col","s","l","fetchAvailabilityUpsample","then","world","catch","_getIndexedDataKey","_callback","_maxLevel","_forEach","Promise","resolve","push","pop","length","n","fillStyle","fillRect","strokeStyle","strokeRect","window","COLLISION_XRAY","unique","show","colliders","enabled","d","parts","partIndex","xScreen","c","yScreen","m","dxScreen","h","dyScreen","globalAlpha","width","height","PERFORMANCE_RECORDING_STORAGE","perf","start","time","min","max","samples","unit","iconRotationAlignment","textRotationAlignment","iconTranslate","iconTranslateAnchor","textTranslate","u","textTranslateAnchor","y","x","g","minLod","maxLod","xTile","yTile","dxPixels","dyPixels","_symbols","_styleRepository","_zoom","_currentLayerCursor","_currentSymbolCursor","_styleProps","Map","_allNeededMatrices","_gridIndex","_si","Math","sin","PI","_co","cos","symbols","has","tile","set","transforms","tileUnitsToPixels","f","getCellSpan","cells","performance","now","_getProperties","styleLayerUID","get","iconAllowOverlap","iconIgnorePlacement","textAllowOverlap","textIgnorePlacement","hard","getStyleLayerByUID","getLayoutValue","getPaintValue","priority","key","_visibleTiles","_symbolRepository","_createCollisionJob","_assignTileSymbolsOpacity","_symbolLayerSorter","_isLayerVisible","_selectionJob","_selectionJobCompleted","_collisionJob","_collisionJobCompleted","_opacityJob","_opacityJobCompleted","_running","_screenWidth","_screenHeight","restart","_createSelectionJob","work","sortedSymbols","_createOpacityJob","uniqueSymbols","tileSymbols","selectedForRendering","isCoverage","neededForCoverage","sort","childrenTiles","parentTile","targetOpacity","startOpacity","startTime","tileCoordRange","_createUnique","_tiles","_uniqueSymbolsReferences","_uniqueSymbolLayerArray","_createUniqueSymbolLayerArray","id","delete","layerData","_removeSymbols","flat","getCell","_addSymbols","size","equals","_matchSymbols","Set","add","symbol","xTransformed","yTransformed","hash","abs","Array","lockedSchemaPixelSize","isGCS","spatialReference","isGeographic","lods","resolution","scale","dpi","format","compressionQuality","origin","_width","_height","_free","w","splice","release","_dirties","_glyphData","_currentPage","_glyphIndex","_textures","_rangePromises","_glyphSource","_binPack","Uint8Array","floor","forEach","getRange","all","sdf","rect","metrics","page","code","getGlyph","allocate","isEmpty","bitmap","p","tileIDs","pixelFormat","dataType","setSamplingMode","setData","bindTexture","dispose","_metrics","_bitmaps","next","tag","getMessage","getUInt32","getBytes","getSInt32","skip","left","top","advance","_ranges","_glyphInfo","_baseURL","_getFontStack","replace","responseType","addRange","data","DataView","getMetrics","getBitmap","_size","_mosaicsData","_maxItemSize","_pageWidth","_pageHeight","_mosaicRects","pixelRatio","console","error","devicePixelRatio","Uint32Array","_sprites","loadStatus","startsWith","_rasterizeDash","getSpriteInfo","_allocateImage","_","_copy","simplePattern","name","getSpriteItem","repeat","tl","br","wrapMode","buffer","image","_copyBits","match","split","map","Number","slice","lastIndexOf","rasterizeDash","_vectorTileLayer","_spriteMosaic","_glyphMosaic","_connection","close","_spriteSourcePromise","sourceNameToSource","_fetchTileMap","loadSpriteSource","setSpriteSource","glyphs","_broadcastPromise","client","schedule","signal","broadcast","style","currentStyleInfo","vectorTileLayerMaxBuffers","_getRefKeys","_getSourcesData","sourceName2DataAndRefKey","transferList","Object","keys","getAvailableClient","invoke","styleLayerUIDs","tileData","getSpriteItems","getGlyphItems","font","codePoints","milliseconds","pool","acquire","getSourceTileUrl","request","protobuff","sourceName","capabilities","operations","supportsTileMap","tileIndex","tileMapURL","put","getRefKey","value","_getTilePayload","byteLength","refKey","background","circle","fill","icon","line","outline","text","util","resolveIncludes","ID","PATTERN","pattern","shaders","vertexShader","fragmentShader","SDF","b","_programByKey","clear","_getMaterialOptionsValue","type","_getProgramTemplate","getShaderHeader","getShaderMain","getAttributeLocations","styleRepository","getLayoutProperty","getValue","setScreenSize","continue","_memCache","_loader","_ongoingTileRequests","_ongoingRequestToController","abort","retain","_getVectorTileData","T","tileInfo","getTileBounds","memoryUsage","referenced","AbortController","_getParsedVectorTileData","fetchTileData","parseTileData","spriteMosaic","glyphMosaic","_brushCache","_vtlMaterialManager","context","layers","backgroundBucketIds","renderPass","_renderStyleLayer","getLayerById","setBlendingEnabled","setDepthTestEnabled","setDepthWriteEnabled","setDepthFunction","setBlendFunctionSeparate","bindVAO","uid","displayLevel","minzoom","maxzoom","styleLayer","drawWithBrush","drawMany","force512VTL","layer","compatibleTileInfo256","_getTileInfoSupportError","fullExtent","addResolvingPromise","reject","view","basemapTerrain","tilingScheme","pixelSize","schemaHelper","compatibleTileInfo512","_getTileInfoCompatibilityError","_set","_tileHandlerController","resourceController","memoryController","getMemCache","spriteUrl","glyphsUrl","H","mapTileRequester","_tileHandler","v","C","painter","j","updatingHandles","addPromise","emit","destroy","I","levelRangeFromScaleRange","minLevel","getVectorTile","aliasOf","prototype","k","z","A","B","D","E","F","G","J","K","N","O","P","Q","S","U","V","W","Y","Z","$","et","L","FILL","LINE","MARKER","TEXT","LABEL","SUCCEEDED","FAILED_OUT_OF_MEMORY","NONE","MAP","LABEL_ALPHA","HITTEST","HIGHLIGHT","CLIP","DEBUG","NUM_DRAW_PHASES","SIZE","COLOR","OPACITY","ROTATION","SIZE_MINMAX_VALUE","SIZE_SCALE_STOPS","SIZE_FIELD_STOPS","SIZE_UNIT_VALUE","MINMAX_TARGETS_OUTLINE","SCALE_TARGETS_OUTLINE","FIELD_TARGETS_OUTLINE","UNIT_TARGETS_OUTLINE","SPRITE","GLYPH","Float32Array","M","from","load","geometryType","_data","bits","setBits","bit","setBit","mapAligned","textureBinding","shared","vvSizeMinMaxValue","vvSizeScaleStops","vvSizeFieldStops","vvSizeUnitValue","R","vvRotation","vvColor","vvOpacity","dotDensity","setVV","color","haloColor","haloSize","angle","offsetX","offsetY","hAnchor","vAnchor","getLogger","strideInBytes","divisor","X","stride","vertexCount","vertexFrom","indexCount","indexFrom","q","buffers","Uint16Array","location","ee","te","normalized","offset","count","strides","bufferLayouts","attributes","re","isArray","_allAvailability","byteSize","_tileAvailabilityBitSet","ceil","service","query","url","tileServers","details","httpStatus","valid","response","definition","fromJSON","validateJSON","freeze","_updateFromData","_handles","_pendingTilemapRequests","_availableLevels","levels","cacheByteSize","_prefetchingEnabled","watch","_initializeTilemapDefinition","_initializeAvailableLevels","_tmpTilemapDefinition","_tilemapFromCache","fromDefinition","getAvailability","updateTileInfo","upsampleTile","fetchTilemap","fetchAvailability","_fetchAvailabilityUpsamplePrefetch","remove","_prefetches","removeUnordered","_maxPrefetch","parsedUrl","path","prefetchingEnabled","hasTilemap","initialSize","constructOnly","readOnly"],"mappings":"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","file":"static/js/67.77551fe3.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isAbortError as e}from\"../../../../core/promiseUtils.js\";import{TilemapCache as t}from\"../../../../layers/support/TilemapCache.js\";import l from\"../../tiling/TileKey.js\";class r{constructor(e){if(e instanceof t)this._tilemapCache=e;else{if(!e||!(\"index\"in e))throw new Error(\"Invalid tilemap!\");this._tilemap=e.index}}dataKey(t,r){if(this._tilemapCache){const{level:i,row:o,col:a}=t,s=new l(t);return this._tilemapCache.fetchAvailabilityUpsample(i,o,a,s,r).then((()=>(s.world=t.world,s))).catch((t=>{if(e(t))throw t;return null}))}return this._getIndexedDataKey(t)}forEach(e,t,l,r,i){this._callback=i,this._maxLevel=t+e,this._forEach(this._tilemap,t,l,r)}_forEach(e,t,l,r){0!==e&&(this._callback(t,l,r),t!==this._maxLevel&&\"object\"==typeof e&&(this._forEach(e[0],t+1,2*l,2*r),this._forEach(e[1],t+1,2*l,2*r+1),this._forEach(e[2],t+1,2*l+1,2*r),this._forEach(e[3],t+1,2*l+1,2*r+1)))}_getIndexedDataKey(e){const t=[e];if(e.level<0||e.row<0||e.col<0||e.row>>e.level>0||e.col>>e.level>0)return Promise.resolve(null);let r=e;for(;0!==r.level;)r=new l(r.level-1,r.row>>1,r.col>>1,r.world),t.push(r);let i,o,a=this._tilemap,s=t.pop();if(1===a)return Promise.resolve(s);for(;t.length;)if(i=t.pop(),o=(1&i.col)+((1&i.row)<<1),a){if(0===a[o]){s=null;break}if(1===a[o]){s=i;break}s=i,a=a[o]}return Promise.resolve(s)}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction t(t,e,n,o,l,i){t.fillStyle=e,t.fillRect(n,o,l,i)}function e(t,e,n,o,l,i){t.strokeStyle=e,t.strokeRect(n,o,l,i)}function n(t,e){t.strokeStyle=\"black\";const n=e.cellSize,o=e.rows,l=e.columns;for(let i=0;i<o;i++){const o=e.cells[i],r=i*n,s=(i+1)*n;for(let e=0;e<l;e++){const l=o[e],i=e*n,d=(e+1)*n;t.strokeRect(i,r,d-i,s-r),t.fillText(`cells:${l.length}`,i+4,r+12)}}}function o(n,o){const l=window.COLLISION_XRAY;for(let i=0;i<o.length;++i){const r=!o[i].unique.show;if(l||!r)for(const s of o[i].colliders){if(!s.enabled)continue;const d=!o[i].unique.parts[s.partIndex].show;if(!l&&d)continue;const a=s.xScreen,c=s.yScreen,m=s.dxScreen,h=s.dyScreen;n.globalAlpha=r||d?.2:1,t(n,\"green\",a-1,c-1,3,3),e(n,\"red\",a+m,c+h,s.width,s.height),t(n,\"blue\",a+m-1,c+h-1,3,3),n.globalAlpha=1}}}function l(t,e,n){if(!window.PERFORMANCE_RECORDING_STORAGE)return;const o=window.PERFORMANCE_RECORDING_STORAGE;o.perf=o.perf||{};const l=o.perf;l[t]=l[t]||{start:null,time:0,min:void 0,max:void 0,samples:[],unit:n},l[t].time+=e,l[t].samples.push(e),(null==l[t].min||e<l[t].min)&&(l[t].min=e),(null==l[t].max||e>l[t].max)&&(l[t].max=e)}function i(){if(!window.PERFORMANCE_RECORDING_STORAGE)return;window.PERFORMANCE_RECORDING_STORAGE.perf={}}function r(t,e){return`${Math.round(10*t)/10}${e}`}function s(t){if(!window.PERFORMANCE_RECORDING_STORAGE){const t=document.createElement(\"div\");return t.innerHTML=\"No recorded data is present because performance recording is disabled.\",t}const e=document.createElement(\"div\");let n=\"\";const o=window.PERFORMANCE_RECORDING_STORAGE.perf,l=50;n+='<table style=\"border-collapse: collapse;\">',n+=`<tr style=\"text-weight: bold; border-bottom: 1px solid \"${t}\";\"><td>Name</td><td>Total</td><td>Runs</td><td>Average</td><td>Min</td><td>Distribution</td><td>Max</td><td>Histogram (${l} bins)</td></tr>`;const i=[];for(const r in o)i.push({name:r,value:o[r].time/o[r].samples.length,sortkey:o[r].max});i.sort(((t,e)=>-(t.sortkey-e.sortkey)));const s=i.map((t=>t.name));for(const m of s)n+=\"<tr>\",n+=`<td>${m}</td>`,n+=`<td>${r(o[m].time,o[m].unit)}</td>`,n+=`<td>${o[m].samples.length}</td>`,n+=`<td>${r(o[m].time/o[m].samples.length,o[m].unit)}</td>`,n+=`<td style=\"text-align: right;\">${r(o[m].min,o[m].unit)}</td>`,n+=\"<td data-distribution='1'></td>\",n+=`<td>${r(o[m].max,o[m].unit)}</td>`,n+=\"<td data-histogram='1'></td>\",n+=\"</tr>\";n+=\"<table>\",e.innerHTML=n;const d=e.querySelectorAll(\"td[data-distribution='1']\"),a=e.querySelectorAll(\"td[data-histogram='1']\");for(let r=0;r<d.length;r++){let e=d[r];{const n=document.createElement(\"canvas\");n.height=10,n.width=100;const l=n.getContext(\"2d\");if(l.strokeStyle=t,l.beginPath(),l.moveTo(0,5),l.lineTo(100,5),o[s[r]].max>o[s[r]].min+.001)for(const t of o[s[r]].samples){const e=(t-o[s[r]].min)/(o[s[r]].max-o[s[r]].min);l.moveTo(100*e,3),l.lineTo(100*e,7)}l.stroke(),l.strokeRect((i[r].value-o[s[r]].min)/(o[s[r]].max-o[s[r]].min)*100-2,0,4,9),e.appendChild(n)}e=a[r];{const n=new Array(l);for(let t=0;t<n.length;t++)n[t]=0;for(const t of o[s[r]].samples){const e=(t-o[s[r]].min)/(o[s[r]].max-o[s[r]].min);n[1===e?n.length-1:Math.floor(e*n.length)]++}const i=document.createElement(\"canvas\");i.height=30,i.width=120;const d=i.getContext(\"2d\");d.strokeStyle=t,d.fillStyle=t;let a=0;for(let t=0;t<n.length;t++){const e=n[t];a=Math.max(a,e)}for(let t=0;t<n.length;t++){const e=n[t];d.fillRect(t*i.width/n.length,i.height*(1-e/a),i.width/n.length,i.height*(e/a))}d.beginPath(),d.moveTo(0,i.height),d.lineTo(i.width,i.height),d.stroke(),e.appendChild(i)}}const c=e.querySelectorAll(\"td\");for(let r=0;r<c.length;r++)c[r].style.padding=\"5px\";return e}export{o as drawColliders,n as drawGridIndex,l as perfAdd,i as perfClear,s as perfElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../../chunks/mat3f32.js\";import{COLLISION_GRID_CELL_SIZE as t}from\"./config.js\";import{GridIndex as n}from\"./util.js\";function o(e,t,n,o,r,s){const{iconRotationAlignment:i,textRotationAlignment:l,iconTranslate:a,iconTranslateAnchor:c,textTranslate:h,textTranslateAnchor:u}=o;let d=0;for(const y of e.colliders){const[e,o]=0===y.partIndex?a:h,x=0===y.partIndex?c:u,g=y.minLod<=s&&s<=y.maxLod;d+=g?0:1,y.enabled=g,y.xScreen=y.xTile*r[0]+y.yTile*r[3]+r[6],y.yScreen=y.xTile*r[1]+y.yTile*r[4]+r[7],0===x?(y.xScreen+=n*e-t*o,y.yScreen+=t*e+n*o):(y.xScreen+=e,y.yScreen+=o),1===(0===y.partIndex?i:l)?(y.dxScreen=y.dxPixels,y.dyScreen=y.dyPixels):(y.dxScreen=n*(y.dxPixels+y.width/2)-t*(y.dyPixels+y.height/2)-y.width/2,y.dyScreen=t*(y.dxPixels+y.width/2)+n*(y.dyPixels+y.height/2)-y.height/2)}e.colliders.length>0&&d===e.colliders.length&&(e.unique.show=!1)}class r{constructor(o,r,s,i,l,a){this._symbols=o,this._styleRepository=i,this._zoom=l,this._currentLayerCursor=0,this._currentSymbolCursor=0,this._styleProps=new Map,this._allNeededMatrices=new Map,this._gridIndex=new n(r,s,t),this._si=Math.sin(Math.PI*a/180),this._co=Math.cos(Math.PI*a/180);for(const t of o)for(const n of t.symbols)this._allNeededMatrices.has(n.tile)||this._allNeededMatrices.set(n.tile,e(n.tile.transforms.tileUnitsToPixels))}work(e){const t=this._gridIndex;function n(e){const n=e.xScreen+e.dxScreen,o=e.yScreen+e.dyScreen,r=n+e.width,s=o+e.height,[i,l,a,c]=t.getCellSpan(n,o,r,s);for(let h=l;h<=c;h++)for(let e=i;e<=a;e++){const i=t.cells[h][e];for(const e of i){const t=e.xScreen+e.dxScreen,i=e.yScreen+e.dyScreen,l=t+e.width,a=i+e.height;if(!(r<t||n>l||s<i||o>a))return!0}}return!1}const r=performance.now();for(;this._currentLayerCursor<this._symbols.length;this._currentLayerCursor++,this._currentSymbolCursor=0){const t=this._symbols[this._currentLayerCursor],s=this._getProperties(t.styleLayerUID);for(;this._currentSymbolCursor<t.symbols.length;this._currentSymbolCursor++){if(this._currentSymbolCursor%100==99&&performance.now()-r>e)return!1;const i=t.symbols[this._currentSymbolCursor];if(!i.unique.show)continue;o(i,this._si,this._co,s,this._allNeededMatrices.get(i.tile),this._zoom);const l=i.unique;if(!l.show)continue;const{iconAllowOverlap:a,iconIgnorePlacement:c,textAllowOverlap:h,textIgnorePlacement:u}=s;for(const e of i.colliders){if(!e.enabled)continue;const t=l.parts[e.partIndex];if(!t.show)continue;!(e.partIndex?h:a)&&n(e)&&(e.hard?l.show=!1:t.show=!1)}if(l.show)for(const e of i.colliders){if(!e.enabled)continue;if(e.partIndex?u:c)continue;if(!l.parts[e.partIndex].show)continue;const t=e.xScreen+e.dxScreen,n=e.yScreen+e.dyScreen,o=t+e.width,r=n+e.height,[s,i,a,h]=this._gridIndex.getCellSpan(t,n,o,r);for(let l=i;l<=h;l++)for(let t=s;t<=a;t++){this._gridIndex.cells[l][t].push(e)}}}}return!0}_getProperties(e){const t=this._styleProps.get(e);if(t)return t;const n=this._zoom,o=this._styleRepository.getStyleLayerByUID(e),r=0!==o.getLayoutValue(\"symbol-placement\",n);let s=o.getLayoutValue(\"icon-rotation-alignment\",n);2===s&&(s=r?0:1);let i=o.getLayoutValue(\"text-rotation-alignment\",n);2===i&&(i=r?0:1);const l=o.getPaintValue(\"icon-translate\",n),a=o.getPaintValue(\"icon-translate-anchor\",n),c=o.getPaintValue(\"text-translate\",n),h=o.getPaintValue(\"text-translate-anchor\",n),u={iconAllowOverlap:o.getLayoutValue(\"icon-allow-overlap\",n),iconIgnorePlacement:o.getLayoutValue(\"icon-ignore-placement\",n),textAllowOverlap:o.getLayoutValue(\"text-allow-overlap\",n),textIgnorePlacement:o.getLayoutValue(\"text-ignore-placement\",n),iconRotationAlignment:s,textRotationAlignment:i,iconTranslateAnchor:a,iconTranslate:l,textTranslateAnchor:h,textTranslate:c};return this._styleProps.set(e,u),u}}export{r as CollisionJob};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/maybe.js\";import{FADE_DURATION as e}from\"./config.js\";function t(o,e){if(o.priority-e.priority)return o.priority-e.priority;const t=o.tile.key,i=e.tile.key;return t.world-i.world?t.world-i.world:t.level-i.level?t.level-i.level:t.row-i.row?t.row-i.row:t.col-i.col?t.col-i.col:o.xTile-e.xTile?o.xTile-e.xTile:o.yTile-e.yTile}class i{constructor(o,e,t,i,s,r){this._visibleTiles=o,this._symbolRepository=e,this._createCollisionJob=t,this._assignTileSymbolsOpacity=i,this._symbolLayerSorter=s,this._isLayerVisible=r,this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}get running(){return this._running}setScreenSize(o,e){this._screenWidth===o&&this._screenHeight===e||this.restart(),this._screenWidth=o,this._screenHeight=e}restart(){this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}continue(o){if(this._selectionJob||(this._selectionJob=this._createSelectionJob()),!this._selectionJobCompleted){const e=performance.now();if(!this._selectionJob.work(o))return!1;if(this._selectionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._collisionJob||(this._collisionJob=this._createCollisionJob(this._selectionJob.sortedSymbols,this._screenWidth,this._screenHeight)),!this._collisionJobCompleted){const e=performance.now();if(!this._collisionJob.work(o))return!1;if(this._collisionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._opacityJob||(this._opacityJob=this._createOpacityJob()),!this._opacityJobCompleted){const e=performance.now();if(!this._opacityJob.work(o))return!1;if(this._opacityJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}return this._running=!1,!0}_createSelectionJob(){const o=this._symbolRepository.uniqueSymbols;for(let t=0;t<o.length;t++){const e=o[t];for(let o=0;o<e.uniqueSymbols.length;o++){const t=e.uniqueSymbols[o];for(const o of t.tileSymbols)o.selectedForRendering=!1}}const e=[];let i=0,s=0;const r=this._isLayerVisible;function n(n){let l;const c=performance.now();for(;s<o.length;s++,i=0){const t=o[s],h=t.styleLayerUID;if(!r(h)){e[s]||(e[s]={styleLayerUID:h,symbols:[]});continue}e[s]=e[s]||{styleLayerUID:h,symbols:[]};const a=e[s];for(;i<t.uniqueSymbols.length;i++){if(l=t.uniqueSymbols[i],i%100==99&&performance.now()-c>n)return!1;let o=null,e=!1,s=!1;for(const t of l.tileSymbols)if(!s||!e){const i=t.tile;(!o||i.isCoverage||i.neededForCoverage&&!e)&&(o=t,(i.neededForCoverage||i.isCoverage)&&(s=!0),i.isCoverage&&(e=!0))}if(o.selectedForRendering=!0,s){a.symbols.push(o),l.show=!0;for(const o of l.parts)o.show=!0}else l.show=!1}}for(const o of e)o.symbols.sort(t);return!0}const l=this._symbolLayerSorter;return{work:n,get sortedSymbols(){return e.sort(l)}}}_createOpacityJob(){const e=this._assignTileSymbolsOpacity,t=this._visibleTiles;let i=0;function r(o,t){const i=o.symbols;for(const[e,r]of i)s(r,t);e(o,t);for(const e of o.childrenTiles)r(e,t)}return{work(e){const s=performance.now();for(;i<t.length;i++){if(performance.now()-s>e)return!1;const n=t[i];if(o(n.parentTile))continue;r(n,performance.now())}return!0}}}}function s(o,t){for(const i of o){const o=i.unique;for(const i of o.parts){const s=i.targetOpacity>.5?1:-1;i.startOpacity+=s*((t-i.startTime)/e),i.startOpacity=Math.min(Math.max(i.startOpacity,0),1),i.startTime=t,i.targetOpacity=o.show&&i.show?1:0}}}export{i as SymbolDeclutterer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as s}from\"../../../../../core/maybe.js\";import{GridIndex as o,tileCoordChange as t}from\"./util.js\";const l=32,i=8,n=64;class r{constructor(e,s,o){this.tileCoordRange=e,this._visibleTiles=s,this._createUnique=o,this._tiles=new Map,this._uniqueSymbolsReferences=new Map}get uniqueSymbols(){return e(this._uniqueSymbolLayerArray)&&(this._uniqueSymbolLayerArray=this._createUniqueSymbolLayerArray()),this._uniqueSymbolLayerArray}add(e,s){this._uniqueSymbolLayerArray=null;let t=this._tiles.get(e.id);t||(t={symbols:new Map},this._tiles.set(e.id,t));const r=new Map;if(s)for(const o of s)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));else for(const[o,l]of e.layerData)t.symbols.has(o)&&(r.set(o,t.symbols.get(o)),t.symbols.delete(o));this._removeSymbols(r);const y=e.symbols,a=new Map;for(const[f,c]of y){let e=c.length;if(e>=l){let s=this.tileCoordRange;do{s/=2,e/=4}while(e>i&&s>n);const l=new o(this.tileCoordRange,this.tileCoordRange,s);a.set(f,{flat:c,index:l}),t.symbols.set(f,{flat:c,index:l});for(const e of c)l.getCell(e.xTile,e.yTile).push(e)}else a.set(f,{flat:c}),t.symbols.set(f,{flat:c})}this._addSymbols(e.key,y)}deleteStyleLayers(e){this._uniqueSymbolLayerArray=null;for(const[s,o]of this._tiles){const t=new Map;for(const s of e)o.symbols.has(s)&&(t.set(s,o.symbols.get(s)),o.symbols.delete(s));this._removeSymbols(t),0===o.symbols.size&&this._tiles.delete(s)}}removeTile(e){this._uniqueSymbolLayerArray=null;const s=this._tiles.get(e.id);if(!s)return;const o=new Map;for(const[t,l]of e.symbols)s.symbols.has(t)&&(o.set(t,s.symbols.get(t)),s.symbols.delete(t));this._removeSymbols(o),0===s.symbols.size&&this._tiles.delete(e.id)}_removeSymbols(e){for(const[s,{flat:o}]of e)for(const e of o){const o=e.unique,t=o.tileSymbols,l=t.length-1;for(let s=0;s<l;s++)if(t[s]===e){t[s]=t[l];break}if(t.length=l,0===l){const e=this._uniqueSymbolsReferences.get(s);e.delete(o),0===e.size&&this._uniqueSymbolsReferences.delete(s)}e.unique=null}}_addSymbols(s,o){if(0===o.size)return;const t=this._visibleTiles;for(const e of t)e.parentTile||e.key.world!==s.world||e.key.level===s.level&&!e.key.equals(s)||this._matchSymbols(e,s,o);for(const[l,i]of o)for(const s of i)if(e(s.unique)){const e=this._createUnique();s.unique=e,e.tileSymbols.push(s);let o=this._uniqueSymbolsReferences.get(l);o||(o=new Set,this._uniqueSymbolsReferences.set(l,o)),o.add(e)}}_matchSymbols(e,o,l){if(e.key.level>o.level){const s=e.key.level-o.level;if(e.key.row>>s!==o.row||e.key.col>>s!==o.col)return}if(o.level>e.key.level){const s=o.level-e.key.level;if(o.row>>s!==e.key.row||o.col>>s!==e.key.col)return}if(o.equals(e.key)){for(const s of e.childrenTiles)this._matchSymbols(s,o,l);return}const i=new Map;for(const[n,r]of l){const l=[];for(const s of r){const i=t(this.tileCoordRange,s.xTile,o.level,o.col,e.key.level,e.key.col),n=t(this.tileCoordRange,s.yTile,o.level,o.row,e.key.level,e.key.row);i>=0&&i<this.tileCoordRange&&n>=0&&n<this.tileCoordRange&&l.push({symbol:s,xTransformed:i,yTransformed:n})}const y=[],a=e.key.level<o.level?1:1<<e.key.level-o.level,f=this._tiles.get(e.id).symbols.get(n);if(f){const e=f.flat;for(const o of l){let t,l=!1;const i=o.xTransformed,n=o.yTransformed;t=s(f.index)?f.index.getCell(i,n):e;const r=o.symbol,c=r.hash;for(const e of t)if(c===e.hash&&Math.abs(i-e.xTile)<=a&&Math.abs(n-e.yTile)<=a){const s=e.unique;r.unique=s,s.tileSymbols.push(r),l=!0;break}l||y.push(r)}}y.length>0&&i.set(n,y)}for(const s of e.childrenTiles)this._matchSymbols(s,o,i)}_createUniqueSymbolLayerArray(){const e=this._uniqueSymbolsReferences,s=new Array(e.size);let o,t=0;for(const[l,i]of e){const e=new Array(i.size);o=0;for(const s of i)e[o++]=s;s[t]={styleLayerUID:l,uniqueSymbols:e},t++}return s}}export{r as SymbolRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../layers/support/LOD.js\";import i from\"../../../../layers/support/TileInfo.js\";class s{constructor(e,i){this.lockedSchemaPixelSize=e,this.isGCS=i}getLevelRowColumn(e){return this.isGCS?[e[0],e[1]>>1,e[2]>>1]:256===this.lockedSchemaPixelSize&&e[0]>0?[e[0]-1,e[1]>>1,e[2]>>1]:e}adjustLevel(e){return this.isGCS?e:256===this.lockedSchemaPixelSize?e>0?e-1:0:e}getShift(e,i){let s=0,t=0;return(256===this.lockedSchemaPixelSize||this.isGCS)&&(e[2]%2&&(s=i),e[1]%2&&(t=i)),[s,t]}getScale(e){if(this.isGCS){if(512===this.lockedSchemaPixelSize)return 4}else if(256===this.lockedSchemaPixelSize&&0===e)return 1;return 2}static create256x256CompatibleTileInfo(s){if(!s)return null;if(256===s.size[0]&&256===s.size[1])return s;const t=256,l=s.spatialReference.isGeographic,r=[],o=s.lods.length;for(let i=0;i<o;i++){const t=s.lods[i],o=l?t.resolution:2*t.resolution;r.push(new e({level:t.level,scale:t.scale,resolution:o}))}return new i({size:[t,t],dpi:s.dpi,format:s.format,compressionQuality:s.compressionQuality,origin:s.origin,spatialReference:s.spatialReference,lods:r})}static create512x512CompatibleTileInfo(s){if(!s)return null;if(256===s.size[0]||256===s.size[1])return null;const t=512,l=[],r=s.lods.length;for(let i=0;i<r;i++){const t=s.lods[i],r=.5*t.resolution;l.push(new e({level:t.level,scale:t.scale,resolution:r}))}return new i({size:[t,t],dpi:s.dpi,format:s.format,compressionQuality:s.compressionQuality,origin:s.origin,spatialReference:s.spatialReference,lods:l})}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport h from\"../webgl/Rect.js\";class e{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new h(0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new h;let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new h:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new h(i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new h(i.x,i.y+t,e,i.height-t))),new h(i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/checkWebGLError.js\";import\"../../../webgl/enums.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/renderState.js\";import t from\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";import e from\"./RectangleBinPack.js\";import i from\"../webgl/Rect.js\";class s{constructor(t,i,s){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=t,this.height=i,this._glyphSource=s,this._binPack=new e(t-4,i-4),this._glyphData.push(new Uint8Array(t*i)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(t,s){const h=[],r=this._glyphSource,n=new Set,o=1/256;for(const e of s){const t=Math.floor(e*o);n.add(t)}const a=[];return n.forEach((e=>{if(e<=256){const i=t+e;if(this._rangePromises.has(i))a.push(this._rangePromises.get(i));else{const s=r.getRange(t,e).then((()=>{this._rangePromises.delete(i)}),(()=>{this._rangePromises.delete(i)}));this._rangePromises.set(i,s),a.push(s)}}})),Promise.all(a).then((()=>{let n=this._glyphIndex[t];n||(n={},this._glyphIndex[t]=n);for(const o of s){const s=n[o];if(s){h[o]={sdf:!0,rect:s.rect,metrics:s.metrics,page:s.page,code:o};continue}const a=r.getGlyph(t,o);if(!a||!a.metrics)continue;const c=a.metrics;let l;if(0===c.width)l=new i(0,0,0,0);else{const t=3,i=c.width+2*t,s=c.height+2*t;let h=i%4?4-i%4:4,r=s%4?4-s%4:4;1===h&&(h=5),1===r&&(r=5),l=this._binPack.allocate(i+h,s+r),l.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new e(this.width-4,this.height-4),l=this._binPack.allocate(i+h,s+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,p;if(o)for(let e=0;e<s;e++){g=i*e,p=this.width*(l.y+e+1)+l.x;for(let t=0;t<i;t++)n[p+t+1]=o[g+t]}}n[o]={rect:l,metrics:c,tileIDs:null,page:this._currentPage},h[o]={sdf:!0,rect:l,metrics:c,page:this._currentPage,code:o},this._dirties[this._currentPage]=!0}return h}))}removeGlyphs(t){for(const e in this._glyphIndex){const i=this._glyphIndex[e];if(!i)continue;let s;for(const e in i)if(s=i[e],s.tileIDs.delete(t),0===s.tileIDs.size){const t=this._glyphData[s.page],h=s.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete i[e],this._dirties[s.page]=!0}}}bind(e,i,s,h=0){this._textures[s]||(this._textures[s]=new t(e,{pixelFormat:6406,dataType:5121,width:this.width,height:this.height},new Uint8Array(this.width*this.height)));const r=this._textures[s];r.setSamplingMode(i),this._dirties[s]&&r.setData(this._glyphData[s]),e.bindTexture(r,h),this._dirties[s]=!1}dispose(){this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../../request.js\";import e from\"../../../../core/pbf.js\";class s{constructor(t){if(this._metrics=[],this._bitmaps=[],t)for(;t.next();)switch(t.tag()){case 1:{const e=t.getMessage();for(;e.next();)switch(e.tag()){case 3:{const t=e.getMessage();let s,a,r,n,i,c,g;for(;t.next();)switch(t.tag()){case 1:s=t.getUInt32();break;case 2:a=t.getBytes();break;case 3:r=t.getUInt32();break;case 4:n=t.getUInt32();break;case 5:i=t.getSInt32();break;case 6:c=t.getSInt32();break;case 7:g=t.getUInt32();break;default:t.skip()}t.release(),s&&(this._metrics[s]={width:r,height:n,left:i,top:c,advance:g},this._bitmaps[s]=a);break}default:e.skip()}e.release();break}default:t.skip()}}getMetrics(t){return this._metrics[t]}getBitmap(t){return this._bitmaps[t]}}class a{constructor(){this._ranges=[]}getRange(t){return this._ranges[t]}addRange(t,e){this._ranges[t]=e}}class r{constructor(t){this._glyphInfo={},this._baseURL=t}getRange(a,r){const n=this._getFontStack(a);if(n.getRange(r))return Promise.resolve();const i=256*r,c=i+255,g=this._baseURL.replace(\"{fontstack}\",a).replace(\"{range}\",i+\"-\"+c);return t(g,{responseType:\"array-buffer\"}).then((t=>{n.addRange(r,new s(new e(new Uint8Array(t.data),new DataView(t.data))))})).catch((()=>{n.addRange(r,new s)}))}getGlyph(t,e){const s=this._getFontStack(t);if(!s)return;const a=Math.floor(e/256);if(a>256)return;const r=s.getRange(a);return r?{metrics:r.getMetrics(e),bitmap:r.getBitmap(e)}:void 0}_getFontStack(t){let e=this._glyphInfo[t];return e||(e=this._glyphInfo[t]=new a),e}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{SymbolHelper as t}from\"../../../../symbols/cim/CIMSymbolHelper.js\";import\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/checkWebGLError.js\";import\"../../../webgl/enums.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/renderState.js\";import i from\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";import e from\"./RectangleBinPack.js\";import s from\"../webgl/Rect.js\";const h=\"dasharray-\";class r{constructor(t,i,s=0){this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,(t<=0||i<=0)&&console.error(\"Sprites mosaic defaultWidth and defaultHeight must be greater than zero!\"),this._pageWidth=t,this._pageHeight=i,s>0&&(this._maxItemSize=s),this._binPack=new e(t-4,i-4)}dispose(){this._binPack=null,this._mosaicRects={};for(const t of this._textures)t&&t.dispose();this._textures.length=0}getWidth(t){return t>=this._size.length?-1:this._size[t][0]}getHeight(t){return t>=this._size.length?-1:this._size[t][1]}getPageSize(t){return t>=this._size.length?null:this._size[t]}setSpriteSource(t){if(this.dispose(),this.pixelRatio=t.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new e(this._pageWidth-4,this._pageHeight-4);const t=Math.floor(this._pageWidth),i=Math.floor(this._pageHeight),s=new Uint32Array(t*i);this._mosaicsData[0]=s,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=t}getSpriteItem(t,i=!1){let e,s,r=this._mosaicRects[t];if(r)return r;if(!this._sprites||\"loaded\"!==this._sprites.loadStatus)return null;if(t&&t.startsWith(h)?([e,s]=this._rasterizeDash(t),i=!0):e=this._sprites.getSpriteInfo(t),!e||!e.width||!e.height||e.width<0||e.height<0)return null;const a=e.width,o=e.height,[n,_,g]=this._allocateImage(a,o);return n.width<=0?null:(this._copy(n,e,_,g,i,s),r={rect:n,width:a,height:o,sdf:e.sdf,simplePattern:!1,pixelRatio:e.pixelRatio,page:_},this._mosaicRects[t]=r,r)}getSpriteItems(t){const i={};for(const e of t)i[e.name]=this.getSpriteItem(e.name,e.repeat);return i}getMosaicItemPosition(t,i){const e=this.getSpriteItem(t,i),s=e&&e.rect;if(!s)return null;s.width=e.width,s.height=e.height;const h=e.width,r=e.height,a=2;return{tl:[s.x+a,s.y+a],br:[s.x+a+h,s.y+a+r],page:e.page}}bind(t,e,s=0,h=0){this._textures[s]||(this._textures[s]=new i(t,{pixelFormat:6408,dataType:5121,wrapMode:33071,width:this._size[s][0],height:this._size[s][1]},new Uint8Array(this._mosaicsData[s].buffer)));const r=this._textures[s];r.setSamplingMode(e),this._dirties[s]&&r.setData(new Uint8Array(this._mosaicsData[s].buffer)),t.bindTexture(r,h),this._dirties[s]=!1}static _copyBits(t,i,e,s,h,r,a,o,n,_,g){let p=s*i+e,c=o*r+a;if(g){c-=r;for(let a=-1;a<=_;a++,p=((a+_)%_+s)*i+e,c+=r)for(let i=-1;i<=n;i++)h[c+i]=t[p+(i+n)%n]}else for(let l=0;l<_;l++){for(let i=0;i<n;i++)h[c+i]=t[p+i];p+=i,c+=r}}_copy(t,i,e,s,h,a){if(!this._sprites||\"loaded\"!==this._sprites.loadStatus||e>=this._mosaicsData.length)return;const o=new Uint32Array(a?a.buffer:this._sprites.image.buffer),n=this._mosaicsData[e];n&&o||console.error(\"Source or target images are uninitialized!\");const _=2,g=a?i.width:this._sprites.width;r._copyBits(o,g,i.x,i.y,n,s[0],t.x+_,t.y+_,i.width,i.height,h),this._dirties[e]=!0}_allocateImage(t,i){t+=2,i+=2;const h=Math.max(t,i);if(this._maxItemSize&&this._maxItemSize<h){const e=new s(0,0,t,i);return this._mosaicsData.push(new Uint32Array(t*i)),this._dirties.push(!0),this._size.push([t,i]),this._textures.push(void 0),[e,this._mosaicsData.length-1,[t,i]]}let r=t%4?4-t%4:4,a=i%4?4-i%4:4;1===r&&(r=5),1===a&&(a=5);const o=this._binPack.allocate(t+r,i+a);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new e(this._pageWidth-4,this._pageHeight-4),this._allocateImage(t,i)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}_rasterizeDash(i){const e=/\\[(.*?)\\]/,s=i.match(e);if(!s)return null;const h=s[1].split(\",\").map(Number),r=i.slice(i.lastIndexOf(\"-\")+1),[a,o,n]=t.rasterizeDash(h,r);return[{x:0,y:0,width:o,height:n,sdf:!0,pixelRatio:1},new Uint8Array(a.buffer)]}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import t from\"../../../../core/has.js\";import s from\"../../../../core/ItemCache.js\";import{isAbortError as r,eachAlways as i}from\"../../../../core/promiseUtils.js\";import{open as o}from\"../../../../core/workers/workers.js\";import a from\"./GlyphMosaic.js\";import l from\"./GlyphSource.js\";import n from\"./SpriteMosaic.js\";import c from\"./TileIndex.js\";import{perfAdd as h}from\"./decluttering/debugging.js\";import u from\"../../tiling/TileKey.js\";const p=new s(10),y=new Map;class f{constructor(e,t,s){this._vectorTileLayer=e,this._styleRepository=t,this.devicePixelRatio=s,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null}destroy(){this._connection&&(this._connection.close(),this._connection=null),this._styleRepository=null,this._vectorTileLayer=null,this._spriteMosaic&&(this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic=null)}get spriteMosaic(){return this._spriteSourcePromise.then((()=>this._spriteMosaic))}get glyphMosaic(){return this._glyphMosaic}async start(e){const s=this._vectorTileLayer,r=s.sourceNameToSource,i=[];for(const t in r)i.push(this._fetchTileMap(r[t],e));this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,e),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new n(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const c=this._styleRepository,h=new l(c.glyphs);return this._glyphMosaic=new a(1024,1024,h),this._broadcastPromise=o(\"WorkerTileHandler\",{client:this,schedule:e.schedule,signal:e.signal}).then((r=>(this._connection=r,Promise.all(this._connection.broadcast(\"setStyle\",{style:s.currentStyleInfo.style,vectorTileLayerMaxBuffers:t(\"vectortilelayer-max-buffers\")},e))))),Promise.all(i)}async updateStyle(e){return await this._broadcastPromise,this._broadcastPromise=new Promise(((t,s)=>{Promise.all(this._connection.broadcast(\"updateStyle\",e)).then(t,s)})),this._broadcastPromise}async setStyle(e,s){await this._broadcastPromise,this._styleRepository=e;const r=this._vectorTileLayer.sourceNameToSource,i=[];for(const t in r)i.push(this._fetchTileMap(r[t],null));this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,null),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new n(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const o=new l(e.glyphs);return this._glyphMosaic=new a(1024,1024,o),this._broadcastPromise=new Promise(((e,r)=>{Promise.all(this._connection.broadcast(\"setStyle\",{style:s,vectorTileLayerMaxBuffers:t(\"vectortilelayer-max-buffers\")})).then(e,r)})),i.push(this._broadcastPromise),Promise.all(i)}fetchTileData(e,t){return this._getRefKeys(e,t).then((e=>{const s=this._vectorTileLayer.sourceNameToSource,r=[];for(const t in s)r.push(t);return this._getSourcesData(r,e,t)}))}parseTileData(e,t){const s=e&&e.data;if(!s)return Promise.resolve(null);const{sourceName2DataAndRefKey:r,transferList:i}=s;return 0===Object.keys(r).length?Promise.resolve(null):this._broadcastPromise.then((()=>this._connection.getAvailableClient().then((s=>s.invoke(\"createTileAndParse\",{key:e.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:e.styleLayerUIDs},{...t,transferList:i}).then((e=>({tileData:e})))))))}async getSprites(e){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(e)}getGlyphs(e){return this._glyphMosaic.getGlyphItems(e.font,e.codePoints)}perfReport({key:e,milliseconds:t}){h(e,t,\"ms\")}async _getTilePayload(e,t,s){const i=u.pool.acquire(e.id),o=this._vectorTileLayer.sourceNameToSource[t].getSourceTileUrl(i.level,i.row,i.col);u.pool.release(i);try{return{protobuff:await this.request(o,s),sourceName:t}}catch(a){if(r(a))throw a;return{protobuff:null,sourceName:t}}}request(t,s){return e(t,{responseType:\"array-buffer\",...s}).then((({data:e})=>e))}async _fetchTileMap(t,s){if(t.capabilities.operations.supportsTileMap&&t.tileIndex)return Promise.resolve();if(!t.tileMapURL)return;const i=p.get(t.tileMapURL);if(i)return void(t.tileIndex=i);let o;if(y.has(t.tileMapURL)){try{o=await y.get(t.tileMapURL),t.tileIndex=new c(o.data)}catch(l){if(r(l))throw l}return}const a=e(t.tileMapURL,s);y.set(t.tileMapURL,a);try{o=await a,y.delete(t.tileMapURL),p.put(t.tileMapURL,t.tileIndex),t.tileIndex=new c(o.data)}catch(l){if(y.delete(t.tileMapURL),r(l))throw l}}_getRefKeys(e,t){const s=this._vectorTileLayer.sourceNameToSource,r=new Array;for(const i in s){const o=s[i].getRefKey(e,t);r.push(o)}return i(r)}_getSourcesData(e,t,s){const r=[];for(let i=0;i<t.length;i++)if(null==t[i].value||null==e[i])r.push(null);else{const o=this._getTilePayload(t[i].value,e[i],s);r.push(o)}return i(r).then((e=>{const s={},r=[];for(let i=0;i<e.length;i++)if(e[i].value&&e[i].value&&e[i].value.protobuff&&e[i].value.protobuff.byteLength>0){const o=t[i].value.id;s[e[i].value.sourceName]={refKey:o,protobuff:e[i].value.protobuff},r.push(e[i].value.protobuff)}return{sourceName2DataAndRefKey:s,transferList:r}}))}}export{f as TileHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nvar e={background:{\"background.frag\":\"#ifdef PATTERN\\nuniform lowp float u_opacity;\\nuniform lowp sampler2D u_texture;\\nvarying mediump vec4 v_tlbr;\\nvarying mediump vec2 v_tileTextureCoord;\\n#else\\nuniform lowp vec4 u_color;\\n#endif\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvoid main() {\\n#ifdef PATTERN\\nmediump vec2 normalizedTextureCoord = mod(v_tileTextureCoord, 1.0);\\nmediump vec2 samplePos = mix(v_tlbr.xy, v_tlbr.zw, normalizedTextureCoord);\\nlowp vec4 color = texture2D(u_texture, samplePos);\\ngl_FragColor = u_opacity * color;\\n#else\\ngl_FragColor = u_color;\\n#endif\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"background.vert\":\"precision mediump float;\\nattribute vec2 a_pos;\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nuniform highp mat3 u_dvsMat3;\\nuniform mediump float u_coord_range;\\nuniform mediump float u_depth;\\n#ifdef PATTERN\\nuniform mediump mat3 u_pattern_matrix;\\nvarying mediump vec2 v_tileTextureCoord;\\nuniform mediump vec4 u_tlbr;\\nuniform mediump vec2 u_mosaicSize;\\nvarying mediump vec4 v_tlbr;\\n#endif\\nvoid main() {\\ngl_Position = vec4((u_dvsMat3 * vec3(u_coord_range * a_pos, 1.0)).xy, u_depth, 1.0);\\n#ifdef PATTERN\\nv_tileTextureCoord = (u_pattern_matrix * vec3(a_pos, 1.0)).xy;\\nv_tlbr             = u_tlbr / u_mosaicSize.xyxy;\\n#endif\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\n}\"},circle:{\"circle.frag\":\"precision lowp float;\\nvarying lowp vec4 v_color;\\nvarying lowp vec4 v_stroke_color;\\nvarying mediump float v_blur;\\nvarying mediump float v_stroke_width;\\nvarying mediump float v_radius;\\nvarying mediump vec2 v_offset;\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvoid main()\\n{\\nmediump float dist = length(v_offset);\\nmediump float alpha = smoothstep(0.0, -v_blur, dist - 1.0);\\nlowp float color_mix_ratio = v_stroke_width < 0.01 ? 0.0 : smoothstep(-v_blur, 0.0, dist - v_radius / (v_radius + v_stroke_width));\\ngl_FragColor = alpha * mix(v_color, v_stroke_color, color_mix_ratio);\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"circle.vert\":\"precision mediump float;\\nattribute vec2 a_pos;\\n#pragma header\\nvarying lowp vec4 v_color;\\nvarying lowp vec4 v_stroke_color;\\nvarying mediump float v_blur;\\nvarying mediump float v_stroke_width;\\nvarying mediump float v_radius;\\nvarying mediump vec2 v_offset;\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform mediump vec2 u_circleTranslation;\\nuniform mediump float u_depth;\\nuniform mediump float u_antialiasingWidth;\\nvoid main()\\n{\\n#pragma main\\nv_color = color * opacity;\\nv_stroke_color = stroke_color * stroke_opacity;\\nv_stroke_width = stroke_width;\\nv_radius = radius;\\nv_blur = max(blur, u_antialiasingWidth / (radius + stroke_width));\\nmediump vec2 offset = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\\nv_offset = offset;\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos * 0.5, 1.0) + u_displayMat3 * vec3((v_radius + v_stroke_width) * offset + u_circleTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth, 1.0);\\n}\"},fill:{\"fill.frag\":\"precision lowp float;\\n#ifdef PATTERN\\nuniform lowp sampler2D u_texture;\\nvarying mediump vec2 v_tileTextureCoord;\\nvarying mediump vec4 v_tlbr;\\n#endif\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvarying lowp vec4 v_color;\\nvec4 mixColors(vec4 color1, vec4 color2) {\\nfloat compositeAlpha = color2.a + color1.a * (1.0 - color2.a);\\nvec3 compositeColor = color2.rgb + color1.rgb * (1.0 - color2.a);\\nreturn vec4(compositeColor, compositeAlpha);\\n}\\nvoid main()\\n{\\n#ifdef PATTERN\\nmediump vec2 normalizedTextureCoord = fract(v_tileTextureCoord);\\nmediump vec2 samplePos = mix(v_tlbr.xy, v_tlbr.zw, normalizedTextureCoord);\\nlowp vec4 color = texture2D(u_texture, samplePos);\\ngl_FragColor = v_color[3] * color;\\n#else\\ngl_FragColor = v_color;\\n#endif\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"fill.vert\":\"precision mediump float;\\nattribute vec2 a_pos;\\n#pragma header\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform mediump float u_depth;\\nuniform mediump vec2 u_fillTranslation;\\n#ifdef PATTERN\\n#include <util/util.glsl>\\nuniform mediump vec2 u_mosaicSize;\\nuniform mediump float u_patternFactor;\\nvarying mediump vec2 v_tileTextureCoord;\\nvarying mediump vec4 v_tlbr;\\n#endif\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nvarying lowp vec4 v_color;\\nvoid main()\\n{\\n#pragma main\\nv_color = color * opacity;\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\n#ifdef PATTERN\\nfloat patternWidth = nextPOT(tlbr.z - tlbr.x);\\nfloat patternHeight = nextPOT(tlbr.w - tlbr.y);\\nfloat scaleX = 1.0 / (patternWidth * u_patternFactor);\\nfloat scaleY = 1.0 / (patternHeight * u_patternFactor);\\nmat3 patterMat = mat3(scaleX, 0.0,    0.0,\\n0.0,    -scaleY, 0.0,\\n0.0,    0.0,    1.0);\\nv_tileTextureCoord = (patterMat * vec3(a_pos, 1.0)).xy;\\nv_tlbr             = tlbr / u_mosaicSize.xyxy;\\n#endif\\nvec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + u_displayMat3 * vec3(u_fillTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth, 1.0);\\n}\"},icon:{\"icon.frag\":\"precision mediump float;\\nuniform lowp sampler2D u_texture;\\n#ifdef SDF\\nuniform lowp vec4 u_color;\\nuniform lowp vec4 u_outlineColor;\\n#endif\\nvarying mediump vec2 v_tex;\\nvarying lowp float v_opacity;\\nvarying mediump vec2 v_size;\\nvarying lowp vec4 v_color;\\n#ifdef SDF\\nvarying mediump flaot v_halo_width;\\n#endif\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\n#include <util/encoding.glsl>\\nvec4 mixColors(vec4 color1, vec4 color2) {\\nfloat compositeAlpha = color2.a + color1.a * (1.0 - color2.a);\\nvec3 compositeColor = color2.rgb + color1.rgb * (1.0 - color2.a);\\nreturn vec4(compositeColor, compositeAlpha);\\n}\\nvoid main()\\n{\\n#ifdef SDF\\nlowp vec4 fillPixelColor = v_color;\\nfloat d = rgba2float(texture2D(u_texture, v_tex)) - 0.5;\\nconst float softEdgeRatio = 0.248062016;\\nfloat size = max(v_size.x, v_size.y);\\nfloat dist = d * softEdgeRatio * size;\\nfillPixelColor *= clamp(0.5 - dist, 0.0, 1.0);\\nif (v_halo_width > 0.25) {\\nlowp vec4 outlinePixelColor = u_outlineColor;\\nconst float outlineLimitRatio = (16.0 / 86.0);\\nfloat clampedOutlineSize = softEdgeRatio * min(v_halo_width, outlineLimitRatio * max(v_size.x, v_size.y));\\noutlinePixelColor *= clamp(0.5 - (abs(dist) - clampedOutlineSize), 0.0, 1.0);\\ngl_FragColor = v_opacity * mixColors(fillPixelColor, outlinePixelColor);\\n}\\nelse {\\ngl_FragColor = v_opacity * fillPixelColor;\\n}\\n#else\\nlowp vec4 texColor = texture2D(u_texture, v_tex);\\ngl_FragColor = v_opacity * texColor;\\n#endif\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"icon.vert\":\"attribute vec2 a_pos;\\nattribute vec2 a_vertexOffset;\\nattribute vec4 a_texAngleRange;\\nattribute vec4 a_levelInfo;\\nattribute float a_opacityInfo;\\n#pragma header\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nvarying lowp vec4 v_color;\\n#ifdef SDF\\nvarying mediump float v_halo_width;\\n#endif\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform highp mat3 u_displayViewMat3;\\nuniform mediump vec2 u_iconTranslation;\\nuniform vec2 u_mosaicSize;\\nuniform mediump float u_depth;\\nuniform mediump float u_mapRotation;\\nuniform mediump float u_level;\\nuniform lowp float u_keepUpright;\\nuniform mediump float u_fadeDuration;\\nvarying mediump vec2 v_tex;\\nvarying lowp float v_opacity;\\nvarying mediump vec2 v_size;\\nconst float C_OFFSET_PRECISION = 1.0 / 8.0;\\nconst float C_256_TO_RAD = 3.14159265359 / 128.0;\\nconst float C_DEG_TO_RAD = 3.14159265359 / 180.0;\\nconst float tileCoordRatio = 1.0 / 8.0;\\nuniform highp float u_time;\\nvoid main()\\n{\\n#pragma main\\nv_color = color;\\nv_opacity = opacity;\\n#ifdef SDF\\nv_halo_width = halo_width;\\n#endif\\nfloat modded = mod(a_opacityInfo, 128.0);\\nfloat targetOpacity = (a_opacityInfo - modded) / 128.0;\\nfloat startOpacity = modded / 127.0;\\nfloat interpolatedOpacity = clamp(startOpacity + 2.0 * (targetOpacity - 0.5) * u_time / u_fadeDuration, 0.0, 1.0);\\nv_opacity *= interpolatedOpacity;\\nmediump float a_angle         = a_levelInfo[1];\\nmediump float a_minLevel      = a_levelInfo[2];\\nmediump float a_maxLevel      = a_levelInfo[3];\\nmediump vec2 a_tex            = a_texAngleRange.xy;\\nmediump float delta_z = 0.0;\\nmediump float rotated = mod(a_angle + u_mapRotation, 256.0);\\ndelta_z += (1.0 - step(u_keepUpright, 0.0)) * step(64.0, rotated) * (1.0 - step(192.0, rotated));\\ndelta_z += 1.0 - step(a_minLevel, u_level);\\ndelta_z += step(a_maxLevel, u_level);\\ndelta_z += step(v_opacity, 0.0);\\nvec2 offset = C_OFFSET_PRECISION * a_vertexOffset;\\nv_size = abs(offset);\\n#ifdef SDF\\noffset = (120.0 / 86.0) * offset;\\n#endif\\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + u_displayViewMat3 * vec3(size * offset, 0.0) + u_displayMat3 * vec3(u_iconTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth + delta_z, 1.0);\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\nv_tex = a_tex.xy / u_mosaicSize;\\n}\"},line:{\"line.frag\":\"precision lowp float;\\nvarying mediump vec2 v_normal;\\nvarying highp float v_accumulatedDistance;\\nvarying mediump float v_lineHalfWidth;\\nvarying lowp vec4 v_color;\\nvarying mediump float v_blur;\\n#if defined (PATTERN) || defined(SDF)\\nvarying mediump vec4 v_tlbr;\\nvarying mediump vec2 v_patternSize;\\nvarying mediump float v_widthRatio;\\nuniform sampler2D u_texture;\\nuniform mediump float u_antialiasing;\\n#endif\\n#ifdef SDF\\n#include <util/encoding.glsl>\\n#endif\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvoid main()\\n{\\nmediump float fragDist = length(v_normal) * v_lineHalfWidth;\\nlowp float alpha = clamp((v_lineHalfWidth - fragDist) / v_blur, 0.0, 1.0);\\n#ifdef PATTERN\\nmediump float relativeTexX = mod(v_accumulatedDistance / (v_patternSize.x * v_widthRatio), 1.0);\\nmediump float relativeTexY = 0.5 + v_normal.y * v_lineHalfWidth / (v_patternSize.y * v_widthRatio);\\nmediump vec2 texCoord = mix(v_tlbr.xy, v_tlbr.zw, vec2(relativeTexX, relativeTexY));\\nlowp vec4 color = texture2D(u_texture, texCoord);\\ngl_FragColor = alpha * v_color[3] * color;\\n#elif defined(SDF)\\nmediump float relativeTexX = mod((v_accumulatedDistance * 0.5) / (v_patternSize.x * v_widthRatio), 1.0);\\nmediump float relativeTexY =  0.5 + 0.25 * v_normal.y;\\nmediump vec2 texCoord = mix(v_tlbr.xy, v_tlbr.zw, vec2(relativeTexX, relativeTexY));\\nmediump float d = rgba2float(texture2D(u_texture, texCoord)) - 0.5;\\nfloat dist = d * v_lineHalfWidth;\\ngl_FragColor = alpha * clamp(0.5 - dist, 0.0, 1.0) * v_color;\\n#else\\ngl_FragColor = alpha * v_color;\\n#endif\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"line.vert\":\"precision mediump float;\\nattribute vec2 a_pos;\\nattribute vec4 a_extrude_offset;\\nattribute vec4 a_dir_normal;\\nattribute vec2 a_accumulatedDistance;\\n#pragma header\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform highp mat3 u_displayViewMat3;\\nuniform mediump float u_zoomFactor;\\nuniform mediump vec2 u_lineTranslation;\\nuniform mediump float u_antialiasing;\\nuniform mediump float u_depth;\\nvarying mediump vec2 v_normal;\\nvarying highp float v_accumulatedDistance;\\nconst float scale = 1.0 / 31.0;\\nconst mediump float tileCoordRatio = 8.0;\\n#if defined (SDF)\\nconst mediump float sdfPatternHalfWidth = 15.5;\\n#endif\\n#if defined (PATTERN) || defined(SDF)\\nuniform mediump vec2 u_mosaicSize;\\nvarying mediump vec4 v_tlbr;\\nvarying mediump vec2 v_patternSize;\\nvarying mediump float v_widthRatio;\\n#endif\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nvarying lowp vec4 v_color;\\nvarying mediump float v_lineHalfWidth;\\nvarying mediump float v_blur;\\nvoid main()\\n{\\n#pragma main\\nv_color = color * opacity;\\nv_blur = blur + u_antialiasing;\\nv_normal = a_dir_normal.zw * scale;\\n#if defined (PATTERN) || defined(SDF)\\nv_tlbr          = tlbr / u_mosaicSize.xyxy;\\nv_patternSize   = vec2(tlbr.z - tlbr.x, tlbr.y - tlbr.w);\\n#if defined (PATTERN)\\nv_widthRatio = width / v_patternSize.y;\\n#else\\nv_widthRatio = width / sdfPatternHalfWidth / 2.0;\\n#endif\\n#endif\\nv_lineHalfWidth = (width + u_antialiasing) * 0.5;\\nmediump vec2 dir = a_dir_normal.xy * scale;\\nmediump vec2 offset_ = a_extrude_offset.zw * scale * offset;\\nmediump vec2 dist = v_lineHalfWidth * scale * a_extrude_offset.xy;\\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos + offset_ * tileCoordRatio / u_zoomFactor, 1.0) + u_displayViewMat3 * vec3(dist, 0.0) + u_displayMat3 * vec3(u_lineTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth, 1.0);\\n#if defined (PATTERN) || defined(SDF)\\nv_accumulatedDistance = a_accumulatedDistance.x * u_zoomFactor / tileCoordRatio + dot(dir, dist + offset_);\\n#endif\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\n}\"},outline:{\"outline.frag\":\"varying lowp vec4 v_color;\\nvarying mediump vec2 v_normal;\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvoid main()\\n{\\nlowp float dist = abs(v_normal.y);\\nlowp float alpha = smoothstep(1.0, 0.0, dist);\\ngl_FragColor = alpha * v_color;\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"outline.vert\":\"attribute vec2 a_pos;\\nattribute vec2 a_offset;\\nattribute vec2 a_xnormal;\\n#pragma header\\nvarying lowp vec4 v_color;\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform mediump vec2 u_fillTranslation;\\nuniform mediump float u_depth;\\nuniform mediump float u_outline_width;\\nvarying lowp vec2 v_normal;\\nconst float scale = 1.0 / 15.0;\\nvoid main()\\n{\\n#pragma main\\nv_color = color * opacity;\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\nv_normal = a_xnormal;\\nmediump vec2 dist = u_outline_width * scale * a_offset;\\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + u_displayMat3 * vec3(dist + u_fillTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth, 1.0);\\n}\"},text:{\"text.frag\":\"uniform lowp sampler2D u_texture;\\nvarying lowp vec2 v_tex;\\nvarying lowp vec4 v_color;\\nvarying mediump float v_edgeWidth;\\nvarying mediump float v_edgeDistance;\\n#ifdef ID\\nvarying mediump vec4 v_id;\\n#endif\\nvoid main()\\n{\\nlowp float dist = texture2D(u_texture, v_tex).a;\\nmediump float alpha = smoothstep(v_edgeDistance - v_edgeWidth, v_edgeDistance + v_edgeWidth, dist);\\ngl_FragColor = alpha * v_color;\\n#ifdef ID\\nif (gl_FragColor.a < 1.0 / 255.0) {\\ndiscard;\\n}\\ngl_FragColor = v_id;\\n#endif\\n}\",\"text.vert\":\"attribute vec2 a_pos;\\nattribute vec2 a_vertexOffset;\\nattribute vec4 a_texAngleRange;\\nattribute vec4 a_levelInfo;\\nattribute float a_opacityInfo;\\n#pragma header\\nvarying lowp vec4 v_color;\\n#ifdef ID\\nuniform mediump vec4 u_id;\\nvarying mediump vec4 v_id;\\n#endif\\nuniform highp mat3 u_dvsMat3;\\nuniform highp mat3 u_displayMat3;\\nuniform highp mat3 u_displayViewMat3;\\nuniform mediump vec2 u_textTranslation;\\nuniform vec2 u_mosaicSize;\\nuniform mediump float u_depth;\\nuniform mediump float u_mapRotation;\\nuniform mediump float u_level;\\nuniform lowp float u_keepUpright;\\nuniform mediump float u_fadeDuration;\\nvarying lowp vec2 v_tex;\\nconst float offsetPrecision = 1.0 / 8.0;\\nconst mediump float edgePos = 0.75;\\nuniform mediump float u_antialiasingWidth;\\nvarying mediump float v_edgeDistance;\\nvarying mediump float v_edgeWidth;\\nuniform lowp float u_halo;\\nconst float sdfFontScale = 1.0 / 24.0;\\nconst float sdfPixel = 3.0;\\nuniform highp float u_time;\\nvoid main()\\n{\\n#pragma main\\nif (u_halo > 0.5)\\n{\\nv_color = halo_color * opacity;\\nhalo_width *= sdfPixel;\\nhalo_blur *= sdfPixel;\\n}\\nelse\\n{\\nv_color = color * opacity;\\nhalo_width = 0.0;\\nhalo_blur = 0.0;\\n}\\nfloat modded = mod(a_opacityInfo, 128.0);\\nfloat targetOpacity = (a_opacityInfo - modded) / 128.0;\\nfloat startOpacity = modded / 127.0;\\nfloat interpolatedOpacity = clamp(startOpacity + 2.0 * (targetOpacity - 0.5) * u_time / u_fadeDuration, 0.0, 1.0);\\nv_color *= interpolatedOpacity;\\nmediump float a_angle       = a_levelInfo[1];\\nmediump float a_minLevel    = a_levelInfo[2];\\nmediump float a_maxLevel    = a_levelInfo[3];\\nmediump vec2 a_tex          = a_texAngleRange.xy;\\nmediump float a_visMinAngle    = a_texAngleRange.z;\\nmediump float a_visMaxAngle    = a_texAngleRange.w;\\nmediump float delta_z = 0.0;\\nmediump float angle = mod(a_angle + u_mapRotation, 256.0);\\nif (a_visMinAngle < a_visMaxAngle)\\n{\\ndelta_z += (1.0 - step(u_keepUpright, 0.0)) * (step(a_visMaxAngle, angle) + (1.0 - step(a_visMinAngle, angle)));\\n}\\nelse\\n{\\ndelta_z += (1.0 - step(u_keepUpright, 0.0)) * (step(a_visMaxAngle, angle) * (1.0 - step(a_visMinAngle, angle)));\\n}\\ndelta_z += 1.0 - step(a_minLevel, u_level);\\ndelta_z += step(a_maxLevel, u_level);\\ndelta_z += step(v_color[3], 0.0);\\nv_tex = a_tex.xy / u_mosaicSize;\\n#ifdef ID\\nv_id = u_id / 255.0;\\n#endif\\nv_edgeDistance = edgePos - halo_width / size;\\nv_edgeWidth = (u_antialiasingWidth + halo_blur) / size;\\nmediump vec3 pos = u_dvsMat3 * vec3(a_pos, 1.0) + sdfFontScale * u_displayViewMat3 * vec3(offsetPrecision * size * a_vertexOffset, 0.0) + u_displayMat3 * vec3(u_textTranslation, 0.0);\\ngl_Position = vec4(pos.xy, u_depth + delta_z, 1.0);\\n}\"},util:{\"encoding.glsl\":\"const vec4 rgba2float_factors = vec4(\\n255.0 / (256.0),\\n255.0 / (256.0 * 256.0),\\n255.0 / (256.0 * 256.0 * 256.0),\\n255.0 / (256.0 * 256.0 * 256.0 * 256.0)\\n);\\nfloat rgba2float(vec4 rgba) {\\nreturn dot(rgba, rgba2float_factors);\\n}\",\"util.glsl\":\"float nextPOT(in float x) {\\nreturn pow(2.0, ceil(log2(abs(x))));\\n}\"}};export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../../../webgl/BufferObject.js\";import\"../../../../../webgl/FramebufferObject.js\";import\"../../../../../../core/has.js\";import\"../../../../../webgl/checkWebGLError.js\";import\"../../../../../webgl/enums.js\";import\"../../../../../../chunks/builtins.js\";import\"../../../../../webgl/renderState.js\";import\"../../../../../webgl/Texture.js\";import e from\"../../../../../webgl/ShaderCompiler.js\";import\"../../../../../webgl/VertexArrayObject.js\";import r from\"./shaderRepository.js\";function t(e){let t=r;return e.split(\"/\").forEach((e=>{t&&(t=t[e])})),t}const o=new e(t);function s(e){return o.resolveIncludes(e)}export{s as resolveIncludes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../../webgl/BufferObject.js\";import\"../../../../webgl/FramebufferObject.js\";import\"../../../../../core/has.js\";import\"../../../../webgl/checkWebGLError.js\";import\"../../../../webgl/enums.js\";import\"../../../../../chunks/builtins.js\";import{glslifyDefineMap as e}from\"../../../../webgl/programUtils.js\";import\"../../../../webgl/renderState.js\";import\"../../../../webgl/Texture.js\";import\"../../../../webgl/VertexArrayObject.js\";import{resolveIncludes as r}from\"./sources/resolver.js\";const t=r=>e({ID:r.id,PATTERN:r.pattern}),a={shaders:e=>({vertexShader:t(e)+r(\"background/background.vert\"),fragmentShader:t(e)+r(\"background/background.frag\")})},i=r=>e({ID:r.id}),s={shaders:e=>({vertexShader:i(e)+r(\"circle/circle.vert\"),fragmentShader:i(e)+r(\"circle/circle.frag\")})},d=r=>e({ID:r.id,PATTERN:r.pattern}),o={shaders:e=>({vertexShader:d(e)+r(\"fill/fill.vert\"),fragmentShader:d(e)+r(\"fill/fill.frag\")})},l=r=>e({ID:r.id}),n={shaders:e=>({vertexShader:l(e)+r(\"outline/outline.vert\"),fragmentShader:l(e)+r(\"outline/outline.frag\")})},g=r=>e({ID:r.id,SDF:r.sdf}),f={shaders:e=>({vertexShader:g(e)+r(\"icon/icon.vert\"),fragmentShader:g(e)+r(\"icon/icon.frag\")})},c=r=>e({ID:r.id,PATTERN:r.pattern,SDF:r.sdf}),h={shaders:e=>({vertexShader:c(e)+r(\"line/line.vert\"),fragmentShader:c(e)+r(\"line/line.frag\")})},m=r=>e({ID:r.id}),b={shaders:e=>({vertexShader:m(e)+r(\"text/text.vert\"),fragmentShader:m(e)+r(\"text/text.frag\")})};export{a as background,s as circle,o as fill,f as icon,h as line,n as outline,b as text};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../../webgl/BufferObject.js\";import\"../../../../webgl/FramebufferObject.js\";import{Program as e}from\"../../../../webgl/Program.js\";import\"../../../../webgl/enums.js\";import\"../../../../webgl/checkWebGLError.js\";import\"../../../../webgl/renderState.js\";import\"../../../../webgl/Texture.js\";import\"../../../../webgl/VertexArrayObject.js\";import{text as r,outline as t,line as a,icon as s,fill as n,circle as o,background as i}from\"./Programs.js\";class c{constructor(){this._programByKey=new Map}dispose(){this._programByKey.forEach((e=>e.dispose())),this._programByKey.clear()}getMaterialProgram(r,t,a){const s=t.key<<3|this._getMaterialOptionsValue(t.type,a);if(this._programByKey.has(s))return this._programByKey.get(s);const n=this._getProgramTemplate(t.type),{shaders:o}=n,{vertexShader:i,fragmentShader:c}=o(a),p=t.getShaderHeader(),g=t.getShaderMain(),m=i.replace(\"#pragma header\",p).replace(\"#pragma main\",g),u=new e(r,m,c,t.getAttributeLocations());return this._programByKey.set(s,u),u}_getMaterialOptionsValue(e,r){switch(e){case 0:{const e=r;return(e.pattern?1:0)<<1|(e.id?1:0)}case 1:{const e=r;return(e.pattern?1:0)<<1|(e.id?1:0)}case 2:return r.id?1:0;case 3:{const e=r;return(e.sdf?1:0)<<2|(e.pattern?1:0)<<1|(e.id?1:0)}case 4:{const e=r;return(e.sdf?1:0)<<1|(e.id?1:0)}case 5:return r.id?1:0;case 6:return r.id?1:0;default:return 0}}_getProgramTemplate(e){switch(e){case 0:return i;case 5:return o;case 1:return n;case 4:return s;case 3:return a;case 2:return t;case 6:return r;default:return null}}}export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{VTLUniqueSymbol as t}from\"./core.js\";import{CollisionJob as e}from\"./jobs.js\";import{SymbolDeclutterer as r}from\"./SymbolDeclutterer.js\";import{SymbolRepository as o}from\"./SymbolRepository.js\";import{writeOpacityToBuffers as s}from\"./util.js\";function i(i,p){const a=[],y=new o(4096,a,(()=>{const e=new t;return e.show=!1,e.parts.push({startTime:0,startOpacity:0,targetOpacity:0,show:!1}),e.parts.push({startTime:0,startOpacity:0,targetOpacity:0,show:!1}),e})),m=new r(a,y,((t,r,o)=>new e(t,r,o,i.styleRepository,i.key.level,0)),((t,e)=>{s(t,e,!1)}),(()=>0),(t=>{const e=p.getStyleLayerByUID(t).getLayoutProperty(\"visibility\");return!e||1!==e.getValue()}));a.push(i),y.add(i),m.setScreenSize(512,512),m.continue(1/0)}export{i as declutterSingleTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{MIN_PRIORITY as t}from\"../../../../core/MemCache.js\";import{throwIfAborted as o}from\"../../../../core/promiseUtils.js\";import{f as i}from\"../../../../chunks/mat3f32.js\";import{create as s}from\"../../../../geometry/support/aaBoundingRect.js\";import{VectorTile as r}from\"./VectorTile.js\";import{TileHandler as n}from\"./TileHandler.js\";import{declutterSingleTile as l}from\"./decluttering/jobsUtil.js\";import a from\"../../tiling/TileKey.js\";class g extends n{constructor(e,t,o,i,s){super(e,t,o),this._memCache=i,this._loader=s,this._ongoingTileRequests=new Map,this._ongoingRequestToController=new Map}destroy(){this._ongoingRequestToController.forEach((e=>e.abort())),this._ongoingRequestToController.clear(),this._ongoingTileRequests.clear()}async getVectorTile(n,g,h,c){const m=new a(n,g,h,0);let u=this._memCache.get(m.id);if(e(u))return u.retain(),u;const _=await this._getVectorTileData(m);if(o(c),!this._vectorTileLayer)return null;if(u=this._memCache.get(m.id),e(u))return u.retain(),u;const T=this._vectorTileLayer.tileInfo.getTileBounds(s(),m);return u=new r(m,T[0],T[3],512,512,this._styleRepository,this._memCache),e(_)&&_.tileData?(u.setData(_.tileData),u.retain(),this._memCache.put(m.id,u,u.memoryUsage*u.referenced,t)):u.setData(null),u.neededForCoverage=!0,u.transforms.tileUnitsToPixels=i(1/8,0,0,0,1/8,0,0,0,1),l(u,this._styleRepository),u}_getVectorTileData(e){const t=e.id;if(this._ongoingTileRequests.has(t))return this._ongoingTileRequests.get(t);const o=new AbortController,i={signal:o.signal},s=this._getParsedVectorTileData(e,i).then((e=>(this._ongoingTileRequests.delete(t),this._ongoingRequestToController.delete(t),e))).catch((()=>(this._ongoingTileRequests.delete(t),this._ongoingRequestToController.delete(t),null)));return this._ongoingTileRequests.set(t,s),this._ongoingRequestToController.set(t,o),s}_getParsedVectorTileData(e,t){return this.fetchTileData(e,t).then((o=>this.parseTileData({key:e,data:o},t)))}request(e,t){return this._loader.request(e,\"binary\",t)}}export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../../core/maybe.js\";import{vtlBrushes as t}from\"../brushes.js\";import r from\"./shaders/VTLMaterialManager.js\";const s=1e-6;class a{constructor(e,t){this.spriteMosaic=e,this.glyphMosaic=t,this._brushCache=new Map,this._vtlMaterialManager=new r}dispose(){this._brushCache&&(this._brushCache.forEach((e=>e.dispose())),this._brushCache=null),this._vtlMaterialManager=e(this._vtlMaterialManager),this.spriteMosaic.dispose(),this.glyphMosaic.dispose()}get vectorTilesMaterialManager(){return this._vtlMaterialManager}drawTile(e,t,r){const{context:s}=e,a=r.layers;r.backgroundBucketIds.length>0&&(e.renderPass=\"background\",r.backgroundBucketIds.forEach((s=>this._renderStyleLayer(r.getLayerById(s),e,t,!0)))),s.setBlendingEnabled(!1),s.setDepthTestEnabled(!0),s.setDepthWriteEnabled(!0),s.setDepthFunction(515),e.renderPass=\"opaque\";for(let i=a.length-1;i>=0;i--)this._renderStyleLayer(a[i],e,t,!1);s.setDepthWriteEnabled(!1),s.setBlendingEnabled(!0),s.setBlendFunctionSeparate(1,771,1,771),e.renderPass=\"translucent\";for(let i=0;i<a.length;i++)this._renderStyleLayer(a[i],e,t,!1);s.setDepthTestEnabled(!1),e.renderPass=\"symbol\";for(let i=0;i<a.length;i++)this._renderStyleLayer(a[i],e,t,!1);s.bindVAO()}_renderStyleLayer(e,t,r,a=!1){if(!(a||e&&r.layerData.has(e.uid)))return;const i=e.getLayoutProperty(\"visibility\");if(i&&1===i.getValue())return;const{renderPass:n}=t;let l;switch(e.type){case 0:if(\"background\"!==n)return;l=\"vtlBackground\";break;case 1:if(\"opaque\"!==n&&\"translucent\"!==t.renderPass)return;l=\"vtlFill\";break;case 2:if(\"translucent\"!==n)return;l=\"vtlLine\";break;case 4:if(\"symbol\"!==n)return;l=\"vtlCircle\";break;case 3:if(\"symbol\"!==n)return;l=\"vtlSymbol\"}const h=t.displayLevel;void 0!==e.minzoom&&e.minzoom>h+s||void 0!==e.maxzoom&&e.maxzoom<=h-s||(t.styleLayerUID=e.uid,t.styleLayer=e,this.drawWithBrush(t,r,l))}drawWithBrush(e,r,s){if(!this._brushCache.has(s)){const e=t[s];this._brushCache.set(s,new e)}this._brushCache.get(s).drawMany(e,[r])}}export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{disposeMaybe as t,destroyMaybe as i}from\"../../../core/maybe.js\";import{createAbortController as r,isAborted as l}from\"../../../core/promiseUtils.js\";import{whenTrueOnce as s}from\"../../../core/watchUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../2d/engine/vectorTiles/SchemaHelper.js\";import h from\"../../2d/engine/vectorTiles/TileHandler3D.js\";import p from\"../../2d/engine/vectorTiles/VTLPainter3D.js\";import c from\"../../2d/engine/vectorTiles/style/StyleRepository.js\";import{LayerView3D as m}from\"./LayerView3D.js\";import{TiledLayerView3D as d}from\"./TiledLayerView3D.js\";import{test as y}from\"../terrain/terrainUtils.js\";import f from\"../../layers/LayerView.js\";let g=class extends(d(m(f))){constructor(e){super(e),this.type=\"vector-tile-3d\"}initialize(){const e=y.force512VTL?this.layer.tileInfo:this.layer.compatibleTileInfo256,t=this._getTileInfoSupportError(e,this.layer.fullExtent);if(t)return void this.addResolvingPromise(Promise.reject(t));const{basemapTerrain:i,spatialReference:o,pixelRatio:a}=this.view,m=s(this.view,\"basemapTerrain.tilingSchemeLocked\").then((()=>{const e=i.tilingScheme,t=e.pixelSize;let r;this.schemaHelper=new n(t,o.isGeographic),r=256===t?this.layer.compatibleTileInfo256:this.view.spatialReference.isGeographic?this.layer.compatibleTileInfo512:this.layer.tileInfo;const l=this._getTileInfoCompatibilityError(r,e);if(l)throw l;this._set(\"tileInfo\",r)}));this._tileHandlerController=r();const d=this.view.resourceController;this._memCache=d.memoryController.getMemCache(this.layer.uid,(e=>e.release()));const{style:f,spriteUrl:g,glyphsUrl:u}=this.layer.currentStyleInfo,_=new c(f,{spriteUrl:g,glyphsUrl:u}),H=i.mapTileRequester;this._tileHandler=new h(this.layer,_,a,this._memCache,H);const v=this._tileHandlerController.signal,C=e=>d.schedule(e),T=this._tileHandler.start({signal:v,schedule:C}),w=this._tileHandler.spriteMosaic;w.then((e=>{!l(v)&&this._tileHandler&&(this.painter=new p(e,this._tileHandler.glyphMosaic))})),T.then((()=>this._tileHandlerController=null));const j=()=>{this._tileHandlerController&&this._tileHandlerController.abort(),this._tileHandlerController=r(),this._memCache.clear();const{style:e,spriteUrl:t,glyphsUrl:i}=this.layer.currentStyleInfo,l=new c(e,{spriteUrl:t,glyphsUrl:i}),s=new h(this.layer,l,a,this._memCache,H),o=s.start({signal:this._tileHandlerController.signal,schedule:C}),n=s.spriteMosaic;o.then((()=>this._tileHandlerController=null)),this.updatingHandles.addPromise(Promise.all([o,n]).then((([,e])=>{const t=this._tileHandler,i=this.painter;this.painter=new p(e,s.glyphMosaic),this._tileHandler=s,this.emit(\"data-changed\"),t.destroy(),i&&i.dispose()})))};this.updatingHandles.add(this,\"layer.currentStyleInfo\",j),this.updatingHandles.add(this,\"view.pixelRatio\",j);const I=Promise.all([m,T,w]);this.addResolvingPromise(I)}destroy(){this.painter=t(this.painter),this._tileHandlerController&&(this._tileHandlerController.abort(),this._tileHandlerController=null),i(this._tileHandler),this._memCache=i(this._memCache),this._tileHandler=null}get dataLevelRange(){const e=this.tileInfo.lods,t=e[0].scale,i=e[e.length-1].scale,r=this.levelRangeFromScaleRange(t,i);return 1===r.minLevel&&256===this.tileInfo.size[0]&&(r.minLevel=0),r}async fetchTile(e,t,i,r){return this._tileHandler.getVectorTile(e,t,i,r)}};e([o({aliasOf:\"layer.fullExtent\"})],g.prototype,\"fullExtent\",void 0),e([o()],g.prototype,\"layer\",void 0),e([o()],g.prototype,\"tileInfo\",void 0),e([o()],g.prototype,\"dataLevelRange\",null),e([o()],g.prototype,\"updatingProgressValue\",void 0),g=e([a(\"esri.views.3d.layers.VectorTileLayerView3D\")],g);var u=g;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst t=8,e=t-2,c=1e-30,h=64,i=4294967295,o=512,a=256,d=256/360,n=!1,p=128,r=8,s=29,f=1,g=16,l=16,m=o/p,v=8,w=50,x=10,b=24,j=8,k={metrics:{width:15,height:17,left:0,top:-7,advance:14}},q=1024,u=0,y=0,z=0,A=1,B=2,C=3,D=4,E=5,F=6,G=5,H=6,I=0,J=1,K=2,L=3,M=3,N=2,O=1,P=2,Q=4,R=!1,S=1.05,T=6,U=5,V=6,W=1.15,X=2,Y=2,Z=8,$=500,_=4,tt=128,et=10;export{d as ANGLE_FACTOR_256,J as ATTRIBUTE_DATA_ANIMATION,L as ATTRIBUTE_DATA_DD0,M as ATTRIBUTE_DATA_DD1,I as ATTRIBUTE_DATA_FILTER_FLAGS,K as ATTRIBUTE_DATA_VV,q as ATTRIBUTE_STORE_TEXTURE_SIZE,k as AVERAGE_GLYPH_MOSAIC_ITEM,tt as BUFFER_DATA_MINIMUM_SIZE,_ as BUFFER_DATA_POOL_SIZE,l as COLLISION_BOX_PADDING,p as COLLISION_BUCKET_SIZE,g as COLLISION_EARLY_REJECT_BUCKET_SIZE,f as COLLISION_MAX_ZOOM_DELTA,v as COLLISION_PLACEMENT_PADDING,m as COLLISION_TILE_BOX_SIZE,n as DEBUG_LABELS,Z as DISPLAY_RECORD_INT_PER_ELEMENT,r as DOT_DENSITY_MAX_FIELDS,Q as EFFECT_FLAG_0,R as ENABLE_EARLY_LABEL_DISCARD,h as EXTRUDE_SCALE,P as FILTER_FLAG_0,b as GLYPH_SIZE,x as HEURISTIC_GLYPHS_PER_FEATURE,w as HEURISTIC_GLYPHS_PER_LINE,O as HIGHLIGHT_FLAG,T as HITTEST_SEARCH_SIZE,s as MAGIC_LABEL_LINE_HEIGHT,N as MAX_FILTERS,X as MAX_GPU_UPLOADS_PER_FRAME,et as MIN_MAX_ZOOM_PRECISION_FACTOR,c as NAN_MAGIC_NUMBER,$ as PATCH_PIXEL_BUFFER_ALLOC_SIZE,i as PICTURE_FILL_COLOR,a as RASTER_TILE_SIZE,Y as SPRITE_PADDING,A as TEXTURE_BINDING_ATTRIBUTE_DATA_0,B as TEXTURE_BINDING_ATTRIBUTE_DATA_1,C as TEXTURE_BINDING_ATTRIBUTE_DATA_2,D as TEXTURE_BINDING_ATTRIBUTE_DATA_3,z as TEXTURE_BINDING_BITMAP,y as TEXTURE_BINDING_GLYPH_ATLAS,E as TEXTURE_BINDING_HIGHLIGHT_0,F as TEXTURE_BINDING_HIGHLIGHT_1,G as TEXTURE_BINDING_RENDERER_0,H as TEXTURE_BINDING_RENDERER_1,u as TEXTURE_BINDING_SPRITE_ATLAS,j as TEXT_PLACEMENT_PADDING,S as THIN_LINE_HALF_WIDTH_THRESHOLD,o as TILE_SIZE,W as VTL_HIGH_RES_CUTOFF,V as VTL_TEXTURE_BINDING_UNIT_GLYPHS,U as VTL_TEXTURE_BINDING_UNIT_SPRITES,e as WEBGL_MAX_INNER_STOPS,t as WEBGL_MAX_STOPS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nvar E,T,I,L,A,_,O;!function(E){E[E.FILL=0]=\"FILL\",E[E.LINE=1]=\"LINE\",E[E.MARKER=2]=\"MARKER\",E[E.TEXT=3]=\"TEXT\",E[E.LABEL=4]=\"LABEL\"}(E||(E={})),function(E){E[E.SUCCEEDED=0]=\"SUCCEEDED\",E[E.FAILED_OUT_OF_MEMORY=1]=\"FAILED_OUT_OF_MEMORY\"}(T||(T={})),function(E){E[E.NONE=0]=\"NONE\",E[E.MAP=1]=\"MAP\",E[E.LABEL=2]=\"LABEL\",E[E.LABEL_ALPHA=4]=\"LABEL_ALPHA\",E[E.HITTEST=8]=\"HITTEST\",E[E.HIGHLIGHT=16]=\"HIGHLIGHT\",E[E.CLIP=32]=\"CLIP\",E[E.DEBUG=64]=\"DEBUG\",E[E.NUM_DRAW_PHASES=9]=\"NUM_DRAW_PHASES\"}(I||(I={})),function(E){E[E.SIZE=0]=\"SIZE\",E[E.COLOR=1]=\"COLOR\",E[E.OPACITY=2]=\"OPACITY\",E[E.ROTATION=3]=\"ROTATION\"}(L||(L={})),function(E){E[E.NONE=0]=\"NONE\",E[E.OPACITY=1]=\"OPACITY\",E[E.COLOR=2]=\"COLOR\",E[E.ROTATION=4]=\"ROTATION\",E[E.SIZE_MINMAX_VALUE=8]=\"SIZE_MINMAX_VALUE\",E[E.SIZE_SCALE_STOPS=16]=\"SIZE_SCALE_STOPS\",E[E.SIZE_FIELD_STOPS=32]=\"SIZE_FIELD_STOPS\",E[E.SIZE_UNIT_VALUE=64]=\"SIZE_UNIT_VALUE\"}(A||(A={})),function(E){E[E.MINMAX_TARGETS_OUTLINE=128]=\"MINMAX_TARGETS_OUTLINE\",E[E.SCALE_TARGETS_OUTLINE=256]=\"SCALE_TARGETS_OUTLINE\",E[E.FIELD_TARGETS_OUTLINE=512]=\"FIELD_TARGETS_OUTLINE\",E[E.UNIT_TARGETS_OUTLINE=1024]=\"UNIT_TARGETS_OUTLINE\"}(_||(_={})),function(E){E[E.SPRITE=0]=\"SPRITE\",E[E.GLYPH=1]=\"GLYPH\"}(O||(O={}));export{O as MosaicType,L as VVType,I as WGLDrawPhase,T as WGLGeometryTransactionStatus,E as WGLGeometryType,A as WGLVVFlag,_ as WGLVVTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst n=new Float32Array(1),r=new Uint32Array(n.buffer);function t(n,r,t){return Math.round(Math.max(Math.min(n,t),r))}function u(n){return t(n,-128,127)}function e(n){return t(n,-32768,32767)}function o(n){return t(n,-2147483648,2147483647)}function f(n){return t(n,0,255)}function i(n){return t(n,0,65535)}function c(n){return t(n,0,4294967295)}function a(t){return n[0]=t,r[0]}function h(t){return r[0]=t,n[0]}function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function m(n,r){return 65535&n|r<<16}function w(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}function x(n,r,t){return 255&n|(255&r)<<8|t<<16}function y(n){return 0|n}export{e as i16,m as i1616to32,o as i32,u as i8,x as i8816to32,w as i8888to32,y as numTo32,h as toFloat32,a as toUint32,i as u16,c as u32,M as u32to4Xu8,f as u8};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Error.js\";import{WGLVVFlag as e,WGLVVTarget as i,WGLGeometryType as s}from\"../enums.js\";import{isMapAligned as r}from\"../mesh/templates/meshUtils.js\";function a(t,s=!1){const r=e.SIZE_FIELD_STOPS|e.SIZE_MINMAX_VALUE|e.SIZE_SCALE_STOPS|e.SIZE_UNIT_VALUE,a=(t&(i.FIELD_TARGETS_OUTLINE|i.MINMAX_TARGETS_OUTLINE|i.SCALE_TARGETS_OUTLINE|i.UNIT_TARGETS_OUTLINE))>>>4;return s?r&a:r&~a}function n(t){const i=a(t,!1);return t&(e.COLOR|e.OPACITY|e.ROTATION|i)}function o(t){return t&(e.COLOR|e.OPACITY)}function v(t,i){if(i){return t&a(t,!0)}const s=a(t,!1);return t&(e.COLOR|e.OPACITY|s)}function h(t){return n(t)}function u(t){return t&a(t,!1)}const S=0,l=8,c=7,d=8,V=11,p=11,g=12,z=13,T=14,y=15,E=15,m=16,L=17,O=18,I=19,M=20;function A(t,e,i,r,a){switch(t){case s.FILL:return C.from(e,r);case s.LINE:return b.from(e,i);case s.MARKER:return w.from(e);case s.TEXT:return F.from(e);case s.LABEL:return N.from(e,a);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function f(t){switch(_.load(t).geometryType){case s.MARKER:return new w(t);case s.FILL:return new C(t);case s.LINE:return new b(t);case s.TEXT:return new F(t);case s.LABEL:return new N(t)}}class _{constructor(t){this._data=0,this._data=t}static load(t){const e=this.shared;return e.data=t,e}set data(t){this._data=t}get data(){return this._data}get geometryType(){return this.bits(d,V)}set geometryType(t){this.setBits(t,d,V)}get mapAligned(){return!!this.bit(M)}set mapAligned(t){this.setBit(M,t)}get sdf(){return!!this.bit(p)}set sdf(t){this.setBit(p,t)}get pattern(){return!!this.bit(g)}set pattern(t){this.setBit(g,t)}get textureBinding(){return this.bits(S,l)}set textureBinding(t){this.setBits(t,S,l)}get geometryTypeString(){switch(this.geometryType){case s.FILL:return\"fill\";case s.MARKER:return\"marker\";case s.LINE:return\"line\";case s.TEXT:return\"text\";case s.LABEL:return\"label\";default:throw new t(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const i=1<<t;e?this._data|=i:this._data&=~i}bit(t){return(this._data&1<<t)>>t}setBits(t,e,i){for(let s=e,r=0;s<i;s++,r++)this.setBit(s,0!=(t&1<<r))}bits(t,e){let i=0;for(let s=t,r=0;s<e;s++,r++)i|=this.bit(s)<<r;return i}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(c&this.textureBinding)}}_.shared=new _(0);const x=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(m)}set vvSizeMinMaxValue(t){this.setBit(m,t)}get vvSizeScaleStops(){return 0!==this.bit(L)}set vvSizeScaleStops(t){this.setBit(L,t)}get vvSizeFieldStops(){return 0!==this.bit(O)}set vvSizeFieldStops(t){this.setBit(O,t)}get vvSizeUnitValue(){return 0!==this.bit(I)}set vvSizeUnitValue(t){this.setBit(I,t)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(t,i){super.setVV(t,i);const s=a(t,i)&t;this.vvSizeMinMaxValue=!!(s&e.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&e.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&e.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&e.SIZE_SCALE_STOPS)}},R=t=>class extends t{get vvRotation(){return 0!==this.bit(y)}set vvRotation(t){this.setBit(y,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,i){super.setVV(t,i),this.vvRotation=!i&&!!(t&e.ROTATION)}},U=t=>class extends t{get vvColor(){return 0!==this.bit(z)}set vvColor(t){this.setBit(z,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,i){super.setVV(t,i),this.vvColor=!i&&!!(t&e.COLOR)}},B=t=>class extends t{get vvOpacity(){return 0!==this.bit(T)}set vvOpacity(t){this.setBit(T,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,i){super.setVV(t,i),this.vvOpacity=!i&&!!(t&e.OPACITY)}};class C extends(U(B(_))){static load(t){const e=this.shared;return e.data=t,e}static from(t,e){const i=this.load(0);return i.geometryType=s.FILL,e?i.dotDensity=!0:i.setVV(t,!1),i.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,vvColor:this.vvColor,vvOpacity:this.vvOpacity}}get dotDensity(){return!!this.bit(E)}set dotDensity(t){this.setBit(E,t)}}C.shared=new C(0);class w extends(U(B(R(x(_))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.MARKER,e.setVV(t,!1),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}w.shared=new w(0);class b extends(U(B(x(_)))){static load(t){const e=this.shared;return e.data=t,e}static from(t,e){const i=this.load(0);return i.geometryType=s.LINE,i.setVV(t,e),i.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}b.shared=new b(0);class F extends(U(B(R(x(_))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(t);return e.geometryType=s.TEXT,e.setVV(t,!1),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}F.shared=new F(0);class N extends(x(_)){static load(t){const e=this.shared;return e.data=t,e}static from(t,e){const i=this.load(0);return i.geometryType=s.LABEL,i.setVV(t,!1),i.mapAligned=r(e),i.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}N.shared=new N(0);export{C as FillMaterialKey,N as LabelMaterialKey,b as LineMaterialKey,w as MarkerMaterialKey,_ as MaterialKeyBase,F as TextMaterialKey,A as createMaterialKey,o as getFillVVFlags,u as getLabelVVFlags,v as getLineVVFlags,n as getMarkerVVFlags,a as getSizeFlagsMask,h as getTextVVFlags,f as hydrateMaterialKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport o from\"../../../../core/ObjectPool.js\";class h{constructor(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}acquire(o,h,s,t,i,l,r,e,c){this.color=o,this.haloColor=h,this.haloSize=s,this.size=t,this.angle=i,this.offsetX=l,this.offsetY=r,this.hAnchor=e,this.vAnchor=c}release(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}h.pool=new o(h);export{h as TextProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/Logger.js\";import{isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import{copyAndPremultiply as o}from\"./color.js\";import{WGLGeometryType as s,VVType as i}from\"./enums.js\";import{TextProperties as a}from\"./SymbolProperties.js\";import c from\"../../../webgl/Texture.js\";const u=t.getLogger(\"esri.views.2d.engine.webgl.Utils\"),f=\"geometry\",l=\"per_instance\",d=\"per_instance_vv\",m=[{name:f,strideInBytes:36,divisor:0}],p=[{name:f,strideInBytes:36,divisor:0}],h=[{name:f,strideInBytes:12,divisor:0}],w=[{name:f,strideInBytes:40,divisor:0}],v=[{name:f,strideInBytes:36,divisor:0}],y=[{name:f,strideInBytes:36,divisor:0}];function g(e){const t={};for(const r of e)t[r.name]=r.strideInBytes;return t}const A=g(m),L=g(p),I=g(h),E=g(w),b=g(v),M=g(y);function T(e,t){switch(e){case s.MARKER:return A;case s.FILL:return t?I:L;case s.LINE:return E;case s.TEXT:return b;case s.LABEL:return M}}const x=[f],U=[f],B=[f],F=[f],z=[f];function j(e){switch(e){case s.MARKER:return x;case s.FILL:return U;case s.LINE:return B;case s.TEXT:return F;case s.LABEL:return z}}function C(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function R(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function O(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function $(e){return a.pool.acquire(e.color?o(e.color):[255,255,255,255],e.haloColor?o(e.haloColor):[255,255,255,255],n(e.haloSize),n(e.font.size),e.angle*Math.PI/180,e.xoffset/e.font.size,e.yoffset/e.font.size,\"left\"===e.horizontalAlignment?0:\"right\"===e.horizontalAlignment?1:.5,\"top\"===e.verticalAlignment?0:\"bottom\"===e.verticalAlignment?1:.5)}function N(e){return null!=e}function K(e){return\"number\"==typeof e}function P(t){switch(t){case\"butt\":return 0;case\"round\":return 1;case\"square\":return 2;default:return u.error(new e(\"mapview-invalid-type\",`Cap type ${t} is not a valid option. Defaulting to round`)),1}}function S(t){switch(t){case\"miter\":return 2;case\"bevel\":return 0;case\"round\":return 1;default:return u.error(new e(\"mapview-invalid-type\",`Join type ${t} is not a valid option. Defaulting to round`)),1}}function X(e){switch(e){case\"opacity\":return i.OPACITY;case\"color\":return i.COLOR;case\"rotation\":return i.ROTATION;case\"size\":return i.SIZE;default:return u.error(`Cannot interpret unknown vv: ${e}`),null}}function Z(e){const{transform:t,hasZ:r,hasM:n}=e;return{transform:t,hasZ:r,hasM:n}}function _(e,t,r,n,o,s,i){for(const c in s){const t=s[c].stride,n=C(t),i=s[c].data,a=r[c].data,u=t*o.vertexCount/n,f=t*e/n,l=t*o.vertexFrom/n;for(let e=0;e<u;++e)a[e+f]=i[e+l]}const a=o.indexCount;for(let c=0;c<a;++c)n[c+t]=i[c+o.indexFrom]-o.vertexFrom+e}const q={[f]:35044};function D(e,t){const r=[];for(let n=0;n<5;++n){const o=j(n),s={};for(const e of o)s[e]={data:t(n,e)};r.push({data:e(n),buffers:s})}return r}function k(e,t){let n,o;return r(t.width)&&r(t.height)?(n=!0,o=9987):(n=!1,o=9729),new c(e,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,hasMipmap:n,samplingMode:o,wrapMode:33071,flipped:!0},t)}function J(e){return{vertexFrom:void 0,vertexTo:void 0,geometry:e}}function Y(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5126:case 5124:case 5125:return 4}}function G(t){switch(t){case 5121:return 1;case 32819:return 2;case 5126:return 4;default:return void u.error(new e(\"webgl-utils\",`Unable to handle type ${t}`))}}function H(t){switch(t){case 5121:return Uint8Array;case 32819:return Uint16Array;case 5126:return Float32Array;default:return void u.error(new e(\"webgl-utils\",`Unable to handle type ${t}`))}}function Q(e){const t={};for(const r in e){const n=e[r];let o=0;t[r]=n.map((e=>{const t={...e,normalized:e.normalized||!1,divisor:e.divisor||0,offset:o,stride:0};return o+=e.count*Y(e.type),t})),t[r].forEach((e=>e.stride=o))}return t}const V=e=>{const t=new Map;for(const r in e)for(const n of e[r])t.set(n.name,n.location);return t},W=e=>{const t={};for(const r in e){const n=e[r];t[r]=n.length?n[0].stride:0}return t},ee=new Map,te=(e,t)=>{if(!ee.has(e)){const r=Q(t),n={strides:W(r),bufferLayouts:r,attributes:V(t)};ee.set(e,n)}return ee.get(e)};function re(e){e(s.FILL),e(s.LINE),e(s.MARKER),e(s.TEXT),e(s.LABEL)}export{L as C_FILL_STRIDE_SPEC,I as C_FILL_STRIDE_SPEC_DD,p as C_FILL_VERTEX_DEF,h as C_FILL_VERTEX_DEF_DD,A as C_ICON_STRIDE_SPEC,m as C_ICON_VERTEX_DEF,M as C_LABEL_STRIDE_SPEC,y as C_LABEL_VERTEX_DEF,E as C_LINE_STRIDE_SPEC,w as C_LINE_VERTEX_DEF,b as C_TEXT_STRIDE_SPEC,v as C_TEXT_VERTEX_DEF,f as C_VBO_GEOMETRY,q as C_VBO_INFO,l as C_VBO_PERINSTANCE,d as C_VBO_PERINSTANCE_VV,R as allocateTypedArrayBuffer,O as allocateTypedArrayBufferwithData,_ as copyMeshData,D as createGeometryData,te as createProgramDescriptor,k as createTextureFromTexelData,re as forEachGeometryType,J as geometryToMappedGeometry,Y as getBytes,P as getCapType,S as getJoinType,j as getNamedBuffers,H as getPixelArrayCtor,G as getPixelBytes,T as getStrides,$ as getTextProperties,Z as getTransformParams,X as getVVType,N as isDefined,K as isNumber,C as strideToPackingFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{i8888to32 as r}from\"./number.js\";const n=[255,255,255,1],t=[0,0,0,0];function u(r,n){return Array.isArray(n)?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3]):(r[0]=n.r,r[1]=n.g,r[2]=n.b,r[3]=n.a),r}function o(r,n=0,t=!1){const u=r[n+3];return r[n+0]*=u,r[n+1]*=u,r[n+2]*=u,t||(r[n+3]*=255),r}function c(r){return o(u([],r))}function e(n){return o(u(t,n)),r(t[0],t[1],t[2],t[3])}function i(n){if(!n)return 0;const{r:t,g:u,b:o,a:c}=n;return r(t*c,u*c,o*c,255*c)}function f(n){if(!n)return 0;const[t,u,o,c]=n;return r(t*(c/255),u*(c/255),o*(c/255),c)}export{c as copyAndPremultiply,o as premultiplyAlpha,i as premultiplyAlphaRGBA,f as premultiplyAlphaRGBAArray,e as premultiplyAlphaUint32,n as white};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction e(e){switch(e){case\"above-along\":case\"below-along\":case\"center-along\":case\"esriServerLinePlacementAboveAlong\":case\"esriServerLinePlacementBelowAlong\":case\"esriServerLinePlacementCenterAlong\":return!0;default:return!1}}export{e as isMapAligned};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import l from\"../../core/Error.js\";import r from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import a from\"../../core/LRUCache.js\";import o from\"../../core/PooledArray.js\";import{onAbort as n,createAbortError as c,isAbortError as h,createAbortController as p,isAborted as m}from\"../../core/promiseUtils.js\";import{waitTicks as u}from\"../../core/scheduling.js\";import{objectToQuery as f}from\"../../core/urlUtils.js\";import{init as v}from\"../../core/watchUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{cast as _}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{tilemapDefinitionId as b,Tilemap as g}from\"./Tilemap.js\";var w;const T=s.getLogger(\"esri.layers.support.TilemapCache\");let j=w=class extends i{constructor(e){super(e),this._handles=new r,this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=t,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new a(this.cacheByteSize),this._handles.add([this.watch([\"layer.parsedUrl\",\"layer.tileServers?\"],(()=>this._initializeTilemapDefinition())),v(this,\"layer.tileInfo.lods\",(e=>this._initializeAvailableLevels(e)),!0)]),this._initializeTilemapDefinition()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}castLevels(e){return e<=2?(T.error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,r){if(!this._availableLevels[e])return Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const s=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,s);if(a)return Promise.resolve(a);const o=r&&r.signal;return r={...r,signal:null},new Promise(((e,t)=>{n(o,(()=>t(c())));const i=b(s);let l=this._pendingTilemapRequests[i];if(!l){l=g.fromDefinition(s,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=l,l.then(e,e)}l.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const l=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return l?l.getAvailability(t,i):\"unknown\"}getAvailabilityUpsample(e,t,i,l){l.level=e,l.row=t,l.col=i;const r=this.layer.tileInfo;for(r.updateTileInfo(l);;){const e=this.getAvailability(l.level,l.row,l.col);if(\"unavailable\"!==e)return e;if(!r.upsampleTile(l))return\"unavailable\"}}fetchAvailability(e,t,i,r){return this._availableLevels[e]?this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof g){const s=r.getAvailability(t,i);return\"unavailable\"===s?Promise.reject(new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})):s}if(h(r))throw r;return\"unknown\"})):Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,l,r){l.level=e,l.row=t,l.col=i;const s=this.layer.tileInfo;s.updateTileInfo(l);const a=this.fetchAvailability(e,t,i,r).catch((e=>{if(h(e))throw e;if(s.upsampleTile(l))return this.fetchAvailabilityUpsample(l.level,l.row,l.col,l);throw e}));return this._fetchAvailabilityUpsamplePrefetch(l.id,e,t,i,r,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,l,r,s){if(!this._prefetchingEnabled)return;const a=`prefetch-${e}`;if(this._handles.has(a))return;const o=p();s.then((()=>o.abort()),(()=>o.abort()));let n=!1;const c={remove(){n||(n=!0,o.abort())}};if(this._handles.add(c,a),await u(10,o.signal).catch((()=>{})),n||(n=!0,this._handles.remove(a)),m(o))return;const h={id:e,level:t,row:i,col:l},f={...r,signal:o.signal},v=this.layer.tileInfo;for(let p=0;w._prefetches.length<w._maxPrefetch&&v.upsampleTile(h);++p){const e=this.fetchAvailability(h.level,h.row,h.col,f);w._prefetches.push(e);const t=()=>{w._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?f(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,l){l.level=e,l.row=t-t%this.size,l.col=i-i%this.size;const r=b(l);return this._tilemapCache.get(r)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,l)=>!!e._tilemapFromCache(t,i,l,e._tmpTilemapDefinition)}}};j._maxPrefetch=4,j._prefetches=new o({initialSize:w._maxPrefetch}),e([y({constructOnly:!0,type:Number})],j.prototype,\"levels\",void 0),e([_(\"levels\")],j.prototype,\"castLevels\",null),e([y({readOnly:!0,type:Number})],j.prototype,\"size\",null),e([y({constructOnly:!0,type:Number})],j.prototype,\"cacheByteSize\",void 0),e([y({constructOnly:!0})],j.prototype,\"layer\",void 0),e([y({constructOnly:!0})],j.prototype,\"request\",void 0),j=w=e([d(\"esri.layers.support.TilemapCache\")],j);export{j as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{constant as i}from\"../../core/arrayUtils.js\";import e from\"../../core/Error.js\";import{clone as a}from\"../../core/lang.js\";class l{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability=\"unknown\",this.byteSize=40}getAvailability(t,i){if(\"unknown\"!==this._allAvailability)return this._allAvailability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%8,l=e>>3,o=this._tileAvailabilityBitSet;return l<0||l>o.length?\"unknown\":o[l]&1<<a?\"available\":\"unavailable\"}_updateFromData(t){const i=this.location.width,e=this.location.height;let a=!0,l=!0;const o=Math.ceil(i*e/8),n=new Uint8Array(o);let r=0;for(let s=0;s<t.length;s++){const i=s%8;t[s]?(l=!1,n[r]|=1<<i):a=!1,7===i&&++r}l?this._allAvailability=\"unavailable\":a?this._allAvailability=\"available\":(this._allAvailability=\"unknown\",this._tileAvailabilityBitSet=n,this.byteSize+=n.length)}static fromDefinition(a,o){const r=a.service.request||t,{row:s,col:h,width:c,height:m}=a,d={query:{f:\"json\"}};return o=o?{...d,...o}:d,r(n(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:s,left:h,width:c,height:m},valid:!0,data:i(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==s||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new e(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:s,left:h,width:c,height:m}});return l.fromJSON(t)}))}static fromJSON(t){l.validateJSON(t);const i=new l;return i.location=Object.freeze(a(t.location)),i._updateFromData(t.data),Object.freeze(i)}static validateJSON(t){if(!t||!t.location)throw new e(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new e(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new e(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new e(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new e(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function o(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(\"vector-tile\"===t.service.type)i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const e=t.service.query;return e&&(i=`${i}?${e}`),i}export{l as Tilemap,l as default,o as tilemapDefinitionId};\n"],"sourceRoot":""}