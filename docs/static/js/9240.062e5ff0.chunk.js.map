{"version":3,"file":"static/js/9240.062e5ff0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/GraphicsLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{destroyMaybe as r,isSome as s}from\"../../../core/maybe.js\";import{when as i}from\"../../../core/reactiveUtils.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{DrapeSourceType as a}from\"./interfaces.js\";import{LayerView3D as n}from\"./LayerView3D.js\";import{GraphicsProcessor as l}from\"./graphics/GraphicsProcessor.js\";import{toViewIfLocal as p}from\"./support/projectExtentUtils.js\";import{UpdatePolicy as u}from\"../webgl-engine/lib/basicInterfaces.js\";import c from\"../../layers/LayerView.js\";let d=class extends(n(c)){constructor(){super(...arguments),this.type=\"graphics-3d\",this.slicePlaneEnabled=!1,this.drapeSourceType=a.Features,this.fullExtentInLocalViewSpatialReference=null}initialize(){this._set(\"processor\",new l({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.setup()),this.handles.add(this.layer.on(\"graphic-update\",(e=>this.processor.graphicsCore.graphicUpdateHandler(e)))),this.addResolvingPromise(p(this).then((e=>this.fullExtentInLocalViewSpatialReference=e))),this.layer.internal?this.notifyChange(\"updating\"):this.handles.add(i((()=>{var e,r;return null==(e=this.view)||null==(r=e.basemapTerrain)?void 0:r.ready}),(()=>()=>this.notifyChange(\"updating\")),{once:!0}))}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set(\"processor\",r(this.processor))}get loadedGraphics(){return this.layer.graphics}get legendEnabled(){var e;return this.canResume()&&!(null!=(e=this.processor)&&e.frustumVisibilitySuspended)}getSuspendInfo(){var e,r,s,i;const t=super.getSuspendInfo();return t.outsideScaleRange=null!=(e=null==(r=this.processor)?void 0:r.scaleVisibilitySuspended)&&e,t.outsideOfView=null!=(s=null==(i=this.processor)?void 0:i.frustumVisibilitySuspended)&&s,t}async fetchPopupFeatures(e,r){return s(r)?r.clientGraphics:null}getGraphicFromGraphicUid(e){return this.processor.getGraphicFromGraphicUid(e)}whenGraphicBounds(e,r){return this.processor.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){var s;return null==(s=this.processor)?void 0:s.computeAttachmentOrigin(e,r)}getSymbolLayerSize(e,r){return this.processor.getSymbolLayerSize(e,r)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(e){return this.processor.maskOccludee(e)}highlight(e){return this.processor.highlight(e)}get updatePolicy(){var e;return(null==(e=this.processor)?void 0:e.graphicsCore.effectiveUpdatePolicy)||u.SYNC}canResume(){var e;return super.canResume()&&!(null!=(e=this.processor)&&e.scaleVisibilitySuspended)}isUpdating(){var e,r,s;return!((null==(e=this.processor)||!e.updating)&&(this.layer.internal||null!=(r=this.view)&&null!=(s=r.basemapTerrain)&&s.ready))}get performanceInfo(){var e,r,s,i;return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:-1,totalNumberOfFeatures:-1,nodes:0,core:null,updating:this.updating,elevationUpdating:null!=(e=null==(r=this.processor)?void 0:r.elevationAlignment.updating)&&e,visibilityFrustum:null!=(s=!(null!=(i=this.processor)&&i.frustumVisibilitySuspended))&&s}}};e([t()],d.prototype,\"loadedGraphics\",null),e([t({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([t()],d.prototype,\"layer\",void 0),e([t({readOnly:!0})],d.prototype,\"processor\",void 0),e([t({type:Boolean})],d.prototype,\"slicePlaneEnabled\",void 0),d=e([o(\"esri.views.3d.layers.GraphicsLayerView3D\")],d);const h=d;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{project as o}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const s=l.view.spatialReference,i=l.layer.fullExtent,n=e(i)&&i.spatialReference;if(r(i)||!n)return Promise.resolve(null);if(n.equals(s))return Promise.resolve(i.clone());const a=o(i,s);return e(a)?Promise.resolve(a):l.view.state.isLocal?t(i,s,l.layer.portalItem).then((e=>!l.destroyed&&e?e:void 0)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n"],"names":["d","n","c","constructor","super","arguments","this","type","slicePlaneEnabled","drapeSourceType","a","fullExtentInLocalViewSpatialReference","initialize","_set","l","owner","scaleVisibilityEnabled","frustumVisibilityEnabled","addResolvingPromise","processor","setup","handles","add","layer","on","e","graphicsCore","graphicUpdateHandler","p","then","internal","notifyChange","i","r","view","basemapTerrain","ready","once","destroy","removeAll","updatingHandles","loadedGraphics","graphics","legendEnabled","canResume","frustumVisibilitySuspended","getSuspendInfo","s","t","outsideScaleRange","scaleVisibilitySuspended","outsideOfView","clientGraphics","getGraphicFromGraphicUid","whenGraphicBounds","computeAttachmentOrigin","getSymbolLayerSize","queryGraphics","Promise","resolve","maskOccludee","highlight","updatePolicy","effectiveUpdatePolicy","u","isUpdating","updating","performanceInfo","displayedNumberOfFeatures","length","maximumNumberOfFeatures","totalNumberOfFeatures","nodes","core","elevationUpdating","elevationAlignment","visibilityFrustum","prototype","readOnly","Boolean","o","h","spatialReference","fullExtent","equals","clone","state","isLocal","portalItem","destroyed","catch"],"sourceRoot":""}