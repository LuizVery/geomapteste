{"version":3,"file":"static/js/3952.d0f30678.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/support/PBFDecoder.js","../node_modules/@arcgis/core/views/3d/layers/support/featureTileQuery3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DLayerViewContext.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js","../node_modules/@arcgis/core/views/layers/FeatureLayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{isSome as r}from\"../../../core/maybe.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import t from\"../../../geometry/SpatialReference.js\";import s from\"../../../layers/support/Field.js\";class i{constructor(e){this._schedule=e,this._handle=new n(e)}destroy(){this._handle.destroy()}invoke(o,i){return o.buffer&&0!==o.buffer.byteLength?(o.options.sourceSpatialReference&&o.options.sourceSpatialReference instanceof t&&(o.options={...o.options,sourceSpatialReference:o.options.sourceSpatialReference.toJSON()}),this._handle.invoke(o,i).then((o=>this._schedule((()=>{if(o.spatialReference=t.fromJSON(o.spatialReference),o.fields)for(let e=0;e<o.fields.length;e++)o.fields[e]=s.fromJSON(o.fields[e]);const i=o.spatialReference;for(const t of o.features)t.uid=e.generateUID(),r(t.geometry)&&(t.geometry.spatialReference=i);return o}))))):Promise.resolve(null)}}class n extends o{constructor(e){super(\"PBFDecoderWorker\",\"_parseFeatureQuery\",e)}getTransferList(e){return[e.buffer]}}export{i as PBFDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isNone as t,isSome as s,destroyMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAborted as u,createAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromFeatureSetJSON as l}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{runQuery as p,executeQuery as n}from\"../../../../rest/query/operations/query.js\";import{PBFDecoder as c}from\"../../support/PBFDecoder.js\";let d=class extends r{constructor(e){super(e)}get queryFeaturesDehydrated(){const e=this.layer.capabilities,r=e&&e.query;if(r&&r.supportsFormatPBF){var o,y;t(this._decoder)&&(this._decoder=new c(this.schedule));const e={sourceSpatialReference:null!=(o=null==(y=this.layer.spatialReference)?void 0:y.toJSON())?o:null,applyTransform:!0,maxStringAttributeLength:1024};return(r,t)=>p(this.layer.parsedUrl,r,\"pbf\",this._createRequestOptions(t)).then((r=>(u(t),s(this._decoder)?this._decoder.invoke({buffer:r.data,options:e},t.signal):Promise.reject(a()))))}return(e,r)=>n(this.layer.parsedUrl,e,this.layer.spatialReference,this._createRequestOptions(r)).then((e=>l(e.data)))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}destroy(){this._decoder=o(this._decoder)}_createRequestOptions(e){return{...e,query:{...this.layer.customParameters,token:this.layer.apiKey,...null==e?void 0:e.query}}}};e([y({constructOnly:!0})],d.prototype,\"layer\",void 0),e([y({constructOnly:!0})],d.prototype,\"schedule\",void 0),e([y({readOnly:!0})],d.prototype,\"queryFeaturesDehydrated\",null),d=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],d);let h=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};e([y({constructOnly:!0})],h.prototype,\"layer\",void 0),e([y({readOnly:!0})],h.prototype,\"queryFeaturesDehydrated\",null),h=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceMeshQuery3D\")],h);let m=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}};e([y({constructOnly:!0})],m.prototype,\"layer\",void 0),m=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],m);let f=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.source.queryFeaturesJSON(e,r).then(l,(t=>{if(t&&\"query-features-json:unsupported\"===t.name)return this.layer.queryFeatures(e,r);throw t}))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};function q(e,r){return\"feature\"===e.type&&\"feature-layer\"===e.source.type?s(e.infoFor3D)?new h({layer:e}):new d({layer:e,schedule:r}):\"feature\"===e.type&&\"memory\"===e.source.type||\"csv\"===e.type||\"geojson\"===e.type||\"wfs\"===e.type?new f({layer:e,source:e.source}):\"ogc-feature\"===e.type?new m({layer:e}):null}e([y({constructOnly:!0})],f.prototype,\"layer\",void 0),e([y({constructOnly:!0})],f.prototype,\"source\",void 0),f=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D\")],f);export{q as createFeatureTileQuery3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e,isSome as r}from\"../../../../core/maybe.js\";import{contextCapabilitiesFromLayer as t}from\"./FeatureTileFetcher3D.js\";import{createFeatureTileQuery3D as i}from\"./featureTileQuery3D.js\";class l{constructor(e){this._memoryCache=null,this._capabilities=null;const r=e.layerView.layer;this.layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this.returnZ=e.returnZ,this.returnM=e.returnM;const t=this.layerView.view.resourceController;this.query=i(r,(e=>t.schedule(e))),t&&this.memoryCacheEnabled&&(this._memoryCache=t.memoryController.newCache(r.uid))}get memoryCacheEnabled(){switch(this.layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":return!0;case\"csv\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this.layerView.layer.createQuery();return e.outFields=this.layerView.availableFields,e.returnZ=this.returnZ,e.returnM=this.returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this.layerView.view.state.viewingMode}get tilingScheme(){return this.layerView.view.featureTiles.tilingScheme}get scheduler(){const e=this.layerView.view.resourceController;return e?e.scheduler:null}get geometryType(){return this.layerView.layer.geometryType}get fullExtent(){return this.layerView.layer.fullExtent}get tileMaxRecordCount(){return this.layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this.layerView.layer.capabilities.query.maxRecordCount}get capabilities(){return r(this._capabilities)||(this._capabilities=t(this.layerView.layer)),this._capabilities}logFetchError(e,r){e.error(\"#fetchTile()\",this.layerView.layer,r&&r.message?r.message:r)}}export{l as FeatureTileFetcher3DLayerViewContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as t,isNone as s,isSome as o}from\"../../../core/maybe.js\";import{watch as i,initial as a,when as l,syncAndInitial as n}from\"../../../core/reactiveUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGeometry as c}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as m}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import{FeatureLikeLayerView3D as d}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as h}from\"./LayerView3D.js\";import{FeatureTileFetcher3DLayerViewContext as y}from\"./support/FeatureTileFetcher3DLayerViewContext.js\";import{EventedSet as f}from\"../support/EventedSet.js\";import{updatingProgress as g}from\"../support/updatingProperties.js\";import{UpdatePolicy as v}from\"../webgl-engine/lib/basicInterfaces.js\";import{FeatureLayerView as F}from\"../../layers/FeatureLayerView.js\";import b from\"../../layers/LayerView.js\";import{RefreshableLayerView as x}from\"../../layers/RefreshableLayerView.js\";let M=class extends(x(d(F(h(b))))){constructor(e){super(e),this._controllerTotal=0,this._processorTotal=0,this.suspendResumeExtentMode=\"data\"}initialize(){this.updatingHandles.add((()=>this.view.floors),(()=>this.processor.filterVisibility.filterChanged())),this.handles.add(i((()=>this._updatingRequiredFieldsPromise),(e=>this.updatingHandles.addPromise(e)),n))}destroy(){this.updatingHandles.removeAll(),this.handles.removeAll(),this.fetcherContext=t(this.fetcherContext)}get maximumNumberOfFeatures(){var e,r;return null!=(e=null==(r=this.controller)?void 0:r.maximumNumberOfFeatures)?e:this._get(\"maximumNumberOfFeatures\")}set maximumNumberOfFeatures(e){this._set(\"maximumNumberOfFeatures\",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}get maximumNumberOfFeaturesExceeded(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}get updatingProgressValue(){var e,r;let t=0;if(null!=(e=this.controller)&&e.updating){const e=this.controller.updatingRemaining,r=Math.max(this.controller.updatingTotal,this._controllerTotal);r>0&&(t=(r-e)/r,this._controllerTotal=r)}let s=0;if(null!=(r=this.processor)&&r.updating){const e=this.processor.updatingRemaining,r=Math.max(e,this._processorTotal);r>0&&(s=(r-e)/r,this._processorTotal=r)}return.5*(t+s)}get updatePolicy(){if(!this.controller)return v.ASYNC;switch(this.controller.mode){case\"snapshot\":{const e=j[this.layer.geometryType];return null==e||this.controller.serviceDataCount>e?v.ASYNC:v.SYNC}case\"tiles\":return v.ASYNC}}get hasZ(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsZ)&&(\"returnZ\"in e&&null!=e.returnZ?e.returnZ:r.supportsZ)}get hasM(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsM)&&(\"returnM\"in e&&null!=e.returnM&&e.returnM)}setVisibility(e,r){var t;null==(t=this.processor)||t.setObjectIdVisibility(e,r)}createQuery(){return super.createQuery()}queryFeatures(e,r){const t=()=>super.queryFeatures(e,r);return\"mesh\"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),t):t()}beforeSetController(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}createController(){this.fetcherContext=new y({layerView:this,returnZ:this.hasZ,returnM:this.hasM});const e=new m({layerView:this,context:this.fetcherContext,graphics:new f,extent:this.clippingExtent});return this.updatingHandles.add((()=>e.serviceDataExtent),(e=>{this.processor&&(this.processor.dataExtent=e)}),a),this.handles.add(i((()=>this.suspended),(r=>{r?e.suspend():e.resume()}),n)),this.updatingHandles.add((()=>{var e;return null==(e=this.processor)?void 0:e.displayFeatureLimit}),(r=>e.displayFeatureLimit=r),a),this.handles.add(l((()=>!this.updating),(()=>{this._controllerTotal=0,this._processorTotal=0}))),e}async doRefresh(e){e&&!this.suspended&&this.controller&&this.controller.refetch(),this.processor.filterVisibility.dirty=!0}getUsedMemory(){var e,r,t,s;return(null!=(e=null==(r=this.processor)?void 0:r.usedMemory)?e:0)+(null!=(t=null==(s=this.controller)?void 0:s.memoryForUnusedFeatures)?t:0)}getUnloadedMemory(){var e,r,t,s,o;return(null!=(e=null==(r=this.processor)?void 0:r.unprocessedMemoryEstimate)?e:0)+(null!=(t=(null==(s=this.controller)?void 0:s.expectedFeatureDiff)*(null==(o=this.processor)?void 0:o.usedMemoryPerFeature))?t:0)}ignoresMemoryFactor(){var e;return null==(e=this.controller)?void 0:e.hasMaximumNumberOfFeaturesOverride}async _queryFeaturesMesh(e,r){await this._validateQueryFeaturesMesh(e);const t=await r();if(e&&e.outStatistics||s(this.graphics3DProcessor))return t;const o=this.layer.objectIdField,i=this.graphics3DProcessor.graphics3DGraphicsByObjectID,a=[];for(const s of t.features)if(s.geometry){const e=i.get(s.attributes[o]);e&&(s.geometry=c(e.graphic.geometry),a.push(s))}else a.push(s);return t.features=a,t}async _validateQueryFeaturesMesh(e){if(!e)return;const t=e=>{throw new r(\"feature-layer-view:unsupported-query\",`Queries on Mesh feature collection layers do not support '${e}'`)},s=[\"quantizationParameters\",\"geometryPrecision\",\"maxAllowableOffset\"];for(const r of s)null!=e[r]&&t(r);\"returnM\"in e&&e.returnM&&t(\"returnM\"),\"returnCentroid\"in e&&e.returnCentroid&&t(\"returnCentroid\"),o(e.outSpatialReference)&&!e.outSpatialReference.equals(this.view.spatialReference)&&t(\"outSpatialReference\")}get performanceInfo(){var e,r,t,s,i;const a=null==(e=this.controller)?void 0:e.displayFeatureLimit,l=o(a)&&a.averageSymbolComplexity,n=o(l)?`f:${l.primitivesPerFeature},v:${l.primitivesPerCoordinate}`:\"n/a\",u={...this._getResourceInfo(),storedFeatures:0,totalVertices:0,partial:this.maximumNumberOfFeaturesExceeded,mode:null!=(r=null==(t=this.controller)?void 0:t.mode)?r:\"n/a\",symbolComplexity:n,nodes:null!=(s=null==(i=this.controller)?void 0:i.tileDescriptors.length)?s:0};if(this.controller&&u.displayedNumberOfFeatures){const e=this.controller.debug;u.storedFeatures=e.storedFeatures,u.totalVertices=e.totalVertices}return u}get test(){return{updatePolicy:this.updatePolicy,controller:this.controller}}};e([u()],M.prototype,\"layer\",void 0),e([u()],M.prototype,\"controller\",void 0),e([u()],M.prototype,\"_controllerTotal\",void 0),e([u()],M.prototype,\"_processorTotal\",void 0),e([u()],M.prototype,\"maximumNumberOfFeatures\",null),e([u()],M.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([u(g)],M.prototype,\"updatingProgress\",void 0),e([u({readOnly:!0})],M.prototype,\"updatingProgressValue\",null),e([u({readOnly:!0})],M.prototype,\"updatePolicy\",null),e([u({readOnly:!0})],M.prototype,\"hasZ\",null),e([u({readOnly:!0})],M.prototype,\"hasM\",null),e([u()],M.prototype,\"suspendResumeExtentMode\",void 0),M=e([p(\"esri.views.3d.layers.FeatureLayerViewBase3D\")],M);const j={point:5e3,polygon:500,polyline:1e3},w=M;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{deprecatedProperty as t}from\"../../core/deprecate.js\";import r from\"../../core/Error.js\";import i from\"../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../core/maybe.js\";import{eachAlways as a}from\"../../core/promiseUtils.js\";import{init as n,on as l}from\"../../core/watchUtils.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as f}from\"../../layers/support/commonProperties.js\";import d from\"../../layers/support/FeatureEffect.js\";import c from\"../../layers/support/FeatureFilter.js\";import{fixFields as m,unpackFieldNames as y,collectLabelingFields as h,collectElevationFields as F,collectFilterFields as w,collectFeatureReductionFields as g,collectOrderByInfos as E,collectFields as x,collectField as v,featureHasFields as b}from\"../../layers/support/fieldUtils.js\";import j from\"../../rest/support/Query.js\";import{loadArcade as R}from\"../../support/arcadeOnDemand.js\";import{getFetchPopupTemplate as q,getRequiredFields as I}from\"./support/popupUtils.js\";import{getFloorFilterClause as _}from\"../support/floorFilterUtils.js\";const P=i.getLogger(\"esri.views.layers.FeatureLayerView\"),O=i=>{let O=class extends i{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){n(this,[\"layer.renderer\",\"layer.labelingInfo\",\"layer.elevationInfo.featureExpressionInfo\",\"layer.displayField\",\"filter\",\"featureEffect\",\"layer.timeInfo\",\"layer.floorInfo\",\"timeExtent\"],(()=>this._handleRequiredFieldsChange()),!0),l(this,\"view.floors\",\"change\",(()=>this._handleRequiredFieldsChange())),l(this,\"layer.sublayer\",\"change\",(()=>this._handleRequiredFieldsChange()))}get availableFields(){const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?m(t,[...y(t,e.outFields),...r]):m(t,r)}set effect(e){t(P,\"effect\",{replacement:\"featureEffect\",version:\"4.22\"}),this.featureEffect=e}get effect(){return t(P,\"effect\",{replacement:\"featureEffect\",version:\"4.22\"}),this.featureEffect}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){void 0!==e?this._override(\"featureEffect\",e):this._clearOverride(\"featureEffect\")}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){P.error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=s(this.filter)?this.filter.createQuery(e):new j(e);if(\"feature\"===this.layer.type){const e=_(this);s(e)&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return s(this.timeExtent)&&(t.timeExtent=s(t.timeExtent)?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeatures(e,t){const r=this.validateFetchPopupFeatures(t);if(r)throw r;return this.fetchClientPopupFeatures(t)}_loadArcadeModules(e){if(e.get(\"expressionInfos.length\")||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type)))return R()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set(\"_updatingRequiredFieldsPromise\",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set(\"_updatingRequiredFieldsPromise\",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:t,layer:{fieldsIndex:r,objectIdField:i}}=this,o=\"renderer\"in t&&t.renderer,n=\"orderBy\"in t&&t.orderBy,l=t.featureReduction,u=new Set,p=await a([o?o.collectRequiredFields(u,r):null,h(u,t),e?F(u,t):null,s(this.filter)?w(u,t,this.filter):null,s(this.featureEffect)?w(u,t,this.featureEffect.filter):null,l?g(u,t,l):null,n?E(u,t,n):null]);if(t.timeInfo&&this.timeExtent&&x(u,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),\"feature\"===t.type&&t.floorInfo&&x(u,t.fieldsIndex,[t.floorInfo.floorField]),\"subtype-group\"===t.type){v(u,r,t.subtypeField);const e=t.sublayers.map((e=>{var t;return Promise.all([null==(t=e.renderer)?void 0:t.collectRequiredFields(u,r),h(u,e)])}));await a(e)}for(const s of p)s.error&&P.error(s.error);v(u,r,i),e&&\"displayField\"in t&&t.displayField&&v(u,r,t.displayField);const f=Array.from(u).sort();this._set(\"requiredFields\",f)}validateFetchPopupFeatures(e){if(o(e))return null;for(const t of e.clientGraphics){const i=t.layer;if(\"popupEnabled\"in i&&!i.popupEnabled)return new r(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:i});if(\"popupTemplate\"in i){if(!q(i,e))return new r(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:i})}if(t.isAggregate&&!(i.featureReduction&&\"popupTemplate\"in i.featureReduction&&i.featureReduction.popupEnabled&&i.featureReduction.popupTemplate))return new r(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:i})}}async fetchClientPopupFeatures(e){const t=s(e)?e.clientGraphics:null;if(!t||0===t.length)return[];const r=new Array(t.length),i=new Map,o=await this.createPopupQuery(e);for(let a=0;a<t.length;a++){const n=t[a];if(n.isAggregate){r[a]=n;continue}const{layer:l}=n;if(!(\"popupEnabled\"in l))continue;const u=y(this.layer.fieldsIndex,o.outFields),p=q(l,e);if(!s(p))continue;const f=await this._loadArcadeModules(p);f&&f.arcadeUtils.hasGeometryOperations(p)||!b(u,n)?i.set(n.getObjectId(),a):r[a]=n}if(\"stream\"===this.layer.type||0===i.size)return r.filter(Boolean);o.objectIds=Array.from(i.keys());try{const e=await this.layer.queryFeatures(o);for(const t of e.features){r[i.get(t.getObjectId())]=t}}catch{}return r.filter(Boolean)}async createPopupQuery(e){const t=this.layer.createQuery(),r=new Set;let i=!1;const o=s(e)&&e.clientGraphics?e.clientGraphics.map((e=>e.layer)):[this.layer];for(const a of o){if(!(\"popupEnabled\"in a))continue;const t=q(a,e);if(!s(t))continue;const o=await this._loadArcadeModules(t),n=o&&o.arcadeUtils.hasGeometryOperations(t);i=!(\"point\"!==this.layer.geometryType&&!n);const l=await I(this.layer,t);for(const e of l)r.add(e)}if(t.returnGeometry=i,t.returnZ=i,t.returnM=i,t.outFields=Array.from(r),t.outSpatialReference=this.view.spatialReference,\"feature\"===this.layer.type){const e=_(this);s(e)&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return t}canResume(){return!!super.canResume()&&(!s(this.timeExtent)||!this.timeExtent.isEmpty)}};return e([u()],O.prototype,\"_updatingRequiredFieldsPromise\",void 0),e([u({readOnly:!0})],O.prototype,\"availableFields\",null),e([u()],O.prototype,\"effect\",null),e([u({type:d})],O.prototype,\"featureEffect\",null),e([u({type:c})],O.prototype,\"filter\",void 0),e([u(f)],O.prototype,\"timeExtent\",void 0),e([u()],O.prototype,\"layer\",void 0),e([u({type:Number})],O.prototype,\"maximumNumberOfFeatures\",null),e([u({readOnly:!0,type:Boolean})],O.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([u({readOnly:!0})],O.prototype,\"requiredFields\",void 0),e([u()],O.prototype,\"suspended\",void 0),e([u()],O.prototype,\"view\",void 0),O=e([p(\"esri.views.layers.FeatureLayerView\")],O),O};export{O as FeatureLayerView,O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as RefreshableLayerView,i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n"],"names":["i","constructor","e","this","_schedule","_handle","n","destroy","invoke","o","buffer","byteLength","options","sourceSpatialReference","t","toJSON","then","spatialReference","fields","length","s","features","uid","r","geometry","Promise","resolve","super","getTransferList","d","queryFeaturesDehydrated","layer","capabilities","query","supportsFormatPBF","y","_decoder","c","schedule","applyTransform","maxStringAttributeLength","p","parsedUrl","_createRequestOptions","u","data","signal","reject","a","l","queryFeatureCount","customParameters","token","apiKey","constructOnly","prototype","readOnly","h","queryFeatures","m","f","source","queryFeaturesJSON","name","_memoryCache","_capabilities","layerView","objectIdField","globalIdField","returnZ","returnM","view","resourceController","type","infoFor3D","memoryCacheEnabled","memoryController","newCache","createQuery","outFields","availableFields","outSpatialReference","tilingScheme","memoryCache","viewingMode","state","featureTiles","scheduler","geometryType","fullExtent","tileMaxRecordCount","maxRecordCount","logFetchError","error","message","M","x","F","b","_controllerTotal","_processorTotal","suspendResumeExtentMode","initialize","updatingHandles","add","floors","processor","filterVisibility","filterChanged","handles","_updatingRequiredFieldsPromise","addPromise","removeAll","fetcherContext","maximumNumberOfFeatures","controller","_get","_set","maximumNumberOfFeaturesExceeded","suspended","updatingProgressValue","updating","updatingRemaining","Math","max","updatingTotal","updatePolicy","v","mode","j","serviceDataCount","hasZ","supportsZ","hasM","supportsM","setVisibility","setObjectIdVisibility","_queryFeaturesMesh","_ensureQuery","beforeSetController","createController","context","graphics","extent","clippingExtent","serviceDataExtent","dataExtent","suspend","resume","displayFeatureLimit","refetch","dirty","getUsedMemory","usedMemory","memoryForUnusedFeatures","getUnloadedMemory","unprocessedMemoryEstimate","expectedFeatureDiff","usedMemoryPerFeature","ignoresMemoryFactor","hasMaximumNumberOfFeaturesOverride","_validateQueryFeaturesMesh","outStatistics","graphics3DProcessor","graphics3DGraphicsByObjectID","get","attributes","graphic","push","returnCentroid","equals","performanceInfo","averageSymbolComplexity","primitivesPerFeature","primitivesPerCoordinate","_getResourceInfo","storedFeatures","totalVertices","partial","symbolComplexity","nodes","tileDescriptors","displayedNumberOfFeatures","debug","test","g","point","polygon","polyline","w","P","O","filter","timeExtent","requiredFields","_handleRequiredFieldsChange","fieldsIndex","effect","replacement","version","featureEffect","_override","_clearOverride","highlight","Error","returnGeometry","_","where","intersection","clone","queryObjectIds","queryExtent","validateFetchPopupFeatures","fetchClientPopupFeatures","_loadArcadeModules","Array","isArray","content","some","R","_updateRequiredFields","renderer","orderBy","featureReduction","Set","collectRequiredFields","E","timeInfo","startField","endField","floorInfo","floorField","subtypeField","sublayers","map","all","displayField","from","sort","clientGraphics","popupEnabled","q","isAggregate","popupTemplate","Map","createPopupQuery","arcadeUtils","hasGeometryOperations","set","getObjectId","size","Boolean","objectIds","keys","I","canResume","isEmpty","Number","doRefresh","dataChanged","catch","declaredClass","async","getRequiredFields","lastEditInfoEnabled","typeIdField","relationships","includes","has","indexOf","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}