{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","../node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/geojson/GeoJSONSourceWorker.js","../node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","../node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js"],"names":["m","e","this","geometryInfo","_boundsStore","h","_featuresById","Map","_markedIds","Set","events","t","featureAdapter","u","geometryType","hasM","hasZ","size","numFeatures","a","d","forEach","r","get","objectId","Math","min","max","s","geometry","coords","length","featureCount","vertexCount","_add","_emitChanged","clear","_remove","invalidateIndex","i","has","forEachInBounds","emit","add","displayId","delete","onFeatureAdd","o","set","n","getLogger","error","feature","onFeatureRemove","c","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","type","features","f","coordinates","objectIdField","l","properties","id","y","p","push","S","g","b","j","G","w","P","F","lengths","M","I","data","crs","name","code","RegExp","test","T","Number","NEGATIVE_INFINITY","Object","keys","filter","alias","fields","maxObjectId","objectIdFieldName","objectIdFieldType","unknownFields","Array","from","k","description","globalId","success","uniqueId","message","details","field","originalValue","sanitizedValue","editable","parseFloat","String","TypeError","simplify","D","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","O","_queryEngine","destroy","_requiredFields","_fieldsIndex","_createDefaultAttributes","_checkProjection","spatialReference","url","responseType","_","E","q","timeInfo","some","nullable","unshift","jsonValues","indexOf","R","x","startTimeField","endTimeField","trackIdField","Q","warnings","featureErrors","layerDefinition","drawingInfo","templates","extent","featureStore","cacheSpatialQueries","_nextObjectId","_loadInitialFeatures","Promise","all","adds","updates","_applyEdits","executeQuery","signal","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","attributes","_assignObjectId","addMany","fullExtent","timeExtent","start","end","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","removeManyById","featureEditResults","uid","getFeature","isFinite","compareMinX","compareMinY","toBBox","_maxEntries","_minEntries","ceil","_initFormat","prune","X","Y","B","_all","children","leaf","pop","insert","_build","slice","height","_splitRoot","_insert","indexHint","splice","_condense","pushArray","log","sqrt","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","console","_allDistMargin","sort","Function","join","minX","minY","maxX","maxY","deallocator","arguments","renderer","symbol","JSON","stringify","prototype","attachment","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","query","queryRelated","supportsCount","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","getObjectId","getAttributes","getAttribute","cloneWithGeometry","getGeometry","getCentroid","centroid","_indexInvalid","_boundsToLoad","_boundsById","_idByBounds","_index","_loadIndex","load","remove","search"],"mappings":"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","file":"static/js/80.9004b240.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Evented.js\";import r from\"../../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import{fromRect as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as a,NEGATIVE_INFINITY as d}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as n}from\"../featureConversionUtils.js\";import{BoundsStore as h}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as u}from\"./optimizedFeatureQueryEngineAdapter.js\";class m{constructor(e){this.geometryInfo=e,this._boundsStore=new h,this._featuresById=new Map,this._markedIds=new Set,this.events=new t,this.featureAdapter=u}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=a(d);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{s(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(i(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(t){if(!t)return;const i=t.objectId;if(null==i)return void r.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new e(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:t}));const d=this._featuresById.get(i);let h;if(this._markedIds.add(i),d?(t.displayId=d.displayId,h=this._boundsStore.get(i),this._boundsStore.delete(i)):s(this.onFeatureAdd)&&this.onFeatureAdd(t),o(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,t);h=n(s(h)?h:a(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),s(h)&&this._boundsStore.set(i,h),this._featuresById.set(i,t)}_remove(e){return s(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";const o={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function r(e){return o[e]}function*i(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*s(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*c(e,o={}){const{geometryType:i,objectIdField:s}=o;for(const u of e){var c;const{geometry:e,properties:l,id:f}=u;if(e&&r(e.type)!==i)continue;const a=l||{};let y=null!=(c=a[s])?c:null;s&&null!=f&&!a[s]&&(a[s]=y=f);const d=new t(e?p(new n,e,o):null,a,null,y);yield d}}function u(e){for(const t of e)if(t.length>2)return!0;return!1}function l(e){return!a(e)}function f(e){return a(e)}function a(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function y(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function p(e,t,n){switch(t.type){case\"LineString\":return d(e,t,n);case\"MultiLineString\":return g(e,t,n);case\"MultiPoint\":return m(e,t,n);case\"MultiPolygon\":return h(e,t,n);case\"Point\":return w(e,t,n);case\"Polygon\":return P(e,t,n)}}function d(e,t,n){return S(e,t.coordinates,n),e}function g(e,t,n){for(const o of t.coordinates)S(e,o,n);return e}function m(e,t,n){return S(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates){b(e,o[0],n);for(let t=1;t<o.length;t++)j(e,o[t],n)}return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){const o=t.coordinates;b(e,o[0],n);for(let r=1;r<o.length;r++)j(e,o[r],n);return e}function b(e,t,n){const o=y(t);l(o)?F(e,o,n):S(e,o,n)}function j(e,t,n){const o=y(t);f(o)?F(e,o,n):S(e,o,n)}function S(e,t,n){for(const o of t)G(e,o,n);e.lengths.push(t.length)}function F(e,t,n){for(let o=t.length-1;o>=0;o--)G(e,t[o],n);e.lengths.push(t.length)}function G(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function M(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function I(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function T(e,t={}){const n=[],o=new Set,c=new Set;let l,f=!1,a=Number.NEGATIVE_INFINITY,y=null,p=!1,{geometryType:d=null}=t,g=!1;for(const h of i(e)){const{geometry:e,properties:t,id:i}=h;if(!e||(d||(d=r(e.type)),r(e.type)===d)){if(!f){f=u(s(e))}if(p||(p=null!=i,p&&(l=typeof i,\"number\"===l&&(y=Object.keys(t).filter((e=>t[e]===i))))),p&&\"number\"===l&&null!=i&&(a=Math.max(a,i),y.length>1?y=y.filter((e=>t[e]===i)):1===y.length&&(y=t[y[0]]===i?y:[])),!g&&t){let e=!0;for(const r in t){if(o.has(r))continue;const i=t[r];if(null==i){e=!1,c.add(r);continue}const s=M(i);\"unknown\"!==s?(c.delete(r),o.add(r),n.push({name:r,alias:r,type:s})):c.add(r)}g=e}}}const m=y&&1===y.length&&y[0]||null;if(m)for(const r of n)r.name===m&&(r.type=\"esriFieldTypeOID\");return{fields:n,geometryType:d,hasZ:f,maxObjectId:Math.max(0,a),objectIdFieldName:m,objectIdFieldType:l,unknownFields:Array.from(c)}}function k(e,t){return Array.from(c(i(e),t))}export{k as createOptimizedFeatures,r as getGeometryType,T as inferLayerProperties,I as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isValid as t}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{sanitizeNullFieldValue as e,validateFieldValue as n,validationErrorToString as i,isNumericField as r,isStringField as s}from\"../../../support/fieldUtils.js\";class o{constructor(){this.code=null,this.description=null}}class l{constructor(t){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function u(t){return new l(t)}class a{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new a(t)}const f=new Set;function d(t,e,r,s,o=!1,l){f.clear();for(const a in r){const s=t.get(a);if(!s)continue;const c=r[a],d=m(s,c);if(d!==c&&l&&l.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:s,originalValue:c,sanitizedValue:d}}),f.add(s.name),s&&(o||s.editable)){const t=n(s,d);if(t)return u(i(t,s,d));e[s.name]=d}}if(s)for(const n of s)if(!f.has(n.name))return u(`missing required field \"${n.name}\"`);return null}function m(t,n){let i=n;return\"string\"==typeof n&&r(t)?i=parseFloat(n):null!=n&&s(t)&&\"string\"!=typeof n&&(i=String(n)),e(i)}let p;function h(e,n){if(!e||!t(n))return e;if(\"rings\"in e||\"paths\"in e){if(!p)throw new TypeError(\"geometry engine not loaded\");return p.simplify(n,e)}return e}async function g(){return p||(p=await import(\"../../../../geometry/geometryEngineJSON.js\"),p)}async function y(e,n){!t(e)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await g()}export{u as createFeatureEditErrorResult,c as createFeatureEditSuccessResult,g as loadGeometryEngine,y as loadGeometryEngineForSimplify,d as mixAttributes,h as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import t from\"../../../../core/Error.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{getJsonType as s}from\"../../../../geometry/support/jsonUtils.js\";import{WGS84 as n,equals as r}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as a,convertToGeometry as o,convertFromFeatures as l,convertToFeature as u,convertFromFeature as d}from\"../../featureConversionUtils.js\";import p from\"../../data/FeatureStore.js\";import{project as y,checkProjectionSupport as f}from\"../../data/projectionSupport.js\";import m from\"../../data/QueryEngine.js\";import{validateGeoJSON as c,inferLayerProperties as h,createOptimizedFeatures as g}from\"./geojson.js\";import{createDrawingInfo as I,createDefaultTemplate as F,createDefaultAttributesFunction as b}from\"../support/clientSideDefaults.js\";import{loadGeometryEngineForSimplify as j,mixAttributes as _,createFeatureEditSuccessResult as E,createFeatureEditErrorResult as T,simplify as q}from\"../support/sourceUtils.js\";import x from\"../../../support/FieldsIndex.js\";import{kebabDict as w}from\"../../../support/fieldType.js\";import{getFieldDefaultValue as R}from\"../../../support/fieldUtils.js\";const D={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class O{constructor(){this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null}async load(s){const l=[];await this._checkProjection(s.spatialReference);let u=null;if(s.url){u=(await e(s.url,{responseType:\"json\"})).data,await c(u)}const d=h(u,{geometryType:s.geometryType}),f=s.fields||d.fields||[],j=null!=s.hasZ?s.hasZ:d.hasZ,_=d.geometryType,E=s.objectIdField||(\"number\"===d.objectIdFieldType?d.objectIdFieldName:\"OBJECTID\")||\"OBJECTID\",T=s.spatialReference||n;let q=s.timeInfo;if(\"string\"===d.objectIdFieldType&&l.push({name:\"geojson-layer:unsupported-id-type\",message:\"Feature ids are of type string and can't be honored.\"}),f===d.fields&&d.unknownFields.length>0&&l.push({name:\"geojson-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:d.unknownFields}}),E){let e=null;f.some((t=>t.name===E&&(e=t,!0)))?(e.type=\"esriFieldTypeOID\",e.editable=!1,e.nullable=!1):f.unshift({alias:E,name:E,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}for(const e of f){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),!e.name)throw new t(\"geojson-layer:invalid-field-name\",\"field name is missing\",{field:e});if(e.name===E&&(e.type=\"esriFieldTypeOID\"),-1===w.jsonValues.indexOf(e.type))throw new t(\"geojson-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}const O={};this._requiredFields=[];for(const e of f)if(\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type){e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable;const t=R(e);e.nullable||void 0!==t?O[e.name]=t:this._requiredFields.push(e)}if(this._fieldsIndex=new x(f),q){if(q.startTimeField){const e=this._fieldsIndex.get(q.startTimeField);e?(q.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):q.startTimeField=null}if(q.endTimeField){const e=this._fieldsIndex.get(q.endTimeField);e?(q.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):q.endTimeField=null}if(q.trackIdField){const e=this._fieldsIndex.get(q.trackIdField);e?q.trackIdField=e.name:(q.trackIdField=null,l.push({name:\"geojson-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:q}}))}q.startTimeField||q.endTimeField||(l.push({name:\"geojson-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:q}}),q=null)}const S=_?I(_):null,Q={warnings:l,featureErrors:[],layerDefinition:{...D,drawingInfo:S,templates:F(O),extent:null,geometryType:_,objectIdField:E,fields:f,hasZ:!!j,timeInfo:q}};this._queryEngine=new m({fields:f,geometryType:_,hasM:!1,hasZ:j,objectIdField:E,spatialReference:T,timeInfo:q,featureStore:new p({geometryType:_,hasM:!1,hasZ:j}),cacheSpatialQueries:!0}),this._createDefaultAttributes=b(O,E),this._nextObjectId=d.maxObjectId+1;const k=g(u,{geometryType:_,hasZ:j,objectIdField:\"number\"===d.objectIdFieldType?E:null});if(!r(T,n))for(const e of k)i(e.geometry)&&(e.geometry=a(y(o(e.geometry,_,j,!1),n,T)));return this._loadInitialFeatures(Q,k),Q}async applyEdits(e){const{spatialReference:t,geometryType:i}=this._queryEngine;return await Promise.all([j(t,i),f(e.adds,t),f(e.updates,t)]),this._applyEdits(e)}queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}querySnapping(e,t={}){return this._queryEngine.executeQueryForSnapping(e,t.signal)}_loadInitialFeatures(e,t){const{featureStore:i,objectIdField:s}=this._queryEngine,n=[];for(const r of t){const t=this._createDefaultAttributes(),i=_(this._fieldsIndex,t,r.attributes,this._requiredFields,!0,e.warnings);i?e.featureErrors.push(i):(this._assignObjectId(t,r.attributes,!0),r.attributes=t,r.objectId=t[s],n.push(r))}if(i.addMany(n),e.layerDefinition.extent=this._queryEngine.fullExtent,e.layerDefinition.timeInfo){const{start:t,end:i}=this._queryEngine.timeExtent;e.layerDefinition.timeInfo.timeExtent=[t,i]}return e}_applyEdits(e){const{adds:t,updates:i,deletes:s}=e,n={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(n,t),i&&i.length&&this._applyUpdateEdits(n,i),s&&s.length){for(const e of s)n.deleteResults.push(E(e));this._queryEngine.featureStore.removeManyById(s)}return{fullExtent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:n}}_applyAddEdits(e,t){const{addResults:n}=e,{geometryType:r,hasM:a,hasZ:o,objectIdField:u,spatialReference:d,featureStore:p}=this._queryEngine,f=[];for(const l of t){if(l.geometry&&r!==s(l.geometry)){n.push(T(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),a=_(this._fieldsIndex,t,l.attributes,this._requiredFields);if(a)n.push(a);else{if(this._assignObjectId(t,l.attributes),l.attributes=t,null!=l.uid){const t=l.attributes[u];e.uidToObjectId[l.uid]=t}i(l.geometry)&&(l.geometry=y(q(l.geometry,d),l.geometry.spatialReference,d)),f.push(l),n.push(E(l.attributes[u]))}}p.addMany(l([],f,r,o,a,u))}_applyUpdateEdits({updateResults:e},t){const{geometryType:n,hasM:r,hasZ:a,objectIdField:o,spatialReference:l,featureStore:p}=this._queryEngine;for(const f of t){const{attributes:t,geometry:m}=f,c=t&&t[o];if(null==c){e.push(T(`Identifier field ${o} missing`));continue}if(!p.has(c)){e.push(T(`Feature with object id ${c} missing`));continue}const h=u(p.getFeature(c),n,a,r);if(i(m)){if(n!==s(m)){e.push(T(\"Incorrect geometry type.\"));continue}h.geometry=y(q(m,l),m.spatialReference,l)}if(t){const i=_(this._fieldsIndex,h.attributes,t,this._requiredFields);if(i){e.push(i);continue}}p.add(d(h,n,a,r,o)),e.push(E(c))}}_assignObjectId(e,t,i=!1){const s=this._queryEngine.objectIdField;i&&isFinite(t[s])?e[s]=t[s]:e[s]=this._nextObjectId++}async _checkProjection(e){try{await f(n,e)}catch{throw new t(\"geojson-layer\",\"Projection not supported\")}}}export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{assumeNonNull as n}from\"../../maybe.js\";import e from\"../../PooledArray.js\";import{q as s}from\"../../../chunks/quickselect.js\";class h{constructor(t=9,i){this.compareMinX=l,this.compareMinY=c,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this.toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),M.prune(),X.prune(),Y.prune(),B.prune()}all(t){this._all(this.data,t)}search(t,i){let n=this.data;const e=this.toBBox;if(p(t,n))for(M.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;p(t,a)&&(n.leaf?i(h):x(t,a)?this._all(h,i):M.push(h))}n=M.pop()}}collides(t){let i=this.data;const n=this.toBBox;if(!p(t,i))return!1;for(M.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(p(t,h)){if(i.leaf||x(t,h))return!0;M.push(s)}}i=M.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const t=this.data;this.data=i,i=t}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(i){if(!i)return this;let e,s=this.data,h=null,a=0,r=!1;const o=this.toBBox(i);for(Y.clear(),B.clear();s||Y.length>0;){var l;if(!s)s=n(Y.pop()),h=Y.data[Y.length-1],a=null!=(l=B.pop())?l:0,r=!0;if(s.leaf&&(e=t(s.children,i,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),Y.push(s),this._condense(Y),this;r||s.leaf||!x(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(Y.push(s),B.push(a),a=0,h=s,s=s.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){let n=t;for(X.clear();n;){var e;if(!0===n.leaf)for(const t of n.children)i(t);else X.pushArray(n.children);n=null!=(e=X.pop())?e:null}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this.toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));g(t,i,n,l,this.compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);g(t,a,i,o,this.compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1))}}return a(r,this.toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=d(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}_insert(t,i,n){const e=this.toBBox,s=n?t:e(t);Y.clear();const h=this._chooseSubtree(s,this.data,i,Y);for(h.children.push(t),o(h,s);i>=0&&Y.data[i].children.length>this._maxEntries;)this._split(Y,i),i--;this._adjustParentBBoxes(s,Y,i)}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log(\"  Error: assertion failed at PooledRBush._split: no valid split index\");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this.toBBox),a(o,this.toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,i){this.data=new j([t,i]),this.data.height=t.height+1,a(this.data,this.toBBox)}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this.toBBox),o=r(t,a,n,this.toBBox),l=f(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a)}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this.toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=u(h)+u(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=u(h)}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=u(a)}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t)}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const s=i.data[n-1],h=s.children;h.splice(t(h,e,h.length,s.indexHint),1)}else this.clear();else a(e,this.toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i){r(t,0,t.children.length,i,t)}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function f(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function x(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function g(t,i,e,h,a){const r=[i,e];for(;r.length;){const i=n(r.pop()),e=n(r.pop());if(i-e<=h)continue;const o=e+Math.ceil((i-e)/h/2)*h;s(t,o,e,i,a),r.push(e,o,o,i)}}const M=new e,X=new e,Y=new e,B=new e({deallocator:void 0});class _{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends _{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1}}export{_ as BBox,h as PooledRBush,h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as s}from\"../../../../core/lang.js\";import{queryCapabilities as e}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as p,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function u(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?p:o}}}function n(s,e){if(t(\"csp-restrictions\"))return()=>({[e]:null,...s});try{let t=`this.${e} = null;`;for(const e in s){t+=`this${e.indexOf(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(s[e])};`}const r=new Function(t);return()=>new r}catch(r){return()=>({[e]:null,...s})}}function i(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:s(t)}}]}function a(t,s){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:s,supportsDelete:s,supportsEditing:s,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:s,supportsExceedsLimitStatistics:!0},query:e,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:s,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{a as createCapabilities,n as createDefaultAttributesFunction,i as createDefaultTemplate,u as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getCentroidOptimizedGeometry as t}from\"../centroid.js\";import e from\"../OptimizedFeature.js\";import r from\"../OptimizedGeometry.js\";const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,r)=>new e(r,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(e,o)=>(e.centroid||(e.centroid=t(new r,e.geometry,o.hasZ,o.hasM)),e.centroid)};export{o as default,o as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport i from\"../../../core/has.js\";import{PooledRBush as s}from\"../../../core/libs/rbush/PooledRBush.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i,s,d){n.minX=s[0],n.minY=s[1],n.maxX=s[2],n.maxY=s[3],i.search(n,d)}class e{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s(9,i(\"csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),t(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{e as BoundsStore};\n"],"sourceRoot":""}