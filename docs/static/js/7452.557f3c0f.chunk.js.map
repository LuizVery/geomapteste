{"version":3,"file":"static/js/7452.557f3c0f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";var a;const p={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:l}}},read:!1}};function l(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}t&&t.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t}))})))}let c=a=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:n}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(p)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=p,r.readSublayers=l,r.forEachSublayer=e}(c||(c={}));const d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import{HandleOwnerMixin as t}from\"../../../core/HandleOwner.js\";import{IdentifiableMixin as s}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";const l=(l,n)=>{let u=class extends(i(t(s(r.EventedMixin(l))))){constructor(e){super(e),this.sublayer=null,this.parent=null,this.view=null}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!0===this.get(\"sublayer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.get(\"sublayer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.visible||!1}isUpdating(){return!1}};return e([o()],u.prototype,\"sublayer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"visible\",null),e([o()],u.prototype,\"fullOpacity\",null),u=e([p(\"esri.views.3d.layers.BuildingSublayerView3D\")],u),u};export{l as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{b as r}from\"../../../../chunks/vec4f64.js\";import{createMaterialFromEdges as o}from\"../support/edgeUtils.js\";import{ColorMixModeEnum as a}from\"../support/symbolColorUtils.js\";var l;!function(e){e[e.Solid=0]=\"Solid\",e[e.WireFrame=1]=\"WireFrame\",e[e.XRay=2]=\"XRay\"}(l||(l={}));const t=.15,i=.5*t;function c(e){switch(e.filterMode.type){case\"solid\":return{mode:l.Solid};case\"wire-frame\":return{mode:l.WireFrame,edgeMaterial:o(e.filterMode.edges,{})};case\"x-ray\":return{mode:l.XRay}}}function s(r,o){if(e(o))return r.color[3]=0,r.edgeMaterial=null,void(r.pickable=!1);switch(o.mode){case l.Solid:return;case l.WireFrame:return r.color[3]=0,r.edgeMaterial=o.edgeMaterial,void(r.pickable=!1);case l.XRay:return r.color[0]=1,r.color[1]=1,r.color[2]=1,r.color[3]*=t,r.colorMixMode=a.Replace,r.castShadows=!1,r.pickable=!1,void(r.edgeMaterial=d(r.edgeMaterial))}}function d(r){return e(r)?null:(u.lastMaterial!==r&&(u.cachedMaterial=n(r),u.lastMaterial=r),u.cachedMaterial)}function n(e){const o=r(e.color);return o[3]*=i,{...e,color:o}}const u={cachedMaterial:null,lastMaterial:null};export{l as FilterModeEnum,s as applyFilterMode,c as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";class o extends e{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(r){throw new Error(\"Not implemented\")}queryFeatures(r,e){throw new Error(\"Not implemented\")}queryObjectIds(r,e){throw new Error(\"Not implemented\")}queryFeatureCount(r,e){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(r,e){throw new Error(\"Not implemented\")}highlight(r){throw new Error(\"Not implemented\")}}r([t()],o.prototype,\"sublayer\",void 0),r([t()],o.prototype,\"availableFields\",null),r([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{applySome as s,isSome as l,isNone as o}from\"../../../core/maybe.js\";import{initial as n}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as d}from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import p from\"../../../layers/support/FeatureFilter.js\";import{fixFields as y,unpackFieldNames as h,populateMissingFields as c}from\"../../../layers/support/fieldUtils.js\";import f from\"../../../rest/support/Query.js\";import{BuildingSublayerView3DMixin as m}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as F}from\"./I3SMeshView3D.js\";import{ForAllFeaturesVisibilityMode as g}from\"./II3SMeshView3D.js\";import{applyFilterMode as b}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as w}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as v}from\"./i3s/I3SMeshViewFilter.js\";import E from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as _}from\"./i3s/I3SQueryFeatureAdapter.js\";import x from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as S,getIndexCrs as j}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as I}from\"./support/DefinitionExpressionSceneLayerView.js\";import Q from\"../../layers/BuildingComponentSublayerView.js\";import{getRequiredFields as q,getFetchPopupTemplate as R}from\"../../layers/support/popupUtils.js\";import{TaskPriority as L}from\"../../support/Scheduler.js\";const O=i.getLogger(\"esri.views.3d.layers.BuildingComponentSublayerView3D\");let V=class extends(I(F(m(Q)))){constructor(){super(...arguments),this.type=\"building-component-sublayer-3d\",this.layerView=null,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!1,this.lodFactor=1,this.progressiveLoadFactor=1,this._queryEngine=null}get layerUid(){return this.sublayer.layer.uid}get sublayerUid(){return this.sublayer.uid}initialize(){this.updatingHandles.add((()=>[this.sublayer.renderer,this.definitionExpressionFields,this.filterExpressionFields]),(()=>this._updateRequiredFields())),this.updatingHandles.add((()=>this.sublayer.renderer),(e=>this._rendererChange(e)),n),this.updatingHandles.add((()=>[this.parsedDefinitionExpression,this.filter,s(this.viewFilter,(({parsedWhereClause:e,parsedGeometry:r,sortedObjectIds:t})=>[e,r,t]))]),(()=>this._filterChange())),this.updatingHandles.add((()=>this.parsedFilterExpressions),(()=>this._updateSymbologyOverride()),n),this.addResolvingPromise(this._updateRequiredFields())}get parsedFilterExpressions(){return\"Overview\"===this.sublayer.modelName?[]:this.layerView.filterExpressions.map((([e,r])=>{let t;try{t=d.create(e,this.sublayer.fieldsIndex)}catch(l){return O.error(\"Failed to parse filterExpression: \"+l),null}if(!t.isStandardized)return O.error(\"filterExpression is using non standard function\"),null;const i=[],s=t.fieldNames;return S(s,this.sublayer.fields,{missingFields:i}),i.length>0?(O.error(`filterExpression references unknown fields: ${i.join(\", \")}`),null):[t,r]})).filter((e=>null!=e))}get filter(){return l(this.viewFilter)?this.viewFilter.filter:null}set filter(e){!o(e)&&v.checkSupport(e)?l(this.viewFilter)?this.viewFilter.filter=e:this.viewFilter=new v({filter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),applyFilters:()=>this._applyFilters(!0),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError)}):this.viewFilter=null}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride(((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return b(t,l)}catch(i){this.logError(i)}return b(t,null)}),this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return y(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce(((e,[r])=>e.concat(r.fieldNames)),[]))}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...h(r,i),...t]}return y(r,t)}_createLayerGraphic(e){const t=new r(null,null,e);return t.layer=this.sublayer.layer,t.sourceLayer=this.sublayer,t}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);if(!l(r)||!r.clientGraphics||0===r.clientGraphics.length)return[];const i=[],s=[],o=l(this.sublayer.associatedLayer)?await this.sublayer.associatedLayer.load():this.sublayer,n=h(this.sublayer.fieldsIndex,await q(o,R(this.sublayer,r))),a=new Set;for(const l of r.clientGraphics)c(n,l,a)?s.push(l):i.push(l);return 0===s.length?Promise.resolve(i):(l(this.sublayer.associatedLayer)&&await this.sublayer.associatedLayer.load().catch((()=>O.warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))),this.whenGraphicAttributes(s,Array.from(a)).catch((()=>s)).then((e=>i.concat(e))))}async _updateRequiredFields(){const e=y(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields||[],...this.filterExpressionFields||[]]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?R(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),l(this.viewFilter)&&this.viewFilter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return l(this.filter)?this.filter.createQuery(e):new f(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),null==r?void 0:r.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),null==r?void 0:r.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),null==r?void 0:r.signal).then((e=>{if(null==e||!e.features)return e;const r=this.sublayer,t=r.layer;for(const i of e.features)i.layer=t,i.sourceLayer=r;return e}))}queryObjectIds(e,r){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),null==r?void 0:r.signal)}_ensureQueryEngine(){return o(this._queryEngine)&&(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=w(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new E({layerView:this,priority:L.FEATURE_QUERY_ENGINE,spatialIndex:new x({featureAdapter:new _({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures(((r,t,i)=>e({id:r,index:t,meta:i})),r,g.ALL_IN_CLIPPING_AREA),getFeatureExtent:e,sourceSpatialReference:j(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(o(e)?this.createQuery():f.from(e))}};e([a({aliasOf:\"sublayer\"})],V.prototype,\"i3slayer\",void 0),e([a()],V.prototype,\"layerView\",void 0),e([a()],V.prototype,\"suspended\",void 0),e([a({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.3dObject.lodFactor\"})],V.prototype,\"lodFactor\",void 0),e([a({readOnly:!0})],V.prototype,\"parsedFilterExpressions\",null),e([a({type:p})],V.prototype,\"filter\",null),e([a()],V.prototype,\"viewFilter\",void 0),e([a({type:[String],readOnly:!0})],V.prototype,\"filterExpressionFields\",null),e([a({type:[String],readOnly:!0})],V.prototype,\"requiredFields\",void 0),e([a({type:[String],readOnly:!0})],V.prototype,\"availableFields\",null),V=e([u(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],V);const A=V;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";import o from\"./LayerView.js\";class s extends o{constructor(){super(...arguments),this.layer=null,this.sublayerViews=null}highlight(r){throw new Error(\"Not implemented\")}}r([e()],s.prototype,\"layer\",void 0),r([e()],s.prototype,\"sublayerViews\",void 0);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import i from\"../../../core/Accessor.js\";import s from\"../../../core/Collection.js\";import{handlesGroup as t}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{isSome as n,isNone as l}from\"../../../core/maybe.js\";import{isAbortError as a}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import h from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as y}from\"./BuildingSublayerView3D.js\";import{LayerView3D as d}from\"./LayerView3D.js\";import{parseFilterMode as g}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as m}from\"./i3s/I3SUtil.js\";import{updatingProgress as f}from\"../support/updatingProperties.js\";import b from\"../../layers/BuildingSceneLayerView.js\";const w=o.getLogger(\"esri.views.3d.layers.BuildingSceneLayerView3D\"),V=y(i);let j=class extends(d(b)){constructor(){super(...arguments),this.type=\"building-scene-3d\",this.sublayerViews=new s,this._abortController=new AbortController,this._loadingComponents=0}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null,i=null!=r?r.filterBlocks.find((e=>\"solid\"===e.filterMode.type)):null;return i?i.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null;return r&&r.filterBlocks?r.filterBlocks.toArray().map((e=>[e.filterExpression,g(e)])):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce(((e,r)=>e+r.updatingProgress),0)/r}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some((e=>e.updating))}initialize(){m(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this._initializeSubLayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach((e=>e.destroy())),this.sublayerViews=null),this._abortController.abort(),this._abortController=null}_initializeSubLayerViews(e,r){const i=this,s=this.view;e.forEach((e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const i=new V({sublayer:e,view:s,parent:r});this._initializeSubLayerViews(e.sublayers,i)}else\"mesh\"===e.geometryType&&(this._loadingComponents++,e.load({signal:this._abortController.signal}).then((()=>{const t=new h({sublayer:e,layerView:i,view:s,parent:r});this.sublayerViews.push(t),this.handles.add([u(t,\"updating\",(()=>this.notifyChange(\"updating\")),!0),u(t,\"updatingProgress\",(()=>this.notifyChange(\"updatingProgressValue\")),!0)])})).catch((r=>{a(r)||w.error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r)})).then((()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})))}))}getGraphicFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getGraphicFromIntersectorTarget(e);return null}async fetchPopupFeatures(e,r){if(!n(r)||!r.clientGraphics||0===r.clientGraphics.length)return;const i=this._findComponent(r.clientGraphics[0].sourceLayer);return l(i)?void 0:i.fetchPopupFeatures(e,r)}whenGraphicBounds(e){const r=this._findComponent(e.sourceLayer);return l(r)?Promise.reject():r.whenGraphicBounds(e)}_findComponent(e){return this.sublayerViews.find((r=>e===r.sublayer))}highlight(e){e instanceof r?e=[e]:e instanceof s&&(e=e.toArray());const i=[];if(Array.isArray(e)&&e.length>0&&e[0]instanceof r){const r=e,s=new Map;for(const e of r){let r=s.get(e.sourceLayer);null==r&&(r=[],s.set(e.sourceLayer,r)),r.push(e)}this.sublayerViews.forEach((e=>{const r=s.get(e.sublayer);r&&i.push(e.highlight(r))}))}return t(i)}getUsedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUsedMemory()),0)}getUnloadedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUnloadedMemory()),0)}ignoresMemoryFactor(){return!1}};e([p()],j.prototype,\"sublayerViews\",void 0),e([p({readOnly:!0})],j.prototype,\"filterExpression\",null),e([p({readOnly:!0})],j.prototype,\"filterExpressions\",null),e([p(f)],j.prototype,\"updatingProgress\",void 0),e([p({readOnly:!0,dependsOn:[]})],j.prototype,\"updatingProgressValue\",null),j=e([c(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],j);const C=j;export{C as default};\n"],"names":["a","p","type","e","readOnly","json","origins","service","read","source","reader","l","r","o","t","Array","isArray","map","layerType","c","n","y","messages","push","s","definition","context","u","constructor","super","this","listMode","sublayers","loadAll","forEachSublayer","write","prototype","i","sublayersProperty","readSublayers","forEach","d","sublayer","parent","view","initialize","suspended","canResume","updating","isUpdating","visible","get","_override","_clearOverride","fullOpacity","Boolean","Solid","WireFrame","XRay","filterMode","mode","edgeMaterial","edges","color","pickable","colorMixMode","castShadows","lastMaterial","cachedMaterial","arguments","availableFields","filter","Error","queryFeatures","queryObjectIds","queryFeatureCount","createQuery","queryExtent","highlight","O","V","I","F","m","Q","layerView","_elevationContext","_isIntegratedMesh","_supportsLabeling","lodFactor","progressiveLoadFactor","_queryEngine","layerUid","layer","uid","sublayerUid","updatingHandles","add","renderer","definitionExpressionFields","filterExpressionFields","_updateRequiredFields","_rendererChange","parsedDefinitionExpression","viewFilter","parsedWhereClause","parsedGeometry","sortedObjectIds","_filterChange","parsedFilterExpressions","_updateSymbologyOverride","addResolvingPromise","modelName","filterExpressions","fieldsIndex","error","isStandardized","fieldNames","S","fields","missingFields","length","join","v","layerFieldsIndex","loadAsyncModule","_loadAsyncModule","applyFilters","_applyFilters","addSqlFilter","logError","_setSymbologyOverride","testFeature","b","reduce","concat","requiredFields","outFields","h","_createLayerGraphic","sourceLayer","_controller","rootNodeVisible","_validateFetchPopupFeatures","Promise","reject","clientGraphics","associatedLayer","load","q","R","Set","resolve","catch","warn","whenGraphicAttributes","from","then","getRequiredFields","_set","popupEnabled","getFilters","addFilters","crsIndex","_collection","returnGeometry","outSpatialReference","spatialReference","f","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","signal","executeQueryForCount","executeQuery","features","executeQueryForIds","_createQueryEngine","w","renderSpatialReference","E","priority","L","spatialIndex","x","featureAdapter","_","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","id","index","meta","g","sourceSpatialReference","j","viewSpatialReference","_addDefinitionExpressionToQuery","aliasOf","String","A","sublayerViews","_abortController","AbortController","_loadingComponents","filterExpression","activeFilterId","filters","find","filterBlocks","toArray","updatingProgressValue","updatingProgress","some","viewingMode","_initializeSubLayerViews","destroy","abort","isEmpty","geometryType","handles","notifyChange","url","getGraphicFromIntersectorTarget","items","_findComponent","fetchPopupFeatures","whenGraphicBounds","Map","set","getUsedMemory","getUnloadedMemory","ignoresMemoryFactor","dependsOn","C"],"sourceRoot":""}