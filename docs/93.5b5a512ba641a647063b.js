(function(){var e={"esri/renderers/support/styleUtils":1408,"esri/layers/support/lazyLayerLoader":1411},n=this||window,t=n.webpackJsonp=n.webpackJsonp||[];t.registerAbsMids?t.registerAbsMids(e):(t.absMidsWaiting=t.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{1323:function(e,n,t){var r,i;r=[t.dj.c(e.i),n,t(0),t(33),t(11),t(4),t(1411),t(69),t(711),t(1408)],void 0===(i=function(e,n,t,r,i,a,o,u,l,s){function c(e,n){return t.__awaiter(this,void 0,void 0,(function(){var r,i,a,o,u,c;return t.__generator(this,(function(t){switch(t.label){case 0:return r=e.instance,i=r.portalItem,a=i.url,o=i.title,u=l.createForItem(i),"group"===r.type?(r.read({title:o},u),[2,p(r,e)]):(a&&r.read({url:a},u),[4,d(e,n)]);case 1:return(c=t.sent())&&r.read(c,u),r.resourceReferences={portalItem:i,paths:u.readResourcePaths},r.read({title:o},u),[2,s.loadStyleRenderer(r,u)]}}))}))}function p(e,n){var t,u,l=e.portalItem.type;switch(l){case"Feature Service":t=o.layerLookupMap.FeatureLayer;break;case"Stream Service":t=o.layerLookupMap.StreamLayer;break;case"Scene Service":t=o.layerLookupMap.SceneLayer;break;case"Feature Collection":t=o.layerLookupMap.FeatureLayer;break;default:throw new i("portal:unsupported-item-type-as-group","The item type '"+l+"' is not supported as a 'GroupLayer'")}return t().then((function(e){return u=e,d(n)})).then((function(n){return n&&Array.isArray(n.layers)?h(e,u,n):function(e,n){return e.portalItem.url?r(e.portalItem.url,{responseType:"json",query:{f:"json"}}).then((function(t){var r=t.data;if(r&&Array.isArray(r.layers)){var i=r.layers.map((function(e){return{id:e.id,name:e.name}}));return h(e,n,{layers:i})}})):a.resolve()}(e,u)}))}function h(e,n,t){var r=t.showLegend,i=t.layers.slice();i.reverse(),i.forEach((function(t){var i=new n({portalItem:e.portalItem,layerId:t.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){var a={origin:"portal-item",portal:e.portalItem.portal||u.getDefault()};i.read(t,a),null!=r&&i.read({showLegend:r},a)}e.add(i)}))}function d(e,n){if(!1===e.supportsData)return a.resolve();var t=e.instance;return t.portalItem.fetchData("json",n).catch((function(){return null})).then((function(e){var n,r=e;if(function(e){return"stream"!==e.type&&"layerId"in e}(t)){var i=!0;if(e&&Array.isArray(r.layers)){null==t.layerId&&(t.layerId=r.layers[0].id);for(var a=0;a<r.layers.length;a++)if(r.layers[a].id===t.layerId){n=r.layers[a];break}n&&(1===r.layers.length&&(i=!1),null!=e.showLegend&&(n.showLegend=e.showLegend))}return i&&"service-name"!==t.sublayerTitleMode&&(t.sublayerTitleMode="item-title-and-service-name"),n}return e}))}Object.defineProperty(n,"__esModule",{value:!0}),n.load=function(e,n){return t.__awaiter(this,void 0,void 0,(function(){var r;return t.__generator(this,(function(t){switch(t.label){case 0:return(r=e.instance.portalItem)&&r.id?[4,r.load(n)]:[2,a.resolve()];case 1:return t.sent(),function(e){var n=e.instance.portalItem;if(-1===e.supportedTypes.indexOf(n.type))throw new i("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:n.type,expectedType:e.supportedTypes.join(", ")})}(e),[2,c(e,n)]}}))}))}}.apply(null,r))||(e.exports=i)},1408:function(e,n,t){var r,i;r=[t.dj.c(e.i),n,t(0),t(72),t(4),t(173)],void 0===(i=function(e,n,t,r,i,a){Object.defineProperty(n,"__esModule",{value:!0}),n.loadStyleRenderer=function(e,n,o){return t.__awaiter(this,void 0,void 0,(function(){var u,l,s;return t.__generator(this,(function(t){switch(t.label){case 0:return(u=e&&e.getAtOrigin&&e.getAtOrigin("renderer",n.origin))&&"unique-value"===u.type&&u.styleOrigin?[4,r.result(u.populateFromStyle())]:[3,2];case 1:l=t.sent(),i.throwIfAborted(o),!1===l.ok&&(s=l.error,n&&n.messages&&n.messages.push(new a("renderer:style-reference","Failed to create unique value renderer from style reference: "+s.message,{error:s,context:n})),e.clear("renderer",n.origin)),t.label=2;case 2:return[2]}}))}))}}.apply(null,r))||(e.exports=i)},1411:function(e,n,t){var r,i;r=[t.dj.c(e.i),n,t(14)],void 0===(i=function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.layerLookupMap={BingMapsLayer:function(){return new Promise((function(e,n){t.e(96).then(function(){var n=[t(1548)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},BuildingSceneLayer:function(){return new Promise((function(e,n){t.e(37).then(function(){var n=[t(1549)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},CSVLayer:function(){return new Promise((function(e,n){Promise.all([t.e(4),t.e(90)]).then(function(){var n=[t(1551)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},ElevationLayer:function(){return new Promise((function(e,n){Promise.resolve().then(function(){var n=[t(429)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},FeatureLayer:function(){return new Promise((function(e,n){t.e(4).then(function(){var n=[t(1321)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},GroupLayer:function(){return new Promise((function(e,n){t.e(24).then(function(){var n=[t(1494)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},GeoRSSLayer:function(){return new Promise((function(e,n){t.e(107).then(function(){var n=[t(1552)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},ImageryLayer:function(){return new Promise((function(e,n){Promise.all([t.e(10),t.e(41)]).then(function(){var n=[t(1553)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},ImageryTileLayer:function(){return new Promise((function(e,n){Promise.all([t.e(10),t.e(34)]).then(function(){var n=[t(1554)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},IntegratedMeshLayer:function(){return new Promise((function(e,n){t.e(78).then(function(){var n=[t(1555)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},KMLLayer:function(){return new Promise((function(e,n){t.e(91).then(function(){var n=[t(1556)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},MapImageLayer:function(){return new Promise((function(e,n){t.e(18).then(function(){var n=[t(1496)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},MapNotesLayer:function(){return new Promise((function(e,n){Promise.all([t.e(4),t.e(108)]).then(function(){var n=[t(1557)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},OpenStreetMapLayer:function(){return new Promise((function(e,n){t.e(92).then(function(){var n=[t(1558)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},PointCloudLayer:function(){return new Promise((function(e,n){t.e(33).then(function(){var n=[t(1559)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},RouteLayer:function(){return new Promise((function(e,n){Promise.all([t.e(4),t.e(109)]).then(function(){var n=[t(1560)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},SceneLayer:function(){return new Promise((function(e,n){Promise.all([t.e(4),t.e(79)]).then(function(){var n=[t(1561)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},StreamLayer:function(){return new Promise((function(e,n){t.e(43).then(function(){var n=[t(1562)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},TileLayer:function(){return new Promise((function(e,n){Promise.resolve().then(function(){var n=[t(696)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},UnknownLayer:function(){return new Promise((function(e,n){t.e(110).then(function(){var n=[t(1563)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},UnsupportedLayer:function(){return new Promise((function(e,n){t.e(111).then(function(){var n=[t(1564)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},VectorTileLayer:function(){return new Promise((function(e,n){Promise.resolve().then(function(){var n=[t(699)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},WebTileLayer:function(){return new Promise((function(e,n){t.e(97).then(function(){var n=[t(1451)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},WMSLayer:function(){return new Promise((function(e,n){t.e(83).then(function(){var n=[t(1565)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},WMTSLayer:function(){return new Promise((function(e,n){t.e(68).then(function(){var n=[t(1566)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))}}}.apply(null,r))||(e.exports=i)}}]);